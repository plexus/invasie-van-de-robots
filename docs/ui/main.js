var shadow$provide = {};
(function(){
shadow$provide[0]=function(ya,pa,Ha,Y){function N(k){return function(h){return h.test(k)}}Y.__esModule=!0;var y=/iPhone/i,E=/iPod/i,Q=/iPad/i,H=/\biOS-universal(?:.+)Mac\b/i,t=/\bAndroid(?:.+)Mobile\b/i,v=/Android/i,C=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,L=/Silk/i,F=/Windows Phone/i,n=/\bWindows(?:.+)ARM\b/i,u=/BlackBerry/i,q=/BB10/i,z=/Opera Mini/i,I=/\b(CriOS|Chrome)(?:.+)Mobile/i,P=/Mobile(?:.+)Firefox\b/i,m=function(k){return"undefined"!==typeof k&&"MacIntel"===k.platform&&"number"===typeof k.maxTouchPoints&&
1<k.maxTouchPoints&&"undefined"===typeof MSStream};Y["default"]=function(k){var h={userAgent:"",platform:"",maxTouchPoints:0};k||"undefined"===typeof navigator?"string"===typeof k?h.userAgent=k:k&&k.userAgent&&(h={userAgent:k.userAgent,platform:k.platform,maxTouchPoints:k.maxTouchPoints||0}):h={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};k=h.userAgent;var r=k.split("[FBAN");"undefined"!==typeof r[1]&&(k=r[0]);r=k.split("Twitter");"undefined"!==
typeof r[1]&&(k=r[0]);k=N(k);h={apple:{phone:k(y)&&!k(F),ipod:k(E),tablet:!k(y)&&(k(Q)||m(h))&&!k(F),universal:k(H),device:(k(y)||k(E)||k(Q)||k(H)||m(h))&&!k(F)},amazon:{phone:k(C),tablet:!k(C)&&k(L),device:k(C)||k(L)},android:{phone:!k(F)&&k(C)||!k(F)&&k(t),tablet:!k(F)&&!k(C)&&!k(t)&&(k(L)||k(v)),device:!k(F)&&(k(C)||k(L)||k(t)||k(v))||k(/\bokhttp\b/i)},windows:{phone:k(F),tablet:k(n),device:k(F)||k(n)},other:{blackberry:k(u),blackberry10:k(q),opera:k(z),firefox:k(P),chrome:k(I),device:k(u)||k(q)||
k(z)||k(P)||k(I)},any:!1,phone:!1,tablet:!1};h.any=h.apple.device||h.android.device||h.windows.device||h.other.device;h.phone=h.apple.phone||h.android.phone||h.windows.phone;h.tablet=h.apple.tablet||h.android.tablet||h.windows.tablet;return h}};
shadow$provide[1]=function(ya,pa,Ha,Y){Y.__esModule=!0;ya=pa(0);for(var N in ya)Y.hasOwnProperty(N)||(Y[N]=ya[N]);pa=pa(0);Y["default"]=pa["default"]};
shadow$provide[2]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});var N=function(y){return y&&"object"===typeof y&&"default"in y?y["default"]:y}(pa(1))(window.navigator);ya={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(y){var E=!0;if(N.tablet||N.phone){if(N.apple.device){var Q=navigator.userAgent.match(/OS (\d+)_(\d+)?/);Q&&(Q=parseInt(Q[1],10),11>Q&&(E=!1))}N.android.device&&(Q=navigator.userAgent.match(/Android\s([0-9.]*)/))&&
(Q=parseInt(Q[1],10),7>Q&&(E=!1))}return E?y:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:N.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!N.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};Y.isMobile=N;Y.settings=ya};
shadow$provide[3]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});(function(N){N[N.WEBGL_LEGACY=0]="WEBGL_LEGACY";N[N.WEBGL=1]="WEBGL";N[N.WEBGL2=2]="WEBGL2"})(Y.ENV||(Y.ENV={}));(function(N){N[N.UNKNOWN=0]="UNKNOWN";N[N.WEBGL=1]="WEBGL";N[N.CANVAS=2]="CANVAS"})(Y.RENDERER_TYPE||(Y.RENDERER_TYPE={}));(function(N){N[N.COLOR=16384]="COLOR";N[N.DEPTH=256]="DEPTH";N[N.STENCIL=1024]="STENCIL"})(Y.BUFFER_BITS||(Y.BUFFER_BITS={}));(function(N){N[N.NORMAL=0]="NORMAL";N[N.ADD=1]="ADD";
N[N.MULTIPLY=2]="MULTIPLY";N[N.SCREEN=3]="SCREEN";N[N.OVERLAY=4]="OVERLAY";N[N.DARKEN=5]="DARKEN";N[N.LIGHTEN=6]="LIGHTEN";N[N.COLOR_DODGE=7]="COLOR_DODGE";N[N.COLOR_BURN=8]="COLOR_BURN";N[N.HARD_LIGHT=9]="HARD_LIGHT";N[N.SOFT_LIGHT=10]="SOFT_LIGHT";N[N.DIFFERENCE=11]="DIFFERENCE";N[N.EXCLUSION=12]="EXCLUSION";N[N.HUE=13]="HUE";N[N.SATURATION=14]="SATURATION";N[N.COLOR=15]="COLOR";N[N.LUMINOSITY=16]="LUMINOSITY";N[N.NORMAL_NPM=17]="NORMAL_NPM";N[N.ADD_NPM=18]="ADD_NPM";N[N.SCREEN_NPM=19]="SCREEN_NPM";
N[N.NONE=20]="NONE";N[N.SRC_OVER=0]="SRC_OVER";N[N.SRC_IN=21]="SRC_IN";N[N.SRC_OUT=22]="SRC_OUT";N[N.SRC_ATOP=23]="SRC_ATOP";N[N.DST_OVER=24]="DST_OVER";N[N.DST_IN=25]="DST_IN";N[N.DST_OUT=26]="DST_OUT";N[N.DST_ATOP=27]="DST_ATOP";N[N.ERASE=26]="ERASE";N[N.SUBTRACT=28]="SUBTRACT";N[N.XOR=29]="XOR"})(Y.BLEND_MODES||(Y.BLEND_MODES={}));(function(N){N[N.POINTS=0]="POINTS";N[N.LINES=1]="LINES";N[N.LINE_LOOP=2]="LINE_LOOP";N[N.LINE_STRIP=3]="LINE_STRIP";N[N.TRIANGLES=4]="TRIANGLES";N[N.TRIANGLE_STRIP=
5]="TRIANGLE_STRIP";N[N.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Y.DRAW_MODES||(Y.DRAW_MODES={}));(function(N){N[N.RGBA=6408]="RGBA";N[N.RGB=6407]="RGB";N[N.ALPHA=6406]="ALPHA";N[N.LUMINANCE=6409]="LUMINANCE";N[N.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";N[N.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT";N[N.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Y.FORMATS||(Y.FORMATS={}));(function(N){N[N.TEXTURE_2D=3553]="TEXTURE_2D";N[N.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";N[N.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY";N[N.TEXTURE_CUBE_MAP_POSITIVE_X=
34069]="TEXTURE_CUBE_MAP_POSITIVE_X";N[N.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";N[N.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";N[N.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";N[N.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";N[N.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Y.TARGETS||(Y.TARGETS={}));(function(N){N[N.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";N[N.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";
N[N.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";N[N.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4";N[N.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";N[N.FLOAT=5126]="FLOAT";N[N.HALF_FLOAT=36193]="HALF_FLOAT"})(Y.TYPES||(Y.TYPES={}));(function(N){N[N.NEAREST=0]="NEAREST";N[N.LINEAR=1]="LINEAR"})(Y.SCALE_MODES||(Y.SCALE_MODES={}));(function(N){N[N.CLAMP=33071]="CLAMP";N[N.REPEAT=10497]="REPEAT";N[N.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Y.WRAP_MODES||(Y.WRAP_MODES={}));(function(N){N[N.OFF=
0]="OFF";N[N.POW2=1]="POW2";N[N.ON=2]="ON"})(Y.MIPMAP_MODES||(Y.MIPMAP_MODES={}));(function(N){N[N.NPM=0]="NPM";N[N.UNPACK=1]="UNPACK";N[N.PMA=2]="PMA";N[N.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA";N[N.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD";N[N.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Y.ALPHA_MODES||(Y.ALPHA_MODES={}));(function(N){N[N.NO=0]="NO";N[N.YES=1]="YES";N[N.AUTO=2]="AUTO";N[N.BLEND=0]="BLEND";N[N.CLEAR=1]="CLEAR";N[N.BLIT=2]="BLIT"})(Y.CLEAR_MODES||(Y.CLEAR_MODES={}));
(function(N){N[N.AUTO=0]="AUTO";N[N.MANUAL=1]="MANUAL"})(Y.GC_MODES||(Y.GC_MODES={}));(function(N){N.LOW="lowp";N.MEDIUM="mediump";N.HIGH="highp"})(Y.PRECISION||(Y.PRECISION={}));(function(N){N[N.NONE=0]="NONE";N[N.SCISSOR=1]="SCISSOR";N[N.STENCIL=2]="STENCIL";N[N.SPRITE=3]="SPRITE"})(Y.MASK_TYPES||(Y.MASK_TYPES={}));(function(N){N[N.NONE=0]="NONE";N[N.LOW=2]="LOW";N[N.MEDIUM=4]="MEDIUM";N[N.HIGH=8]="HIGH"})(Y.MSAA_QUALITY||(Y.MSAA_QUALITY={}))};
shadow$provide[4]=function(ya,pa,Ha,Y){function N(){}function y(C,L,F){this.fn=C;this.context=L;this.once=F||!1}function E(C,L,F,n,u){if("function"!==typeof F)throw new TypeError("The listener must be a function");F=new y(F,n||C,u);L=v?v+L:L;C._events[L]?C._events[L].fn?C._events[L]=[C._events[L],F]:C._events[L].push(F):(C._events[L]=F,C._eventsCount++);return C}function Q(C,L){0===--C._eventsCount?C._events=new N:delete C._events[L]}function H(){this._events=new N;this._eventsCount=0}var t=Object.prototype.hasOwnProperty,
v="~";Object.create&&(N.prototype=Object.create(null),(new N).__proto__||(v=!1));H.prototype.eventNames=function(){var C=[],L,F;if(0===this._eventsCount)return C;for(F in L=this._events)t.call(L,F)&&C.push(v?F.slice(1):F);return Object.getOwnPropertySymbols?C.concat(Object.getOwnPropertySymbols(L)):C};H.prototype.listeners=function(C){C=this._events[v?v+C:C];if(!C)return[];if(C.fn)return[C.fn];for(var L=0,F=C.length,n=Array(F);L<F;L++)n[L]=C[L].fn;return n};H.prototype.listenerCount=function(C){return(C=
this._events[v?v+C:C])?C.fn?1:C.length:0};H.prototype.emit=function(C,L,F,n,u,q){var z=v?v+C:C;if(!this._events[z])return!1;z=this._events[z];var I=arguments.length,P;if(z.fn){z.once&&this.removeListener(C,z.fn,void 0,!0);switch(I){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,L),!0;case 3:return z.fn.call(z.context,L,F),!0;case 4:return z.fn.call(z.context,L,F,n),!0;case 5:return z.fn.call(z.context,L,F,n,u),!0;case 6:return z.fn.call(z.context,L,F,n,u,q),!0}var m=1;for(P=
Array(I-1);m<I;m++)P[m-1]=arguments[m];z.fn.apply(z.context,P)}else{var k=z.length;for(m=0;m<k;m++)switch(z[m].once&&this.removeListener(C,z[m].fn,void 0,!0),I){case 1:z[m].fn.call(z[m].context);break;case 2:z[m].fn.call(z[m].context,L);break;case 3:z[m].fn.call(z[m].context,L,F);break;case 4:z[m].fn.call(z[m].context,L,F,n);break;default:if(!P){var h=1;for(P=Array(I-1);h<I;h++)P[h-1]=arguments[h]}z[m].fn.apply(z[m].context,P)}}return!0};H.prototype.on=function(C,L,F){return E(this,C,L,F,!1)};H.prototype.once=
function(C,L,F){return E(this,C,L,F,!0)};H.prototype.removeListener=function(C,L,F,n){C=v?v+C:C;if(!this._events[C])return this;if(!L)return Q(this,C),this;var u=this._events[C];if(u.fn)u.fn!==L||n&&!u.once||F&&u.context!==F||Q(this,C);else{for(var q=0,z=[],I=u.length;q<I;q++)(u[q].fn!==L||n&&!u[q].once||F&&u[q].context!==F)&&z.push(u[q]);z.length?this._events[C]=1===z.length?z[0]:z:Q(this,C)}return this};H.prototype.removeAllListeners=function(C){C?(C=v?v+C:C,this._events[C]&&Q(this,C)):(this._events=
new N,this._eventsCount=0);return this};H.prototype.off=H.prototype.removeListener;H.prototype.addListener=H.prototype.on;H.prefixed=v;H.EventEmitter=H;"undefined"!==typeof Ha&&(Ha.exports=H)};
shadow$provide[5]=function(ya,pa,Ha,Y){function N(l,J,p){p=p||2;var G=J&&J.length,R=G?J[0]*p:l.length,aa=y(l,0,R,p,!0),ka=[];if(!aa||aa.next===aa.prev)return ka;var ua;if(G){var ea=p;G=[];var xa;var ba=0;for(xa=J.length;ba<xa;ba++){var fa=J[ba]*ea;var K=ba<xa-1?J[ba+1]*ea:l.length;fa=y(l,fa,K,ea,!1);fa===fa.next&&(fa.steiner=!0);K=G;var V=K.push,ca=fa,Z=fa;do{if(ca.x<Z.x||ca.x===Z.x&&ca.y<Z.y)Z=ca;ca=ca.next}while(ca!==fa);V.call(K,Z)}G.sort(t);for(ba=0;ba<G.length;ba++){ea=G[ba];J=aa;if(J=v(ea,J))ea=
P(J,ea),E(J,J.next),E(ea,ea.next);aa=E(aa,aa.next)}}if(l.length>80*p){var ma=ua=l[0];var sa=G=l[1];for(ea=p;ea<R;ea+=p)ba=l[ea],J=l[ea+1],ba<ma&&(ma=ba),J<sa&&(sa=J),ba>ua&&(ua=ba),J>G&&(G=J);ua=Math.max(ua-ma,G-sa);ua=0!==ua?1/ua:0}Q(aa,ka,p,ma,sa,ua);return ka}function y(l,J,p,G,R){if(R===0<r(l,J,p,G))for(R=J;R<p;R+=G)var aa=m(R,l[R],l[R+1],aa);else for(R=p-G;R>=J;R-=G)aa=m(R,l[R],l[R+1],aa);aa&&n(aa,aa.next)&&(k(aa),aa=aa.next);return aa}function E(l,J){if(!l)return l;J||(J=l);do{var p=!1;if(l.steiner||
!n(l,l.next)&&0!==F(l.prev,l,l.next))l=l.next;else{k(l);l=J=l.prev;if(l===l.next)break;p=!0}}while(p||l!==J);return J}function Q(l,J,p,G,R,aa,ka){if(l){if(!ka&&aa){var ua=l,ea=ua;do null===ea.z&&(ea.z=C(ea.x,ea.y,G,R,aa)),ea.prevZ=ea.prev,ea=ea.nextZ=ea.next;while(ea!==ua);ea.prevZ.nextZ=null;ea.prevZ=null;ua=ea;var xa,ba,fa,K,V=1;do{ea=ua;var ca=ua=null;for(ba=0;ea;){ba++;var Z=ea;for(xa=fa=0;xa<V&&(fa++,Z=Z.nextZ,Z);xa++);for(K=V;0<fa||0<K&&Z;)0!==fa&&(0===K||!Z||ea.z<=Z.z)?(xa=ea,ea=ea.nextZ,fa--):
(xa=Z,Z=Z.nextZ,K--),ca?ca.nextZ=xa:ua=xa,xa.prevZ=ca,ca=xa;ea=Z}ca.nextZ=null;V*=2}while(1<ba)}for(ua=l;l.prev!==l.next;){ea=l.prev;Z=l.next;if(aa)ca=H(l,G,R,aa);else a:if(ca=l,ba=ca.prev,fa=ca,V=ca.next,0<=F(ba,fa,V))ca=!1;else{for(xa=ca.next.next;xa!==ca.prev;){if(L(ba.x,ba.y,fa.x,fa.y,V.x,V.y,xa.x,xa.y)&&0<=F(xa.prev,xa,xa.next)){ca=!1;break a}xa=xa.next}ca=!0}if(ca)J.push(ea.i/p),J.push(l.i/p),J.push(Z.i/p),k(l),ua=l=Z.next;else if(l=Z,l===ua){if(!ka)Q(E(l),J,p,G,R,aa,1);else if(1===ka){l=E(l);
ka=J;ua=p;ea=l;do Z=ea.prev,ca=ea.next.next,!n(Z,ca)&&u(Z,ea,ea.next,ca)&&I(Z,ca)&&I(ca,Z)&&(ka.push(Z.i/ua),ka.push(ea.i/ua),ka.push(ca.i/ua),k(ea),k(ea.next),ea=l=ca),ea=ea.next;while(ea!==l);l=E(ea);Q(l,J,p,G,R,aa,2)}else if(2===ka)a:{ka=l;do{for(ua=ka.next.next;ua!==ka.prev;){if(ea=ka.i!==ua.i){ea=ka;Z=ua;if(ca=ea.next.i!==Z.i&&ea.prev.i!==Z.i){b:{ca=ea;do{if(ca.i!==ea.i&&ca.next.i!==ea.i&&ca.i!==Z.i&&ca.next.i!==Z.i&&u(ca,ca.next,ea,Z)){ca=!0;break b}ca=ca.next}while(ca!==ea);ca=!1}ca=!ca}if(ca){if(ca=
I(ea,Z)&&I(Z,ea)){ca=ea;ba=!1;fa=(ea.x+Z.x)/2;V=(ea.y+Z.y)/2;do ca.y>V!==ca.next.y>V&&ca.next.y!==ca.y&&fa<(ca.next.x-ca.x)*(V-ca.y)/(ca.next.y-ca.y)+ca.x&&(ba=!ba),ca=ca.next;while(ca!==ea);ca=ba}ca=ca&&(F(ea.prev,ea,Z.prev)||F(ea,Z.prev,Z))||n(ea,Z)&&0<F(ea.prev,ea,ea.next)&&0<F(Z.prev,Z,Z.next)}ea=ca}if(ea){l=P(ka,ua);ka=E(ka,ka.next);l=E(l,l.next);Q(ka,J,p,G,R,aa);Q(l,J,p,G,R,aa);break a}ua=ua.next}ka=ka.next}while(ka!==l)}break}}}}function H(l,J,p,G){var R=l.prev,aa=l.next;if(0<=F(R,l,aa))return!1;
var ka=R.x>l.x?R.x>aa.x?R.x:aa.x:l.x>aa.x?l.x:aa.x,ua=R.y>l.y?R.y>aa.y?R.y:aa.y:l.y>aa.y?l.y:aa.y,ea=C(R.x<l.x?R.x<aa.x?R.x:aa.x:l.x<aa.x?l.x:aa.x,R.y<l.y?R.y<aa.y?R.y:aa.y:l.y<aa.y?l.y:aa.y,J,p,G);J=C(ka,ua,J,p,G);p=l.prevZ;for(G=l.nextZ;p&&p.z>=ea&&G&&G.z<=J;){if(p!==l.prev&&p!==l.next&&L(R.x,R.y,l.x,l.y,aa.x,aa.y,p.x,p.y)&&0<=F(p.prev,p,p.next))return!1;p=p.prevZ;if(G!==l.prev&&G!==l.next&&L(R.x,R.y,l.x,l.y,aa.x,aa.y,G.x,G.y)&&0<=F(G.prev,G,G.next))return!1;G=G.nextZ}for(;p&&p.z>=ea;){if(p!==l.prev&&
p!==l.next&&L(R.x,R.y,l.x,l.y,aa.x,aa.y,p.x,p.y)&&0<=F(p.prev,p,p.next))return!1;p=p.prevZ}for(;G&&G.z<=J;){if(G!==l.prev&&G!==l.next&&L(R.x,R.y,l.x,l.y,aa.x,aa.y,G.x,G.y)&&0<=F(G.prev,G,G.next))return!1;G=G.nextZ}return!0}function t(l,J){return l.x-J.x}function v(l,J){var p=J,G=l.x,R=l.y,aa=-Infinity;do{if(R<=p.y&&R>=p.next.y&&p.next.y!==p.y){var ka=p.x+(R-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(ka<=G&&ka>aa){aa=ka;if(ka===G){if(R===p.y)return p;if(R===p.next.y)return p.next}var ua=p.x<p.next.x?p:
p.next}}p=p.next}while(p!==J);if(!ua)return null;if(G===aa)return ua;J=ua;ka=ua.x;var ea=ua.y,xa=Infinity;p=ua;do{if(G>=p.x&&p.x>=ka&&G!==p.x&&L(R<ea?G:aa,R,ka,ea,R<ea?aa:G,R,p.x,p.y)){var ba=Math.abs(R-p.y)/(G-p.x);var fa;if((fa=I(p,l))&&!(fa=ba<xa)&&(fa=ba===xa)&&!(fa=p.x>ua.x)&&(fa=p.x===ua.x)){fa=ua;var K=p;fa=0>F(fa.prev,fa,K.prev)&&0>F(K.next,fa,fa.next)}fa&&(ua=p,xa=ba)}p=p.next}while(p!==J);return ua}function C(l,J,p,G,R){l=32767*(l-p)*R;J=32767*(J-G)*R;l=(l|l<<8)&16711935;l=(l|l<<4)&252645135;
l=(l|l<<2)&858993459;J=(J|J<<8)&16711935;J=(J|J<<4)&252645135;J=(J|J<<2)&858993459;return(l|l<<1)&1431655765|((J|J<<1)&1431655765)<<1}function L(l,J,p,G,R,aa,ka,ua){return 0<=(R-ka)*(J-ua)-(l-ka)*(aa-ua)&&0<=(l-ka)*(G-ua)-(p-ka)*(J-ua)&&0<=(p-ka)*(aa-ua)-(R-ka)*(G-ua)}function F(l,J,p){return(J.y-l.y)*(p.x-J.x)-(J.x-l.x)*(p.y-J.y)}function n(l,J){return l.x===J.x&&l.y===J.y}function u(l,J,p,G){var R=z(F(l,J,p)),aa=z(F(l,J,G)),ka=z(F(p,G,l)),ua=z(F(p,G,J));return R!==aa&&ka!==ua||0===R&&q(l,p,J)||
0===aa&&q(l,G,J)||0===ka&&q(p,l,G)||0===ua&&q(p,J,G)?!0:!1}function q(l,J,p){return J.x<=Math.max(l.x,p.x)&&J.x>=Math.min(l.x,p.x)&&J.y<=Math.max(l.y,p.y)&&J.y>=Math.min(l.y,p.y)}function z(l){return 0<l?1:0>l?-1:0}function I(l,J){return 0>F(l.prev,l,l.next)?0<=F(l,J,l.next)&&0<=F(l,l.prev,J):0>F(l,J,l.prev)||0>F(l,l.next,J)}function P(l,J){var p=new h(l.i,l.x,l.y),G=new h(J.i,J.x,J.y),R=l.next,aa=J.prev;l.next=J;J.prev=l;p.next=R;R.prev=p;G.next=p;p.prev=G;aa.next=G;G.prev=aa;return G}function m(l,
J,p,G){l=new h(l,J,p);G?(l.next=G.next,l.prev=G,G.next.prev=l,G.next=l):(l.prev=l,l.next=l);return l}function k(l){l.next.prev=l.prev;l.prev.next=l.next;l.prevZ&&(l.prevZ.nextZ=l.nextZ);l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function h(l,J,p){this.i=l;this.x=J;this.y=p;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function r(l,J,p,G){for(var R=0,aa=p-G;J<p;J+=G)R+=(l[aa]-l[J])*(l[J+1]+l[aa+1]),aa=J;return R}Ha.exports=N;Ha.exports.default=N;N.deviation=function(l,J,p,G){var R=J&&
J.length,aa=Math.abs(r(l,0,R?J[0]*p:l.length,p));if(R){R=0;for(var ka=J.length;R<ka;R++)aa-=Math.abs(r(l,J[R]*p,R<ka-1?J[R+1]*p:l.length,p))}for(R=J=0;R<G.length;R+=3){ka=G[R]*p;var ua=G[R+1]*p,ea=G[R+2]*p;J+=Math.abs((l[ka]-l[ea])*(l[ua+1]-l[ka+1])-(l[ka]-l[ua])*(l[ea+1]-l[ka+1]))}return 0===aa&&0===J?0:Math.abs((J-aa)/aa)};N.flatten=function(l){for(var J=l[0][0].length,p={vertices:[],holes:[],dimensions:J},G=0,R=0;R<l.length;R++){for(var aa=0;aa<l[R].length;aa++)for(var ka=0;ka<J;ka++)p.vertices.push(l[R][aa][ka]);
0<R&&(G+=l[R-1].length,p.holes.push(G))}return p}};
shadow$provide[6]=function(ya,pa,Ha,Y){(function(N){function y(l){throw RangeError(P[l]);}function E(l,J){for(var p=l.length,G=[];p--;)G[p]=J(l[p]);return G}function Q(l,J){var p=l.split("@"),G="";1<p.length&&(G=p[0]+"@",l=p[1]);l=l.replace(I,".");l=l.split(".");J=E(l,J).join(".");return G+J}function H(l){for(var J=[],p=0,G=l.length,R,aa;p<G;)R=l.charCodeAt(p++),55296<=R&&56319>=R&&p<G?(aa=l.charCodeAt(p++),56320==(aa&64512)?J.push(((R&1023)<<10)+(aa&1023)+65536):(J.push(R),p--)):J.push(R);return J}
function t(l){return E(l,function(J){var p="";65535<J&&(J-=65536,p+=k(J>>>10&1023|55296),J=56320|J&1023);return p+=k(J)}).join("")}function v(l,J,p){var G=0;l=p?m(l/700):l>>1;for(l+=m(l/J);455<l;G+=36)l=m(l/35);return m(G+36*l/(l+38))}function C(l){var J=[],p=l.length,G=0,R=128,aa=72,ka,ua;var ea=l.lastIndexOf("-");0>ea&&(ea=0);for(ka=0;ka<ea;++ka)128<=l.charCodeAt(ka)&&y("not-basic"),J.push(l.charCodeAt(ka));for(ea=0<ea?ea+1:0;ea<p;){ka=G;var xa=1;for(ua=36;;ua+=36){ea>=p&&y("invalid-input");var ba=
l.charCodeAt(ea++);ba=10>ba-48?ba-22:26>ba-65?ba-65:26>ba-97?ba-97:36;(36<=ba||ba>m((2147483647-G)/xa))&&y("overflow");G+=ba*xa;var fa=ua<=aa?1:ua>=aa+26?26:ua-aa;if(ba<fa)break;ba=36-fa;xa>m(2147483647/ba)&&y("overflow");xa*=ba}xa=J.length+1;aa=v(G-ka,xa,0==ka);m(G/xa)>2147483647-R&&y("overflow");R+=m(G/xa);G%=xa;J.splice(G++,0,R)}return t(J)}function L(l){var J,p,G,R=[];l=H(l);var aa=l.length;var ka=128;var ua=0;var ea=72;for(G=0;G<aa;++G){var xa=l[G];128>xa&&R.push(k(xa))}for((J=p=R.length)&&R.push("-");J<
aa;){var ba=2147483647;for(G=0;G<aa;++G)xa=l[G],xa>=ka&&xa<ba&&(ba=xa);var fa=J+1;ba-ka>m((2147483647-ua)/fa)&&y("overflow");ua+=(ba-ka)*fa;ka=ba;for(G=0;G<aa;++G)if(xa=l[G],xa<ka&&2147483647<++ua&&y("overflow"),xa==ka){var K=ua;for(ba=36;;ba+=36){xa=ba<=ea?1:ba>=ea+26?26:ba-ea;if(K<xa)break;var V=K-xa;K=36-xa;var ca=R;xa+=V%K;ca.push.call(ca,k(xa+22+75*(26>xa)-0));K=m(V/K)}R.push(k(K+22+75*(26>K)-0));ea=v(ua,fa,J==p);ua=0;++J}++ua;++ka}return R.join("")}var F="object"==typeof Y&&Y&&!Y.nodeType&&
Y,n="object"==typeof Ha&&Ha&&!Ha.nodeType&&Ha,u="object"==typeof ya&&ya;if(u.global===u||u.window===u||u.self===u)N=u;var q=/^xn--/,z=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,k=String.fromCharCode,h;var r={version:"1.3.2",ucs2:{decode:H,encode:t},decode:C,encode:L,toASCII:function(l){return Q(l,function(J){return z.test(J)?
"xn--"+L(J):J})},toUnicode:function(l){return Q(l,function(J){return q.test(J)?C(J.slice(4).toLowerCase()):J})}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return r});else if(F&&n)if(Ha.exports==F)n.exports=r;else for(h in r)r.hasOwnProperty(h)&&(F[h]=r[h]);else N.punycode=r})(this)};
shadow$provide[7]=function(ya,pa,Ha,Y){Ha.exports={isString:function(N){return"string"===typeof N},isObject:function(N){return"object"===typeof N&&null!==N},isNull:function(N){return null===N},isNullOrUndefined:function(N){return null==N}}};
shadow$provide[8]=function(ya,pa,Ha,Y){Ha.exports=function(y,E,Q,H){Q=Q||"\x3d";var t={};if("string"!==typeof y||0===y.length)return t;var v=/\+/g;y=y.split(E||"\x26");E=1E3;H&&"number"===typeof H.maxKeys&&(E=H.maxKeys);H=y.length;0<E&&H>E&&(H=E);for(E=0;E<H;++E){var C=y[E].replace(v,"%20"),L=C.indexOf(Q);if(0<=L){var F=C.substr(0,L);C=C.substr(L+1)}else F=C,C="";F=decodeURIComponent(F);C=decodeURIComponent(C);Object.prototype.hasOwnProperty.call(t,F)?N(t[F])?t[F].push(C):t[F]=[t[F],C]:t[F]=C}return t};
var N=Array.isArray||function(y){return"[object Array]"===Object.prototype.toString.call(y)}};
shadow$provide[9]=function(ya,pa,Ha,Y){function N(H,t){if(H.map)return H.map(t);for(var v=[],C=0;C<H.length;C++)v.push(t(H[C],C));return v}var y=function(H){switch(typeof H){case "string":return H;case "boolean":return H?"true":"false";case "number":return isFinite(H)?H:"";default:return""}};Ha.exports=function(H,t,v,C){t=t||"\x26";v=v||"\x3d";null===H&&(H=void 0);return"object"===typeof H?N(Q(H),function(L){var F=encodeURIComponent(y(L))+v;return E(H[L])?N(H[L],function(n){return F+encodeURIComponent(y(n))}).join(t):
F+encodeURIComponent(y(H[L]))}).join(t):C?encodeURIComponent(y(C))+v+encodeURIComponent(y(H)):""};var E=Array.isArray||function(H){return"[object Array]"===Object.prototype.toString.call(H)},Q=Object.keys||function(H){var t=[],v;for(v in H)Object.prototype.hasOwnProperty.call(H,v)&&t.push(v);return t}};
shadow$provide[10]=function(ya,pa,Ha,Y){Y.decode=Y.parse=pa(8);Y.encode=Y.stringify=pa(9)};
shadow$provide[11]=function(ya,pa,Ha,Y){function N(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function y(m,k,h){if(m&&Q.isObject(m)&&m instanceof N)return m;var r=new N;r.parse(m,k,h);return r}var E=pa(6),Q=pa(7);Y.parse=y;Y.resolve=function(m,k){return y(m,!1,!0).resolve(k)};Y.resolveObject=function(m,k){return m?y(m,!1,!0).resolveObject(k):k};Y.format=function(m){Q.isString(m)&&(m=y(m));return m instanceof
N?m.format():N.prototype.format.call(m)};Y.Url=N;var H=/^([a-z0-9.+-]+:)/i,t=/:[0-9]*$/,v=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;ya="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split(""));var C=["'"].concat(ya),L=["%","/","?",";","#"].concat(C),F=["/","?","#"],n=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,q={javascript:!0,"javascript:":!0},z={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=pa(10);
N.prototype.parse=function(m,k,h){if(!Q.isString(m))throw new TypeError("Parameter 'url' must be a string, not "+typeof m);var r=m.indexOf("?");r=-1!==r&&r<m.indexOf("#")?"?":"#";m=m.split(r);m[0]=m[0].replace(/\\/g,"/");m=m.join(r);r=m.trim();if(!h&&1===m.split("#").length&&(m=v.exec(r)))return this.href=this.path=r,this.pathname=m[1],m[2]?(this.search=m[2],this.query=k?P.parse(this.search.substr(1)):this.search.substr(1)):k&&(this.search="",this.query={}),this;if(m=H.exec(r)){m=m[0];var l=m.toLowerCase();
this.protocol=l;r=r.substr(m.length)}if(h||m||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var J="//"===r.substr(0,2);!J||m&&z[m]||(r=r.substr(2),this.slashes=!0)}if(!z[m]&&(J||m&&!I[m])){J=-1;for(h=0;h<F.length;h++)m=r.indexOf(F[h]),-1!==m&&(-1===J||m<J)&&(J=m);J=-1===J?r.lastIndexOf("@"):r.lastIndexOf("@",J);-1!==J&&(h=r.slice(0,J),r=r.slice(J+1),this.auth=decodeURIComponent(h));J=-1;for(h=0;h<L.length;h++)m=r.indexOf(L[h]),-1!==m&&(-1===J||m<J)&&(J=m);-1===J&&(J=r.length);this.host=r.slice(0,J);r=r.slice(J);
this.parseHost();this.hostname=this.hostname||"";J="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!J){var p=this.hostname.split(/\./);h=0;for(m=p.length;h<m;h++){var G=p[h];if(G&&!G.match(n)){for(var R="",aa=0,ka=G.length;aa<ka;aa++)R=127<G.charCodeAt(aa)?R+"x":R+G[aa];if(!R.match(n)){m=p.slice(0,h);h=p.slice(h+1);if(G=G.match(u))m.push(G[1]),h.unshift(G[2]);h.length&&(r="/"+h.join(".")+r);this.hostname=m.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();
J||(this.hostname=E.toASCII(this.hostname));h=this.port?":"+this.port:"";this.host=(this.hostname||"")+h;this.href+=this.host;J&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!q[l])for(h=0,m=C.length;h<m;h++)J=C[h],-1!==r.indexOf(J)&&(G=encodeURIComponent(J),G===J&&(G=escape(J)),r=r.split(J).join(G));h=r.indexOf("#");-1!==h&&(this.hash=r.substr(h),r=r.slice(0,h));h=r.indexOf("?");-1!==h?(this.search=r.substr(h),this.query=r.substr(h+1),k&&(this.query=P.parse(this.query)),
r=r.slice(0,h)):k&&(this.search="",this.query={});r&&(this.pathname=r);I[l]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)h=this.pathname||"",this.path=h+(this.search||"");this.href=this.format();return this};N.prototype.format=function(){var m=this.auth||"";m&&(m=encodeURIComponent(m),m=m.replace(/%3A/i,":"),m+="@");var k=this.protocol||"",h=this.pathname||"",r=this.hash||"",l=!1,J="";this.host?l=m+this.host:this.hostname&&(l=m+(-1===this.hostname.indexOf(":")?
this.hostname:"["+this.hostname+"]"),this.port&&(l+=":"+this.port));this.query&&Q.isObject(this.query)&&Object.keys(this.query).length&&(J=P.stringify(this.query));m=this.search||J&&"?"+J||"";k&&":"!==k.substr(-1)&&(k+=":");this.slashes||(!k||I[k])&&!1!==l?(l="//"+(l||""),h&&"/"!==h.charAt(0)&&(h="/"+h)):l||(l="");r&&"#"!==r.charAt(0)&&(r="#"+r);m&&"?"!==m.charAt(0)&&(m="?"+m);h=h.replace(/[?#]/g,function(p){return encodeURIComponent(p)});m=m.replace("#","%23");return k+l+h+m+r};N.prototype.resolve=
function(m){return this.resolveObject(y(m,!1,!0)).format()};N.prototype.resolveObject=function(m){if(Q.isString(m)){var k=new N;k.parse(m,!1,!0);m=k}k=new N;for(var h=Object.keys(this),r=0;r<h.length;r++){var l=h[r];k[l]=this[l]}k.hash=m.hash;if(""===m.href)return k.href=k.format(),k;if(m.slashes&&!m.protocol){h=Object.keys(m);for(r=0;r<h.length;r++)l=h[r],"protocol"!==l&&(k[l]=m[l]);I[k.protocol]&&k.hostname&&!k.pathname&&(k.path=k.pathname="/");k.href=k.format();return k}if(m.protocol&&m.protocol!==
k.protocol){if(!I[m.protocol]){h=Object.keys(m);for(r=0;r<h.length;r++)l=h[r],k[l]=m[l];k.href=k.format();return k}k.protocol=m.protocol;if(m.host||z[m.protocol])k.pathname=m.pathname;else{for(var J=(m.pathname||"").split("/");J.length&&!(m.host=J.shift()););m.host||(m.host="");m.hostname||(m.hostname="");""!==J[0]&&J.unshift("");2>J.length&&J.unshift("");k.pathname=J.join("/")}k.search=m.search;k.query=m.query;k.host=m.host||"";k.auth=m.auth;k.hostname=m.hostname||m.host;k.port=m.port;if(k.pathname||
k.search)k.path=(k.pathname||"")+(k.search||"");k.slashes=k.slashes||m.slashes;k.href=k.format();return k}h=k.pathname&&"/"===k.pathname.charAt(0);var p=m.host||m.pathname&&"/"===m.pathname.charAt(0),G=h=p||h||k.host&&m.pathname;r=k.pathname&&k.pathname.split("/")||[];J=m.pathname&&m.pathname.split("/")||[];if(l=k.protocol&&!I[k.protocol])k.hostname="",k.port=null,k.host&&(""===r[0]?r[0]=k.host:r.unshift(k.host)),k.host="",m.protocol&&(m.hostname=null,m.port=null,m.host&&(""===J[0]?J[0]=m.host:J.unshift(m.host)),
m.host=null),h=h&&(""===J[0]||""===r[0]);if(p)k.host=m.host||""===m.host?m.host:k.host,k.hostname=m.hostname||""===m.hostname?m.hostname:k.hostname,k.search=m.search,k.query=m.query,r=J;else if(J.length)r||(r=[]),r.pop(),r=r.concat(J),k.search=m.search,k.query=m.query;else if(!Q.isNullOrUndefined(m.search))return l&&(k.hostname=k.host=r.shift(),l=k.host&&0<k.host.indexOf("@")?k.host.split("@"):!1)&&(k.auth=l.shift(),k.host=k.hostname=l.shift()),k.search=m.search,k.query=m.query,Q.isNull(k.pathname)&&
Q.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:"")),k.href=k.format(),k;if(!r.length)return k.pathname=null,k.path=k.search?"/"+k.search:null,k.href=k.format(),k;p=r.slice(-1)[0];J=(k.host||m.host||1<r.length)&&("."===p||".."===p)||""===p;for(var R=0,aa=r.length;0<=aa;aa--)p=r[aa],"."===p?r.splice(aa,1):".."===p?(r.splice(aa,1),R++):R&&(r.splice(aa,1),R--);if(!h&&!G)for(;R--;R)r.unshift("..");!h||""===r[0]||r[0]&&"/"===r[0].charAt(0)||r.unshift("");J&&"/"!==r.join("/").substr(-1)&&
r.push("");G=""===r[0]||r[0]&&"/"===r[0].charAt(0);l&&(k.hostname=k.host=G?"":r.length?r.shift():"",l=k.host&&0<k.host.indexOf("@")?k.host.split("@"):!1)&&(k.auth=l.shift(),k.host=k.hostname=l.shift());(h=h||k.host&&r.length)&&!G&&r.unshift("");r.length?k.pathname=r.join("/"):(k.pathname=null,k.path=null);Q.isNull(k.pathname)&&Q.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:""));k.auth=m.auth||k.auth;k.slashes=k.slashes||m.slashes;k.href=k.format();return k};N.prototype.parseHost=
function(){var m=this.host,k=t.exec(m);k&&(k=k[0],":"!==k&&(this.port=k.substr(1)),m=m.substr(0,m.length-k.length));m&&(this.hostname=m)}};
shadow$provide[12]=function(ya,pa,Ha,Y){function N(m){return m&&"object"===typeof m&&"default"in m?m["default"]:m}function y(m){if(4===m.BYTES_PER_ELEMENT)return m instanceof Float32Array?"Float32Array":m instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===m.BYTES_PER_ELEMENT){if(m instanceof Uint16Array)return"Uint16Array"}else if(1===m.BYTES_PER_ELEMENT&&m instanceof Uint8Array)return"Uint8Array";return null}Object.defineProperty(Y,"__esModule",{value:!0});var E=pa(2);ya=N(pa(4));Ha=N(pa(5));
var Q=pa(11),H=N(Q),t=pa(3);E.settings.RETINA_PREFIX=/@([0-9\.]+)x/;E.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var v=!1,C,L=function(){for(var m=[],k=[],h=0;32>h;h++)m[h]=h,k[h]=h;m[t.BLEND_MODES.NORMAL_NPM]=t.BLEND_MODES.NORMAL;m[t.BLEND_MODES.ADD_NPM]=t.BLEND_MODES.ADD;m[t.BLEND_MODES.SCREEN_NPM]=t.BLEND_MODES.SCREEN;k[t.BLEND_MODES.NORMAL]=t.BLEND_MODES.NORMAL_NPM;k[t.BLEND_MODES.ADD]=t.BLEND_MODES.ADD_NPM;k[t.BLEND_MODES.SCREEN]=t.BLEND_MODES.SCREEN_NPM;h=[];h.push(k);h.push(m);return h}(),
F={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},n=0,u={},q=Object.create(null),z=Object.create(null);pa=function(){function m(k,h,r){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=r||E.settings.RESOLUTION;this.resize(k,h)}m.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};m.prototype.resize=function(k,h){this.canvas.width=
k*this.resolution;this.canvas.height=h*this.resolution};m.prototype.destroy=function(){this.canvas=this.context=null};Object.defineProperty(m.prototype,"width",{get:function(){return this.canvas.width},set:function(k){this.canvas.width=k},enumerable:!1,configurable:!0});Object.defineProperty(m.prototype,"height",{get:function(){return this.canvas.height},set:function(k){this.canvas.height=k},enumerable:!1,configurable:!0});return m}();var I=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,
P;Object.defineProperty(Y,"isMobile",{enumerable:!0,get:function(){return E.isMobile}});Y.EventEmitter=ya;Y.earcut=Ha;Y.url=H;Y.BaseTextureCache=z;Y.CanvasRenderTarget=pa;Y.DATA_URI=I;Y.ProgramCache={};Y.TextureCache=q;Y.clearTextureCache=function(){for(var m in q)delete q[m];for(m in z)delete z[m]};Y.correctBlendMode=function(m,k){return L[k?1:0][m]};Y.createIndicesForQuads=function(m,k){void 0===k&&(k=null);m*=6;k=k||new Uint16Array(m);if(k.length!==m)throw Error("Out buffer length is incorrect, got "+
k.length+" and expected "+m);for(var h=0,r=0;h<m;h+=6,r+=4)k[h+0]=r+0,k[h+1]=r+1,k[h+2]=r+2,k[h+3]=r+0,k[h+4]=r+2,k[h+5]=r+3;return k};Y.decomposeDataUri=function(m){if(m=I.exec(m))return{mediaType:m[1]?m[1].toLowerCase():void 0,subType:m[2]?m[2].toLowerCase():void 0,charset:m[3]?m[3].toLowerCase():void 0,encoding:m[4]?m[4].toLowerCase():void 0,data:m[5]}};Y.deprecation=function(m,k,h){void 0===h&&(h=3);if(!u[k]){var r=Error().stack;"undefined"===typeof r?console.warn("PixiJS Deprecation Warning: ",
k+"\nDeprecated since v"+m):(r=r.split("\n").splice(h).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",k+"\nDeprecated since v"+m),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",k+"\nDeprecated since v"+m),console.warn(r)));u[k]=!0}};Y.destroyTextureCache=function(){for(var m in q)q[m].destroy();for(m in z)z[m].destroy()};Y.determineCrossOrigin=
function(m,k){void 0===k&&(k=window.location);if(0===m.indexOf("data:"))return"";k=k||window.location;P||(P=document.createElement("a"));P.href=m;m=Q.parse(P.href);var h=!m.port&&""===k.port||m.port===k.port;return m.hostname===k.hostname&&h&&m.protocol===k.protocol?"":"anonymous"};Y.getBufferType=y;Y.getResolutionOfUrl=function(m,k){return(m=E.settings.RETINA_PREFIX.exec(m))?parseFloat(m[1]):void 0!==k?k:1};Y.hex2rgb=function(m,k){void 0===k&&(k=[]);k[0]=(m>>16&255)/255;k[1]=(m>>8&255)/255;k[2]=
(m&255)/255;return k};Y.hex2string=function(m){m=m.toString(16);m="000000".substr(0,6-m.length)+m;return"#"+m};Y.interleaveTypedArrays=function(m,k){for(var h=0,r=0,l={},J=0;J<m.length;J++)r+=k[J],h+=m[J].length;h=new ArrayBuffer(4*h);var p=0;for(J=0;J<m.length;J++){var G=k[J],R=m[J];var aa=y(R);l[aa]||(l[aa]=new F[aa](h));aa=l[aa];for(var ka=0;ka<R.length;ka++)aa[(ka/G|0)*r+p+ka%G]=R[ka];p+=G}return new Float32Array(h)};Y.isPow2=function(m){return!(m&m-1)&&!!m};Y.isWebGLSupported=function(){"undefined"===
typeof C&&(C=function(){var m={stencil:!0,failIfMajorPerformanceCaveat:E.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var k=document.createElement("canvas"),h=k.getContext("webgl",m)||k.getContext("experimental-webgl",m),r=!(!h||!h.getContextAttributes().stencil);if(h){var l=h.getExtension("WEBGL_lose_context");l&&l.loseContext()}return r}catch(J){return!1}}());return C};Y.log2=function(m){var k=(65535<m?1:0)<<4;m>>>=k;var h=(255<m?1:0)<<3;m>>>=h;k|=h;h=
(15<m?1:0)<<2;m>>>=h;k|=h;h=(3<m?1:0)<<1;return k|h|m>>>h>>1};Y.nextPow2=function(m){m+=0===m?1:0;--m;m|=m>>>1;m|=m>>>2;m|=m>>>4;m|=m>>>8;return(m|m>>>16)+1};Y.premultiplyBlendMode=L;Y.premultiplyRgba=function(m,k,h,r){h=h||new Float32Array(4);r||void 0===r?(h[0]=m[0]*k,h[1]=m[1]*k,h[2]=m[2]*k):(h[0]=m[0],h[1]=m[1],h[2]=m[2]);h[3]=k;return h};Y.premultiplyTint=function(m,k){return 1===k?(255*k<<24)+m:0===k?0:(255*k<<24)+(((m>>16&255)*k+.5|0)<<16)+(((m>>8&255)*k+.5|0)<<8)+((m&255)*k+.5|0)};Y.premultiplyTintToRgba=
function(m,k,h,r){h=h||new Float32Array(4);h[0]=(m>>16&255)/255;h[1]=(m>>8&255)/255;h[2]=(m&255)/255;if(r||void 0===r)h[0]*=k,h[1]*=k,h[2]*=k;h[3]=k;return h};Y.removeItems=function(m,k,h){var r=m.length;if(!(k>=r||0===h)){h=k+h>r?r-k:h;for(r-=h;k<r;++k)m[k]=m[k+h];m.length=r}};Y.rgb2hex=function(m){return(255*m[0]<<16)+(255*m[1]<<8)+(255*m[2]|0)};Y.sayHello=function(m){var k;v||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(m=["\n %c %c %c PixiJS 5.3.9 - ✰ "+m+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n",
"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"],(k=window.console).log.apply(k,m)):window.console&&window.console.log("PixiJS 5.3.9 - "+m+" - http://www.pixijs.com/"),
v=!0)};Y.sign=function(m){return 0===m?0:0>m?-1:1};Y.skipHello=function(){v=!0};Y.string2hex=function(m){"string"===typeof m&&"#"===m[0]&&(m=m.substr(1));return parseInt(m,16)};Y.trimCanvas=function(m){var k=m.width,h=m.height;m=m.getContext("2d");var r=m.getImageData(0,0,k,h).data,l=r.length,J=null,p=null,G=null,R=null,aa=null,ka;for(ka=0;ka<l;ka+=4)if(0!==r[ka+3]){var ua=ka/4%k;var ea=~~(ka/4/k);null===J&&(J=ea);null===p?p=ua:ua<p&&(p=ua);null===G?G=ua+1:G<ua&&(G=ua+1);null===R?R=ea:R<ea&&(R=ea)}null!==
J&&(k=G-p,h=R-J+1,aa=m.getImageData(p,J,k,h));return{height:h,width:k,data:aa}};Y.uid=function(){return++n}};
shadow$provide[13]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});ya=function(){function N(y){this.items=[];this._name=y;this._aliasCount=0}N.prototype.emit=function(y,E,Q,H,t,v,C,L){if(8<arguments.length)throw Error("max arguments reached");var F=this.name,n=this.items;this._aliasCount++;for(var u=0,q=n.length;u<q;u++)n[u][F](y,E,Q,H,t,v,C,L);n===this.items&&this._aliasCount--;return this};N.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&
(this._aliasCount=0,this.items=this.items.slice(0))};N.prototype.add=function(y){y[this._name]&&(this.ensureNonAliasedItems(),this.remove(y),this.items.push(y));return this};N.prototype.remove=function(y){y=this.items.indexOf(y);-1!==y&&(this.ensureNonAliasedItems(),this.items.splice(y,1));return this};N.prototype.contains=function(y){return-1!==this.items.indexOf(y)};N.prototype.removeAll=function(){this.ensureNonAliasedItems();this.items.length=0;return this};N.prototype.destroy=function(){this.removeAll();
this._name=this.items=null};Object.defineProperty(N.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0});Object.defineProperty(N.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0});return N}();Object.defineProperties(ya.prototype,{dispatch:{value:ya.prototype.emit},run:{value:ya.prototype.emit}});Y.Runner=ya};
shadow$provide[14]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});var N=pa(2);N.settings.TARGET_FPMS=.06;(function(Q){Q[Q.INTERACTION=50]="INTERACTION";Q[Q.HIGH=25]="HIGH";Q[Q.NORMAL=0]="NORMAL";Q[Q.LOW=-25]="LOW";Q[Q.UTILITY=-50]="UTILITY"})(Y.UPDATE_PRIORITY||(Y.UPDATE_PRIORITY={}));var y=function(){function Q(H,t,v,C){void 0===t&&(t=null);void 0===v&&(v=0);void 0===C&&(C=!1);this.fn=H;this.context=t;this.priority=v;this.once=C;this.previous=this.next=null;this._destroyed=
!1}Q.prototype.match=function(H,t){void 0===t&&(t=null);return this.fn===H&&this.context===t};Q.prototype.emit=function(H){this.fn&&(this.context?this.fn.call(this.context,H):this.fn(H));H=this.next;this.once&&this.destroy(!0);this._destroyed&&(this.next=null);return H};Q.prototype.connect=function(H){this.previous=H;H.next&&(H.next.previous=this);this.next=H.next;H.next=this};Q.prototype.destroy=function(H){void 0===H&&(H=!1);this._destroyed=!0;this.context=this.fn=null;this.previous&&(this.previous.next=
this.next);this.next&&(this.next.previous=this.previous);var t=this.next;this.next=H?null:t;this.previous=null;return t};return Q}(),E=function(){function Q(){var H=this;this._head=new y(null,null,Infinity);this._requestId=null;this._maxElapsedMS=100;this._minElapsedMS=0;this.autoStart=!1;this.deltaTime=1;this.deltaMS=1/N.settings.TARGET_FPMS;this.elapsedMS=1/N.settings.TARGET_FPMS;this.lastTime=-1;this.speed=1;this._protected=this.started=!1;this._lastFrame=-1;this._tick=function(t){H._requestId=
null;H.started&&(H.update(t),H.started&&null===H._requestId&&H._head.next&&(H._requestId=requestAnimationFrame(H._tick)))}}Q.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this._lastFrame=this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))};Q.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)};Q.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():
this.autoStart&&this.start()};Q.prototype.add=function(H,t,v){void 0===v&&(v=Y.UPDATE_PRIORITY.NORMAL);return this._addListener(new y(H,t,v))};Q.prototype.addOnce=function(H,t,v){void 0===v&&(v=Y.UPDATE_PRIORITY.NORMAL);return this._addListener(new y(H,t,v,!0))};Q.prototype._addListener=function(H){var t=this._head.next,v=this._head;if(t){for(;t;){if(H.priority>t.priority){H.connect(v);break}v=t;t=t.next}H.previous||H.connect(v)}else H.connect(v);this._startIfPossible();return this};Q.prototype.remove=
function(H,t){for(var v=this._head.next;v;)v=v.match(H,t)?v.destroy():v.next;this._head.next||this._cancelIfNeeded();return this};Object.defineProperty(Q.prototype,"count",{get:function(){if(!this._head)return 0;for(var H=0,t=this._head;t=t.next;)H++;return H},enumerable:!1,configurable:!0});Q.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())};Q.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())};Q.prototype.destroy=function(){if(!this._protected){this.stop();
for(var H=this._head.next;H;)H=H.destroy(!0);this._head.destroy();this._head=null}};Q.prototype.update=function(H){void 0===H&&(H=performance.now());if(H>this.lastTime){var t=this.elapsedMS=H-this.lastTime;t>this._maxElapsedMS&&(t=this._maxElapsedMS);t*=this.speed;if(this._minElapsedMS){var v=H-this._lastFrame|0;if(v<this._minElapsedMS)return;this._lastFrame=H-v%this._minElapsedMS}this.deltaMS=t;this.deltaTime=this.deltaMS*N.settings.TARGET_FPMS;t=this._head;for(v=t.next;v;)v=v.emit(this.deltaTime);
t.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=H};Object.defineProperty(Q.prototype,"FPS",{get:function(){return 1E3/this.elapsedMS},enumerable:!1,configurable:!0});Object.defineProperty(Q.prototype,"minFPS",{get:function(){return 1E3/this._maxElapsedMS},set:function(H){this._maxElapsedMS=1/Math.min(Math.max(0,Math.min(this.maxFPS,H))/1E3,N.settings.TARGET_FPMS)},enumerable:!1,configurable:!0});Object.defineProperty(Q.prototype,"maxFPS",{get:function(){return this._minElapsedMS?
Math.round(1E3/this._minElapsedMS):0},set:function(H){this._minElapsedMS=0===H?0:1/(Math.max(this.minFPS,H)/1E3)},enumerable:!1,configurable:!0});Object.defineProperty(Q,"shared",{get:function(){if(!Q._shared){var H=Q._shared=new Q;H.autoStart=!0;H._protected=!0}return Q._shared},enumerable:!1,configurable:!0});Object.defineProperty(Q,"system",{get:function(){if(!Q._system){var H=Q._system=new Q;H.autoStart=!0;H._protected=!0}return Q._system},enumerable:!1,configurable:!0});return Q}();ya=function(){function Q(){}
Q.init=function(H){var t=this;H=Object.assign({autoStart:!0,sharedTicker:!1},H);Object.defineProperty(this,"ticker",{set:function(v){this._ticker&&this._ticker.remove(this.render,this);(this._ticker=v)&&v.add(this.render,this,Y.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}});this.stop=function(){t._ticker.stop()};this.start=function(){t._ticker.start()};this._ticker=null;this.ticker=H.sharedTicker?E.shared:new E;H.autoStart&&this.start()};Q.destroy=function(){if(this._ticker){var H=this._ticker;
this.ticker=null;H.destroy()}};return Q}();Y.Ticker=E;Y.TickerPlugin=ya};
shadow$provide[15]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});var N=2*Math.PI;ya=180/Math.PI;pa=Math.PI/180;(function(k){k[k.POLY=0]="POLY";k[k.RECT=1]="RECT";k[k.CIRC=2]="CIRC";k[k.ELIP=3]="ELIP";k[k.RREC=4]="RREC"})(Y.SHAPES||(Y.SHAPES={}));var y=function(){function k(h,r,l,J){void 0===h&&(h=0);void 0===r&&(r=0);void 0===l&&(l=0);void 0===J&&(J=0);this.x=Number(h);this.y=Number(r);this.width=Number(l);this.height=Number(J);this.type=Y.SHAPES.RECT}Object.defineProperty(k.prototype,
"left",{get:function(){return this.x},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0});Object.defineProperty(k.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0});Object.defineProperty(k,"EMPTY",{get:function(){return new k(0,0,0,0)},enumerable:!1,configurable:!0});
k.prototype.clone=function(){return new k(this.x,this.y,this.width,this.height)};k.prototype.copyFrom=function(h){this.x=h.x;this.y=h.y;this.width=h.width;this.height=h.height;return this};k.prototype.copyTo=function(h){h.x=this.x;h.y=this.y;h.width=this.width;h.height=this.height;return h};k.prototype.contains=function(h,r){return 0>=this.width||0>=this.height?!1:h>=this.x&&h<this.x+this.width&&r>=this.y&&r<this.y+this.height?!0:!1};k.prototype.pad=function(h,r){void 0===h&&(h=0);void 0===r&&(r=
h);this.x-=h;this.y-=r;this.width+=2*h;this.height+=2*r;return this};k.prototype.fit=function(h){var r=Math.max(this.x,h.x),l=Math.min(this.x+this.width,h.x+h.width),J=Math.max(this.y,h.y);h=Math.min(this.y+this.height,h.y+h.height);this.x=r;this.width=Math.max(l-r,0);this.y=J;this.height=Math.max(h-J,0);return this};k.prototype.ceil=function(h,r){void 0===h&&(h=1);void 0===r&&(r=.001);var l=Math.ceil((this.x+this.width-r)*h)/h,J=Math.ceil((this.y+this.height-r)*h)/h;this.x=Math.floor((this.x+r)*
h)/h;this.y=Math.floor((this.y+r)*h)/h;this.width=l-this.x;this.height=J-this.y;return this};k.prototype.enlarge=function(h){var r=Math.min(this.x,h.x),l=Math.max(this.x+this.width,h.x+h.width),J=Math.min(this.y,h.y);h=Math.max(this.y+this.height,h.y+h.height);this.x=r;this.width=l-r;this.y=J;this.height=h-J;return this};return k}();Ha=function(){function k(h,r,l){void 0===h&&(h=0);void 0===r&&(r=0);void 0===l&&(l=0);this.x=h;this.y=r;this.radius=l;this.type=Y.SHAPES.CIRC}k.prototype.clone=function(){return new k(this.x,
this.y,this.radius)};k.prototype.contains=function(h,r){if(0>=this.radius)return!1;h=this.x-h;r=this.y-r;return h*h+r*r<=this.radius*this.radius};k.prototype.getBounds=function(){return new y(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};return k}();var E=function(){function k(h,r,l,J){void 0===h&&(h=0);void 0===r&&(r=0);void 0===l&&(l=0);void 0===J&&(J=0);this.x=h;this.y=r;this.width=l;this.height=J;this.type=Y.SHAPES.ELIP}k.prototype.clone=function(){return new k(this.x,this.y,
this.width,this.height)};k.prototype.contains=function(h,r){if(0>=this.width||0>=this.height)return!1;h=(h-this.x)/this.width;r=(r-this.y)/this.height;return 1>=h*h+r*r};k.prototype.getBounds=function(){return new y(this.x-this.width,this.y-this.height,this.width,this.height)};return k}(),Q=function(){function k(){for(var h=arguments,r=[],l=0;l<arguments.length;l++)r[l]=h[l];h=Array.isArray(r[0])?r[0]:r;if("number"!==typeof h[0]){r=[];l=0;for(var J=h.length;l<J;l++)r.push(h[l].x,h[l].y);h=r}this.points=
h;this.type=Y.SHAPES.POLY;this.closeStroke=!0}k.prototype.clone=function(){var h=this.points.slice();h=new k(h);h.closeStroke=this.closeStroke;return h};k.prototype.contains=function(h,r){for(var l=!1,J=this.points.length/2,p=0,G=J-1;p<J;G=p++){var R=this.points[2*p],aa=this.points[2*p+1],ka=this.points[2*G];G=this.points[2*G+1];aa>r!==G>r&&h<(r-aa)/(G-aa)*(ka-R)+R&&(l=!l)}return l};return k}(),H=function(){function k(h,r,l,J,p){void 0===h&&(h=0);void 0===r&&(r=0);void 0===l&&(l=0);void 0===J&&(J=
0);void 0===p&&(p=20);this.x=h;this.y=r;this.width=l;this.height=J;this.radius=p;this.type=Y.SHAPES.RREC}k.prototype.clone=function(){return new k(this.x,this.y,this.width,this.height,this.radius)};k.prototype.contains=function(h,r){if(0>=this.width||0>=this.height)return!1;if(h>=this.x&&h<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||h>=this.x+this.radius&&h<=this.x+this.width-this.radius)return!0;var l=h-(this.x+this.radius),J=
r-(this.y+this.radius),p=this.radius*this.radius;if(l*l+J*J<=p)return!0;l=h-(this.x+this.width-this.radius);if(l*l+J*J<=p)return!0;J=r-(this.y+this.height-this.radius);if(l*l+J*J<=p)return!0;l=h-(this.x+this.radius);if(l*l+J*J<=p)return!0}return!1};return k}(),t=function(){function k(h,r){void 0===h&&(h=0);void 0===r&&(r=0);this.x=h;this.y=r}k.prototype.clone=function(){return new k(this.x,this.y)};k.prototype.copyFrom=function(h){this.set(h.x,h.y);return this};k.prototype.copyTo=function(h){h.set(this.x,
this.y);return h};k.prototype.equals=function(h){return h.x===this.x&&h.y===this.y};k.prototype.set=function(h,r){void 0===h&&(h=0);void 0===r&&(r=h);this.x=h;this.y=r;return this};return k}(),v=function(){function k(h,r,l,J){void 0===l&&(l=0);void 0===J&&(J=0);this._x=l;this._y=J;this.cb=h;this.scope=r}k.prototype.clone=function(h,r){void 0===h&&(h=this.cb);void 0===r&&(r=this.scope);return new k(h,r,this._x,this._y)};k.prototype.set=function(h,r){void 0===h&&(h=0);void 0===r&&(r=h);if(this._x!==
h||this._y!==r)this._x=h,this._y=r,this.cb.call(this.scope);return this};k.prototype.copyFrom=function(h){if(this._x!==h.x||this._y!==h.y)this._x=h.x,this._y=h.y,this.cb.call(this.scope);return this};k.prototype.copyTo=function(h){h.set(this._x,this._y);return h};k.prototype.equals=function(h){return h.x===this._x&&h.y===this._y};Object.defineProperty(k.prototype,"x",{get:function(){return this._x},set:function(h){this._x!==h&&(this._x=h,this.cb.call(this.scope))},enumerable:!1,configurable:!0});
Object.defineProperty(k.prototype,"y",{get:function(){return this._y},set:function(h){this._y!==h&&(this._y=h,this.cb.call(this.scope))},enumerable:!1,configurable:!0});return k}(),C=function(){function k(h,r,l,J,p,G){void 0===h&&(h=1);void 0===r&&(r=0);void 0===l&&(l=0);void 0===J&&(J=1);void 0===p&&(p=0);void 0===G&&(G=0);this.array=null;this.a=h;this.b=r;this.c=l;this.d=J;this.tx=p;this.ty=G}k.prototype.fromArray=function(h){this.a=h[0];this.b=h[1];this.c=h[3];this.d=h[4];this.tx=h[2];this.ty=
h[5]};k.prototype.set=function(h,r,l,J,p,G){this.a=h;this.b=r;this.c=l;this.d=J;this.tx=p;this.ty=G;return this};k.prototype.toArray=function(h,r){this.array||(this.array=new Float32Array(9));r=r||this.array;h?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0);r[8]=1;return r};k.prototype.apply=function(h,r){r=r||new t;var l=h.x;h=h.y;r.x=this.a*l+this.c*h+this.tx;r.y=this.b*
l+this.d*h+this.ty;return r};k.prototype.applyInverse=function(h,r){r=r||new t;var l=1/(this.a*this.d+this.c*-this.b),J=h.x;h=h.y;r.x=this.d*l*J+-this.c*l*h+(this.ty*this.c-this.tx*this.d)*l;r.y=this.a*l*h+-this.b*l*J+(-this.ty*this.a+this.tx*this.b)*l;return r};k.prototype.translate=function(h,r){this.tx+=h;this.ty+=r;return this};k.prototype.scale=function(h,r){this.a*=h;this.d*=r;this.c*=h;this.b*=r;this.tx*=h;this.ty*=r;return this};k.prototype.rotate=function(h){var r=Math.cos(h);h=Math.sin(h);
var l=this.a,J=this.c,p=this.tx;this.a=l*r-this.b*h;this.b=l*h+this.b*r;this.c=J*r-this.d*h;this.d=J*h+this.d*r;this.tx=p*r-this.ty*h;this.ty=p*h+this.ty*r;return this};k.prototype.append=function(h){var r=this.a,l=this.b,J=this.c,p=this.d;this.a=h.a*r+h.b*J;this.b=h.a*l+h.b*p;this.c=h.c*r+h.d*J;this.d=h.c*l+h.d*p;this.tx=h.tx*r+h.ty*J+this.tx;this.ty=h.tx*l+h.ty*p+this.ty;return this};k.prototype.setTransform=function(h,r,l,J,p,G,R,aa,ka){this.a=Math.cos(R+ka)*p;this.b=Math.sin(R+ka)*p;this.c=-Math.sin(R-
aa)*G;this.d=Math.cos(R-aa)*G;this.tx=h-(l*this.a+J*this.c);this.ty=r-(l*this.b+J*this.d);return this};k.prototype.prepend=function(h){var r=this.tx;if(1!==h.a||0!==h.b||0!==h.c||1!==h.d){var l=this.a,J=this.c;this.a=l*h.a+this.b*h.c;this.b=l*h.b+this.b*h.d;this.c=J*h.a+this.d*h.c;this.d=J*h.b+this.d*h.d}this.tx=r*h.a+this.ty*h.c+h.tx;this.ty=r*h.b+this.ty*h.d+h.ty;return this};k.prototype.decompose=function(h){var r=this.a,l=this.b,J=this.c,p=this.d,G=-Math.atan2(-J,p),R=Math.atan2(l,r),aa=Math.abs(G+
R);1E-5>aa||1E-5>Math.abs(N-aa)?(h.rotation=R,h.skew.x=h.skew.y=0):(h.rotation=0,h.skew.x=G,h.skew.y=R);h.scale.x=Math.sqrt(r*r+l*l);h.scale.y=Math.sqrt(J*J+p*p);h.position.x=this.tx;h.position.y=this.ty;return h};k.prototype.invert=function(){var h=this.a,r=this.b,l=this.c,J=this.d,p=this.tx,G=h*J-r*l;this.a=J/G;this.b=-r/G;this.c=-l/G;this.d=h/G;this.tx=(l*this.ty-J*p)/G;this.ty=-(h*this.ty-r*p)/G;return this};k.prototype.identity=function(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0;return this};
k.prototype.clone=function(){var h=new k;h.a=this.a;h.b=this.b;h.c=this.c;h.d=this.d;h.tx=this.tx;h.ty=this.ty;return h};k.prototype.copyTo=function(h){h.a=this.a;h.b=this.b;h.c=this.c;h.d=this.d;h.tx=this.tx;h.ty=this.ty;return h};k.prototype.copyFrom=function(h){this.a=h.a;this.b=h.b;this.c=h.c;this.d=h.d;this.tx=h.tx;this.ty=h.ty;return this};Object.defineProperty(k,"IDENTITY",{get:function(){return new k},enumerable:!1,configurable:!0});Object.defineProperty(k,"TEMP_MATRIX",{get:function(){return new k},
enumerable:!1,configurable:!0});return k}(),L=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],F=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],n=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],q=[],z=[],I=Math.sign;(function(){for(var k=0;16>k;k++){var h=[];q.push(h);for(var r=0;16>r;r++)for(var l=I(L[k]*L[r]+n[k]*F[r]),J=I(F[k]*L[r]+u[k]*F[r]),p=I(L[k]*n[r]+n[k]*u[r]),G=I(F[k]*n[r]+u[k]*u[r]),R=0;16>R;R++)if(L[R]===l&&F[R]===J&&n[R]===p&&u[R]===G){h.push(R);break}}for(k=0;16>k;k++)h=
new C,h.set(L[k],F[k],n[k],u[k],0,0),z.push(h)})();var P={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(k){return L[k]},uY:function(k){return F[k]},vX:function(k){return n[k]},vY:function(k){return u[k]},inv:function(k){return k&8?k&15:-k&7},add:function(k,h){return q[k][h]},sub:function(k,h){return q[k][P.inv(h)]},rotate180:function(k){return k^4},isVertical:function(k){return 2===(k&3)},byDirection:function(k,h){return 2*
Math.abs(k)<=Math.abs(h)?0<=h?P.S:P.N:2*Math.abs(h)<=Math.abs(k)?0<k?P.E:P.W:0<h?0<k?P.SE:P.SW:0<k?P.NE:P.NW},matrixAppendRotationInv:function(k,h,r,l){void 0===r&&(r=0);void 0===l&&(l=0);h=z[P.inv(h)];h.tx=r;h.ty=l;k.append(h)}},m=function(){function k(){this.worldTransform=new C;this.localTransform=new C;this.position=new v(this.onChange,this,0,0);this.scale=new v(this.onChange,this,1,1);this.pivot=new v(this.onChange,this,0,0);this.skew=new v(this.updateSkew,this,0,0);this._rotation=0;this._cx=
1;this._cy=this._sx=0;this._sy=1;this._parentID=this._worldID=this._currentLocalID=this._localID=0}k.prototype.onChange=function(){this._localID++};k.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y);this._sx=Math.sin(this._rotation+this.skew.y);this._cy=-Math.sin(this._rotation-this.skew.x);this._sy=Math.cos(this._rotation-this.skew.x);this._localID++};k.prototype.updateLocalTransform=function(){var h=this.localTransform;this._localID!==this._currentLocalID&&(h.a=this._cx*
this.scale.x,h.b=this._sx*this.scale.x,h.c=this._cy*this.scale.y,h.d=this._sy*this.scale.y,h.tx=this.position.x-(this.pivot.x*h.a+this.pivot.y*h.c),h.ty=this.position.y-(this.pivot.x*h.b+this.pivot.y*h.d),this._currentLocalID=this._localID,this._parentID=-1)};k.prototype.updateTransform=function(h){var r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*
r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1);if(this._parentID!==h._worldID){var l=h.worldTransform,J=this.worldTransform;J.a=r.a*l.a+r.b*l.c;J.b=r.a*l.b+r.b*l.d;J.c=r.c*l.a+r.d*l.c;J.d=r.c*l.b+r.d*l.d;J.tx=r.tx*l.a+r.ty*l.c+l.tx;J.ty=r.tx*l.b+r.ty*l.d+l.ty;this._parentID=h._worldID;this._worldID++}};k.prototype.setFromMatrix=function(h){h.decompose(this);this._localID++};Object.defineProperty(k.prototype,"rotation",
{get:function(){return this._rotation},set:function(h){this._rotation!==h&&(this._rotation=h,this.updateSkew())},enumerable:!1,configurable:!0});k.IDENTITY=new k;return k}();Y.Circle=Ha;Y.DEG_TO_RAD=pa;Y.Ellipse=E;Y.Matrix=C;Y.ObservablePoint=v;Y.PI_2=N;Y.Point=t;Y.Polygon=Q;Y.RAD_TO_DEG=ya;Y.Rectangle=y;Y.RoundedRectangle=H;Y.Transform=m;Y.groupD8=P};
shadow$provide[16]=function(ya,pa,Ha,Y){function N(W,A){if(!W)return null;var b="";if("string"===typeof W){var e=/\.(\w{3,4})(?:$|\?|#)/i.exec(W);e&&(b=e[1].toLowerCase())}for(e=h.length-1;0<=e;--e){var D=h[e];if(D.test&&D.test(W,b))return new D(W,A)}throw Error("Unrecognized source type to auto-detect Resource");}function y(W,A){function b(){this.constructor=W}r(W,A);W.prototype=null===A?Object.create(A):(b.prototype=A.prototype,new b)}function E(W){W.destroy=function(){};W.on=function(){};W.once=
function(){};W.emit=function(){}}function Q(W){if(4===W.BYTES_PER_ELEMENT)return W instanceof Float32Array?"Float32Array":W instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===W.BYTES_PER_ELEMENT){if(W instanceof Uint16Array)return"Uint16Array"}else if(1===W.BYTES_PER_ELEMENT&&W instanceof Uint8Array)return"Uint8Array";return null}function H(W,A,b){A=W.createShader(A);W.shaderSource(A,b);W.compileShader(A);return A}function t(W,A,b,e){var D=H(W,W.VERTEX_SHADER,A),da=H(W,W.FRAGMENT_SHADER,b),
la=W.createProgram();W.attachShader(la,D);W.attachShader(la,da);if(e)for(var va in e)W.bindAttribLocation(la,e[va],va);W.linkProgram(la);W.getProgramParameter(la,W.LINK_STATUS)||(W.getShaderParameter(D,W.COMPILE_STATUS)||(console.warn(A),console.error(W.getShaderInfoLog(D))),W.getShaderParameter(da,W.COMPILE_STATUS)||(console.warn(b),console.error(W.getShaderInfoLog(da))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",W.getProgramParameter(la,W.VALIDATE_STATUS)),
console.error("gl.getError()",W.getError()),""!==W.getProgramInfoLog(la)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",W.getProgramInfoLog(la)),W.deleteProgram(la),la=null);W.deleteShader(D);W.deleteShader(da);return la}function v(W){W=Array(W);for(var A=0;A<W.length;A++)W[A]=!1;return W}function C(W,A){switch(W){case "float":return 0;case "vec2":return new Float32Array(2*A);case "vec3":return new Float32Array(3*A);case "vec4":return new Float32Array(4*A);case "int":case "sampler2D":case "sampler2DArray":return 0;
case "ivec2":return new Int32Array(2*A);case "ivec3":return new Int32Array(3*A);case "ivec4":return new Int32Array(4*A);case "bool":return!1;case "bvec2":return v(2*A);case "bvec3":return v(3*A);case "bvec4":return v(4*A);case "mat2":return new Float32Array([1,0,0,1]);case "mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case "mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function L(){if(na===T||na&&na.isContextLost()){var W=document.createElement("canvas"),A=void 0;
q.settings.PREFER_ENV>=z.ENV.WEBGL2&&(A=W.getContext("webgl2",{}));A||((A=W.getContext("webgl",{})||W.getContext("experimental-webgl",{}))?A.getExtension("WEBGL_draw_buffers"):A=null);na=A}return na}function F(W,A,b){if("precision"!==W.substring(0,9)){var e=A;A===z.PRECISION.HIGH&&b!==z.PRECISION.HIGH&&(e=z.PRECISION.MEDIUM);return"precision "+e+" float;\n"+W}return b!==z.PRECISION.HIGH&&"precision highp"===W.substring(0,15)?W.replace("precision highp","precision mediump"):W}function n(W,A){if(!oa){var b=
Object.keys(w);oa={};for(var e=0;e<b.length;++e){var D=b[e];oa[W[D]]=w[D]}}return oa[A]}function u(W,A){if(0===W)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var b=A.createShader(A.FRAGMENT_SHADER);;){for(var e="precision mediump float;\nvoid main(void){\nfloat test \x3d 0.1;\n%forloop%\ngl_FragColor \x3d vec4(0.0);\n}".replace,D="",da=0;da<W;++da)0<da&&(D+="\nelse "),da<W-1&&(D+="if(test \x3d\x3d "+da+".0){}");e=e.call("precision mediump float;\nvoid main(void){\nfloat test \x3d 0.1;\n%forloop%\ngl_FragColor \x3d vec4(0.0);\n}",
/%forloop%/gi,D);A.shaderSource(b,e);A.compileShader(b);if(A.getShaderParameter(b,A.COMPILE_STATUS))break;else W=W/2|0}return W}Object.defineProperty(Y,"__esModule",{value:!0});var q=pa(2),z=pa(3),I=pa(12),P=pa(13),m=pa(14),k=pa(15);q.settings.PREFER_ENV=I.isMobile.any?z.ENV.WEBGL:z.ENV.WEBGL2;q.settings.STRICT_TEXTURE_CACHE=!1;var h=[],r=function(W,A){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,e){b.__proto__=e}||function(b,e){for(var D in e)e.hasOwnProperty(D)&&(b[D]=e[D])};
return r(W,A)},l=function(){function W(A,b){void 0===A&&(A=0);void 0===b&&(b=0);this._width=A;this._height=b;this.internal=this.destroyed=!1;this.onResize=new P.Runner("setRealSize");this.onUpdate=new P.Runner("update");this.onError=new P.Runner("onError")}W.prototype.bind=function(A){this.onResize.add(A);this.onUpdate.add(A);this.onError.add(A);(this._width||this._height)&&this.onResize.emit(this._width,this._height)};W.prototype.unbind=function(A){this.onResize.remove(A);this.onUpdate.remove(A);
this.onError.remove(A)};W.prototype.resize=function(A,b){if(A!==this._width||b!==this._height)this._width=A,this._height=b,this.onResize.emit(A,b)};Object.defineProperty(W.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0});W.prototype.update=function(){this.destroyed||this.onUpdate.emit()};W.prototype.load=function(){return Promise.resolve(this)};Object.defineProperty(W.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0});
Object.defineProperty(W.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0});W.prototype.style=function(A,b,e){return!1};W.prototype.dispose=function(){};W.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)};W.test=function(A,b){return!1};return W}(),J=function(W){function A(b,e){var D=e||{};e=D.width;D=
D.height;if(!e||!D)throw Error("BufferResource width or height invalid");e=W.call(this,e,D)||this;e.data=b;return e}y(A,W);A.prototype.upload=function(b,e,D){b=b.gl;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===z.ALPHA_MODES.UNPACK);D.width===e.width&&D.height===e.height?b.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(D.width=e.width,D.height=e.height,b.texImage2D(e.target,0,D.internalFormat,e.width,e.height,0,e.format,D.type,this.data));return!0};A.prototype.dispose=
function(){this.data=null};A.test=function(b){return b instanceof Float32Array||b instanceof Uint8Array||b instanceof Uint32Array};return A}(l),p={scaleMode:z.SCALE_MODES.NEAREST,format:z.FORMATS.RGBA,alphaMode:z.ALPHA_MODES.NPM},G=function(W){function A(b,e){void 0===b&&(b=null);void 0===e&&(e=null);var D=W.call(this)||this;e=e||{};var da=e.alphaMode,la=e.mipmap,va=e.anisotropicLevel,Aa=e.scaleMode,La=e.width,Qa=e.height,Ta=e.wrapMode,Ya=e.format,Sa=e.type,db=e.target,jb=e.resolution,pb=e.resourceOptions;
!b||b instanceof l||(b=N(b,pb),b.internal=!0);D.width=La||0;D.height=Qa||0;D.resolution=jb||q.settings.RESOLUTION;D.mipmap=void 0!==la?la:q.settings.MIPMAP_TEXTURES;D.anisotropicLevel=void 0!==va?va:q.settings.ANISOTROPIC_LEVEL;D.wrapMode=Ta||q.settings.WRAP_MODE;D.scaleMode=void 0!==Aa?Aa:q.settings.SCALE_MODE;D.format=Ya||z.FORMATS.RGBA;D.type=Sa||z.TYPES.UNSIGNED_BYTE;D.target=db||z.TARGETS.TEXTURE_2D;D.alphaMode=void 0!==da?da:z.ALPHA_MODES.UNPACK;void 0!==e.premultiplyAlpha&&(D.premultiplyAlpha=
e.premultiplyAlpha);D.uid=I.uid();D.touched=0;D.isPowerOfTwo=!1;D._refreshPOT();D._glTextures={};D.dirtyId=0;D.dirtyStyleId=0;D.cacheId=null;D.valid=0<La&&0<Qa;D.textureCacheIds=[];D.destroyed=!1;D.resource=null;D._batchEnabled=0;D._batchLocation=0;D.parentTextureArray=null;D.setResource(b);return D}y(A,W);Object.defineProperty(A.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1E-4)},enumerable:!1,configurable:!0});Object.defineProperty(A.prototype,"realHeight",{get:function(){return Math.ceil(this.height*
this.resolution-1E-4)},enumerable:!1,configurable:!0});A.prototype.setStyle=function(b,e){if(void 0!==b&&b!==this.scaleMode){this.scaleMode=b;var D=!0}void 0!==e&&e!==this.mipmap&&(this.mipmap=e,D=!0);D&&this.dirtyStyleId++;return this};A.prototype.setSize=function(b,e,D){this.resolution=D||this.resolution;this.width=b;this.height=e;this._refreshPOT();this.update();return this};A.prototype.setRealSize=function(b,e,D){this.resolution=D||this.resolution;this.width=b/this.resolution;this.height=e/this.resolution;
this._refreshPOT();this.update();return this};A.prototype._refreshPOT=function(){this.isPowerOfTwo=I.isPow2(this.realWidth)&&I.isPow2(this.realHeight)};A.prototype.setResolution=function(b){var e=this.resolution;if(e===b)return this;this.resolution=b;this.valid&&(this.width=this.width*e/b,this.height=this.height*e/b,this.emit("update",this));this._refreshPOT();return this};A.prototype.setResource=function(b){if(this.resource===b)return this;if(this.resource)throw Error("Resource can be set only once");
b.bind(this);this.resource=b;return this};A.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))};A.prototype.onError=function(b){this.emit("error",this,b)};A.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null);this.cacheId&&(delete I.BaseTextureCache[this.cacheId],delete I.TextureCache[this.cacheId],
this.cacheId=null);this.dispose();A.removeFromCache(this);this.textureCacheIds=null;this.destroyed=!0};A.prototype.dispose=function(){this.emit("dispose",this)};A.prototype.castToBaseTexture=function(){return this};A.from=function(b,e,D){void 0===D&&(D=q.settings.STRICT_TEXTURE_CACHE);var da="string"===typeof b;if(da)var la=b;else b._pixiId||(b._pixiId="pixiid_"+I.uid()),la=b._pixiId;var va=I.BaseTextureCache[la];if(da&&D&&!va)throw Error('The cacheId "'+la+'" does not exist in BaseTextureCache.');
va||(va=new A(b,e),va.cacheId=la,A.addToCache(va,la));return va};A.fromBuffer=function(b,e,D,da){b=b||new Float32Array(e*D*4);var la=new J(b,{width:e,height:D});b=b instanceof Float32Array?z.TYPES.FLOAT:z.TYPES.UNSIGNED_BYTE;return new A(la,Object.assign(p,da||{width:e,height:D,type:b}))};A.addToCache=function(b,e){e&&(-1===b.textureCacheIds.indexOf(e)&&b.textureCacheIds.push(e),I.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),I.BaseTextureCache[e]=
b)};A.removeFromCache=function(b){if("string"===typeof b){var e=I.BaseTextureCache[b];if(e){var D=e.textureCacheIds.indexOf(b);-1<D&&e.textureCacheIds.splice(D,1);delete I.BaseTextureCache[b];return e}}else if(b&&b.textureCacheIds){for(e=0;e<b.textureCacheIds.length;++e)delete I.BaseTextureCache[b.textureCacheIds[e]];b.textureCacheIds.length=0;return b}return null};A._globalBatch=0;return A}(I.EventEmitter),R=function(W){function A(b,e){e=e||{};e=W.call(this,e.width,e.height)||this;e.items=[];e.itemDirtyIds=
[];for(var D=0;D<b;D++){var da=new G;e.items.push(da);e.itemDirtyIds.push(-2)}e.length=b;e._load=null;e.baseTexture=null;return e}y(A,W);A.prototype.initFromArray=function(b,e){for(var D=0;D<this.length;D++)b[D]&&(b[D].castToBaseTexture?this.addBaseTextureAt(b[D].castToBaseTexture(),D):b[D]instanceof l?this.addResourceAt(b[D],D):this.addResourceAt(N(b[D],e),D))};A.prototype.dispose=function(){for(var b=0,e=this.length;b<e;b++)this.items[b].destroy();this._load=this.itemDirtyIds=this.items=null};A.prototype.addResourceAt=
function(b,e){if(!this.items[e])throw Error("Index "+e+" is out of bounds");b.valid&&!this.valid&&this.resize(b.width,b.height);this.items[e].setResource(b);return this};A.prototype.bind=function(b){if(null!==this.baseTexture)throw Error("Only one base texture per TextureArray is allowed");W.prototype.bind.call(this,b);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=b,this.items[e].on("update",b.update,b)};A.prototype.unbind=function(b){W.prototype.unbind.call(this,b);for(var e=0;e<
this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",b.update,b)};A.prototype.load=function(){var b=this;if(this._load)return this._load;var e=this.items.map(function(D){return D.resource}).filter(function(D){return D}).map(function(D){return D.load()});return this._load=Promise.all(e).then(function(){var D=b.items[0];b.resize(D.realWidth,D.realHeight);return Promise.resolve(b)})};return A}(l),aa=function(W){function A(b,e){var D=e||{};var da=D.width;D=D.height;if(Array.isArray(b)){var la=
b;b=b.length}da=W.call(this,b,{width:da,height:D})||this;la&&da.initFromArray(la,e);return da}y(A,W);A.prototype.addBaseTextureAt=function(b,e){if(b.resource)this.addResourceAt(b.resource,e);else throw Error("ArrayResource does not support RenderTexture");return this};A.prototype.bind=function(b){W.prototype.bind.call(this,b);b.target=z.TARGETS.TEXTURE_2D_ARRAY};A.prototype.upload=function(b,e,D){var da=this.length,la=this.itemDirtyIds,va=this.items;b=b.gl;0>D.dirtyId&&b.texImage3D(b.TEXTURE_2D_ARRAY,
0,e.format,this._width,this._height,da,0,e.format,e.type,null);for(D=0;D<da;D++){var Aa=va[D];la[D]<Aa.dirtyId&&(la[D]=Aa.dirtyId,Aa.valid&&b.texSubImage3D(b.TEXTURE_2D_ARRAY,0,0,0,D,Aa.resource.width,Aa.resource.height,1,e.format,e.type,Aa.resource.source))}return!0};return A}(R),ka=function(W){function A(b){var e=W.call(this,b.naturalWidth||b.videoWidth||b.width,b.naturalHeight||b.videoHeight||b.height)||this;e.source=b;e.noSubImage=!1;return e}y(A,W);A.crossOrigin=function(b,e,D){void 0===D&&0!==
e.indexOf("data:")?b.crossOrigin=I.determineCrossOrigin(e):!1!==D&&(b.crossOrigin="string"===typeof D?D:"anonymous")};A.prototype.upload=function(b,e,D,da){b=b.gl;var la=e.realWidth,va=e.realHeight;da=da||this.source;b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===z.ALPHA_MODES.UNPACK);this.noSubImage||e.target!==b.TEXTURE_2D||D.width!==la||D.height!==va?(D.width=la,D.height=va,b.texImage2D(e.target,0,e.format,e.format,e.type,da)):b.texSubImage2D(b.TEXTURE_2D,0,0,0,e.format,e.type,da);
return!0};A.prototype.update=function(){if(!this.destroyed){var b=this.source;this.resize(b.naturalWidth||b.videoWidth||b.width,b.naturalHeight||b.videoHeight||b.height);W.prototype.update.call(this)}};A.prototype.dispose=function(){this.source=null};return A}(l),ua=function(W){function A(){return null!==W&&W.apply(this,arguments)||this}y(A,W);A.test=function(b){var e=window.OffscreenCanvas;return e&&b instanceof e?!0:b instanceof HTMLCanvasElement};return A}(ka),ea=function(W){function A(b,e){var D=
e||{};var da=D.width;var la=D.height,va=D.autoLoad;D=D.linkBaseTexture;if(b&&b.length!==A.SIDES)throw Error("Invalid length. Got "+b.length+", expected 6");da=W.call(this,6,{width:da,height:la})||this;for(la=0;la<A.SIDES;la++)da.items[la].target=z.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+la;da.linkBaseTexture=!1!==D;b&&da.initFromArray(b,e);!1!==va&&da.load();return da}y(A,W);A.prototype.bind=function(b){W.prototype.bind.call(this,b);b.target=z.TARGETS.TEXTURE_CUBE_MAP};A.prototype.addBaseTextureAt=function(b,
e,D){if(!this.items[e])throw Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||b.parentTextureArray||0<Object.keys(b._glTextures).length)if(b.resource)this.addResourceAt(b.resource,e);else throw Error("CubeResource does not support copying of renderTexture.");else b.target=z.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e,b.parentTextureArray=this.baseTexture,this.items[e]=b;b.valid&&!this.valid&&this.resize(b.realWidth,b.realHeight);this.items[e]=b;return this};A.prototype.upload=function(b,
e,D){for(var da=this.itemDirtyIds,la=0;la<A.SIDES;la++){var va=this.items[la];da[la]<va.dirtyId&&(va.valid&&va.resource?(va.resource.upload(b,va,D),da[la]=va.dirtyId):-1>da[la]&&(b.gl.texImage2D(va.target,0,D.internalFormat,e.realWidth,e.realHeight,0,e.format,D.type,null),da[la]=-1))}return!0};A.test=function(b){return Array.isArray(b)&&b.length===A.SIDES};A.SIDES=6;return A}(R),xa=function(W){function A(b,e){e=e||{};if(!(b instanceof HTMLImageElement)){var D=new Image;ka.crossOrigin(D,b,e.crossorigin);
D.src=b;b=D}D=W.call(this,b)||this;!b.complete&&D._width&&D._height&&(D._width=0,D._height=0);D.url=b.src;D._process=null;D.preserveBitmap=!1;D.createBitmap=(void 0!==e.createBitmap?e.createBitmap:q.settings.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap;D.alphaMode="number"===typeof e.alphaMode?e.alphaMode:null;void 0!==e.premultiplyAlpha&&(D.premultiplyAlpha=e.premultiplyAlpha);D.bitmap=null;D._load=null;!1!==e.autoLoad&&D.load();return D}y(A,W);A.prototype.load=function(b){var e=this;if(this._load)return this._load;
void 0!==b&&(this.createBitmap=b);return this._load=new Promise(function(D,da){var la=e.source;e.url=la.src;var va=function(){e.destroyed||(la.onload=null,la.onerror=null,e.resize(la.width,la.height),e._load=null,e.createBitmap?D(e.process()):D(e))};la.complete&&la.src?va():(la.onload=va,la.onerror=function(Aa){da(Aa);e.onError.emit(Aa)})})};A.prototype.process=function(){var b=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?this._process=
window.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===z.ALPHA_MODES.UNPACK?"premultiply":"none"}).then(function(D){if(b.destroyed)return Promise.reject();b.bitmap=D;b.update();b._process=null;return Promise.resolve(b)}):Promise.resolve(this)};A.prototype.upload=function(b,e,D){"number"===typeof this.alphaMode&&(e.alphaMode=this.alphaMode);if(!this.createBitmap)return W.prototype.upload.call(this,b,e,D);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;W.prototype.upload.call(this,
b,e,D,this.bitmap);if(!this.preserveBitmap){b=!0;var da=e._glTextures,la;for(la in da){var va=da[la];if(va!==D&&va.dirtyId!==e.dirtyId){b=!1;break}}b&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0};A.prototype.dispose=function(){this.source.onload=null;this.source.onerror=null;W.prototype.dispose.call(this);this.bitmap&&(this.bitmap.close(),this.bitmap=null);this._load=this._process=null};A.test=function(b){return"string"===typeof b||b instanceof HTMLImageElement};return A}(ka),
ba=function(W){function A(b,e){e=e||{};var D=W.call(this,document.createElement("canvas"))||this;D._width=0;D._height=0;D.svg=b;D.scale=e.scale||1;D._overrideWidth=e.width;D._overrideHeight=e.height;D._resolve=null;D._crossorigin=e.crossorigin;D._load=null;!1!==e.autoLoad&&D.load();return D}y(A,W);A.prototype.load=function(){var b=this;return this._load?this._load:this._load=new Promise(function(e){b._resolve=function(){b.resize(b.source.width,b.source.height);e(b)};if(/^<svg/.test(b.svg.trim())){if(!btoa)throw Error("Your browser doesn't support base64 conversions.");
b.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(b.svg)))}b._loadSvg()})};A.prototype._loadSvg=function(){var b=this,e=new Image;ka.crossOrigin(e,this.svg,this._crossorigin);e.src=this.svg;e.onerror=function(D){b._resolve&&(e.onerror=null,b.onError.emit(D))};e.onload=function(){if(b._resolve){var D=e.width,da=e.height;if(!D||!da)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var la=D*b.scale,va=da*b.scale;if(b._overrideWidth||
b._overrideHeight)la=b._overrideWidth||b._overrideHeight/da*D,va=b._overrideHeight||b._overrideWidth/D*da;la=Math.round(la);va=Math.round(va);var Aa=b.source;Aa.width=la;Aa.height=va;Aa._pixiId="canvas_"+I.uid();Aa.getContext("2d").drawImage(e,0,0,D,da,0,0,la,va);b._resolve();b._resolve=null}}};A.getSize=function(b){b=A.SVG_SIZE.exec(b);var e={};b&&(e[b[1]]=Math.round(parseFloat(b[3])),e[b[5]]=Math.round(parseFloat(b[7])));return e};A.prototype.dispose=function(){W.prototype.dispose.call(this);this._crossorigin=
this._resolve=null};A.test=function(b,e){return"svg"===e||"string"===typeof b&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(b)||"string"===typeof b&&0===b.indexOf("\x3csvg")};A.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;return A}(ka),fa=function(W){function A(b,e){e=e||{};if(!(b instanceof HTMLVideoElement)){var D=document.createElement("video");D.setAttribute("preload","auto");D.setAttribute("webkit-playsinline",
"");D.setAttribute("playsinline","");"string"===typeof b&&(b=[b]);ka.crossOrigin(D,b[0].src||b[0],e.crossorigin);for(var da=0;da<b.length;++da){var la=document.createElement("source"),va=b[da],Aa=va.src;va=va.mime;Aa=Aa||b[da];var La=Aa.split("?").shift().toLowerCase();La=La.substr(La.lastIndexOf(".")+1);va=va||A.MIME_TYPES[La]||"video/"+La;la.src=Aa;la.type=va;D.appendChild(la)}b=D}b=W.call(this,b)||this;b.noSubImage=!0;b._autoUpdate=!0;b._isConnectedToTicker=!1;b._updateFPS=e.updateFPS||0;b._msToNextUpdate=
0;b.autoPlay=!1!==e.autoPlay;b._load=null;b._resolve=null;b._onCanPlay=b._onCanPlay.bind(b);b._onError=b._onError.bind(b);!1!==e.autoLoad&&b.load();return b}y(A,W);A.prototype.update=function(b){!this.destroyed&&(this._msToNextUpdate=Math.floor(this._msToNextUpdate-m.Ticker.shared.elapsedMS*this.source.playbackRate),!this._updateFPS||0>=this._msToNextUpdate)&&(W.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1E3/this._updateFPS):0)};A.prototype.load=function(){var b=this;
if(this._load)return this._load;var e=this.source;(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0);e.addEventListener("play",this._onPlayStart.bind(this));e.addEventListener("pause",this._onPlayStop.bind(this));this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0));return this._load=new Promise(function(D){b.valid?
D(b):(b._resolve=D,e.load())})};A.prototype._onError=function(b){this.source.removeEventListener("error",this._onError,!0);this.onError.emit(b)};A.prototype._isSourcePlaying=function(){var b=this.source;return 0<b.currentTime&&!1===b.paused&&!1===b.ended&&2<b.readyState};A.prototype._isSourceReady=function(){var b=this.source;return 3===b.readyState||4===b.readyState};A.prototype._onPlayStart=function(){this.valid||this._onCanPlay();this.autoUpdate&&!this._isConnectedToTicker&&(m.Ticker.shared.add(this.update,
this),this._isConnectedToTicker=!0)};A.prototype._onPlayStop=function(){this._isConnectedToTicker&&(m.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)};A.prototype._onCanPlay=function(){var b=this.source;b.removeEventListener("canplay",this._onCanPlay);b.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(b.videoWidth,b.videoHeight);!e&&this._resolve&&(this._resolve(this),this._resolve=null);this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&
b.play()};A.prototype.dispose=function(){this._isConnectedToTicker&&m.Ticker.shared.remove(this.update,this);var b=this.source;b&&(b.removeEventListener("error",this._onError,!0),b.pause(),b.src="",b.load());W.prototype.dispose.call(this)};Object.defineProperty(A.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(b){b!==this._autoUpdate&&(this._autoUpdate=b,!this._autoUpdate&&this._isConnectedToTicker?(m.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):
this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(m.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0});Object.defineProperty(A.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(b){b!==this._updateFPS&&(this._updateFPS=b)},enumerable:!1,configurable:!0});A.test=function(b,e){return b instanceof HTMLVideoElement||-1<A.TYPES.indexOf(e)};A.TYPES="mp4 m4v webm ogg ogv h264 avi mov".split(" ");A.MIME_TYPES={ogv:"video/ogg",
mov:"video/quicktime",m4v:"video/mp4"};return A}(ka),K=function(W){function A(){return null!==W&&W.apply(this,arguments)||this}y(A,W);A.test=function(b){return!!window.createImageBitmap&&b instanceof ImageBitmap};return A}(ka);h.push(xa,K,ua,fa,ba,J,ea,aa);var V={Resource:l,BaseImageResource:ka,INSTALLED:h,autoDetectResource:N,AbstractMultiResource:R,ArrayResource:aa,BufferResource:J,CanvasResource:ua,CubeResource:ea,ImageResource:xa,SVGResource:ba,VideoResource:fa,ImageBitmapResource:K},ca=function(){function W(A){this.renderer=
A}W.prototype.destroy=function(){this.renderer=null};return W}(),Z=function(W){function A(){return null!==W&&W.apply(this,arguments)||this}y(A,W);A.prototype.upload=function(b,e,D){var da=b.gl;da.pixelStorei(da.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===z.ALPHA_MODES.UNPACK);D.width===e.width&&D.height===e.height?da.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(D.width=e.width,D.height=e.height,da.texImage2D(e.target,0,1===b.context.webGLVersion?da.DEPTH_COMPONENT:da.DEPTH_COMPONENT16,
e.width,e.height,0,e.format,e.type,this.data));return!0};return A}(J),ma=function(){function W(A,b){this.width=Math.ceil(A||100);this.height=Math.ceil(b||100);this.depth=this.stencil=!1;this.dirtySize=this.dirtyFormat=this.dirtyId=0;this.depthTexture=null;this.colorTextures=[];this.glFramebuffers={};this.disposeRunner=new P.Runner("disposeFramebuffer");this.multisample=z.MSAA_QUALITY.NONE}Object.defineProperty(W.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,
configurable:!0});W.prototype.addColorTexture=function(A,b){void 0===A&&(A=0);this.colorTextures[A]=b||new G(null,{scaleMode:z.SCALE_MODES.NEAREST,resolution:1,mipmap:z.MIPMAP_MODES.OFF,width:this.width,height:this.height});this.dirtyId++;this.dirtyFormat++;return this};W.prototype.addDepthTexture=function(A){this.depthTexture=A||new G(new Z(null,{width:this.width,height:this.height}),{scaleMode:z.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:z.MIPMAP_MODES.OFF,format:z.FORMATS.DEPTH_COMPONENT,
type:z.TYPES.UNSIGNED_SHORT});this.dirtyId++;this.dirtyFormat++;return this};W.prototype.enableDepth=function(){this.depth=!0;this.dirtyId++;this.dirtyFormat++;return this};W.prototype.enableStencil=function(){this.stencil=!0;this.dirtyId++;this.dirtyFormat++;return this};W.prototype.resize=function(A,b){A=Math.ceil(A);b=Math.ceil(b);if(A!==this.width||b!==this.height){this.width=A;this.height=b;this.dirtyId++;this.dirtySize++;for(var e=0;e<this.colorTextures.length;e++){var D=this.colorTextures[e],
da=D.resolution;D.setSize(A/da,b/da)}this.depthTexture&&(da=this.depthTexture.resolution,this.depthTexture.setSize(A/da,b/da))}};W.prototype.dispose=function(){this.disposeRunner.emit(this,!1)};W.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)};return W}(),sa=function(W){function A(b,e,D,da){"number"===typeof b&&(b={width:b,height:e,scaleMode:D,resolution:da});e=W.call(this,null,b)||this;D=b||{};b=D.width;
D=D.height;e.mipmap=0;e.width=Math.ceil(b)||100;e.height=Math.ceil(D)||100;e.valid=!0;e.clearColor=[0,0,0,0];e.framebuffer=(new ma(e.width*e.resolution,e.height*e.resolution)).addColorTexture(0,e);e.maskStack=[];e.filterStack=[{}];return e}y(A,W);A.prototype.resize=function(b,e){b=Math.ceil(b);e=Math.ceil(e);this.framebuffer.resize(b*this.resolution,e*this.resolution)};A.prototype.dispose=function(){this.framebuffer.dispose();W.prototype.dispose.call(this)};A.prototype.destroy=function(){W.prototype.destroy.call(this);
this.framebuffer.destroyDepthTexture();this.framebuffer=null};return A}(G),qa=function(){function W(){this.y0=this.x0=0;this.x1=1;this.y1=0;this.y2=this.x2=1;this.x3=0;this.y3=1;this.uvsFloat32=new Float32Array(8)}W.prototype.set=function(A,b,e){var D=b.width,da=b.height;if(e){b=A.width/2/D;var la=A.height/2/da;D=A.x/D+b;A=A.y/da+la;e=k.groupD8.add(e,k.groupD8.NW);this.x0=D+b*k.groupD8.uX(e);this.y0=A+la*k.groupD8.uY(e);e=k.groupD8.add(e,2);this.x1=D+b*k.groupD8.uX(e);this.y1=A+la*k.groupD8.uY(e);
e=k.groupD8.add(e,2);this.x2=D+b*k.groupD8.uX(e);this.y2=A+la*k.groupD8.uY(e);e=k.groupD8.add(e,2);this.x3=D+b*k.groupD8.uX(e);this.y3=A+la*k.groupD8.uY(e)}else this.x0=A.x/D,this.y0=A.y/da,this.x1=(A.x+A.width)/D,this.y1=A.y/da,this.x2=(A.x+A.width)/D,this.y2=(A.y+A.height)/da,this.x3=A.x/D,this.y3=(A.y+A.height)/da;this.uvsFloat32[0]=this.x0;this.uvsFloat32[1]=this.y0;this.uvsFloat32[2]=this.x1;this.uvsFloat32[3]=this.y1;this.uvsFloat32[4]=this.x2;this.uvsFloat32[5]=this.y2;this.uvsFloat32[6]=this.x3;
this.uvsFloat32[7]=this.y3};return W}(),Ca=new qa,wa=function(W){function A(b,e,D,da,la,va){var Aa=W.call(this)||this;Aa.noFrame=!1;e||(Aa.noFrame=!0,e=new k.Rectangle(0,0,1,1));b instanceof A&&(b=b.baseTexture);Aa.baseTexture=b;Aa._frame=e;Aa.trim=da;Aa.valid=!1;Aa._uvs=Ca;Aa.uvMatrix=null;Aa.orig=D||e;Aa._rotate=Number(la||0);if(!0===la)Aa._rotate=2;else if(0!==Aa._rotate%2)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");Aa.defaultAnchor=va?new k.Point(va.x,
va.y):new k.Point(0,0);Aa._updateID=0;Aa.textureCacheIds=[];if(b.valid)if(Aa.noFrame){if(b.valid)Aa.onBaseTextureUpdated(b)}else Aa.frame=e;else b.once("loaded",Aa.onBaseTextureUpdated,Aa);if(Aa.noFrame)b.on("update",Aa.onBaseTextureUpdated,Aa);return Aa}y(A,W);A.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()};A.prototype.onBaseTextureUpdated=function(b){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=b.width;this._frame.height=b.height;
this.valid=!0;this.updateUvs()}else this.frame=this._frame;this.emit("update",this)};A.prototype.destroy=function(b){this.baseTexture&&(b&&((b=this.baseTexture)&&b.url&&I.TextureCache[b.url]&&A.removeFromCache(b.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null);this.orig=this.trim=this._uvs=this._frame=null;this.valid=!1;A.removeFromCache(this);this.textureCacheIds=null};
A.prototype.clone=function(){return new A(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)};A.prototype.updateUvs=function(){this._uvs===Ca&&(this._uvs=new qa);this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};A.from=function(b,e,D){void 0===e&&(e={});void 0===D&&(D=q.settings.STRICT_TEXTURE_CACHE);var da="string"===typeof b;if(da)var la=b;else b._pixiId||(b._pixiId="pixiid_"+I.uid()),la=b._pixiId;var va=I.TextureCache[la];
if(da&&D&&!va)throw Error('The cacheId "'+la+'" does not exist in TextureCache.');va||(e.resolution||(e.resolution=I.getResolutionOfUrl(b)),va=new A(new G(b,e)),va.baseTexture.cacheId=la,G.addToCache(va.baseTexture,la),A.addToCache(va,la));return va};A.fromURL=function(b,e){var D=Object.assign({autoLoad:!1},null===e||void 0===e?void 0:e.resourceOptions),da=A.from(b,Object.assign({resourceOptions:D},e),!1);b=da.baseTexture.resource;return da.baseTexture.valid?Promise.resolve(da):b.load().then(function(){return Promise.resolve(da)})};
A.fromBuffer=function(b,e,D,da){return new A(G.fromBuffer(b,e,D,da))};A.fromLoader=function(b,e,D){b=new xa(b);b.url=e;b=new G(b,{scaleMode:q.settings.SCALE_MODE,resolution:I.getResolutionOfUrl(e)});b=new A(b);D||(D=e);G.addToCache(b.baseTexture,D);A.addToCache(b,D);D!==e&&(G.addToCache(b.baseTexture,e),A.addToCache(b,e));return b};A.addToCache=function(b,e){e&&(-1===b.textureCacheIds.indexOf(e)&&b.textureCacheIds.push(e),I.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+
"] that already had an entry"),I.TextureCache[e]=b)};A.removeFromCache=function(b){if("string"===typeof b){var e=I.TextureCache[b];if(e){var D=e.textureCacheIds.indexOf(b);-1<D&&e.textureCacheIds.splice(D,1);delete I.TextureCache[b];return e}}else if(b&&b.textureCacheIds){for(e=0;e<b.textureCacheIds.length;++e)I.TextureCache[b.textureCacheIds[e]]===b&&delete I.TextureCache[b.textureCacheIds[e]];b.textureCacheIds.length=0;return b}return null};Object.defineProperty(A.prototype,"resolution",{get:function(){return this.baseTexture.resolution},
enumerable:!1,configurable:!0});Object.defineProperty(A.prototype,"frame",{get:function(){return this._frame},set:function(b){this._frame=b;this.noFrame=!1;var e=b.x,D=b.y,da=b.width,la=b.height,va=e+da>this.baseTexture.width,Aa=D+la>this.baseTexture.height;if(va||Aa)throw Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+(e+" + "+da+" \x3d "+(e+da)+" \x3e "+this.baseTexture.width+" "+(va&&Aa?"and":"or")+" Y: "+(D+" + "+la+" \x3d "+(D+la)+" \x3e "+this.baseTexture.height)));
this.valid=da&&la&&this.baseTexture.valid;this.trim||this.rotate||(this.orig=b);this.valid&&this.updateUvs()},enumerable:!1,configurable:!0});Object.defineProperty(A.prototype,"rotate",{get:function(){return this._rotate},set:function(b){this._rotate=b;this.valid&&this.updateUvs()},enumerable:!1,configurable:!0});Object.defineProperty(A.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0});Object.defineProperty(A.prototype,"height",{get:function(){return this.orig.height},
enumerable:!1,configurable:!0});A.prototype.castToBaseTexture=function(){return this.baseTexture};return A}(I.EventEmitter);wa.EMPTY=new wa(new G);E(wa.EMPTY);E(wa.EMPTY.baseTexture);wa.WHITE=function(){var W=document.createElement("canvas");W.width=16;W.height=16;var A=W.getContext("2d");A.fillStyle="white";A.fillRect(0,0,16,16);return new wa(new G(new ua(W)))}();E(wa.WHITE);E(wa.WHITE.baseTexture);var za=function(W){function A(b,e,D,da,la){var va=null;if(!(b instanceof sa)){var Aa=e;console.warn("Please use RenderTexture.create("+
Aa+", "+D+") instead of the ctor directly.");va=b;e=null;b=new sa({width:Aa,height:D,scaleMode:da,resolution:la})}b=W.call(this,b,e)||this;b.legacyRenderer=va;b.valid=!0;b.filterFrame=null;b.filterPoolKey=null;b.updateUvs();return b}y(A,W);Object.defineProperty(A.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0});A.prototype.resize=function(b,e,D){void 0===D&&(D=!0);b=Math.ceil(b);e=Math.ceil(e);this.valid=0<b&&0<e;this._frame.width=this.orig.width=
b;this._frame.height=this.orig.height=e;D&&this.baseTexture.resize(b,e);this.updateUvs()};A.prototype.setResolution=function(b){var e=this.baseTexture;e.resolution!==b&&(e.setResolution(b),this.resize(e.width,e.height,!1))};A.create=function(b,e,D,da){"number"===typeof b&&(b={width:b,height:e,scaleMode:D,resolution:da});return new A(new sa(b))};return A}(wa),Ba=function(){function W(A){this.texturePool={};this.textureOptions=A||{};this.enableFullScreen=!1;this._pixelsHeight=this._pixelsWidth=0}W.prototype.createTexture=
function(A,b){A=new sa(Object.assign({width:A,height:b,resolution:1},this.textureOptions));return new za(A)};W.prototype.getOptimalTexture=function(A,b,e){void 0===e&&(e=1);var D=W.SCREEN_KEY;A*=e;b*=e;this.enableFullScreen&&A===this._pixelsWidth&&b===this._pixelsHeight||(A=I.nextPow2(A),b=I.nextPow2(b),D=(A&65535)<<16|b&65535);this.texturePool[D]||(this.texturePool[D]=[]);var da=this.texturePool[D].pop();da||(da=this.createTexture(A,b));da.filterPoolKey=D;da.setResolution(e);return da};W.prototype.getFilterTexture=
function(A,b){b=this.getOptimalTexture(A.width,A.height,b||A.resolution);b.filterFrame=A.filterFrame;return b};W.prototype.returnTexture=function(A){var b=A.filterPoolKey;A.filterFrame=null;this.texturePool[b].push(A)};W.prototype.returnFilterTexture=function(A){this.returnTexture(A)};W.prototype.clear=function(A){if(!1!==A)for(var b in this.texturePool)if(A=this.texturePool[b])for(var e=0;e<A.length;e++)A[e].destroy(!0);this.texturePool={}};W.prototype.setScreenSize=function(A){if(A.width!==this._pixelsWidth||
A.height!==this._pixelsHeight){var b=W.SCREEN_KEY,e=this.texturePool[b];this.enableFullScreen=0<A.width&&0<A.height;if(e)for(var D=0;D<e.length;D++)e[D].destroy(!0);this.texturePool[b]=[];this._pixelsWidth=A.width;this._pixelsHeight=A.height}};W.SCREEN_KEY="screen";return W}(),Ga=function(){function W(A,b,e,D,da,la,va){void 0===b&&(b=0);void 0===e&&(e=!1);void 0===D&&(D=5126);this.buffer=A;this.size=b;this.normalized=e;this.type=D;this.stride=da;this.start=la;this.instance=va}W.prototype.destroy=
function(){this.buffer=null};W.from=function(A,b,e,D,da){return new W(A,b,e,D,da)};return W}(),Da=0,Ka=function(){function W(A,b,e){void 0===b&&(b=!0);void 0===e&&(e=!1);this.data=A||new Float32Array(1);this._glBuffers={};this._updateID=0;this.index=e;this.static=b;this.id=Da++;this.disposeRunner=new P.Runner("disposeBuffer")}W.prototype.update=function(A){this.data=A||this.data;this._updateID++};W.prototype.dispose=function(){this.disposeRunner.emit(this,!1)};W.prototype.destroy=function(){this.dispose();
this.data=null};W.from=function(A){A instanceof Array&&(A=new Float32Array(A));return new W(A)};return W}(),Oa={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},Pa={5126:4,5123:2,5121:1},Fa=0,Ma={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Wa=function(){function W(A,b){void 0===A&&(A=[]);void 0===b&&(b={});this.buffers=A;this.indexBuffer=null;this.attributes=b;this.glVertexArrayObjects=
{};this.id=Fa++;this.instanced=!1;this.instanceCount=1;this.disposeRunner=new P.Runner("disposeGeometry");this.refCount=0}W.prototype.addAttribute=function(A,b,e,D,da,la,va,Aa){void 0===e&&(e=0);void 0===D&&(D=!1);void 0===Aa&&(Aa=!1);if(!b)throw Error("You must pass a buffer when creating an attribute");b instanceof Ka||(b instanceof Array&&(b=new Float32Array(b)),b=new Ka(b));var La=A.split("|");if(1<La.length){for(A=0;A<La.length;A++)this.addAttribute(La[A],b,e,D,da);return this}La=this.buffers.indexOf(b);
-1===La&&(this.buffers.push(b),La=this.buffers.length-1);this.attributes[A]=new Ga(La,e,D,da,la,va,Aa);this.instanced=this.instanced||Aa;return this};W.prototype.getAttribute=function(A){return this.attributes[A]};W.prototype.getBuffer=function(A){return this.buffers[this.getAttribute(A).buffer]};W.prototype.addIndex=function(A){A instanceof Ka||(A instanceof Array&&(A=new Uint16Array(A)),A=new Ka(A));A.index=!0;this.indexBuffer=A;-1===this.buffers.indexOf(A)&&this.buffers.push(A);return this};W.prototype.getIndex=
function(){return this.indexBuffer};W.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var A=[],b=[],e=new Ka;for(la in this.attributes){var D=this.attributes[la];A.push(this.buffers[D.buffer].data);b.push(D.size*Pa[D.type]/4);D.buffer=0}var da=0;var la=0;D={};for(var va=0;va<A.length;va++)la+=b[va],da+=A[va].length;da=new ArrayBuffer(4*da);var Aa=0;for(va=0;va<A.length;va++){var La=b[va],Qa=A[va];var Ta=Q(Qa);D[Ta]||(D[Ta]=new Oa[Ta](da));
Ta=D[Ta];for(var Ya=0;Ya<Qa.length;Ya++)Ta[(Ya/La|0)*la+Aa+Ya%La]=Qa[Ya];Aa+=La}A=new Float32Array(da);e.data=A;for(la=0;la<this.buffers.length;la++)this.buffers[la]!==this.indexBuffer&&this.buffers[la].destroy();this.buffers=[e];this.indexBuffer&&this.buffers.push(this.indexBuffer);return this};W.prototype.getSize=function(){for(var A in this.attributes)return A=this.attributes[A],this.buffers[A.buffer].data.length/(A.stride/4||A.size);return 0};W.prototype.dispose=function(){this.disposeRunner.emit(this,
!1)};W.prototype.destroy=function(){this.dispose();this.attributes=this.indexBuffer=this.buffers=null};W.prototype.clone=function(){for(var A=new W,b=0;b<this.buffers.length;b++)A.buffers[b]=new Ka(this.buffers[b].data.slice(0));for(b in this.attributes){var e=this.attributes[b];A.attributes[b]=new Ga(e.buffer,e.size,e.normalized,e.type,e.stride,e.start,e.instance)}this.indexBuffer&&(A.indexBuffer=A.buffers[this.buffers.indexOf(this.indexBuffer)],A.indexBuffer.index=!0);return A};W.merge=function(A){for(var b=
new W,e=[],D=[],da=[],la,va=0;va<A.length;va++){la=A[va];for(var Aa=0;Aa<la.buffers.length;Aa++)D[Aa]=D[Aa]||0,D[Aa]+=la.buffers[Aa].data.length,da[Aa]=0}for(va=0;va<la.buffers.length;va++)e[va]=new (Ma[Q(la.buffers[va].data)])(D[va]),b.buffers[va]=new Ka(e[va]);for(va=0;va<A.length;va++)for(la=A[va],Aa=0;Aa<la.buffers.length;Aa++)e[Aa].set(la.buffers[Aa].data,da[Aa]),da[Aa]+=la.buffers[Aa].data.length;b.attributes=la.attributes;if(la.indexBuffer){b.indexBuffer=b.buffers[la.buffers.indexOf(la.indexBuffer)];
b.indexBuffer.index=!0;var La=da=D=e=0;for(va=0;va<la.buffers.length;va++)if(la.buffers[va]!==la.indexBuffer){La=va;break}for(va in la.attributes)Aa=la.attributes[va],(Aa.buffer|0)===La&&(D+=Aa.size*Pa[Aa.type]/4);for(va=0;va<A.length;va++){var Qa=A[va].indexBuffer.data;for(Aa=0;Aa<Qa.length;Aa++)b.indexBuffer.data[Aa+da]+=e;e+=la.buffers[La].data.length/D;da+=Qa.length}}return b};return W}(),bb=function(W){function A(){var b=W.call(this)||this;b.addAttribute("aVertexPosition",new Float32Array([0,
0,1,0,1,1,0,1])).addIndex([0,1,3,2]);return b}y(A,W);return A}(Wa),Ja=function(W){function A(){var b=W.call(this)||this;b.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);b.uvs=new Float32Array([0,0,1,0,1,1,0,1]);b.vertexBuffer=new Ka(b.vertices);b.uvBuffer=new Ka(b.uvs);b.addAttribute("aVertexPosition",b.vertexBuffer).addAttribute("aTextureCoord",b.uvBuffer).addIndex([0,1,2,0,2,3]);return b}y(A,W);A.prototype.map=function(b,e){var D=0,da=0;this.uvs[0]=D;this.uvs[1]=da;this.uvs[2]=D+e.width/b.width;
this.uvs[3]=da;this.uvs[4]=D+e.width/b.width;this.uvs[5]=da+e.height/b.height;this.uvs[6]=D;this.uvs[7]=da+e.height/b.height;D=e.x;da=e.y;this.vertices[0]=D;this.vertices[1]=da;this.vertices[2]=D+e.width;this.vertices[3]=da;this.vertices[4]=D+e.width;this.vertices[5]=da+e.height;this.vertices[6]=D;this.vertices[7]=da+e.height;this.invalidate();return this};A.prototype.invalidate=function(){this.vertexBuffer._updateID++;this.uvBuffer._updateID++;return this};return A}(Wa),Va=0,Za=function(){function W(A,
b){this.uniforms=A;this.group=!0;this.syncUniforms={};this.dirtyId=0;this.id=Va++;this.static=!!b}W.prototype.update=function(){this.dirtyId++};W.prototype.add=function(A,b,e){this.uniforms[A]=new W(b,e)};W.from=function(A,b){return new W(A,b)};return W}(),eb=function(){function W(){this.target=this.renderTexture=null;this.legacy=!1;this.resolution=1;this.sourceFrame=new k.Rectangle;this.destinationFrame=new k.Rectangle;this.filters=[]}W.prototype.clear=function(){this.renderTexture=this.filters=
this.target=null};return W}(),fb=function(W){function A(b){var e=W.call(this,b)||this;e.defaultFilterStack=[{}];e.texturePool=new Ba;e.texturePool.setScreenSize(b.view);e.statePool=[];e.quad=new bb;e.quadUv=new Ja;e.tempRect=new k.Rectangle;e.activeState={};e.globalUniforms=new Za({outputFrame:e.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0);e.forceClear=!1;e.useMaxPadding=
!1;return e}y(A,W);A.prototype.push=function(b,e){for(var D=this.renderer,da=this.defaultFilterStack,la=this.statePool.pop()||new eb,va=e[0].resolution,Aa=e[0].padding,La=e[0].autoFit,Qa=e[0].legacy,Ta=1;Ta<e.length;Ta++){var Ya=e[Ta];va=Math.min(va,Ya.resolution);Aa=this.useMaxPadding?Math.max(Aa,Ya.padding):Aa+Ya.padding;La=La&&Ya.autoFit;Qa=Qa||Ya.legacy}1===da.length&&(this.defaultFilterStack[0].renderTexture=D.renderTexture.current);da.push(la);la.resolution=va;la.legacy=Qa;la.target=b;la.sourceFrame.copyFrom(b.filterArea||
b.getBounds(!0));la.sourceFrame.pad(Aa);La&&la.sourceFrame.fit(this.renderer.renderTexture.sourceFrame);la.sourceFrame.ceil(va);la.renderTexture=this.getOptimalFilterTexture(la.sourceFrame.width,la.sourceFrame.height,va);la.filters=e;la.destinationFrame.width=la.renderTexture.width;la.destinationFrame.height=la.renderTexture.height;b=this.tempRect;b.width=la.sourceFrame.width;b.height=la.sourceFrame.height;la.renderTexture.filterFrame=la.sourceFrame;D.renderTexture.bind(la.renderTexture,la.sourceFrame,
b);D.renderTexture.clear()};A.prototype.pop=function(){var b=this.defaultFilterStack,e=b.pop(),D=e.filters;this.activeState=e;var da=this.globalUniforms.uniforms;da.outputFrame=e.sourceFrame;da.resolution=e.resolution;var la=da.inputSize,va=da.inputPixel,Aa=da.inputClamp;la[0]=e.destinationFrame.width;la[1]=e.destinationFrame.height;la[2]=1/la[0];la[3]=1/la[1];va[0]=la[0]*e.resolution;va[1]=la[1]*e.resolution;va[2]=1/va[0];va[3]=1/va[1];Aa[0]=.5*va[2];Aa[1]=.5*va[3];Aa[2]=e.sourceFrame.width*la[2]-
.5*va[2];Aa[3]=e.sourceFrame.height*la[3]-.5*va[3];e.legacy&&(la=da.filterArea,la[0]=e.destinationFrame.width,la[1]=e.destinationFrame.height,la[2]=e.sourceFrame.x,la[3]=e.sourceFrame.y,da.filterClamp=da.inputClamp);this.globalUniforms.update();b=b[b.length-1];1<e.renderTexture.framebuffer.multisample&&this.renderer.framebuffer.blit();if(1===D.length)D[0].apply(this,e.renderTexture,b.renderTexture,z.CLEAR_MODES.BLEND,e),this.returnFilterTexture(e.renderTexture);else{da=e.renderTexture;la=this.getOptimalFilterTexture(da.width,
da.height,e.resolution);la.filterFrame=da.filterFrame;for(va=0;va<D.length-1;++va)D[va].apply(this,da,la,z.CLEAR_MODES.CLEAR,e),Aa=da,da=la,la=Aa;D[va].apply(this,da,b.renderTexture,z.CLEAR_MODES.BLEND,e);this.returnFilterTexture(da);this.returnFilterTexture(la)}e.clear();this.statePool.push(e)};A.prototype.bindAndClear=function(b,e){void 0===e&&(e=z.CLEAR_MODES.CLEAR);if(b&&b.filterFrame){var D=this.tempRect;D.width=b.filterFrame.width;D.height=b.filterFrame.height;this.renderer.renderTexture.bind(b,
b.filterFrame,D)}else this.renderer.renderTexture.bind(b);"boolean"===typeof e&&(e=e?z.CLEAR_MODES.CLEAR:z.CLEAR_MODES.BLEND,I.deprecation("5.2.1","Use CLEAR_MODES when using clear applyFilter option"));(e===z.CLEAR_MODES.CLEAR||e===z.CLEAR_MODES.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()};A.prototype.applyFilter=function(b,e,D,da){var la=this.renderer;this.bindAndClear(D,da);b.uniforms.uSampler=e;b.uniforms.filterGlobals=this.globalUniforms;la.state.set(b.state);la.shader.bind(b);
b.legacy?(this.quadUv.map(e._frame,e.filterFrame),la.geometry.bind(this.quadUv),la.geometry.draw(z.DRAW_MODES.TRIANGLES)):(la.geometry.bind(this.quad),la.geometry.draw(z.DRAW_MODES.TRIANGLE_STRIP))};A.prototype.calculateSpriteMatrix=function(b,e){var D=this.activeState,da=D.sourceFrame,la=D.destinationFrame;D=e._texture.orig;b=b.set(la.width,0,0,la.height,da.x,da.y);da=e.worldTransform.copyTo(k.Matrix.TEMP_MATRIX);da.invert();b.prepend(da);b.scale(1/D.width,1/D.height);b.translate(e.anchor.x,e.anchor.y);
return b};A.prototype.destroy=function(){this.texturePool.clear(!1)};A.prototype.getOptimalFilterTexture=function(b,e,D){void 0===D&&(D=1);return this.texturePool.getOptimalTexture(b,e,D)};A.prototype.getFilterTexture=function(b,e){if("number"===typeof b){var D=b;b=e;e=D}b=b||this.activeState.renderTexture;e=this.texturePool.getOptimalTexture(b.width,b.height,e||b.resolution);e.filterFrame=b.filterFrame;return e};A.prototype.returnFilterTexture=function(b){this.texturePool.returnTexture(b)};A.prototype.emptyPool=
function(){this.texturePool.clear(!0)};A.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)};return A}(ca),cb=function(){function W(A){this.renderer=A}W.prototype.flush=function(){};W.prototype.destroy=function(){this.renderer=null};W.prototype.start=function(){};W.prototype.stop=function(){this.flush()};W.prototype.render=function(A){};return W}(),$a=function(W){function A(b){var e=W.call(this,b)||this;e.emptyRenderer=new cb(b);e.currentRenderer=e.emptyRenderer;return e}
y(A,W);A.prototype.setObjectRenderer=function(b){this.currentRenderer!==b&&(this.currentRenderer.stop(),this.currentRenderer=b,this.currentRenderer.start())};A.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)};A.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)};A.prototype.copyBoundTextures=function(b,e){var D=this.renderer.texture.boundTextures;for(--e;0<=e;--e)b[e]=D[e]||null,b[e]&&(b[e]._batchLocation=e)};A.prototype.boundArray=function(b,e,D,da){var la=
b.elements,va=b.ids;b=b.count;for(var Aa=0,La=0;La<b;La++){var Qa=la[La],Ta=Qa._batchLocation;if(0<=Ta&&Ta<da&&e[Ta]===Qa)va[La]=Ta;else for(;Aa<da;)if((Ta=e[Aa])&&Ta._batchEnabled===D&&Ta._batchLocation===Aa)Aa++;else{va[La]=Aa;Qa._batchLocation=Aa;e[Aa]=Qa;break}}};return A}(ca),Ua=0,gb=function(W){function A(b){var e=W.call(this,b)||this;e.webGLVersion=1;e.extensions={};e.supports={uint32Indices:!1};e.handleContextLost=e.handleContextLost.bind(e);e.handleContextRestored=e.handleContextRestored.bind(e);
b.view.addEventListener("webglcontextlost",e.handleContextLost,!1);b.view.addEventListener("webglcontextrestored",e.handleContextRestored,!1);return e}y(A,W);Object.defineProperty(A.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0});A.prototype.contextChange=function(b){this.gl=b;this.renderer.gl=b;this.renderer.CONTEXT_UID=Ua++;b.isContextLost()&&b.getExtension("WEBGL_lose_context")&&b.getExtension("WEBGL_lose_context").restoreContext()};A.prototype.initFromContext=
function(b){this.gl=b;this.validateContext(b);this.renderer.gl=b;this.renderer.CONTEXT_UID=Ua++;this.renderer.runners.contextChange.emit(b)};A.prototype.initFromOptions=function(b){b=this.createContext(this.renderer.view,b);this.initFromContext(b)};A.prototype.createContext=function(b,e){var D;q.settings.PREFER_ENV>=z.ENV.WEBGL2&&(D=b.getContext("webgl2",e));if(D)this.webGLVersion=2;else if(this.webGLVersion=1,D=b.getContext("webgl",e)||b.getContext("experimental-webgl",e),!D)throw Error("This browser does not support WebGL. Try using the canvas renderer");
this.gl=D;this.getExtensions();return this.gl};A.prototype.getExtensions=function(){var b=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:b.getExtension("WEBGL_draw_buffers"),depthTexture:b.getExtension("WEBGL_depth_texture"),loseContext:b.getExtension("WEBGL_lose_context"),vertexArrayObject:b.getExtension("OES_vertex_array_object")||b.getExtension("MOZ_OES_vertex_array_object")||b.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:b.getExtension("EXT_texture_filter_anisotropic"),
uint32ElementIndex:b.getExtension("OES_element_index_uint"),floatTexture:b.getExtension("OES_texture_float"),floatTextureLinear:b.getExtension("OES_texture_float_linear"),textureHalfFloat:b.getExtension("OES_texture_half_float"),textureHalfFloatLinear:b.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:b.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:b.getExtension("EXT_color_buffer_float"),floatTextureLinear:b.getExtension("OES_texture_float_linear")})};
A.prototype.handleContextLost=function(b){b.preventDefault()};A.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)};A.prototype.destroy=function(){var b=this.renderer.view;b.removeEventListener("webglcontextlost",this.handleContextLost);b.removeEventListener("webglcontextrestored",this.handleContextRestored);this.gl.useProgram(null);this.extensions.loseContext&&this.extensions.loseContext.loseContext()};A.prototype.postrender=function(){this.renderer.renderingToScreen&&
this.gl.flush()};A.prototype.validateContext=function(b){var e=b.getContextAttributes(),D="WebGL2RenderingContext"in window&&b instanceof window.WebGL2RenderingContext;D&&(this.webGLVersion=2);e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");b=D||!!b.getExtension("OES_element_index_uint");(this.supports.uint32Indices=b)||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")};
return A}(ca),ib=function(){return function(W){this.framebuffer=W;this.stencil=null;this.dirtySize=this.dirtyFormat=this.dirtyId=0;this.multisample=z.MSAA_QUALITY.NONE;this.blitFramebuffer=this.msaaBuffer=null}}(),kb=new k.Rectangle,c=function(W){function A(b){b=W.call(this,b)||this;b.managedFramebuffers=[];b.unknownFramebuffer=new ma(10,10);b.msaaSamples=null;return b}y(A,W);A.prototype.contextChange=function(){var b=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.current=
this.unknownFramebuffer;this.viewport=new k.Rectangle;this.writeDepthTexture=this.hasMRT=!0;this.disposeAll(!0);if(1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,D=this.renderer.context.extensions.depthTexture;q.settings.PREFER_ENV===z.ENV.WEBGL_LEGACY&&(D=e=null);e?b.drawBuffers=function(da){return e.drawBuffersWEBGL(da)}:(this.hasMRT=!1,b.drawBuffers=function(){});D||(this.writeDepthTexture=!1)}else this.msaaSamples=b.getInternalformatParameter(b.RENDERBUFFER,
b.RGBA8,b.SAMPLES)};A.prototype.bind=function(b,e){var D=this.gl;if(b){var da=b.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(b);this.current!==b&&(this.current=b,D.bindFramebuffer(D.FRAMEBUFFER,da.framebuffer));da.dirtyId!==b.dirtyId&&(da.dirtyId=b.dirtyId,da.dirtyFormat!==b.dirtyFormat?(da.dirtyFormat=b.dirtyFormat,this.updateFramebuffer(b)):da.dirtySize!==b.dirtySize&&(da.dirtySize=b.dirtySize,this.resizeFramebuffer(b)));for(D=0;D<b.colorTextures.length;D++)da=b.colorTextures[D],this.renderer.texture.unbind(da.parentTextureArray||
da);b.depthTexture&&this.renderer.texture.unbind(b.depthTexture);e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,b.width,b.height)}else this.current&&(this.current=null,D.bindFramebuffer(D.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)};A.prototype.setViewport=function(b,e,D,da){var la=this.viewport;if(la.width!==D||la.height!==da||la.x!==b||la.y!==e)la.x=b,la.y=e,la.width=D,la.height=da,this.gl.viewport(b,
e,D,da)};Object.defineProperty(A.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0});A.prototype.clear=function(b,e,D,da,la){void 0===la&&(la=z.BUFFER_BITS.COLOR|z.BUFFER_BITS.DEPTH);var va=this.gl;va.clearColor(b,e,D,da);va.clear(la)};A.prototype.initFramebuffer=function(b){var e=new ib(this.gl.createFramebuffer());e.multisample=this.detectSamples(b.multisample);
b.glFramebuffers[this.CONTEXT_UID]=e;this.managedFramebuffers.push(b);b.disposeRunner.add(this);return e};A.prototype.resizeFramebuffer=function(b){var e=this.gl,D=b.glFramebuffers[this.CONTEXT_UID];D.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,D.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,b.width,b.height));e=b.colorTextures;for(D=0;D<e.length;D++)this.renderer.texture.bind(e[D],0);b.depthTexture&&this.renderer.texture.bind(b.depthTexture,0)};A.prototype.updateFramebuffer=function(b){var e=
this.gl,D=b.glFramebuffers[this.CONTEXT_UID],da=b.colorTextures.length;e.drawBuffers||(da=Math.min(da,1));1<D.multisample&&(D.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,D.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,D.multisample,e.RGBA8,b.width,b.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,D.msaaBuffer));for(var la=[],va=0;va<da;va++)if(!(0===va&&1<D.multisample)){var Aa=b.colorTextures[va],La=Aa.parentTextureArray||Aa;
this.renderer.texture.bind(La,0);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+va,Aa.target,La._glTextures[this.CONTEXT_UID].texture,0);la.push(e.COLOR_ATTACHMENT0+va)}1<la.length&&e.drawBuffers(la);b.depthTexture&&this.writeDepthTexture&&(da=b.depthTexture,this.renderer.texture.bind(da,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,da._glTextures[this.CONTEXT_UID].texture,0));D.stencil||!b.stencil&&!b.depth||(D.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,
D.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,b.width,b.height),b.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,D.stencil))};A.prototype.detectSamples=function(b){var e=this.msaaSamples,D=z.MSAA_QUALITY.NONE;if(1>=b||null===e)return D;for(var da=0;da<e.length;da++)if(e[da]<=b){D=e[da];break}1===D&&(D=z.MSAA_QUALITY.NONE);return D};A.prototype.blit=function(b,e,D){var da=this.current,la=this.gl;if(2===this.renderer.context.webGLVersion&&
da){var va=da.glFramebuffers[this.CONTEXT_UID];if(va){if(!b){if(1>=va.multisample)return;va.blitFramebuffer||(va.blitFramebuffer=new ma(da.width,da.height),va.blitFramebuffer.addColorTexture(0,da.colorTextures[0]));b=va.blitFramebuffer;b.width=da.width;b.height=da.height}e||(e=kb,e.width=da.width,e.height=da.height);D||(D=e);da=e.width===D.width&&e.height===D.height;this.bind(b);la.bindFramebuffer(la.READ_FRAMEBUFFER,va.framebuffer);la.blitFramebuffer(e.x,e.y,e.width,e.height,D.x,D.y,D.width,D.height,
la.COLOR_BUFFER_BIT,da?la.NEAREST:la.LINEAR)}}};A.prototype.disposeFramebuffer=function(b,e){var D=b.glFramebuffers[this.CONTEXT_UID],da=this.gl;if(D){delete b.glFramebuffers[this.CONTEXT_UID];var la=this.managedFramebuffers.indexOf(b);0<=la&&this.managedFramebuffers.splice(la,1);b.disposeRunner.remove(this);e||(da.deleteFramebuffer(D.framebuffer),D.stencil&&da.deleteRenderbuffer(D.stencil))}};A.prototype.disposeAll=function(b){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var D=
0;D<e.length;D++)this.disposeFramebuffer(e[D],b)};A.prototype.forceStencil=function(){var b=this.current;if(b){var e=b.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){b.enableStencil();var D=b.width;b=b.height;var da=this.gl,la=da.createRenderbuffer();da.bindRenderbuffer(da.RENDERBUFFER,la);da.renderbufferStorage(da.RENDERBUFFER,da.DEPTH_STENCIL,D,b);e.stencil=la;da.framebufferRenderbuffer(da.FRAMEBUFFER,da.DEPTH_STENCIL_ATTACHMENT,da.RENDERBUFFER,la)}}};A.prototype.reset=function(){this.current=
this.unknownFramebuffer;this.viewport=new k.Rectangle};return A}(ca),g=function(){return function(W){this.buffer=W||null;this.byteLength=this.updateID=-1;this.refCount=0}}(),x={5126:4,5123:2,5121:1},O=function(W){function A(b){b=W.call(this,b)||this;b._activeGeometry=null;b._activeVao=null;b.hasVao=!0;b.hasInstance=!0;b.canUseUInt32ElementIndex=!1;b.managedGeometries={};b.managedBuffers={};return b}y(A,W);A.prototype.contextChange=function(){this.disposeAll(!0);var b=this.gl=this.renderer.gl,e=this.renderer.context;
this.CONTEXT_UID=this.renderer.CONTEXT_UID;if(2!==e.webGLVersion){var D=this.renderer.context.extensions.vertexArrayObject;q.settings.PREFER_ENV===z.ENV.WEBGL_LEGACY&&(D=null);D?(b.createVertexArray=function(){return D.createVertexArrayOES()},b.bindVertexArray=function(la){return D.bindVertexArrayOES(la)},b.deleteVertexArray=function(la){return D.deleteVertexArrayOES(la)}):(this.hasVao=!1,b.createVertexArray=function(){return null},b.bindVertexArray=function(){return null},b.deleteVertexArray=function(){return null})}if(2!==
e.webGLVersion){var da=b.getExtension("ANGLE_instanced_arrays");da?(b.vertexAttribDivisor=function(la,va){return da.vertexAttribDivisorANGLE(la,va)},b.drawElementsInstanced=function(la,va,Aa,La,Qa){return da.drawElementsInstancedANGLE(la,va,Aa,La,Qa)},b.drawArraysInstanced=function(la,va,Aa,La){return da.drawArraysInstancedANGLE(la,va,Aa,La)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex};A.prototype.bind=function(b,e){e=e||this.renderer.shader.shader;
var D=this.gl,da=b.glVertexArrayObjects[this.CONTEXT_UID],la=!1;da||(this.managedGeometries[b.id]=b,b.disposeRunner.add(this),b.glVertexArrayObjects[this.CONTEXT_UID]=da={},la=!0);da=da[e.program.id]||this.initGeometryVao(b,e.program,la);this._activeGeometry=b;this._activeVao!==da&&(this._activeVao=da,this.hasVao?D.bindVertexArray(da):this.activateVao(b,e.program));this.updateBuffers()};A.prototype.reset=function(){this.unbind()};A.prototype.updateBuffers=function(){for(var b=this._activeGeometry,
e=this.gl,D=0;D<b.buffers.length;D++){var da=b.buffers[D],la=da._glBuffers[this.CONTEXT_UID];if(da._updateID!==la.updateID){la.updateID=da._updateID;var va=da.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;e.bindBuffer(va,la.buffer);this._boundBuffer=la;if(la.byteLength>=da.data.byteLength)e.bufferSubData(va,0,da.data);else{var Aa=da.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;la.byteLength=da.data.byteLength;e.bufferData(va,da.data,Aa)}}}};A.prototype.checkCompatibility=function(b,e){b=b.attributes;e=e.attributeData;
for(var D in e)if(!b[D])throw Error('shader and geometry incompatible, geometry missing the "'+D+'" attribute');};A.prototype.getSignature=function(b,e){var D=b.attributes;e=e.attributeData;b=["g",b.id];for(var da in D)e[da]&&b.push(da);return b.join("-")};A.prototype.initGeometryVao=function(b,e,D){void 0===D&&(D=!0);this.checkCompatibility(b,e);var da=this.gl,la=this.CONTEXT_UID,va=this.getSignature(b,e),Aa=b.glVertexArrayObjects[this.CONTEXT_UID],La=Aa[va];if(La)return Aa[e.id]=La;var Qa=b.buffers;
La=b.attributes;var Ta={},Ya={},Sa;for(Sa in Qa)Ta[Sa]=0,Ya[Sa]=0;for(Sa in La)!La[Sa].size&&e.attributeData[Sa]?La[Sa].size=e.attributeData[Sa].size:La[Sa].size||console.warn("PIXI Geometry attribute '"+Sa+"' size cannot be determined (likely the bound shader does not have the attribute)"),Ta[La[Sa].buffer]+=La[Sa].size*x[La[Sa].type];for(Sa in La){var db=La[Sa],jb=db.size;void 0===db.stride&&(db.stride=Ta[db.buffer]===jb*x[db.type]?0:Ta[db.buffer]);void 0===db.start&&(db.start=Ya[db.buffer],Ya[db.buffer]+=
jb*x[db.type])}La=da.createVertexArray();da.bindVertexArray(La);for(Sa=0;Sa<Qa.length;Sa++)Ta=Qa[Sa],Ta._glBuffers[la]||(Ta._glBuffers[la]=new g(da.createBuffer()),this.managedBuffers[Ta.id]=Ta,Ta.disposeRunner.add(this)),D&&Ta._glBuffers[la].refCount++;this.activateVao(b,e);this._activeVao=La;Aa[e.id]=La;return Aa[va]=La};A.prototype.disposeBuffer=function(b,e){if(this.managedBuffers[b.id]){delete this.managedBuffers[b.id];var D=b._glBuffers[this.CONTEXT_UID],da=this.gl;b.disposeRunner.remove(this);
D&&(e||da.deleteBuffer(D.buffer),delete b._glBuffers[this.CONTEXT_UID])}};A.prototype.disposeGeometry=function(b,e){if(this.managedGeometries[b.id]){delete this.managedGeometries[b.id];var D=b.glVertexArrayObjects[this.CONTEXT_UID],da=this.gl,la=b.buffers;b.disposeRunner.remove(this);if(D){for(var va=0;va<la.length;va++){var Aa=la[va]._glBuffers[this.CONTEXT_UID];Aa.refCount--;0!==Aa.refCount||e||this.disposeBuffer(la[va],e)}if(!e)for(var La in D)"g"===La[0]&&(e=D[La],this._activeVao===e&&this.unbind(),
da.deleteVertexArray(e));delete b.glVertexArrayObjects[this.CONTEXT_UID]}}};A.prototype.disposeAll=function(b){for(var e=Object.keys(this.managedGeometries),D=0;D<e.length;D++)this.disposeGeometry(this.managedGeometries[e[D]],b);e=Object.keys(this.managedBuffers);for(D=0;D<e.length;D++)this.disposeBuffer(this.managedBuffers[e[D]],b)};A.prototype.activateVao=function(b,e){var D=this.gl,da=this.CONTEXT_UID,la=b.buffers,va=b.attributes;b.indexBuffer&&D.bindBuffer(D.ELEMENT_ARRAY_BUFFER,b.indexBuffer._glBuffers[da].buffer);
b=null;for(var Aa in va){var La=va[Aa],Qa=la[La.buffer]._glBuffers[da];if(e.attributeData[Aa]&&(b!==Qa&&(D.bindBuffer(D.ARRAY_BUFFER,Qa.buffer),b=Qa),Qa=e.attributeData[Aa].location,D.enableVertexAttribArray(Qa),D.vertexAttribPointer(Qa,La.size,La.type||D.FLOAT,La.normalized,La.stride,La.start),La.instance))if(this.hasInstance)D.vertexAttribDivisor(Qa,1);else throw Error("geometry error, GPU Instancing is not supported on this device");}};A.prototype.draw=function(b,e,D,da){var la=this.gl,va=this._activeGeometry;
if(va.indexBuffer){var Aa=va.indexBuffer.data.BYTES_PER_ELEMENT,La=2===Aa?la.UNSIGNED_SHORT:la.UNSIGNED_INT;2===Aa||4===Aa&&this.canUseUInt32ElementIndex?va.instanced?la.drawElementsInstanced(b,e||va.indexBuffer.data.length,La,(D||0)*Aa,da||1):la.drawElements(b,e||va.indexBuffer.data.length,La,(D||0)*Aa):console.warn("unsupported index buffer type: uint32")}else va.instanced?la.drawArraysInstanced(b,D,e||va.getSize(),da||1):la.drawArrays(b,D,e||va.getSize());return this};A.prototype.unbind=function(){this.gl.bindVertexArray(null);
this._activeGeometry=this._activeVao=null};return A}(ca),S=function(){function W(A){void 0===A&&(A=null);this.type=z.MASK_TYPES.NONE;this.autoDetect=!0;this.maskObject=A||null;this.pooled=!1;this.isMaskData=!0;this._scissorCounter=this._stencilCounter=0;this._target=this._scissorRect=null}W.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=z.MASK_TYPES.NONE,this.autoDetect=!0);this._target=null};W.prototype.copyCountersOrReset=function(A){A?(this._stencilCounter=A._stencilCounter,
this._scissorCounter=A._scissorCounter,this._scissorRect=A._scissorRect):(this._scissorCounter=this._stencilCounter=0,this._scissorRect=null)};return W}(),T={},na=T,ha,ra={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1},oa=null,w={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",
FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},d=[{test:function(W){return"float"===W.type&&1===W.size},code:function(W){return'\n            if(uv["'+W+'"] !\x3d\x3d ud["'+W+'"].value)\n            {\n                ud["'+
W+'"].value \x3d uv["'+W+'"]\n                gl.uniform1f(ud["'+W+'"].location, uv["'+W+'"])\n            }\n            '}},{test:function(W){return("sampler2D"===W.type||"samplerCube"===W.type||"sampler2DArray"===W.type)&&1===W.size&&!W.isArray},code:function(W){return't \x3d syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+W+'"], t);\n\n            if(ud["'+W+'"].value !\x3d\x3d t)\n            {\n                ud["'+W+'"].value \x3d t;\n                gl.uniform1i(ud["'+
W+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(W,A){return"mat3"===W.type&&1===W.size&&void 0!==A.a},code:function(W){return'\n            gl.uniformMatrix3fv(ud["'+W+'"].location, false, uv["'+W+'"].toArray(true));\n            '}},{test:function(W,A){return"vec2"===W.type&&1===W.size&&void 0!==A.x},code:function(W){return'\n                cv \x3d ud["'+W+'"].value;\n                v \x3d uv["'+W+'"];\n\n                if(cv[0] !\x3d\x3d v.x || cv[1] !\x3d\x3d v.y)\n                {\n                    cv[0] \x3d v.x;\n                    cv[1] \x3d v.y;\n                    gl.uniform2f(ud["'+
W+'"].location, v.x, v.y);\n                }'}},{test:function(W){return"vec2"===W.type&&1===W.size},code:function(W){return'\n                cv \x3d ud["'+W+'"].value;\n                v \x3d uv["'+W+'"];\n\n                if(cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1])\n                {\n                    cv[0] \x3d v[0];\n                    cv[1] \x3d v[1];\n                    gl.uniform2f(ud["'+W+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(W,A){return"vec4"===
W.type&&1===W.size&&void 0!==A.width},code:function(W){return'\n                cv \x3d ud["'+W+'"].value;\n                v \x3d uv["'+W+'"];\n\n                if(cv[0] !\x3d\x3d v.x || cv[1] !\x3d\x3d v.y || cv[2] !\x3d\x3d v.width || cv[3] !\x3d\x3d v.height)\n                {\n                    cv[0] \x3d v.x;\n                    cv[1] \x3d v.y;\n                    cv[2] \x3d v.width;\n                    cv[3] \x3d v.height;\n                    gl.uniform4f(ud["'+W+'"].location, v.x, v.y, v.width, v.height)\n                }'}},
{test:function(W){return"vec4"===W.type&&1===W.size},code:function(W){return'\n                cv \x3d ud["'+W+'"].value;\n                v \x3d uv["'+W+'"];\n\n                if(cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1] || cv[2] !\x3d\x3d v[2] || cv[3] !\x3d\x3d v[3])\n                {\n                    cv[0] \x3d v[0];\n                    cv[1] \x3d v[1];\n                    cv[2] \x3d v[2];\n                    cv[3] \x3d v[3];\n\n                    gl.uniform4f(ud["'+W+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],
a={float:"\n    if(cv !\x3d\x3d v)\n    {\n        cv.v \x3d v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !\x3d\x3d v[0] || cv[1] !\x3d\x3d v[1] || cv[2] !\x3d\x3d v[2])\n    {\n        cv[0] \x3d v[0];\n        cv[1] \x3d v[1];\n        cv[2] \x3d v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",
vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",
mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},f={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",
ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},B,U=0,ia={},M=function(){function W(A,b,e){void 0===e&&(e="pixi-shader");this.id=U++;this.vertexSrc=A||W.defaultVertexSrc;this.fragmentSrc=b||W.defaultFragmentSrc;this.vertexSrc=
this.vertexSrc.trim();this.fragmentSrc=this.fragmentSrc.trim();"#version"!==this.vertexSrc.substring(0,8)&&(e=e.replace(/\s+/g,"-"),ia[e]?(ia[e]++,e+="-"+ia[e]):ia[e]=1,this.vertexSrc="#define SHADER_NAME "+e+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+e+"\n"+this.fragmentSrc,this.vertexSrc=F(this.vertexSrc,q.settings.PRECISION_VERTEX,z.PRECISION.HIGH),A=this.fragmentSrc,b=q.settings.PRECISION_FRAGMENT,ha||(ha=z.PRECISION.MEDIUM,(e=L())&&e.getShaderPrecisionFormat&&(ha=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,
e.HIGH_FLOAT).precision?z.PRECISION.HIGH:z.PRECISION.MEDIUM)),this.fragmentSrc=F(A,b,ha));this.extractData(this.vertexSrc,this.fragmentSrc);this.glPrograms={};this.syncUniforms=null}W.prototype.extractData=function(A,b){var e=L();e?(A=t(e,A,b),this.attributeData=this.getAttributeData(A,e),this.uniformData=this.getUniformData(A,e),e.deleteProgram(A)):(this.uniformData={},this.attributeData={})};W.prototype.getAttributeData=function(A,b){for(var e={},D=[],da=b.getProgramParameter(A,b.ACTIVE_ATTRIBUTES),
la=0;la<da;la++){var va=b.getActiveAttrib(A,la),Aa=n(b,va.type);Aa={type:Aa,name:va.name,size:ra[Aa],location:0};e[va.name]=Aa;D.push(Aa)}D.sort(function(La,Qa){return La.name>Qa.name?1:-1});for(la=0;la<D.length;la++)D[la].location=la;return e};W.prototype.getUniformData=function(A,b){for(var e={},D=b.getProgramParameter(A,b.ACTIVE_UNIFORMS),da=0;da<D;da++){var la=b.getActiveUniform(A,da),va=la.name.replace(/\[.*?\]$/,""),Aa=la.name.match(/\[.*?\]$/),La=n(b,la.type);e[va]={type:La,size:la.size,isArray:Aa,
value:C(La,la.size)}}return e};Object.defineProperty(W,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position \x3d vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord \x3d aTextureCoord;\n}\n"},enumerable:!1,configurable:!0});Object.defineProperty(W,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *\x3d texture2D(uSampler, vTextureCoord);\n}"},
enumerable:!1,configurable:!0});W.from=function(A,b,e){var D=A+b,da=I.ProgramCache[D];da||(I.ProgramCache[D]=da=new W(A,b,e));return da};return W}(),X=function(){function W(A,b){this.program=A;this.uniformGroup=b?b instanceof Za?b:new Za(b):new Za({});for(var e in A.uniformData)this.uniformGroup.uniforms[e]instanceof Array&&(this.uniformGroup.uniforms[e]=new Float32Array(this.uniformGroup.uniforms[e]))}W.prototype.checkUniformExists=function(A,b){if(b.uniforms[A])return!0;for(var e in b.uniforms){var D=
b.uniforms[e];if(D.group&&this.checkUniformExists(A,D))return!0}return!1};W.prototype.destroy=function(){this.uniformGroup=null};Object.defineProperty(W.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0});W.from=function(A,b,e){A=M.from(A,b);return new W(A,e)};return W}(),ja=function(){function W(){this.data=0;this.blendMode=z.BLEND_MODES.NORMAL;this.polygonOffset=0;this.blend=!0}Object.defineProperty(W.prototype,"blend",{get:function(){return!!(this.data&
1)},set:function(A){!!(this.data&1)!==A&&(this.data^=1)},enumerable:!1,configurable:!0});Object.defineProperty(W.prototype,"offsets",{get:function(){return!!(this.data&2)},set:function(A){!!(this.data&2)!==A&&(this.data^=2)},enumerable:!1,configurable:!0});Object.defineProperty(W.prototype,"culling",{get:function(){return!!(this.data&4)},set:function(A){!!(this.data&4)!==A&&(this.data^=4)},enumerable:!1,configurable:!0});Object.defineProperty(W.prototype,"depthTest",{get:function(){return!!(this.data&
8)},set:function(A){!!(this.data&8)!==A&&(this.data^=8)},enumerable:!1,configurable:!0});Object.defineProperty(W.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&16)},set:function(A){!!(this.data&16)!==A&&(this.data^=16)},enumerable:!1,configurable:!0});Object.defineProperty(W.prototype,"blendMode",{get:function(){return this._blendMode},set:function(A){this.blend=A!==z.BLEND_MODES.NONE;this._blendMode=A},enumerable:!1,configurable:!0});Object.defineProperty(W.prototype,"polygonOffset",
{get:function(){return this._polygonOffset},set:function(A){this.offsets=!!A;this._polygonOffset=A},enumerable:!1,configurable:!0});W.for2d=function(){var A=new W;A.depthTest=!1;A.blend=!0;return A};return W}(),ta=function(W){function A(b,e,D){b=M.from(b||A.defaultVertexSrc,e||A.defaultFragmentSrc);D=W.call(this,b,D)||this;D.padding=0;D.resolution=q.settings.FILTER_RESOLUTION;D.enabled=!0;D.autoFit=!0;D.legacy=!!D.program.attributeData.aTextureCoord;D.state=new ja;return D}y(A,W);A.prototype.apply=
function(b,e,D,da,la){b.applyFilter(this,e,D,da)};Object.defineProperty(A.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(b){this.state.blendMode=b},enumerable:!1,configurable:!0});Object.defineProperty(A,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position \x3d aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position \x3d filterVertexPosition();\n    vTextureCoord \x3d filterTextureCoord();\n}\n"},
enumerable:!1,configurable:!0});Object.defineProperty(A,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor \x3d texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0});return A}(X),Ea=new k.Matrix,Ia=function(){function W(A,b){this._texture=A;this.mapCoord=new k.Matrix;this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._textureID=-1;this.clampOffset=this._updateID=
0;this.clampMargin="undefined"===typeof b?.5:b;this.isSimple=!1}Object.defineProperty(W.prototype,"texture",{get:function(){return this._texture},set:function(A){this._texture=A;this._textureID=-1},enumerable:!1,configurable:!0});W.prototype.multiplyUvs=function(A,b){void 0===b&&(b=A);for(var e=this.mapCoord,D=0;D<A.length;D+=2){var da=A[D],la=A[D+1];b[D]=da*e.a+la*e.c+e.tx;b[D+1]=da*e.b+la*e.d+e.ty}return b};W.prototype.update=function(A){var b=this._texture;if(!b||!b.valid||!A&&this._textureID===
b._updateID)return!1;this._textureID=b._updateID;this._updateID++;A=b._uvs;this.mapCoord.set(A.x1-A.x0,A.y1-A.y0,A.x3-A.x0,A.y3-A.y0,A.x0,A.y0);A=b.orig;var e=b.trim;e&&(Ea.set(A.width/e.width,0,0,A.height/e.height,-e.x/e.width,-e.y/e.height),this.mapCoord.append(Ea));A=b.baseTexture;e=this.uClampFrame;var D=this.clampMargin/A.resolution,da=this.clampOffset;e[0]=(b._frame.x+D+da)/A.width;e[1]=(b._frame.y+D+da)/A.height;e[2]=(b._frame.x+b._frame.width-D+da)/A.width;e[3]=(b._frame.y+b._frame.height-
D+da)/A.height;this.uClampOffset[0]=da/A.realWidth;this.uClampOffset[1]=da/A.realHeight;this.isSimple=b._frame.width===A.width&&b._frame.height===A.height&&0===b.rotate;return!0};return W}(),Na=function(W){function A(b){var e=new k.Matrix;var D=W.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d aTextureCoord;\n    vMaskCoord \x3d ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip \x3d step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original \x3d texture2D(uSampler, vTextureCoord);\n    vec4 masky \x3d texture2D(mask, vMaskCoord);\n    float alphaMul \x3d 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *\x3d (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor \x3d original;\n}\n")||
this;b.renderable=!1;D.maskSprite=b;D.maskMatrix=e;return D}y(A,W);A.prototype.apply=function(b,e,D,da){var la=this.maskSprite,va=la._texture;va.valid&&(va.uvMatrix||(va.uvMatrix=new Ia(va,0)),va.uvMatrix.update(),this.uniforms.npmAlpha=va.baseTexture.alphaMode?0:1,this.uniforms.mask=va,this.uniforms.otherMatrix=b.calculateSpriteMatrix(this.maskMatrix,la).prepend(va.uvMatrix.mapCoord),this.uniforms.alpha=la.worldAlpha,this.uniforms.maskClamp=va.uvMatrix.uClampFrame,b.applyFilter(this,e,D,da))};return A}(ta),
Ra=function(W){function A(b){b=W.call(this,b)||this;b.enableScissor=!1;b.alphaMaskPool=[];b.maskDataPool=[];b.maskStack=[];b.alphaMaskIndex=0;return b}y(A,W);A.prototype.setMaskStack=function(b){this.maskStack=b;this.renderer.scissor.setMaskStack(b);this.renderer.stencil.setMaskStack(b)};A.prototype.push=function(b,e){var D=e;D.isMaskData||(D=this.maskDataPool.pop()||new S,D.pooled=!0,D.maskObject=e);D.autoDetect&&this.detect(D);D.copyCountersOrReset(this.maskStack[this.maskStack.length-1]);D._target=
b;switch(D.type){case z.MASK_TYPES.SCISSOR:this.maskStack.push(D);this.renderer.scissor.push(D);break;case z.MASK_TYPES.STENCIL:this.maskStack.push(D);this.renderer.stencil.push(D);break;case z.MASK_TYPES.SPRITE:D.copyCountersOrReset(null),this.pushSpriteMask(D),this.maskStack.push(D)}};A.prototype.pop=function(b){var e=this.maskStack.pop();if(e&&e._target===b){switch(e.type){case z.MASK_TYPES.SCISSOR:this.renderer.scissor.pop();break;case z.MASK_TYPES.STENCIL:this.renderer.stencil.pop(e.maskObject);
break;case z.MASK_TYPES.SPRITE:this.popSpriteMask()}e.reset();e.pooled&&this.maskDataPool.push(e)}};A.prototype.detect=function(b){var e=b.maskObject;if(e.isSprite)b.type=z.MASK_TYPES.SPRITE;else if(b.type=z.MASK_TYPES.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var D=e.worldTransform;e=Math.atan2(D.b,D.a);D=Math.atan2(D.d,D.c);e=Math.round(180/Math.PI*e*100);D=Math.round(180/Math.PI*D*100)-e;0===(e%9E3+9E3)%9E3&&9E3===(D%18E3+18E3)%18E3&&(b.type=z.MASK_TYPES.SCISSOR)}};A.prototype.pushSpriteMask=
function(b){var e=b.maskObject;b=b._target;var D=this.alphaMaskPool[this.alphaMaskIndex];D||(D=this.alphaMaskPool[this.alphaMaskIndex]=[new Na(e)]);D[0].resolution=this.renderer.resolution;D[0].maskSprite=e;var da=b.filterArea;b.filterArea=e.getBounds(!0);this.renderer.filter.push(b,D);b.filterArea=da;this.alphaMaskIndex++};A.prototype.popSpriteMask=function(){this.renderer.filter.pop();this.alphaMaskIndex--};return A}(ca),Xa=function(W){function A(b){b=W.call(this,b)||this;b.maskStack=[];b.glConst=
0;return b}y(A,W);A.prototype.getStackLength=function(){return this.maskStack.length};A.prototype.setMaskStack=function(b){var e=this.renderer.gl,D=this.getStackLength();this.maskStack=b;b=this.getStackLength();b!==D&&(0===b?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))};A.prototype._useCurrent=function(){};A.prototype.destroy=function(){W.prototype.destroy.call(this);this.maskStack=null};return A}(ca),ab=function(W){function A(b){b=W.call(this,b)||this;b.glConst=WebGLRenderingContext.SCISSOR_TEST;
return b}y(A,W);A.prototype.getStackLength=function(){var b=this.maskStack[this.maskStack.length-1];return b?b._scissorCounter:0};A.prototype.push=function(b){var e=b.maskObject;e.renderable=!0;var D=b._scissorRect,da=e.getBounds(!0),la=this.renderer.gl;e.renderable=!1;D?da.fit(D):la.enable(la.SCISSOR_TEST);b._scissorCounter++;b._scissorRect=da;this._useCurrent()};A.prototype.pop=function(){var b=this.renderer.gl;0<this.getStackLength()?this._useCurrent():b.disable(b.SCISSOR_TEST)};A.prototype._useCurrent=
function(){var b=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,D=this.renderer.projection,da=D.transform,la=D.sourceFrame,va=D.destinationFrame;D=e?e.resolution:this.renderer.resolution;var Aa=(b.x-la.x)*D+va.x;la=(b.y-la.y)*D+va.y;va=b.width*D;b=b.height*D;da&&(Aa+=da.tx*D,la+=da.ty*D);e||(la=this.renderer.height-b-la);this.renderer.gl.scissor(Aa,la,va,b)};return A}(Xa),hb=function(W){function A(b){b=W.call(this,b)||this;b.glConst=WebGLRenderingContext.STENCIL_TEST;
return b}y(A,W);A.prototype.getStackLength=function(){var b=this.maskStack[this.maskStack.length-1];return b?b._stencilCounter:0};A.prototype.push=function(b){var e=b.maskObject,D=this.renderer.gl,da=b._stencilCounter;0===da&&(this.renderer.framebuffer.forceStencil(),D.enable(D.STENCIL_TEST));b._stencilCounter++;D.colorMask(!1,!1,!1,!1);D.stencilFunc(D.EQUAL,da,this._getBitwiseMask());D.stencilOp(D.KEEP,D.KEEP,D.INCR);e.renderable=!0;e.render(this.renderer);this.renderer.batch.flush();e.renderable=
!1;this._useCurrent()};A.prototype.pop=function(b){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),b.renderable=!0,b.render(this.renderer),this.renderer.batch.flush(),b.renderable=!1,this._useCurrent())};A.prototype._useCurrent=function(){var b=this.renderer.gl;b.colorMask(!0,!0,!0,!0);b.stencilFunc(b.EQUAL,this.getStackLength(),this._getBitwiseMask());b.stencilOp(b.KEEP,
b.KEEP,b.KEEP)};A.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1};return A}(Xa),lb=function(W){function A(b){b=W.call(this,b)||this;b.destinationFrame=null;b.sourceFrame=null;b.defaultFrame=null;b.projectionMatrix=new k.Matrix;b.transform=null;return b}y(A,W);A.prototype.update=function(b,e,D,da){this.destinationFrame=b||this.destinationFrame||this.defaultFrame;this.sourceFrame=e||this.sourceFrame||b;this.calculateProjection(this.destinationFrame,this.sourceFrame,D,da);this.transform&&
this.projectionMatrix.append(this.transform);b=this.renderer;b.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix;b.globalUniforms.update();b.shader.shader&&b.shader.syncUniformGroup(b.shader.shader.uniforms.globals)};A.prototype.calculateProjection=function(b,e,D,da){b=this.projectionMatrix;da=da?-1:1;b.identity();b.a=1/e.width*2;b.d=1/e.height*da*2;b.tx=-1-e.x*b.a;b.ty=-da-e.y*b.d};A.prototype.setTransform=function(b){};return A}(ca),mb=new k.Rectangle,nb=new k.Rectangle,ob=new k.Rectangle,
sb=function(W){function A(b){var e=W.call(this,b)||this;e.clearColor=b._backgroundColorRgba;e.defaultMaskStack=[];e.current=null;e.sourceFrame=new k.Rectangle;e.destinationFrame=new k.Rectangle;return e}y(A,W);A.prototype.bind=function(b,e,D){void 0===b&&(b=null);var da=this.renderer;this.current=b;if(b){var la=b.baseTexture;var va=la.resolution;e||(mb.width=b.frame.width,mb.height=b.frame.height,e=mb);D||(nb.x=b.frame.x,nb.y=b.frame.y,nb.width=e.width,nb.height=e.height,D=nb);var Aa=la.framebuffer}else va=
da.resolution,e||(mb.width=da.screen.width,mb.height=da.screen.height,e=mb),D||(D=mb,D.width=e.width,D.height=e.height);ob.x=D.x*va;ob.y=D.y*va;ob.width=D.width*va;ob.height=D.height*va;this.renderer.framebuffer.bind(Aa,ob);this.renderer.projection.update(D,e,va,!Aa);b?this.renderer.mask.setMaskStack(la.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e);this.destinationFrame.copyFrom(D)};A.prototype.clear=function(b,e){b=this.current?b||this.current.baseTexture.clearColor:
b||this.clearColor;this.renderer.framebuffer.clear(b[0],b[1],b[2],b[3],e)};A.prototype.resize=function(){this.bind(null)};A.prototype.reset=function(){this.bind(null)};return A}(ca),Ib=function(){return function(){}}(),tb=function(){function W(A,b){this.program=A;this.uniformData=b;this.uniformGroups={}}W.prototype.destroy=function(){this.program=this.uniformGroups=this.uniformData=null};return W}(),Jb=0,ub={textureCount:0},vb=function(W){function A(b){b=W.call(this,b)||this;b.destroyed=!1;b.systemCheck();
b.gl=null;b.shader=null;b.program=null;b.cache={};b.id=Jb++;return b}y(A,W);A.prototype.systemCheck=function(){if("boolean"!==typeof B)try{B=!0===(new Function("param1","param2","param3","return param1[param2] \x3d\x3d\x3d param3;"))({a:"b"},"a","b")}catch(e){B=!1}var b=B;if(!b)throw Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.");};A.prototype.contextChange=function(b){this.gl=b;this.reset()};A.prototype.bind=function(b,e){b.uniforms.globals=
this.renderer.globalUniforms;var D=b.program,da=D.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(b);this.shader=b;this.program!==D&&(this.program=D,this.gl.useProgram(da.program));e||(ub.textureCount=0,this.syncUniformGroup(b.uniformGroup,ub));return da};A.prototype.setUniforms=function(b){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,b,this.renderer)};A.prototype.syncUniformGroup=function(b,e){var D=this.getglProgram();b.static&&b.dirtyId===
D.uniformGroups[b.id]||(D.uniformGroups[b.id]=b.dirtyId,this.syncUniforms(b,D,e))};A.prototype.syncUniforms=function(b,e,D){(b.syncUniforms[this.shader.program.id]||this.createSyncGroups(b))(e.uniformData,b.uniforms,this.renderer,D)};A.prototype.createSyncGroups=function(b){var e=this.getSignature(b,this.shader.program.uniformData);if(!this.cache[e]){var D=this.cache;var da=this.shader.program.uniformData;var la=["\n        var v \x3d null;\n        var cv \x3d null\n        var t \x3d 0;\n        var gl \x3d renderer.gl\n    "],
va;for(va in b.uniforms){var Aa=da[va];if(Aa){for(var La=b.uniforms[va],Qa=!1,Ta=0;Ta<d.length;Ta++)if(d[Ta].test(Aa,La)){la.push(d[Ta].code(va,La));Qa=!0;break}Qa||(Aa=(1===Aa.size?a:f)[Aa.type].replace("location",'ud["'+va+'"].location'),la.push('\n            cv \x3d ud["'+va+'"].value;\n            v \x3d uv["'+va+'"];\n            '+Aa+";"))}else b.uniforms[va].group&&la.push('\n                    renderer.shader.syncUniformGroup(uv["'+va+'"], syncData);\n                ')}da=new Function("ud",
"uv","renderer","syncData",la.join("\n"));D[e]=da}b.syncUniforms[this.shader.program.id]=this.cache[e];return b.syncUniforms[this.shader.program.id]};A.prototype.getSignature=function(b,e){b=b.uniforms;var D=[],da;for(da in b)D.push(da),e[da]&&D.push(e[da].type);return D.join("-")};A.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null};A.prototype.generateShader=function(b){var e=this.gl;b=b.program;var D={},da;for(da in b.attributeData)D[da]=
b.attributeData[da].location;D=t(e,b.vertexSrc,b.fragmentSrc,D);var la={};for(da in b.uniformData){var va=b.uniformData[da];la[da]={location:e.getUniformLocation(D,da),value:C(va.type,va.size)}}e=new tb(D,la);return b.glPrograms[this.renderer.CONTEXT_UID]=e};A.prototype.reset=function(){this.shader=this.program=null};A.prototype.destroy=function(){this.destroyed=!0};return A}(ca),wb=function(W){function A(b){b=W.call(this,b)||this;b.gl=null;b.stateId=0;b.polygonOffset=0;b.blendMode=z.BLEND_MODES.NONE;
b._blendEq=!1;b.map=[];b.map[0]=b.setBlend;b.map[1]=b.setOffset;b.map[2]=b.setCullFace;b.map[3]=b.setDepthTest;b.map[4]=b.setFrontFace;b.checks=[];b.defaultState=new ja;b.defaultState.blend=!0;return b}y(A,W);A.prototype.contextChange=function(b){this.gl=b;var e=void 0;void 0===e&&(e=[]);e[z.BLEND_MODES.NORMAL]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.ADD]=[b.ONE,b.ONE];e[z.BLEND_MODES.MULTIPLY]=[b.DST_COLOR,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.SCREEN]=[b.ONE,b.ONE_MINUS_SRC_COLOR,
b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.OVERLAY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.DARKEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.LIGHTEN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.COLOR_DODGE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.COLOR_BURN]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.HARD_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.SOFT_LIGHT]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.DIFFERENCE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.EXCLUSION]=
[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.HUE]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.SATURATION]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.COLOR]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.LUMINOSITY]=[b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.NONE]=[0,0];e[z.BLEND_MODES.NORMAL_NPM]=[b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.ADD_NPM]=[b.SRC_ALPHA,b.ONE,b.ONE,b.ONE];e[z.BLEND_MODES.SCREEN_NPM]=[b.SRC_ALPHA,b.ONE_MINUS_SRC_COLOR,b.ONE,b.ONE_MINUS_SRC_ALPHA];
e[z.BLEND_MODES.SRC_IN]=[b.DST_ALPHA,b.ZERO];e[z.BLEND_MODES.SRC_OUT]=[b.ONE_MINUS_DST_ALPHA,b.ZERO];e[z.BLEND_MODES.SRC_ATOP]=[b.DST_ALPHA,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.DST_OVER]=[b.ONE_MINUS_DST_ALPHA,b.ONE];e[z.BLEND_MODES.DST_IN]=[b.ZERO,b.SRC_ALPHA];e[z.BLEND_MODES.DST_OUT]=[b.ZERO,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.DST_ATOP]=[b.ONE_MINUS_DST_ALPHA,b.SRC_ALPHA];e[z.BLEND_MODES.XOR]=[b.ONE_MINUS_DST_ALPHA,b.ONE_MINUS_SRC_ALPHA];e[z.BLEND_MODES.SUBTRACT]=[b.ONE,b.ONE,b.ONE,b.ONE,b.FUNC_REVERSE_SUBTRACT,
b.FUNC_ADD];this.blendModes=e;this.set(this.defaultState);this.reset()};A.prototype.set=function(b){b=b||this.defaultState;if(this.stateId!==b.data){for(var e=this.stateId^b.data,D=0;e;)e&1&&this.map[D].call(this,!!(b.data&1<<D)),e>>=1,D++;this.stateId=b.data}for(D=0;D<this.checks.length;D++)this.checks[D](this,b)};A.prototype.forceState=function(b){b=b||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(b.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,
b);this.stateId=b.data};A.prototype.setBlend=function(b){this.updateCheck(A.checkBlendMode,b);this.gl[b?"enable":"disable"](this.gl.BLEND)};A.prototype.setOffset=function(b){this.updateCheck(A.checkPolygonOffset,b);this.gl[b?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)};A.prototype.setDepthTest=function(b){this.gl[b?"enable":"disable"](this.gl.DEPTH_TEST)};A.prototype.setCullFace=function(b){this.gl[b?"enable":"disable"](this.gl.CULL_FACE)};A.prototype.setFrontFace=function(b){this.gl.frontFace(this.gl[b?
"CW":"CCW"])};A.prototype.setBlendMode=function(b){if(b!==this.blendMode){this.blendMode=b;b=this.blendModes[b];var e=this.gl;2===b.length?e.blendFunc(b[0],b[1]):e.blendFuncSeparate(b[0],b[1],b[2],b[3]);6===b.length?(this._blendEq=!0,e.blendEquationSeparate(b[4],b[5])):this._blendEq&&(this._blendEq=!1,e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD))}};A.prototype.setPolygonOffset=function(b,e){this.gl.polygonOffset(b,e)};A.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,
!1);this.forceState(this.defaultState);this._blendEq=!0;this.blendMode=-1;this.setBlendMode(0)};A.prototype.updateCheck=function(b,e){var D=this.checks.indexOf(b);e&&-1===D?this.checks.push(b):e||-1===D||this.checks.splice(D,1)};A.checkBlendMode=function(b,e){b.setBlendMode(e.blendMode)};A.checkPolygonOffset=function(b,e){b.setPolygonOffset(1,e.polygonOffset)};return A}(ca),xb=function(W){function A(b){b=W.call(this,b)||this;b.count=0;b.checkCount=0;b.maxIdle=q.settings.GC_MAX_IDLE;b.checkCountMax=
q.settings.GC_MAX_CHECK_COUNT;b.mode=q.settings.GC_MODE;return b}y(A,W);A.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==z.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))};A.prototype.run=function(){for(var b=this.renderer.texture,e=b.managedTextures,D=!1,da=0;da<e.length;da++){var la=e[da];!la.framebuffer&&this.count-la.touched>this.maxIdle&&(b.destroyTexture(la,!0),e[da]=null,D=!0)}if(D){for(da=
b=0;da<e.length;da++)null!==e[da]&&(e[b++]=e[da]);e.length=b}};A.prototype.unload=function(b){var e=this.renderer.texture,D=b._texture;D&&!D.framebuffer&&e.destroyTexture(D);for(e=b.children.length-1;0<=e;e--)this.unload(b.children[e])};return A}(ca),qb=function(){return function(W){this.texture=W;this.dirtyStyleId=this.dirtyId=this.height=this.width=-1;this.mipmap=!1;this.wrapMode=33071;this.type=6408;this.internalFormat=5121}}(),yb=function(W){function A(b){b=W.call(this,b)||this;b.boundTextures=
[];b.currentLocation=-1;b.managedTextures=[];b._unknownBoundTextures=!1;b.unknownTexture=new G;return b}y(A,W);A.prototype.contextChange=function(){var b=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.webGLVersion=this.renderer.context.webGLVersion;var e=b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var D=0;D<e;D++)this.boundTextures[D]=null;this.emptyTextures={};e=new qb(b.createTexture());b.bindTexture(b.TEXTURE_2D,e.texture);b.texImage2D(b.TEXTURE_2D,
0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,new Uint8Array(4));this.emptyTextures[b.TEXTURE_2D]=e;this.emptyTextures[b.TEXTURE_CUBE_MAP]=new qb(b.createTexture());b.bindTexture(b.TEXTURE_CUBE_MAP,this.emptyTextures[b.TEXTURE_CUBE_MAP].texture);for(D=0;6>D;D++)b.texImage2D(b.TEXTURE_CUBE_MAP_POSITIVE_X+D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null);b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MAG_FILTER,b.LINEAR);b.texParameteri(b.TEXTURE_CUBE_MAP,b.TEXTURE_MIN_FILTER,b.LINEAR);for(D=0;D<this.boundTextures.length;D++)this.bind(null,
D)};A.prototype.bind=function(b,e){void 0===e&&(e=0);var D=this.gl;if(b){if(b=b.castToBaseTexture(),!b.parentTextureArray&&b.valid){b.touched=this.renderer.textureGC.count;var da=b._glTextures[this.CONTEXT_UID]||this.initTexture(b);this.boundTextures[e]!==b&&(this.currentLocation!==e&&(this.currentLocation=e,D.activeTexture(D.TEXTURE0+e)),D.bindTexture(b.target,da.texture));da.dirtyId!==b.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,D.activeTexture(D.TEXTURE0+e)),this.updateTexture(b));
this.boundTextures[e]=b}}else this.currentLocation!==e&&(this.currentLocation=e,D.activeTexture(D.TEXTURE0+e)),D.bindTexture(D.TEXTURE_2D,this.emptyTextures[D.TEXTURE_2D].texture),this.boundTextures[e]=null};A.prototype.reset=function(){this._unknownBoundTextures=!0;this.currentLocation=-1;for(var b=0;b<this.boundTextures.length;b++)this.boundTextures[b]=this.unknownTexture};A.prototype.unbind=function(b){var e=this.gl,D=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=
!1;for(var da=0;da<D.length;da++)D[da]===this.unknownTexture&&this.bind(null,da)}for(da=0;da<D.length;da++)D[da]===b&&(this.currentLocation!==da&&(e.activeTexture(e.TEXTURE0+da),this.currentLocation=da),e.bindTexture(b.target,this.emptyTextures[b.target].texture),D[da]=null)};A.prototype.initTexture=function(b){var e=new qb(this.gl.createTexture());e.dirtyId=-1;b._glTextures[this.CONTEXT_UID]=e;this.managedTextures.push(b);b.on("dispose",this.destroyTexture,this);return e};A.prototype.initTextureType=
function(b,e){e.internalFormat=b.format;e.type=b.type;if(2===this.webGLVersion){var D=this.renderer.gl;b.type===D.FLOAT&&b.format===D.RGBA&&(e.internalFormat=D.RGBA32F);b.type===z.TYPES.HALF_FLOAT&&(e.type=D.HALF_FLOAT);e.type===D.HALF_FLOAT&&b.format===D.RGBA&&(e.internalFormat=D.RGBA16F)}};A.prototype.updateTexture=function(b){var e=b._glTextures[this.CONTEXT_UID];if(e){var D=this.renderer;this.initTextureType(b,e);if(!b.resource||!b.resource.upload(D,b,e)){var da=b.realWidth,la=b.realHeight;D=
D.gl;if(e.width!==da||e.height!==la||0>e.dirtyId)e.width=da,e.height=la,D.texImage2D(b.target,0,e.internalFormat,da,la,0,b.format,e.type,null)}b.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(b);e.dirtyId=b.dirtyId}};A.prototype.destroyTexture=function(b,e){var D=this.gl;b=b.castToBaseTexture();b._glTextures[this.CONTEXT_UID]&&(this.unbind(b),D.deleteTexture(b._glTextures[this.CONTEXT_UID].texture),b.off("dispose",this.destroyTexture,this),delete b._glTextures[this.CONTEXT_UID],e||(b=this.managedTextures.indexOf(b),
-1!==b&&I.removeItems(this.managedTextures,b,1)))};A.prototype.updateTextureStyle=function(b){var e=b._glTextures[this.CONTEXT_UID];e&&(e.mipmap=b.mipmap!==z.MIPMAP_MODES.POW2&&2===this.webGLVersion||b.isPowerOfTwo?1<=b.mipmap:!1,e.wrapMode=2===this.webGLVersion||b.isPowerOfTwo?b.wrapMode:z.WRAP_MODES.CLAMP,b.resource&&b.resource.style(this.renderer,b,e)||this.setStyle(b,e),e.dirtyStyleId=b.dirtyStyleId)};A.prototype.setStyle=function(b,e){var D=this.gl;e.mipmap&&D.generateMipmap(b.target);D.texParameteri(b.target,
D.TEXTURE_WRAP_S,e.wrapMode);D.texParameteri(b.target,D.TEXTURE_WRAP_T,e.wrapMode);if(e.mipmap){if(D.texParameteri(b.target,D.TEXTURE_MIN_FILTER,b.scaleMode===z.SCALE_MODES.LINEAR?D.LINEAR_MIPMAP_LINEAR:D.NEAREST_MIPMAP_NEAREST),(e=this.renderer.context.extensions.anisotropicFiltering)&&0<b.anisotropicLevel&&b.scaleMode===z.SCALE_MODES.LINEAR){var da=Math.min(b.anisotropicLevel,D.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT));D.texParameterf(b.target,e.TEXTURE_MAX_ANISOTROPY_EXT,da)}}else D.texParameteri(b.target,
D.TEXTURE_MIN_FILTER,b.scaleMode===z.SCALE_MODES.LINEAR?D.LINEAR:D.NEAREST);D.texParameteri(b.target,D.TEXTURE_MAG_FILTER,b.scaleMode===z.SCALE_MODES.LINEAR?D.LINEAR:D.NEAREST)};return A}(ca),Kb={FilterSystem:fb,BatchSystem:$a,ContextSystem:gb,FramebufferSystem:c,GeometrySystem:O,MaskSystem:Ra,ScissorSystem:ab,StencilSystem:hb,ProjectionSystem:lb,RenderTextureSystem:sb,ShaderSystem:vb,StateSystem:wb,TextureGCSystem:xb,TextureSystem:yb},rb=new k.Matrix,zb=function(W){function A(b,e){void 0===b&&(b=
z.RENDERER_TYPE.UNKNOWN);var D=W.call(this)||this;e=Object.assign({},q.settings.RENDER_OPTIONS,e);e.roundPixels&&(q.settings.ROUND_PIXELS=e.roundPixels,I.deprecation("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2));D.options=e;D.type=b;D.screen=new k.Rectangle(0,0,e.width,e.height);D.view=e.view||document.createElement("canvas");D.resolution=e.resolution||q.settings.RESOLUTION;D.transparent=e.transparent;D.autoDensity=e.autoDensity||e.autoResize||!1;D.preserveDrawingBuffer=
e.preserveDrawingBuffer;D.clearBeforeRender=e.clearBeforeRender;D._backgroundColor=0;D._backgroundColorRgba=[0,0,0,0];D._backgroundColorString="#000000";D.backgroundColor=e.backgroundColor||D._backgroundColor;D._lastObjectRendered=null;D.plugins={};return D}y(A,W);A.prototype.initPlugins=function(b){for(var e in b)this.plugins[e]=new b[e](this)};Object.defineProperty(A.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0});Object.defineProperty(A.prototype,"height",
{get:function(){return this.view.height},enumerable:!1,configurable:!0});A.prototype.resize=function(b,e){this.screen.width=b;this.screen.height=e;this.view.width=b*this.resolution;this.view.height=e*this.resolution;this.autoDensity&&(this.view.style.width=b+"px",this.view.style.height=e+"px");this.emit("resize",b,e)};A.prototype.generateTexture=function(b,e,D,da){da=da||b.getLocalBounds(null,!0);0===da.width&&(da.width=1);0===da.height&&(da.height=1);e=za.create({width:da.width|0,height:da.height|
0,scaleMode:e,resolution:D});rb.tx=-da.x;rb.ty=-da.y;this.render(b,e,!1,rb,!!b.parent);return e};A.prototype.destroy=function(b){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;b&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null;this.type=z.RENDERER_TYPE.UNKNOWN;this._lastObjectRendered=this._backgroundColorString=this._backgroundColorRgba=this.options=this._tempDisplayObjectParent=this.screen=this.view=null};Object.defineProperty(A.prototype,
"backgroundColor",{get:function(){return this._backgroundColor},set:function(b){this._backgroundColor=b;this._backgroundColorString=I.hex2string(b);I.hex2rgb(b,this._backgroundColorRgba)},enumerable:!1,configurable:!0});return A}(I.EventEmitter),Ab=function(W){function A(b){var e=W.call(this,z.RENDERER_TYPE.WEBGL,b)||this;b=e.options;e.gl=null;e.CONTEXT_UID=0;e.runners={destroy:new P.Runner("destroy"),contextChange:new P.Runner("contextChange"),reset:new P.Runner("reset"),update:new P.Runner("update"),
postrender:new P.Runner("postrender"),prerender:new P.Runner("prerender"),resize:new P.Runner("resize")};e.globalUniforms=new Za({projectionMatrix:new k.Matrix},!0);e.addSystem(Ra,"mask").addSystem(gb,"context").addSystem(wb,"state").addSystem(vb,"shader").addSystem(yb,"texture").addSystem(O,"geometry").addSystem(c,"framebuffer").addSystem(ab,"scissor").addSystem(hb,"stencil").addSystem(lb,"projection").addSystem(xb,"textureGC").addSystem(fb,"filter").addSystem(sb,"renderTexture").addSystem($a,"batch");
e.initPlugins(A.__plugins);b.context?e.context.initFromContext(b.context):e.context.initFromOptions({alpha:!!e.transparent,antialias:b.antialias,premultipliedAlpha:e.transparent&&"notMultiplied"!==e.transparent,stencil:!0,preserveDrawingBuffer:b.preserveDrawingBuffer,powerPreference:e.options.powerPreference});e.renderingToScreen=!0;I.sayHello(2===e.context.webGLVersion?"WebGL 2":"WebGL 1");e.resize(e.options.width,e.options.height);return e}y(A,W);A.create=function(b){if(I.isWebGLSupported())return new A(b);
throw Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.');};A.prototype.addSystem=function(b,e){e||(e=b.name);b=new b(this);if(this[e])throw Error('Whoops! The name "'+e+'" is already in use');this[e]=b;for(var D in this.runners)this.runners[D].add(b);return this};A.prototype.render=function(b,e,D,da,la){this.renderingToScreen=!e;this.runners.prerender.emit();this.emit("prerender");this.projection.transform=da;this.context.isLost||(e||(this._lastObjectRendered=
b),la||(da=b.enableTempParent(),b.updateTransform(),b.disableTempParent(da)),this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==D?D:this.clearBeforeRender)&&this.renderTexture.clear(),b.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender"))};A.prototype.resize=function(b,e){W.prototype.resize.call(this,b,e);this.runners.resize.emit(b,e)};A.prototype.reset=function(){this.runners.reset.emit();
return this};A.prototype.clear=function(){this.renderTexture.bind();this.renderTexture.clear()};A.prototype.destroy=function(b){this.runners.destroy.emit();for(var e in this.runners)this.runners[e].destroy();W.prototype.destroy.call(this,b);this.gl=null};A.registerPlugin=function(b,e){A.__plugins=A.__plugins||{};A.__plugins[b]=e};return A}(zb),Bb=function(){return function(){this.texArray=null;this.blend=0;this.type=z.DRAW_MODES.TRIANGLES;this.size=this.start=0;this.data=null}}(),Cb=function(){function W(){this.elements=
[];this.ids=[];this.count=0}W.prototype.clear=function(){for(var A=0;A<this.count;A++)this.elements[A]=null;this.count=0};return W}(),Db=function(){function W(A){this.rawBinaryData=new ArrayBuffer(A);this.uint32View=new Uint32Array(this.rawBinaryData);this.float32View=new Float32Array(this.rawBinaryData)}Object.defineProperty(W.prototype,"int8View",{get:function(){this._int8View||(this._int8View=new Int8Array(this.rawBinaryData));return this._int8View},enumerable:!1,configurable:!0});Object.defineProperty(W.prototype,
"uint8View",{get:function(){this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData));return this._uint8View},enumerable:!1,configurable:!0});Object.defineProperty(W.prototype,"int16View",{get:function(){this._int16View||(this._int16View=new Int16Array(this.rawBinaryData));return this._int16View},enumerable:!1,configurable:!0});Object.defineProperty(W.prototype,"uint16View",{get:function(){this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData));return this._uint16View},
enumerable:!1,configurable:!0});Object.defineProperty(W.prototype,"int32View",{get:function(){this._int32View||(this._int32View=new Int32Array(this.rawBinaryData));return this._int32View},enumerable:!1,configurable:!0});W.prototype.view=function(A){return this[A+"View"]};W.prototype.destroy=function(){this.float32View=this.uint32View=this._int32View=this._uint16View=this._int16View=this._uint8View=this._int8View=this.rawBinaryData=null};W.sizeOf=function(A){switch(A){case "int8":case "uint8":return 1;
case "int16":case "uint16":return 2;case "int32":case "uint32":case "float32":return 4;default:throw Error(A+" isn't a valid view type");}};return W}(),Eb=function(W){function A(b){var e=W.call(this,b)||this;e.shaderGenerator=null;e.geometryClass=null;e.vertexSize=null;e.state=ja.for2d();e.size=4*q.settings.SPRITE_BATCH_SIZE;e._vertexCount=0;e._indexCount=0;e._bufferedElements=[];e._bufferedTextures=[];e._bufferSize=0;e._shader=null;e._packedGeometries=[];e._packedGeometryPoolSize=2;e._flushId=0;
e._aBuffers={};e._iBuffers={};e.MAX_TEXTURES=1;e.renderer.on("prerender",e.onPrerender,e);b.runners.contextChange.add(e);e._dcIndex=0;e._aIndex=0;e._iIndex=0;e._attributeBuffer=null;e._indexBuffer=null;e._tempBoundTextures=[];return e}y(A,W);A.prototype.contextChange=function(){var b=this.renderer.gl;q.settings.PREFER_ENV===z.ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS),q.settings.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=u(this.MAX_TEXTURES,
b));this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(b=0;b<this._packedGeometryPoolSize;b++)this._packedGeometries[b]=new this.geometryClass;this.initFlushBuffers()};A.prototype.initFlushBuffers=function(){for(var b=A._drawCallPool,e=A._textureArrayPool,D=this.size/4,da=Math.floor(D/this.MAX_TEXTURES)+1;b.length<D;)b.push(new Bb);for(;e.length<da;)e.push(new Cb);for(b=0;b<this.MAX_TEXTURES;b++)this._tempBoundTextures[b]=null};A.prototype.onPrerender=function(){this._flushId=
0};A.prototype.render=function(b){b._texture.valid&&(this._vertexCount+b.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=b.vertexData.length/2,this._indexCount+=b.indices.length,this._bufferedTextures[this._bufferSize]=b._texture.baseTexture,this._bufferedElements[this._bufferSize++]=b)};A.prototype.buildTexturesAndDrawCalls=function(){var b=this._bufferedTextures,e=this.MAX_TEXTURES,D=A._textureArrayPool,da=this.renderer.batch,la=this._tempBoundTextures,va=this.renderer.textureGC.count,
Aa=++G._globalBatch,La=0,Qa=D[0],Ta=0;da.copyBoundTextures(la,e);for(var Ya=0;Ya<this._bufferSize;++Ya){var Sa=b[Ya];b[Ya]=null;Sa._batchEnabled!==Aa&&(Qa.count>=e&&(da.boundArray(Qa,la,Aa,e),this.buildDrawCalls(Qa,Ta,Ya),Ta=Ya,Qa=D[++La],++Aa),Sa._batchEnabled=Aa,Sa.touched=va,Qa.elements[Qa.count++]=Sa)}0<Qa.count&&(da.boundArray(Qa,la,Aa,e),this.buildDrawCalls(Qa,Ta,this._bufferSize),++Aa);for(Ya=0;Ya<la.length;Ya++)la[Ya]=null;G._globalBatch=Aa};A.prototype.buildDrawCalls=function(b,e,D){var da=
this._bufferedElements,la=this._attributeBuffer,va=this._indexBuffer,Aa=this.vertexSize,La=A._drawCallPool,Qa=this._dcIndex,Ta=this._aIndex,Ya=this._iIndex,Sa=La[Qa];Sa.start=this._iIndex;Sa.texArray=b;for(var db=e;db<D;++db){var jb=da[db],pb=I.premultiplyBlendMode[jb._texture.baseTexture.alphaMode?1:0][jb.blendMode];da[db]=null;e<db&&Sa.blend!==pb&&(Sa.size=Ya-Sa.start,e=db,Sa=La[++Qa],Sa.texArray=b,Sa.start=Ya);this.packInterleavedGeometry(jb,la,va,Ta,Ya);Ta+=jb.vertexData.length/2*Aa;Ya+=jb.indices.length;
Sa.blend=pb}e<D&&(Sa.size=Ya-Sa.start,++Qa);this._dcIndex=Qa;this._aIndex=Ta;this._iIndex=Ya};A.prototype.bindAndClearTexArray=function(b){for(var e=this.renderer.texture,D=0;D<b.count;D++)e.bind(b.elements[D],b.ids[D]),b.elements[D]=null;b.count=0};A.prototype.updateGeometry=function(){var b=this._packedGeometries,e=this._attributeBuffer,D=this._indexBuffer;q.settings.CAN_UPLOAD_SAME_BUFFER?(b[this._flushId]._buffer.update(e.rawBinaryData),b[this._flushId]._indexBuffer.update(D),this.renderer.geometry.updateBuffers()):
(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,b[this._flushId]=new this.geometryClass),b[this._flushId]._buffer.update(e.rawBinaryData),b[this._flushId]._indexBuffer.update(D),this.renderer.geometry.bind(b[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)};A.prototype.drawBatches=function(){var b=this._dcIndex,e=this.renderer,D=e.gl;e=e.state;for(var da=A._drawCallPool,la=null,va=0;va<b;va++){var Aa=da[va],La=Aa.texArray,Qa=Aa.type,Ta=Aa.size,
Ya=Aa.start;Aa=Aa.blend;la!==La&&(la=La,this.bindAndClearTexArray(La));this.state.blendMode=Aa;e.set(this.state);D.drawElements(Qa,Ta,D.UNSIGNED_SHORT,2*Ya)}};A.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._dcIndex=this._iIndex=this._aIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._indexCount=this._vertexCount=this._bufferSize=
0)};A.prototype.start=function(){this.renderer.state.set(this.state);this.renderer.shader.bind(this._shader);q.settings.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])};A.prototype.stop=function(){this.flush()};A.prototype.destroy=function(){for(var b=0;b<this._packedGeometryPoolSize;b++)this._packedGeometries[b]&&this._packedGeometries[b].destroy();this.renderer.off("prerender",this.onPrerender,this);this._indexBuffer=this._attributeBuffer=this._packedGeometries=
this._iBuffers=this._aBuffers=null;this._shader&&(this._shader.destroy(),this._shader=null);W.prototype.destroy.call(this)};A.prototype.getAttributeBuffer=function(b){var e=I.nextPow2(Math.ceil(b/8));b=I.log2(e);e*=8;this._aBuffers.length<=b&&(this._iBuffers.length=b+1);(b=this._aBuffers[e])||(this._aBuffers[e]=b=new Db(e*this.vertexSize*4));return b};A.prototype.getIndexBuffer=function(b){b=I.nextPow2(Math.ceil(b/12));var e=I.log2(b);this._iBuffers.length<=e&&(this._iBuffers.length=e+1);var D=this._iBuffers[e];
D||(this._iBuffers[e]=D=new Uint16Array(12*b));return D};A.prototype.packInterleavedGeometry=function(b,e,D,da,la){var va=e.uint32View;e=e.float32View;var Aa=da/this.vertexSize,La=b.uvs,Qa=b.indices,Ta=b.vertexData,Ya=b._texture.baseTexture._batchLocation,Sa=Math.min(b.worldAlpha,1);b=1>Sa&&b._texture.baseTexture.alphaMode?I.premultiplyTint(b._tintRGB,Sa):b._tintRGB+(255*Sa<<24);for(Sa=0;Sa<Ta.length;Sa+=2)e[da++]=Ta[Sa],e[da++]=Ta[Sa+1],e[da++]=La[Sa],e[da++]=La[Sa+1],va[da++]=b,e[da++]=Ya;for(Sa=
0;Sa<Qa.length;Sa++)D[la++]=Aa+Qa[Sa]};A._drawCallPool=[];A._textureArrayPool=[];return A}(cb),Fb=function(){function W(A,b){this.vertexSrc=A;this.fragTemplate=b;this.programCache={};this.defaultGroupCache={};if(0>b.indexOf("%count%"))throw Error('Fragment template must contain "%count%".');if(0>b.indexOf("%forloop%"))throw Error('Fragment template must contain "%forloop%".');}W.prototype.generateShader=function(A){if(!this.programCache[A]){for(var b=new Int32Array(A),e=0;e<A;e++)b[e]=e;this.defaultGroupCache[A]=
Za.from({uSamplers:b},!0);b=this.fragTemplate;b=b.replace(/%count%/gi,""+A);b=b.replace(/%forloop%/gi,this.generateSampleSrc(A));this.programCache[A]=new M(this.vertexSrc,b)}b={tint:new Float32Array([1,1,1,1]),translationMatrix:new k.Matrix,default:this.defaultGroupCache[A]};return new X(this.programCache[A],b)};W.prototype.generateSampleSrc=function(A){var b="\n\n";for(var e=0;e<A;e++)0<e&&(b+="\nelse "),e<A-1&&(b+="if(vTextureId \x3c "+e+".5)"),b+="\n{",b+="\n\tcolor \x3d texture2D(uSamplers["+
e+"], vTextureCoord);",b+="\n}";return b+"\n\n"};return W}(),Gb=function(W){function A(b){void 0===b&&(b=!1);var e=W.call(this)||this;e._buffer=new Ka(null,b,!1);e._indexBuffer=new Ka(null,b,!0);e.addAttribute("aVertexPosition",e._buffer,2,!1,z.TYPES.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,z.TYPES.FLOAT).addAttribute("aColor",e._buffer,4,!0,z.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,z.TYPES.FLOAT).addIndex(e._indexBuffer);return e}y(A,W);return A}(Wa),Hb=function(){function W(){}
W.create=function(A){A=Object.assign({vertex:"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position \x3d vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d aTextureCoord;\n    vTextureId \x3d aTextureId;\n    vColor \x3d aColor * tint;\n}\n",
fragment:"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor \x3d color * vColor;\n}\n",geometryClass:Gb,vertexSize:6},A);var b=A.vertex,e=A.fragment,D=A.vertexSize,da=A.geometryClass;return function(la){function va(Aa){Aa=la.call(this,Aa)||this;Aa.shaderGenerator=new Fb(b,e);Aa.geometryClass=da;Aa.vertexSize=D;return Aa}y(va,la);return va}(Eb)};Object.defineProperty(W,
"defaultVertexSrc",{get:function(){return"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position \x3d vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d aTextureCoord;\n    vTextureId \x3d aTextureId;\n    vColor \x3d aColor * tint;\n}\n"},
enumerable:!1,configurable:!0});Object.defineProperty(W,"defaultFragmentTemplate",{get:function(){return"varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor \x3d color * vColor;\n}\n"},enumerable:!1,configurable:!0});return W}(),Lb=Hb.create();Y.AbstractBatchRenderer=Eb;Y.AbstractRenderer=zb;Y.Attribute=Ga;Y.BaseRenderTexture=sa;Y.BaseTexture=G;Y.BatchDrawCall=Bb;Y.BatchGeometry=
Gb;Y.BatchPluginFactory=Hb;Y.BatchRenderer=Lb;Y.BatchShaderGenerator=Fb;Y.BatchTextureArray=Cb;Y.Buffer=Ka;Y.Filter=ta;Y.FilterState=eb;Y.Framebuffer=ma;Y.GLFramebuffer=ib;Y.GLProgram=tb;Y.GLTexture=qb;Y.Geometry=Wa;Y.IGLUniformData=Ib;Y.MaskData=S;Y.ObjectRenderer=cb;Y.Program=M;Y.Quad=bb;Y.QuadUv=Ja;Y.RenderTexture=za;Y.RenderTexturePool=Ba;Y.Renderer=Ab;Y.Shader=X;Y.SpriteMaskFilter=Na;Y.State=ja;Y.System=ca;Y.Texture=wa;Y.TextureMatrix=Ia;Y.TextureUvs=qa;Y.UniformGroup=Za;Y.ViewableBuffer=Db;
Y.autoDetectRenderer=function(W){return Ab.create(W)};Y.checkMaxIfStatementsInShader=u;Y.defaultFilterVertex="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position \x3d aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position \x3d filterVertexPosition();\n    vTextureCoord \x3d filterTextureCoord();\n}\n";
Y.defaultVertex="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord \x3d aTextureCoord;\n}";Y.resources=V;Y.systems=Kb;Y.uniformParsers=d};
shadow$provide[17]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});ya=function(N){function y(Q){void 0===Q&&(Q=10);N.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord \x3d aTextureCoord;\n}","precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec2 size;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *\x3d filterArea.xy;\n    coord +\x3d filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -\x3d filterArea.zw;\n    coord /\x3d filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n\treturn floor( coord / size ) * size;\n}\n\nvoid main(void)\n{\n    vec2 coord \x3d mapCoord(vTextureCoord);\n\n    coord \x3d pixelate(coord, size);\n\n    coord \x3d unmapCoord(coord);\n\n    gl_FragColor \x3d texture2D(uSampler, coord);\n}\n");
this.size=Q}N&&(y.__proto__=N);y.prototype=Object.create(N&&N.prototype);y.prototype.constructor=y;var E={size:{configurable:!0}};E.size.get=function(){return this.uniforms.size};E.size.set=function(Q){"number"===typeof Q&&(Q=[Q,Q]);this.uniforms.size=Q};Object.defineProperties(y.prototype,E);return y}(pa(16).Filter);Y.PixelateFilter=ya};
shadow$provide[18]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});ya=function(N){function y(Q){N.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord \x3d aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nconst float SQRT_2 \x3d 1.414213;\n\nconst float light \x3d 1.0;\n\nuniform float curvature;\nuniform float lineWidth;\nuniform float lineContrast;\nuniform bool verticalLine;\nuniform float noise;\nuniform float noiseSize;\n\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\n\nuniform float seed;\nuniform float time;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    vec2 pixelCoord \x3d vTextureCoord.xy * filterArea.xy;\n    vec2 dir \x3d vec2(vTextureCoord.xy - vec2(0.5, 0.5)) * filterArea.xy / dimensions;\n\n    gl_FragColor \x3d texture2D(uSampler, vTextureCoord);\n    vec3 rgb \x3d gl_FragColor.rgb;\n\n    if (noise \x3e 0.0 \x26\x26 noiseSize \x3e 0.0)\n    {\n        pixelCoord.x \x3d floor(pixelCoord.x / noiseSize);\n        pixelCoord.y \x3d floor(pixelCoord.y / noiseSize);\n        float _noise \x3d rand(pixelCoord * noiseSize * seed) - 0.5;\n        rgb +\x3d _noise * noise;\n    }\n\n    if (lineWidth \x3e 0.0)\n    {\n        float _c \x3d curvature \x3e 0. ? curvature : 1.;\n        float k \x3d curvature \x3e 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;\n        vec2 uv \x3d dir * k;\n\n        float v \x3d (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;\n        float j \x3d 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;\n        rgb *\x3d j;\n        float segment \x3d verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);\n        rgb *\x3d 0.99 + ceil(segment) * 0.015;\n    }\n\n    if (vignetting \x3e 0.0)\n    {\n        float outter \x3d SQRT_2 - vignetting * SQRT_2;\n        float darker \x3d clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        rgb *\x3d darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    gl_FragColor.rgb \x3d rgb;\n}\n");
this.uniforms.dimensions=new Float32Array(2);this.seed=this.time=0;Object.assign(this,{curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0},Q)}N&&(y.__proto__=N);y.prototype=Object.create(N&&N.prototype);y.prototype.constructor=y;var E={curvature:{configurable:!0},lineWidth:{configurable:!0},lineContrast:{configurable:!0},verticalLine:{configurable:!0},noise:{configurable:!0},noiseSize:{configurable:!0},vignetting:{configurable:!0},
vignettingAlpha:{configurable:!0},vignettingBlur:{configurable:!0}};y.prototype.apply=function(Q,H,t,v){this.uniforms.dimensions[0]=H.filterFrame.width;this.uniforms.dimensions[1]=H.filterFrame.height;this.uniforms.seed=this.seed;this.uniforms.time=this.time;Q.applyFilter(this,H,t,v)};E.curvature.set=function(Q){this.uniforms.curvature=Q};E.curvature.get=function(){return this.uniforms.curvature};E.lineWidth.set=function(Q){this.uniforms.lineWidth=Q};E.lineWidth.get=function(){return this.uniforms.lineWidth};
E.lineContrast.set=function(Q){this.uniforms.lineContrast=Q};E.lineContrast.get=function(){return this.uniforms.lineContrast};E.verticalLine.set=function(Q){this.uniforms.verticalLine=Q};E.verticalLine.get=function(){return this.uniforms.verticalLine};E.noise.set=function(Q){this.uniforms.noise=Q};E.noise.get=function(){return this.uniforms.noise};E.noiseSize.set=function(Q){this.uniforms.noiseSize=Q};E.noiseSize.get=function(){return this.uniforms.noiseSize};E.vignetting.set=function(Q){this.uniforms.vignetting=
Q};E.vignetting.get=function(){return this.uniforms.vignetting};E.vignettingAlpha.set=function(Q){this.uniforms.vignettingAlpha=Q};E.vignettingAlpha.get=function(){return this.uniforms.vignettingAlpha};E.vignettingBlur.set=function(Q){this.uniforms.vignettingBlur=Q};E.vignettingBlur.get=function(){return this.uniforms.vignettingBlur};Object.defineProperties(y.prototype,E);return y}(pa(16).Filter);Y.CRTFilter=ya};
shadow$provide[19]=function(ya,pa,Ha,Y){(function(N){function y(){for(var G=0;G<J.length;G++)J[G][0](J[G][1]);J=[];p=!1}function E(G,R){J.push([G,R]);p||(p=!0,l(y,0))}function Q(G,R){function aa(ua){v(R,ua)}function ka(ua){L(R,ua)}try{G(aa,ka)}catch(ua){ka(ua)}}function H(G){var R=G.owner,aa=R.state_;R=R.data_;var ka=G[aa];G=G.then;if("function"===typeof ka){aa=k;try{R=ka(R)}catch(ua){L(G,ua)}}t(G,R)||(aa===k&&v(G,R),aa===h&&L(G,R))}function t(G,R){var aa;try{if(G===R)throw new TypeError("A promises callback cannot return that same promise.");
if(R&&("function"===typeof R||"object"===typeof R)){var ka=R.then;if("function"===typeof ka)return ka.call(R,function(ua){aa||(aa=!0,R!==ua?v(G,ua):C(G,ua))},function(ua){aa||(aa=!0,L(G,ua))}),!0}}catch(ua){return aa||L(G,ua),!0}return!1}function v(G,R){G!==R&&t(G,R)||C(G,R)}function C(G,R){G.state_===P&&(G.state_=m,G.data_=R,E(n,G))}function L(G,R){G.state_===P&&(G.state_=m,G.data_=R,E(u,G))}function F(G){var R=G.then_;G.then_=void 0;for(G=0;G<R.length;G++)H(R[G])}function n(G){G.state_=k;F(G)}function u(G){G.state_=
h;F(G)}function q(G){if("function"!==typeof G)throw new TypeError("Promise constructor takes a function argument");if(!1===this instanceof q)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];Q(G,this)}var z=N.Promise,I=z&&"resolve"in z&&"reject"in z&&"all"in z&&"race"in z&&function(){var G;new z(function(R){G=R});return"function"===typeof G}();"undefined"!==typeof Y&&Y?(Y.Promise=I?z:q,Y.Polyfill=
q):"function"==typeof define&&define.amd?define(function(){return I?z:q}):I||(N.Promise=q);var P="pending",m="sealed",k="fulfilled",h="rejected",r=function(){},l="undefined"!==typeof setImmediate?setImmediate:setTimeout,J=[],p;q.prototype={constructor:q,state_:P,then_:null,data_:void 0,then:function(G,R){G={owner:this,then:new this.constructor(r),fulfilled:G,rejected:R};this.state_===k||this.state_===h?E(H,G):this.then_.push(G);return G.then},"catch":function(G){return this.then(null,G)}};q.all=function(G){if("[object Array]"!==
Object.prototype.toString.call(G))throw new TypeError("You must pass an array to Promise.all().");return new this(function(R,aa){function ka(fa){ea++;return function(K){ua[fa]=K;--ea||R(ua)}}for(var ua=[],ea=0,xa=0,ba;xa<G.length;xa++)(ba=G[xa])&&"function"===typeof ba.then?ba.then(ka(xa),aa):ua[xa]=ba;ea||R(ua)})};q.race=function(G){if("[object Array]"!==Object.prototype.toString.call(G))throw new TypeError("You must pass an array to Promise.race().");return new this(function(R,aa){for(var ka=0,
ua;ka<G.length;ka++)(ua=G[ka])&&"function"===typeof ua.then?ua.then(R,aa):R(ua)})};q.resolve=function(G){return G&&"object"===typeof G&&G.constructor===this?G:new this(function(R){R(G)})};q.reject=function(G){return new this(function(R,aa){aa(G)})}})("undefined"!=typeof window?window:"undefined"!=typeof ya?ya:"undefined"!=typeof self?self:this)};
shadow$provide[20]=function(ya,pa,Ha,Y){var N=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;Ha.exports=function(){try{if(!Object.assign)return!1;var Q=new String("abc");Q[5]="de";if("5"===Object.getOwnPropertyNames(Q)[0])return!1;var H={};for(Q=0;10>Q;Q++)H["_"+String.fromCharCode(Q)]=Q;if("0123456789"!==Object.getOwnPropertyNames(H).map(function(v){return H[v]}).join(""))return!1;var t={};"abcdefghijklmnopqrst".split("").forEach(function(v){t[v]=
v});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},t)).join("")?!1:!0}catch(v){return!1}}()?Object.assign:function(Q,H){if(null===Q||void 0===Q)throw new TypeError("Object.assign cannot be called with null or undefined");var t=Object(Q);for(var v,C=1;C<arguments.length;C++){var L=Object(arguments[C]);for(var F in L)y.call(L,F)&&(t[F]=L[F]);if(N){v=N(L);for(var n=0;n<v.length;n++)E.call(L,v[n])&&(t[v[n]]=L[v[n]])}}return t}};
shadow$provide[21]=function(ya,pa,Ha,Y){ya=pa(19);pa=function(E){return E&&"object"===typeof E&&"default"in E?E["default"]:E}(pa(20));window.Promise||(window.Promise=ya.Polyfill);Object.assign||(Object.assign=pa);Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()});if(!window.performance||!window.performance.now){var N=Date.now();window.performance||(window.performance={});window.performance.now=function(){return Date.now()-N}}var y=Date.now();pa=["ms","moz","webkit",
"o"];for(ya=0;ya<pa.length&&!window.requestAnimationFrame;++ya)Ha=pa[ya],window.requestAnimationFrame=window[Ha+"RequestAnimationFrame"],window.cancelAnimationFrame=window[Ha+"CancelAnimationFrame"]||window[Ha+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(E){if("function"!==typeof E)throw new TypeError(E+"is not a function");var Q=Date.now(),H=16+y-Q;0>H&&(H=0);y=Q;return window.setTimeout(function(){y=Date.now();E(performance.now())},H)});window.cancelAnimationFrame||
(window.cancelAnimationFrame=function(E){return clearTimeout(E)});Math.sign||(Math.sign=function(E){E=Number(E);return 0===E||isNaN(E)?E:0<E?1:-1});Number.isInteger||(Number.isInteger=function(E){return"number"===typeof E&&isFinite(E)&&Math.floor(E)===E});window.ArrayBuffer||(window.ArrayBuffer=Array);window.Float32Array||(window.Float32Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint8Array||(window.Uint8Array=Array);window.Int32Array||
(window.Int32Array=Array)};
shadow$provide[22]=function(ya,pa,Ha,Y){function N(L,F){function n(){this.constructor=L}v(L,F);L.prototype=null===F?Object.create(F):(n.prototype=F.prototype,new n)}function y(L,F){return L.zIndex===F.zIndex?L._lastSortedIndex-F._lastSortedIndex:L.zIndex-F.zIndex}Object.defineProperty(Y,"__esModule",{value:!0});var E=pa(2),Q=pa(15),H=pa(12);E.settings.SORTABLE_CHILDREN=!1;var t=function(){function L(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity;this.rect=null;this.updateID=-1}L.prototype.isEmpty=
function(){return this.minX>this.maxX||this.minY>this.maxY};L.prototype.clear=function(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};L.prototype.getRectangle=function(F){if(this.minX>this.maxX||this.minY>this.maxY)return Q.Rectangle.EMPTY;F=F||new Q.Rectangle(0,0,1,1);F.x=this.minX;F.y=this.minY;F.width=this.maxX-this.minX;F.height=this.maxY-this.minY;return F};L.prototype.addPoint=function(F){this.minX=Math.min(this.minX,F.x);this.maxX=Math.max(this.maxX,F.x);this.minY=Math.min(this.minY,
F.y);this.maxY=Math.max(this.maxY,F.y)};L.prototype.addQuad=function(F){var n=this.minX,u=this.minY,q=this.maxX,z=this.maxY,I=F[0],P=F[1];n=I<n?I:n;u=P<u?P:u;q=I>q?I:q;z=P>z?P:z;I=F[2];P=F[3];n=I<n?I:n;u=P<u?P:u;q=I>q?I:q;z=P>z?P:z;I=F[4];P=F[5];n=I<n?I:n;u=P<u?P:u;q=I>q?I:q;z=P>z?P:z;I=F[6];P=F[7];this.minX=I<n?I:n;this.minY=P<u?P:u;this.maxX=I>q?I:q;this.maxY=P>z?P:z};L.prototype.addFrame=function(F,n,u,q,z){this.addFrameMatrix(F.worldTransform,n,u,q,z)};L.prototype.addFrameMatrix=function(F,n,
u,q,z){var I=F.a,P=F.b,m=F.c,k=F.d,h=F.tx;F=F.ty;var r=this.minX,l=this.minY,J=this.maxX,p=this.maxY,G=I*n+m*u+h,R=P*n+k*u+F;r=G<r?G:r;l=R<l?R:l;J=G>J?G:J;p=R>p?R:p;G=I*q+m*u+h;R=P*q+k*u+F;r=G<r?G:r;l=R<l?R:l;J=G>J?G:J;p=R>p?R:p;G=I*n+m*z+h;R=P*n+k*z+F;r=G<r?G:r;l=R<l?R:l;J=G>J?G:J;p=R>p?R:p;G=I*q+m*z+h;R=P*q+k*z+F;this.minX=G<r?G:r;this.minY=R<l?R:l;this.maxX=G>J?G:J;this.maxY=R>p?R:p};L.prototype.addVertexData=function(F,n,u){for(var q=this.minX,z=this.minY,I=this.maxX,P=this.maxY;n<u;n+=2){var m=
F[n],k=F[n+1];q=m<q?m:q;z=k<z?k:z;I=m>I?m:I;P=k>P?k:P}this.minX=q;this.minY=z;this.maxX=I;this.maxY=P};L.prototype.addVertices=function(F,n,u,q){this.addVerticesMatrix(F.worldTransform,n,u,q)};L.prototype.addVerticesMatrix=function(F,n,u,q,z,I){void 0===z&&(z=0);void 0===I&&(I=z);var P=F.a,m=F.b,k=F.c,h=F.d,r=F.tx;F=F.ty;for(var l=this.minX,J=this.minY,p=this.maxX,G=this.maxY;u<q;u+=2){var R=n[u],aa=n[u+1],ka=P*R+k*aa+r;R=h*aa+m*R+F;l=Math.min(l,ka-z);p=Math.max(p,ka+z);J=Math.min(J,R-I);G=Math.max(G,
R+I)}this.minX=l;this.minY=J;this.maxX=p;this.maxY=G};L.prototype.addBounds=function(F){var n=this.minX,u=this.minY,q=this.maxX,z=this.maxY;this.minX=F.minX<n?F.minX:n;this.minY=F.minY<u?F.minY:u;this.maxX=F.maxX>q?F.maxX:q;this.maxY=F.maxY>z?F.maxY:z};L.prototype.addBoundsMask=function(F,n){var u=F.minX>n.minX?F.minX:n.minX,q=F.minY>n.minY?F.minY:n.minY,z=F.maxX<n.maxX?F.maxX:n.maxX;F=F.maxY<n.maxY?F.maxY:n.maxY;if(u<=z&&q<=F){n=this.minX;var I=this.minY,P=this.maxX,m=this.maxY;this.minX=u<n?u:n;
this.minY=q<I?q:I;this.maxX=z>P?z:P;this.maxY=F>m?F:m}};L.prototype.addBoundsMatrix=function(F,n){this.addFrameMatrix(n,F.minX,F.minY,F.maxX,F.maxY)};L.prototype.addBoundsArea=function(F,n){var u=F.minX>n.x?F.minX:n.x,q=F.minY>n.y?F.minY:n.y,z=F.maxX<n.x+n.width?F.maxX:n.x+n.width;F=F.maxY<n.y+n.height?F.maxY:n.y+n.height;if(u<=z&&q<=F){n=this.minX;var I=this.minY,P=this.maxX,m=this.maxY;this.minX=u<n?u:n;this.minY=q<I?q:I;this.maxX=z>P?z:P;this.maxY=F>m?F:m}};L.prototype.pad=function(F,n){void 0===
F&&(F=0);void 0===n&&(n=F);this.isEmpty()||(this.minX-=F,this.maxX+=F,this.minY-=n,this.maxY+=n)};L.prototype.addFramePad=function(F,n,u,q,z,I){F-=z;n-=I;u+=z;q+=I;this.minX=this.minX<F?this.minX:F;this.maxX=this.maxX>u?this.maxX:u;this.minY=this.minY<n?this.minY:n;this.maxY=this.maxY>q?this.maxY:q};return L}(),v=function(L,F){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,u){n.__proto__=u}||function(n,u){for(var q in u)u.hasOwnProperty(q)&&(n[q]=u[q])};return v(L,F)};ya=function(L){function F(){var n=
L.call(this)||this;n.tempDisplayObjectParent=null;n.transform=new Q.Transform;n.alpha=1;n.visible=!0;n.renderable=!0;n.parent=null;n.worldAlpha=1;n._lastSortedIndex=0;n._zIndex=0;n.filterArea=null;n.filters=null;n._enabledFilters=null;n._bounds=new t;n._localBounds=null;n._boundsID=0;n._boundsRect=null;n._localBoundsRect=null;n._mask=null;n._destroyed=!1;n.isSprite=!1;n.isMask=!1;return n}N(F,L);F.mixin=function(n){for(var u=Object.keys(n),q=0;q<u.length;++q){var z=u[q];Object.defineProperty(F.prototype,
z,Object.getOwnPropertyDescriptor(n,z))}};F.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)};F.prototype.updateTransform=function(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha};F.prototype.getBounds=function(n,u){n||(this.parent?(this._recursivePostUpdateTransform(),
this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null));this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID);u||(this._boundsRect||(this._boundsRect=new Q.Rectangle),u=this._boundsRect);return this._bounds.getRectangle(u)};F.prototype.getLocalBounds=function(n){n||(this._localBoundsRect||(this._localBoundsRect=new Q.Rectangle),n=this._localBoundsRect);this._localBounds||(this._localBounds=new t);
var u=this.transform,q=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;var z=this._bounds,I=this._boundsID;this._bounds=this._localBounds;n=this.getBounds(!1,n);this.parent=q;this.transform=u;this._bounds=z;this._bounds.updateID+=this._boundsID-I;return n};F.prototype.toGlobal=function(n,u,q){void 0===q&&(q=!1);q||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),
this.parent=null));return this.worldTransform.apply(n,u)};F.prototype.toLocal=function(n,u,q,z){u&&(n=u.toGlobal(n,q,z));z||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null));return this.worldTransform.applyInverse(n,q)};F.prototype.setParent=function(n){if(!n||!n.addChild)throw Error("setParent: Argument must be a Container");n.addChild(this);return n};F.prototype.setTransform=
function(n,u,q,z,I,P,m,k,h){void 0===n&&(n=0);void 0===u&&(u=0);void 0===q&&(q=1);void 0===z&&(z=1);void 0===I&&(I=0);void 0===P&&(P=0);void 0===m&&(m=0);void 0===k&&(k=0);void 0===h&&(h=0);this.position.x=n;this.position.y=u;this.scale.x=q?q:1;this.scale.y=z?z:1;this.rotation=I;this.skew.x=P;this.skew.y=m;this.pivot.x=k;this.pivot.y=h;return this};F.prototype.destroy=function(n){this.parent&&this.parent.removeChild(this);this.removeAllListeners();this.hitArea=this.filterArea=this.filters=this._mask=
this._bounds=this.parent=this.transform=null;this.interactiveChildren=this.interactive=!1;this._destroyed=!0};Object.defineProperty(F.prototype,"_tempDisplayObjectParent",{get:function(){null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new C);return this.tempDisplayObjectParent},enumerable:!1,configurable:!0});F.prototype.enableTempParent=function(){var n=this.parent;this.parent=this._tempDisplayObjectParent;return n};F.prototype.disableTempParent=function(n){this.parent=n};Object.defineProperty(F.prototype,
"x",{get:function(){return this.position.x},set:function(n){this.transform.position.x=n},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"y",{get:function(){return this.position.y},set:function(n){this.transform.position.y=n},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"localTransform",{get:function(){return this.transform.localTransform},
enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"position",{get:function(){return this.transform.position},set:function(n){this.transform.position.copyFrom(n)},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"scale",{get:function(){return this.transform.scale},set:function(n){this.transform.scale.copyFrom(n)},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(n){this.transform.pivot.copyFrom(n)},
enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"skew",{get:function(){return this.transform.skew},set:function(n){this.transform.skew.copyFrom(n)},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(n){this.transform.rotation=n},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"angle",{get:function(){return this.transform.rotation*Q.RAD_TO_DEG},set:function(n){this.transform.rotation=
n*Q.DEG_TO_RAD},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"zIndex",{get:function(){return this._zIndex},set:function(n){this._zIndex=n;this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"worldVisible",{get:function(){var n=this;do{if(!n.visible)return!1;n=n.parent}while(n);return!0},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"mask",{get:function(){return this._mask},set:function(n){if(this._mask){var u=
this._mask.maskObject||this._mask;u.renderable=!0;u.isMask=!1}if(this._mask=n)u=this._mask.maskObject||this._mask,u.renderable=!1,u.isMask=!0},enumerable:!1,configurable:!0});return F}(H.EventEmitter);var C=function(L){function F(){var n=null!==L&&L.apply(this,arguments)||this;n.sortDirty=null;return n}N(F,L);return F}(ya);ya.prototype.displayObjectUpdateTransform=ya.prototype.updateTransform;pa=function(L){function F(){var n=L.call(this)||this;n.children=[];n.sortableChildren=E.settings.SORTABLE_CHILDREN;
n.sortDirty=!1;return n}N(F,L);F.prototype.onChildrenChange=function(n){};F.prototype.addChild=function(){for(var n=arguments,u=[],q=0;q<arguments.length;q++)u[q]=n[q];if(1<u.length)for(n=0;n<u.length;n++)this.addChild(u[n]);else n=u[0],n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this);return u[0]};
F.prototype.addChildAt=function(n,u){if(0>u||u>this.children.length)throw Error(n+"addChildAt: The index "+u+" supplied is out of bounds "+this.children.length);n.parent&&n.parent.removeChild(n);n.parent=this;this.sortDirty=!0;n.transform._parentID=-1;this.children.splice(u,0,n);this._boundsID++;this.onChildrenChange(u);n.emit("added",this);this.emit("childAdded",n,this,u);return n};F.prototype.swapChildren=function(n,u){if(n!==u){var q=this.getChildIndex(n),z=this.getChildIndex(u);this.children[q]=
u;this.children[z]=n;this.onChildrenChange(q<z?q:z)}};F.prototype.getChildIndex=function(n){n=this.children.indexOf(n);if(-1===n)throw Error("The supplied DisplayObject must be a child of the caller");return n};F.prototype.setChildIndex=function(n,u){if(0>u||u>=this.children.length)throw Error("The index "+u+" supplied is out of bounds "+this.children.length);var q=this.getChildIndex(n);H.removeItems(this.children,q,1);this.children.splice(u,0,n);this.onChildrenChange(u)};F.prototype.getChildAt=function(n){if(0>
n||n>=this.children.length)throw Error("getChildAt: Index ("+n+") does not exist.");return this.children[n]};F.prototype.removeChild=function(){for(var n=arguments,u=[],q=0;q<arguments.length;q++)u[q]=n[q];if(1<u.length)for(n=0;n<u.length;n++)this.removeChild(u[n]);else{n=u[0];q=this.children.indexOf(n);if(-1===q)return null;n.parent=null;n.transform._parentID=-1;H.removeItems(this.children,q,1);this._boundsID++;this.onChildrenChange(q);n.emit("removed",this);this.emit("childRemoved",n,this,q)}return u[0]};
F.prototype.removeChildAt=function(n){var u=this.getChildAt(n);u.parent=null;u.transform._parentID=-1;H.removeItems(this.children,n,1);this._boundsID++;this.onChildrenChange(n);u.emit("removed",this);this.emit("childRemoved",u,this,n);return u};F.prototype.removeChildren=function(n,u){void 0===n&&(n=0);void 0===u&&(u=this.children.length);var q=n,z=u-q;if(0<z&&z<=u){q=this.children.splice(q,z);for(u=0;u<q.length;++u)q[u].parent=null,q[u].transform&&(q[u].transform._parentID=-1);this._boundsID++;this.onChildrenChange(n);
for(u=0;u<q.length;++u)q[u].emit("removed",this),this.emit("childRemoved",q[u],this,u);return q}if(0===z&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.");};F.prototype.sortChildren=function(){for(var n=!1,u=0,q=this.children.length;u<q;++u){var z=this.children[u];z._lastSortedIndex=u;n||0===z.zIndex||(n=!0)}n&&1<this.children.length&&this.children.sort(y);this.sortDirty=!1};F.prototype.updateTransform=function(){this.sortableChildren&&
this.sortDirty&&this.sortChildren();this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var n=0,u=this.children.length;n<u;++n){var q=this.children[n];q.visible&&q.updateTransform()}};F.prototype.calculateBounds=function(){this._bounds.clear();this._calculateBounds();for(var n=0;n<this.children.length;n++){var u=this.children[n];if(u.visible&&u.renderable)if(u.calculateBounds(),u._mask){var q=u._mask.maskObject||u._mask;q.calculateBounds();
this._bounds.addBoundsMask(u._bounds,q._bounds)}else u.filterArea?this._bounds.addBoundsArea(u._bounds,u.filterArea):this._bounds.addBounds(u._bounds)}this._bounds.updateID=this._boundsID};F.prototype.getLocalBounds=function(n,u){void 0===u&&(u=!1);n=L.prototype.getLocalBounds.call(this,n);if(!u){u=0;for(var q=this.children.length;u<q;++u){var z=this.children[u];z.visible&&z.updateTransform()}}return n};F.prototype._calculateBounds=function(){};F.prototype.render=function(n){if(this.visible&&!(0>=
this.worldAlpha)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(n);else{this._render(n);for(var u=0,q=this.children.length;u<q;++u)this.children[u].render(n)}};F.prototype.renderAdvanced=function(n){n.batch.flush();var u=this.filters,q=this._mask;if(u){this._enabledFilters||(this._enabledFilters=[]);for(var z=this._enabledFilters.length=0;z<u.length;z++)u[z].enabled&&this._enabledFilters.push(u[z]);this._enabledFilters.length&&n.filter.push(this,this._enabledFilters)}q&&
n.mask.push(this,this._mask);this._render(n);z=0;for(var I=this.children.length;z<I;z++)this.children[z].render(n);n.batch.flush();q&&n.mask.pop(this);u&&this._enabledFilters&&this._enabledFilters.length&&n.filter.pop()};F.prototype._render=function(n){};F.prototype.destroy=function(n){L.prototype.destroy.call(this);this.sortDirty=!1;var u="boolean"===typeof n?n:n&&n.children,q=this.removeChildren(0,this.children.length);if(u)for(u=0;u<q.length;++u)q[u].destroy(n)};Object.defineProperty(F.prototype,
"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(n){var u=this.getLocalBounds().width;this.scale.x=0!==u?n/u:1;this._width=n},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(n){var u=this.getLocalBounds().height;this.scale.y=0!==u?n/u:1;this._height=n},enumerable:!1,configurable:!0});return F}(ya);pa.prototype.containerUpdateTransform=pa.prototype.updateTransform;
Y.Bounds=t;Y.Container=pa;Y.DisplayObject=ya;Y.TemporaryDisplayObject=C};
shadow$provide[23]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});ya=pa(22);var N=pa(12);pa={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ya.DisplayObject.mixin(pa);ya=function(){function y(E){this._hookDiv=null;(N.isMobile.tablet||N.isMobile.phone)&&this.createTouchHook();var Q=document.createElement("div");Q.style.width="100px";
Q.style.height="100px";Q.style.position="absolute";Q.style.top="0px";Q.style.left="0px";Q.style.zIndex=(2).toString();this.div=Q;this.pool=[];this.renderId=0;this.debug=!1;this.renderer=E;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this._isMobileAccessibility=this._isActive=!1;this.androidUpdateCount=0;this.androidUpdateFrequency=500;window.addEventListener("keydown",this._onKeyDown,!1)}Object.defineProperty(y.prototype,"isActive",{get:function(){return this._isActive},
enumerable:!1,configurable:!0});Object.defineProperty(y.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0});y.prototype.createTouchHook=function(){var E=this,Q=document.createElement("button");Q.style.width="1px";Q.style.height="1px";Q.style.position="absolute";Q.style.top="-1000px";Q.style.left="-1000px";Q.style.zIndex=(2).toString();Q.style.backgroundColor="#FF0000";Q.title="select to enable accessability for this content";Q.addEventListener("focus",
function(){E._isMobileAccessibility=!0;E.activate();E.destroyTouchHook()});document.body.appendChild(Q);this._hookDiv=Q};y.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)};y.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&
this.renderer.view.parentNode.appendChild(this.div))};y.prototype.deactivate=function(){this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))};y.prototype.updateAccessibleObjects=function(E){if(E.visible&&E.accessibleChildren){E.accessible&&E.interactive&&(E._accessibleActive||
this.addChild(E),E.renderId=this.renderId);E=E.children;for(var Q=0;Q<E.length;Q++)this.updateAccessibleObjects(E[Q])}};y.prototype.update=function(){var E=performance.now();if(!(N.isMobile.android.device&&E<this.androidUpdateCount)&&(this.androidUpdateCount=E+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var Q=this.renderer.view.getBoundingClientRect(),H=this.renderer.resolution;E=Q.width/
this.renderer.width*H;H*=Q.height/this.renderer.height;var t=this.div;t.style.left=Q.left+"px";t.style.top=Q.top+"px";t.style.width=this.renderer.width+"px";t.style.height=this.renderer.height+"px";for(Q=0;Q<this.children.length;Q++){var v=this.children[Q];if(v.renderId!==this.renderId)v._accessibleActive=!1,N.removeItems(this.children,Q,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,Q--;else{t=v._accessibleDiv;var C=v.hitArea,L=v.worldTransform;v.hitArea?
(t.style.left=(L.tx+C.x*L.a)*E+"px",t.style.top=(L.ty+C.y*L.d)*H+"px",t.style.width=C.width*L.a*E+"px",t.style.height=C.height*L.d*H+"px"):(C=v.getBounds(),this.capHitArea(C),t.style.left=C.x*E+"px",t.style.top=C.y*H+"px",t.style.width=C.width*E+"px",t.style.height=C.height*H+"px",t.title!==v.accessibleTitle&&null!==v.accessibleTitle&&(t.title=v.accessibleTitle),t.getAttribute("aria-label")!==v.accessibleHint&&null!==v.accessibleHint&&t.setAttribute("aria-label",v.accessibleHint));if(v.accessibleTitle!==
t.title||v.tabIndex!==t.tabIndex)t.title=v.accessibleTitle,t.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(t)}}this.renderId++}};y.prototype.updateDebugHTML=function(E){E.innerHTML="type: "+E.type+"\x3c/br\x3e title : "+E.title+"\x3c/br\x3e tabIndex: "+E.tabIndex};y.prototype.capHitArea=function(E){0>E.x&&(E.width+=E.x,E.x=0);0>E.y&&(E.height+=E.y,E.y=0);E.x+E.width>this.renderer.width&&(E.width=this.renderer.width-E.x);E.y+E.height>this.renderer.height&&(E.height=this.renderer.height-E.y)};
y.prototype.addChild=function(E){var Q=this.pool.pop();Q||(Q=document.createElement("button"),Q.style.width="100px",Q.style.height="100px",Q.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",Q.style.position="absolute",Q.style.zIndex=(2).toString(),Q.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?Q.setAttribute("aria-live","off"):Q.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?Q.setAttribute("aria-relevant","additions"):
Q.setAttribute("aria-relevant","text"),Q.addEventListener("click",this._onClick.bind(this)),Q.addEventListener("focus",this._onFocus.bind(this)),Q.addEventListener("focusout",this._onFocusOut.bind(this)));Q.style.pointerEvents=E.accessiblePointerEvents;Q.type=E.accessibleType;E.accessibleTitle&&null!==E.accessibleTitle?Q.title=E.accessibleTitle:E.accessibleHint&&null!==E.accessibleHint||(Q.title="displayObject "+E.tabIndex);E.accessibleHint&&null!==E.accessibleHint&&Q.setAttribute("aria-label",E.accessibleHint);
this.debug&&this.updateDebugHTML(Q);E._accessibleActive=!0;E._accessibleDiv=Q;Q.displayObject=E;this.children.push(E);this.div.appendChild(E._accessibleDiv);E._accessibleDiv.tabIndex=E.tabIndex};y.prototype._onClick=function(E){var Q=this.renderer.plugins.interaction;Q.dispatchEvent(E.target.displayObject,"click",Q.eventData);Q.dispatchEvent(E.target.displayObject,"pointertap",Q.eventData);Q.dispatchEvent(E.target.displayObject,"tap",Q.eventData)};y.prototype._onFocus=function(E){E.target.getAttribute("aria-live")||
E.target.setAttribute("aria-live","assertive");var Q=this.renderer.plugins.interaction;Q.dispatchEvent(E.target.displayObject,"mouseover",Q.eventData)};y.prototype._onFocusOut=function(E){E.target.getAttribute("aria-live")||E.target.setAttribute("aria-live","polite");var Q=this.renderer.plugins.interaction;Q.dispatchEvent(E.target.displayObject,"mouseout",Q.eventData)};y.prototype._onKeyDown=function(E){9===E.keyCode&&this.activate()};y.prototype._onMouseMove=function(E){0===E.movementX&&0===E.movementY||
this.deactivate()};y.prototype.destroy=function(){this.destroyTouchHook();this.div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0);window.removeEventListener("keydown",this._onKeyDown);this.renderer=this.children=this.pool=null};return y}();Y.AccessibilityManager=ya;Y.accessibleTarget=pa};
shadow$provide[24]=function(ya,pa,Ha,Y){function N(n,u){function q(){this.constructor=n}t(n,u);n.prototype=null===u?Object.create(u):(q.prototype=u.prototype,new q)}Object.defineProperty(Y,"__esModule",{value:!0});var y=pa(15),E=pa(14),Q=pa(22);pa=pa(12);var H=function(){function n(){this.tangentialPressure=this.twist=this.rotationAngle=this.pressure=0;this.global=new y.Point;this.identifier=this.originalEvent=this.target=null;this.isPrimary=!1;this.tiltY=this.tiltX=this.height=this.width=this.buttons=
this.button=0;this.pointerType=null;this.tangentialPressure=this.twist=this.rotationAngle=this.pressure=0}Object.defineProperty(n.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0});n.prototype.getLocalPosition=function(u,q,z){return u.worldTransform.applyInverse(z||this.global,q)};n.prototype.copyEvent=function(u){"isPrimary"in u&&u.isPrimary&&(this.isPrimary=!0);this.button="button"in u&&u.button;var q="buttons"in u&&u.buttons;this.buttons=Number.isInteger(q)?
q:"which"in u&&u.which;this.width="width"in u&&u.width;this.height="height"in u&&u.height;this.tiltX="tiltX"in u&&u.tiltX;this.tiltY="tiltY"in u&&u.tiltY;this.pointerType="pointerType"in u&&u.pointerType;this.pressure="pressure"in u&&u.pressure;this.rotationAngle="rotationAngle"in u&&u.rotationAngle;this.twist="twist"in u&&u.twist||0;this.tangentialPressure="tangentialPressure"in u&&u.tangentialPressure||0};n.prototype.reset=function(){this.isPrimary=!1};return n}(),t=function(n,u){t=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(q,z){q.__proto__=z}||function(q,z){for(var I in z)z.hasOwnProperty(I)&&(q[I]=z[I])};return t(n,u)},v=function(){function n(){this.stopped=!1;this.stopsPropagatingAt=null;this.stopPropagationHint=!1;this.data=this.type=this.currentTarget=this.target=null}n.prototype.stopPropagation=function(){this.stopPropagationHint=this.stopped=!0;this.stopsPropagatingAt=this.currentTarget};n.prototype.reset=function(){this.stopped=!1;this.stopsPropagatingAt=null;this.stopPropagationHint=
!1;this.target=this.currentTarget=null};return n}(),C=function(){function n(u){this._pointerId=u;this._flags=n.FLAGS.NONE}n.prototype._doSet=function(u,q){this._flags=q?this._flags|u:this._flags&~u};Object.defineProperty(n.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"flags",{get:function(){return this._flags},set:function(u){this._flags=u},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"none",{get:function(){return this._flags===
n.FLAGS.NONE},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"over",{get:function(){return 0!==(this._flags&n.FLAGS.OVER)},set:function(u){this._doSet(n.FLAGS.OVER,u)},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"rightDown",{get:function(){return 0!==(this._flags&n.FLAGS.RIGHT_DOWN)},set:function(u){this._doSet(n.FLAGS.RIGHT_DOWN,u)},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"leftDown",{get:function(){return 0!==(this._flags&n.FLAGS.LEFT_DOWN)},
set:function(u){this._doSet(n.FLAGS.LEFT_DOWN,u)},enumerable:!1,configurable:!0});n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});return n}(),L=function(){function n(){this._tempPoint=new y.Point}n.prototype.recursiveFindHit=function(u,q,z,I,P){if(!q||!q.visible)return!1;var m=u.data.global;P=q.interactive||P;var k=!1,h=P,r=!0;q.hitArea?(I&&(q.worldTransform.applyInverse(m,this._tempPoint),q.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?k=!0:r=I=!1),h=!1):q._mask&&I&&(q._mask.containsPoint&&
q._mask.containsPoint(m)||(I=!1));if(r&&q.interactiveChildren&&q.children){r=q.children;for(var l=r.length-1;0<=l;l--){var J=r[l],p=this.recursiveFindHit(u,J,z,I,h);p&&J.parent&&(h=!1,p&&(u.target&&(I=!1),k=!0))}}P&&(I&&!u.target&&!q.hitArea&&q.containsPoint&&q.containsPoint(m)&&(k=!0),q.interactive&&(k&&!u.target&&(u.target=q),z&&z(u,q,!!k)));return k};n.prototype.findHit=function(u,q,z,I){this.recursiveFindHit(u,q,z,I,!1)};return n}();ya={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===
this.cursor},set buttonMode(n){n?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){void 0===this._trackedPointers&&(this._trackedPointers={});return this._trackedPointers},_trackedPointers:void 0};Q.DisplayObject.mixin(ya);var F={target:null,data:{global:null}};pa=function(n){function u(q,z){var I=n.call(this)||this;z=z||{};I.renderer=q;I.autoPreventDefault=void 0!==z.autoPreventDefault?z.autoPreventDefault:!0;I.interactionFrequency=z.interactionFrequency||
10;I.mouse=new H;I.mouse.identifier=1;I.mouse.global.set(-999999);I.activeInteractionData={};I.activeInteractionData[1]=I.mouse;I.interactionDataPool=[];I.eventData=new v;I.interactionDOMElement=null;I.moveWhenInside=!1;I.eventsAdded=!1;I.tickerAdded=!1;I.mouseOverRenderer=!1;I.supportsTouchEvents="ontouchstart"in window;I.supportsPointerEvents=!!window.PointerEvent;I.onPointerUp=I.onPointerUp.bind(I);I.processPointerUp=I.processPointerUp.bind(I);I.onPointerCancel=I.onPointerCancel.bind(I);I.processPointerCancel=
I.processPointerCancel.bind(I);I.onPointerDown=I.onPointerDown.bind(I);I.processPointerDown=I.processPointerDown.bind(I);I.onPointerMove=I.onPointerMove.bind(I);I.processPointerMove=I.processPointerMove.bind(I);I.onPointerOut=I.onPointerOut.bind(I);I.processPointerOverOut=I.processPointerOverOut.bind(I);I.onPointerOver=I.onPointerOver.bind(I);I.cursorStyles={default:"inherit",pointer:"pointer"};I.currentCursorMode=null;I.cursor=null;I.resolution=1;I.delayedEvents=[];I.search=new L;I._tempDisplayObject=
new Q.TemporaryDisplayObject;I._useSystemTicker=void 0!==z.useSystemTicker?z.useSystemTicker:!0;I.setTargetElement(I.renderer.view,I.renderer.resolution);return I}N(u,n);Object.defineProperty(u.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(q){(this._useSystemTicker=q)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0});Object.defineProperty(u.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||
this._tempDisplayObject},enumerable:!1,configurable:!0});u.prototype.hitTest=function(q,z){F.target=null;F.data.global=q;z||(z=this.lastObjectRendered);this.processInteractive(F,z,null,!0);return F.target};u.prototype.setTargetElement=function(q,z){void 0===z&&(z=1);this.removeTickerListener();this.removeEvents();this.interactionDOMElement=q;this.resolution=z;this.addEvents();this.addTickerListener()};u.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&
(E.Ticker.system.add(this.tickerUpdate,this,E.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)};u.prototype.removeTickerListener=function(){this.tickerAdded&&(E.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)};u.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var q=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(q.msContentZooming="none",q.msTouchAction="none"):this.supportsPointerEvents&&(q.touchAction="none");this.supportsPointerEvents?
(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,
!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",
this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0));this.eventsAdded=!0}};u.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var q=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(q.msContentZooming="",q.msTouchAction=""):this.supportsPointerEvents&&(q.touchAction="");this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",
this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",
this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0));this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,
!0));this.interactionDOMElement=null;this.eventsAdded=!1}};u.prototype.tickerUpdate=function(q){this._deltaTime+=q;this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())};u.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{this.cursor=null;for(var q in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(q)){var z=this.activeInteractionData[q];z.originalEvent&&"touch"!==z.pointerType&&(z=this.configureInteractionEventForDOMEvent(this.eventData,
z.originalEvent,z),this.processInteractive(z,this.lastObjectRendered,this.processPointerOverOut,!0))}this.setCursorMode(this.cursor)}};u.prototype.setCursorMode=function(q){q=q||"default";if(this.currentCursorMode!==q){this.currentCursorMode=q;var z=this.cursorStyles[q];if(z)switch(typeof z){case "string":this.interactionDOMElement.style.cursor=z;break;case "function":z(q);break;case "object":Object.assign(this.interactionDOMElement.style,z)}else"string"!==typeof q||Object.prototype.hasOwnProperty.call(this.cursorStyles,
q)||(this.interactionDOMElement.style.cursor=q)}};u.prototype.dispatchEvent=function(q,z,I){if(!I.stopPropagationHint||q===I.stopsPropagatingAt)if(I.currentTarget=q,I.type=z,q.emit(z,I),q[z])q[z](I)};u.prototype.delayDispatchEvent=function(q,z,I){this.delayedEvents.push({displayObject:q,eventString:z,eventData:I})};u.prototype.mapPositionToPoint=function(q,z,I){var P=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var m=1/this.resolution;
q.x=this.interactionDOMElement.width/P.width*(z-P.left)*m;q.y=this.interactionDOMElement.height/P.height*(I-P.top)*m};u.prototype.processInteractive=function(q,z,I,P){z=this.search.findHit(q,z,I,P);I=this.delayedEvents;if(!I.length)return z;q.stopPropagationHint=!1;q=I.length;this.delayedEvents=[];for(P=0;P<q;P++){var m=I[P],k=m.displayObject,h=m.eventString;m=m.eventData;m.stopsPropagatingAt===k&&(m.stopPropagationHint=!0);this.dispatchEvent(k,h,m)}return z};u.prototype.onPointerDown=function(q){if(!this.supportsTouchEvents||
"touch"!==q.pointerType){var z=this.normalizeToPointerData(q);this.autoPreventDefault&&z[0].isNormalized&&(!q.cancelable&&"cancelable"in q||q.preventDefault());for(var I=z.length,P=0;P<I;P++){var m=z[P],k=this.getInteractionDataForPointerId(m);k=this.configureInteractionEventForDOMEvent(this.eventData,m,k);k.data.originalEvent=q;this.processInteractive(k,this.lastObjectRendered,this.processPointerDown,!0);this.emit("pointerdown",k);"touch"===m.pointerType?this.emit("touchstart",k):("mouse"===m.pointerType||
"pen"===m.pointerType)&&this.emit(2===m.button?"rightdown":"mousedown",this.eventData)}}};u.prototype.processPointerDown=function(q,z,I){var P=q.data,m=q.data.identifier;if(I)if(z.trackedPointers[m]||(z.trackedPointers[m]=new C(m)),this.dispatchEvent(z,"pointerdown",q),"touch"===P.pointerType)this.dispatchEvent(z,"touchstart",q);else if("mouse"===P.pointerType||"pen"===P.pointerType)(I=2===P.button)?z.trackedPointers[m].rightDown=!0:z.trackedPointers[m].leftDown=!0,this.dispatchEvent(z,I?"rightdown":
"mousedown",q)};u.prototype.onPointerComplete=function(q,z,I){for(var P=this.normalizeToPointerData(q),m=P.length,k=q.target!==this.interactionDOMElement?"outside":"",h=0;h<m;h++){var r=P[h],l=this.getInteractionDataForPointerId(r);l=this.configureInteractionEventForDOMEvent(this.eventData,r,l);l.data.originalEvent=q;this.processInteractive(l,this.lastObjectRendered,I,z||!k);this.emit(z?"pointercancel":"pointerup"+k,l);"mouse"===r.pointerType||"pen"===r.pointerType?this.emit(2===r.button?"rightup"+
k:"mouseup"+k,l):"touch"===r.pointerType&&(this.emit(z?"touchcancel":"touchend"+k,l),this.releaseInteractionDataForPointerId(r.pointerId))}};u.prototype.onPointerCancel=function(q){if(!this.supportsTouchEvents||"touch"!==q.pointerType)this.onPointerComplete(q,!0,this.processPointerCancel)};u.prototype.processPointerCancel=function(q,z){var I=q.data,P=q.data.identifier;void 0!==z.trackedPointers[P]&&(delete z.trackedPointers[P],this.dispatchEvent(z,"pointercancel",q),"touch"===I.pointerType&&this.dispatchEvent(z,
"touchcancel",q))};u.prototype.onPointerUp=function(q){if(!this.supportsTouchEvents||"touch"!==q.pointerType)this.onPointerComplete(q,!1,this.processPointerUp)};u.prototype.processPointerUp=function(q,z,I){var P=q.data,m=q.data.identifier,k=z.trackedPointers[m],h="touch"===P.pointerType,r="mouse"===P.pointerType||"pen"===P.pointerType,l=!1;if(r){P=2===P.button;var J=C.FLAGS;J=P?J.RIGHT_DOWN:J.LEFT_DOWN;J=void 0!==k&&k.flags&J;I?(this.dispatchEvent(z,P?"rightup":"mouseup",q),J&&(this.dispatchEvent(z,
P?"rightclick":"click",q),l=!0)):J&&this.dispatchEvent(z,P?"rightupoutside":"mouseupoutside",q);k&&(P?k.rightDown=!1:k.leftDown=!1)}I?(this.dispatchEvent(z,"pointerup",q),h&&this.dispatchEvent(z,"touchend",q),k&&(r&&!l||this.dispatchEvent(z,"pointertap",q),h&&(this.dispatchEvent(z,"tap",q),k.over=!1))):k&&(this.dispatchEvent(z,"pointerupoutside",q),h&&this.dispatchEvent(z,"touchendoutside",q));k&&k.none&&delete z.trackedPointers[m]};u.prototype.onPointerMove=function(q){if(!this.supportsTouchEvents||
"touch"!==q.pointerType){var z=this.normalizeToPointerData(q);if("mouse"===z[0].pointerType||"pen"===z[0].pointerType)this._didMove=!0,this.cursor=null;for(var I=z.length,P=0;P<I;P++){var m=z[P],k=this.getInteractionDataForPointerId(m);k=this.configureInteractionEventForDOMEvent(this.eventData,m,k);k.data.originalEvent=q;this.processInteractive(k,this.lastObjectRendered,this.processPointerMove,!0);this.emit("pointermove",k);"touch"===m.pointerType&&this.emit("touchmove",k);"mouse"!==m.pointerType&&
"pen"!==m.pointerType||this.emit("mousemove",k)}"mouse"===z[0].pointerType&&this.setCursorMode(this.cursor)}};u.prototype.processPointerMove=function(q,z,I){var P=q.data,m="touch"===P.pointerType;(P="mouse"===P.pointerType||"pen"===P.pointerType)&&this.processPointerOverOut(q,z,I);if(!this.moveWhenInside||I)this.dispatchEvent(z,"pointermove",q),m&&this.dispatchEvent(z,"touchmove",q),P&&this.dispatchEvent(z,"mousemove",q)};u.prototype.onPointerOut=function(q){if(!this.supportsTouchEvents||"touch"!==
q.pointerType){q=this.normalizeToPointerData(q)[0];"mouse"===q.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var z=this.getInteractionDataForPointerId(q),I=this.configureInteractionEventForDOMEvent(this.eventData,q,z);I.data.originalEvent=q;this.processInteractive(I,this.lastObjectRendered,this.processPointerOverOut,!1);this.emit("pointerout",I);"mouse"===q.pointerType||"pen"===q.pointerType?this.emit("mouseout",I):this.releaseInteractionDataForPointerId(z.identifier)}};u.prototype.processPointerOverOut=
function(q,z,I){var P=q.data,m=q.data.identifier;P="mouse"===P.pointerType||"pen"===P.pointerType;var k=z.trackedPointers[m];I&&!k&&(k=z.trackedPointers[m]=new C(m));void 0!==k&&(I&&this.mouseOverRenderer?(k.over||(k.over=!0,this.delayDispatchEvent(z,"pointerover",q),P&&this.delayDispatchEvent(z,"mouseover",q)),P&&null===this.cursor&&(this.cursor=z.cursor)):k.over&&(k.over=!1,this.dispatchEvent(z,"pointerout",this.eventData),P&&this.dispatchEvent(z,"mouseout",q),k.none&&delete z.trackedPointers[m]))};
u.prototype.onPointerOver=function(q){q=this.normalizeToPointerData(q)[0];var z=this.getInteractionDataForPointerId(q);z=this.configureInteractionEventForDOMEvent(this.eventData,q,z);z.data.originalEvent=q;"mouse"===q.pointerType&&(this.mouseOverRenderer=!0);this.emit("pointerover",z);"mouse"!==q.pointerType&&"pen"!==q.pointerType||this.emit("mouseover",z)};u.prototype.getInteractionDataForPointerId=function(q){var z=q.pointerId;if(1===z||"mouse"===q.pointerType)var I=this.mouse;else this.activeInteractionData[z]?
I=this.activeInteractionData[z]:(I=this.interactionDataPool.pop()||new H,I.identifier=z,this.activeInteractionData[z]=I);I.copyEvent(q);return I};u.prototype.releaseInteractionDataForPointerId=function(q){var z=this.activeInteractionData[q];z&&(delete this.activeInteractionData[q],z.reset(),this.interactionDataPool.push(z))};u.prototype.configureInteractionEventForDOMEvent=function(q,z,I){q.data=I;this.mapPositionToPoint(I.global,z.clientX,z.clientY);"touch"===z.pointerType&&(z.globalX=I.global.x,
z.globalY=I.global.y);I.originalEvent=z;q.reset();return q};u.prototype.normalizeToPointerData=function(q){var z=[];if(this.supportsTouchEvents&&q instanceof TouchEvent)for(var I=0,P=q.changedTouches.length;I<P;I++){var m=q.changedTouches[I];"undefined"===typeof m.button&&(m.button=q.touches.length?1:0);"undefined"===typeof m.buttons&&(m.buttons=q.touches.length?1:0);"undefined"===typeof m.isPrimary&&(m.isPrimary=1===q.touches.length&&"touchstart"===q.type);"undefined"===typeof m.width&&(m.width=
m.radiusX||1);"undefined"===typeof m.height&&(m.height=m.radiusY||1);"undefined"===typeof m.tiltX&&(m.tiltX=0);"undefined"===typeof m.tiltY&&(m.tiltY=0);"undefined"===typeof m.pointerType&&(m.pointerType="touch");"undefined"===typeof m.pointerId&&(m.pointerId=m.identifier||0);"undefined"===typeof m.pressure&&(m.pressure=m.force||.5);"undefined"===typeof m.twist&&(m.twist=0);"undefined"===typeof m.tangentialPressure&&(m.tangentialPressure=0);"undefined"===typeof m.layerX&&(m.layerX=m.offsetX=m.clientX);
"undefined"===typeof m.layerY&&(m.layerY=m.offsetY=m.clientY);m.isNormalized=!0;z.push(m)}else q instanceof MouseEvent&&!(this.supportsPointerEvents&&q instanceof window.PointerEvent)&&("undefined"===typeof q.isPrimary&&(q.isPrimary=!0),"undefined"===typeof q.width&&(q.width=1),"undefined"===typeof q.height&&(q.height=1),"undefined"===typeof q.tiltX&&(q.tiltX=0),"undefined"===typeof q.tiltY&&(q.tiltY=0),"undefined"===typeof q.pointerType&&(q.pointerType="mouse"),"undefined"===typeof q.pointerId&&
(q.pointerId=1),"undefined"===typeof q.pressure&&(q.pressure=.5),"undefined"===typeof q.twist&&(q.twist=0),"undefined"===typeof q.tangentialPressure&&(q.tangentialPressure=0),q.isNormalized=!0),z.push(q);return z};u.prototype.destroy=function(){this.removeEvents();this.removeTickerListener();this.removeAllListeners();this.search=this.onPointerOver=this.processPointerOverOut=this.onPointerOut=this.processPointerMove=this.onPointerMove=this.processPointerCancel=this.onPointerCancel=this.processPointerUp=
this.onPointerUp=this.processPointerDown=this.onPointerDown=this.interactionDOMElement=this.eventData=this.mouse=this.renderer=null};return u}(pa.EventEmitter);Y.InteractionData=H;Y.InteractionEvent=v;Y.InteractionManager=pa;Y.InteractionTrackingData=C;Y.interactiveTarget=ya};
shadow$provide[25]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});var N=pa(22),y=pa(16);ya=function(){function E(Q){var H=this;Q=Object.assign({forceCanvas:!1},Q);this.renderer=y.autoDetectRenderer(Q);this.stage=new N.Container;E._plugins.forEach(function(t){t.init.call(H,Q)})}E.registerPlugin=function(Q){E._plugins.push(Q)};E.prototype.render=function(){this.renderer.render(this.stage)};Object.defineProperty(E.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,
configurable:!0});Object.defineProperty(E.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0});E.prototype.destroy=function(Q,H){var t=this,v=E._plugins.slice(0);v.reverse();v.forEach(function(C){C.destroy.call(t)});this.stage.destroy(H);this.stage=null;this.renderer.destroy(Q);this.renderer=null};return E}();ya._plugins=[];pa=function(){function E(){}E.init=function(Q){var H=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",
this.queueResize);if(this._resizeTo=t)window.addEventListener("resize",this.queueResize),this.resize()},get:function(){return this._resizeTo}});this.queueResize=function(){H._resizeTo&&(H.cancelResize(),H._resizeId=requestAnimationFrame(function(){return H.resize()}))};this.cancelResize=function(){H._resizeId&&(cancelAnimationFrame(H._resizeId),H._resizeId=null)};this.resize=function(){if(H._resizeTo){H.cancelResize();if(H._resizeTo===window){var t=window.innerWidth;var v=window.innerHeight}else t=
H._resizeTo,v=t.clientHeight,t=t.clientWidth;H.renderer.resize(t,v)}};this._resizeTo=this._resizeId=null;this.resizeTo=Q.resizeTo||null};E.destroy=function(){window.removeEventListener("resize",this.queueResize);this.cancelResize();this.resize=this.resizeTo=this.queueResize=this.cancelResize=null};return E}();ya.registerPlugin(pa);Y.Application=ya};
shadow$provide[26]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});var N=pa(12);ya=pa(15);var y=pa(16),E=new ya.Rectangle;pa=function(){function Q(H){this.renderer=H;H.extract=this}Q.prototype.image=function(H,t,v){var C=new Image;C.src=this.base64(H,t,v);return C};Q.prototype.base64=function(H,t,v){return this.canvas(H).toDataURL(t,v)};Q.prototype.canvas=function(H){var t=this.renderer,v=!1;if(H)if(H instanceof y.RenderTexture)var C=H;else C=this.renderer.generateTexture(H),
v=!0;if(C){var L=C.baseTexture.resolution;var F=C.frame;var n=!1;t.renderTexture.bind(C)}else L=this.renderer.resolution,n=!0,F=E,F.width=this.renderer.width,F.height=this.renderer.height,t.renderTexture.bind(null);var u=Math.floor(F.width*L+1E-4);H=Math.floor(F.height*L+1E-4);var q=new N.CanvasRenderTarget(u,H,1),z=new Uint8Array(4*u*H);t=t.gl;t.readPixels(F.x*L,F.y*L,u,H,t.RGBA,t.UNSIGNED_BYTE,z);t=q.context.getImageData(0,0,u,H);Q.arrayPostDivide(z,t.data);q.context.putImageData(t,0,0);n&&(n=new N.CanvasRenderTarget(q.width,
q.height,1),n.context.scale(1,-1),n.context.drawImage(q.canvas,0,-H),q.destroy(),q=n);v&&C.destroy(!0);return q.canvas};Q.prototype.pixels=function(H){var t=this.renderer,v=!1;if(H)if(H instanceof y.RenderTexture)var C=H;else C=this.renderer.generateTexture(H),v=!0;if(C){H=C.baseTexture.resolution;var L=C.frame;t.renderTexture.bind(C)}else H=t.resolution,L=E,L.width=t.width,L.height=t.height,t.renderTexture.bind(null);var F=L.width*H,n=L.height*H,u=new Uint8Array(4*F*n);t=t.gl;t.readPixels(L.x*H,
L.y*H,F,n,t.RGBA,t.UNSIGNED_BYTE,u);v&&C.destroy(!0);Q.arrayPostDivide(u,u);return u};Q.prototype.destroy=function(){this.renderer=this.renderer.extract=null};Q.arrayPostDivide=function(H,t){for(var v=0;v<H.length;v+=4){var C=t[v+3]=H[v+3];0!==C?(t[v]=Math.round(Math.min(255*H[v]/C,255)),t[v+1]=Math.round(Math.min(255*H[v+1]/C,255)),t[v+2]=Math.round(Math.min(255*H[v+2]/C,255))):(t[v]=H[v],t[v+1]=H[v+1],t[v+2]=H[v+2])}};return Q}();Y.Extract=pa};
shadow$provide[27]=function(ya,pa,Ha,Y){Ha.exports=function(N,y){if(N){y=y||{};var E="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");N={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}[y.strictMode?
"strict":"loose"].exec(N);var Q={};for(y=14;y--;)Q[E[y]]=N[y]||"";Q.queryKey={};Q[E[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(H,t,v){t&&(Q.queryKey[t]=v)});return Q}}};
shadow$provide[28]=function(ya,pa,Ha,Y){function N(H,t){if(!(H instanceof t))throw new TypeError("Cannot call a class as a function");}function y(H,t){H._head?(H._tail._next=t,t._prev=H._tail):H._head=t;H._tail=t;t._owner=H;return t}Object.defineProperty(Y,"__esModule",{value:!0});var E=function(){function H(t,v){for(var C=0;C<v.length;C++){var L=v[C];L.enumerable=L.enumerable||!1;L.configurable=!0;"value"in L&&(L.writable=!0);Object.defineProperty(t,L.key,L)}}return function(t,v,C){v&&H(t.prototype,
v);C&&H(t,C);return t}}(),Q=function(){function H(t,v,C){void 0===v&&(v=!1);N(this,H);this._fn=t;this._once=v;this._thisArg=C;this._next=this._prev=this._owner=null}E(H,[{key:"detach",value:function(){if(null===this._owner)return!1;this._owner.detach(this);return!0}}]);return H}();ya=function(){function H(){N(this,H);this._head=this._tail=void 0}E(H,[{key:"handlers",value:function(){var t=this._head;if(0>=arguments.length||void 0===arguments[0]?0:arguments[0])return!!t;for(var v=[];t;)v.push(t),t=
t._next;return v}},{key:"has",value:function(t){if(!(t instanceof Q))throw Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var v=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof t)throw Error("MiniSignal#add(): First arg must be a Function.");
return y(this,new Q(t,!1,v))}},{key:"once",value:function(t){var v=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!==typeof t)throw Error("MiniSignal#once(): First arg must be a Function.");return y(this,new Q(t,!0,v))}},{key:"detach",value:function(t){if(!(t instanceof Q))throw Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");if(t._owner!==this)return this;t._prev&&(t._prev._next=t._next);t._next&&(t._next._prev=t._prev);t===this._head?(this._head=
t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null);t._owner=null;return this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]);return H}();ya.MiniSignalBinding=Q;Y["default"]=ya;Ha.exports=Y["default"]};
shadow$provide[29]=function(ya,pa,Ha,Y){function N(l){return l&&"object"===typeof l&&"default"in l?l["default"]:l}function y(){}function E(l,J,p,G){var R=0,aa=l.length;(function ea(ua){ua||R===aa?p&&p(ua):G?setTimeout(function(){J(l[R++],ea)},1):J(l[R++],ea)})()}function Q(l){return function(){if(null===l)throw Error("Callback was already called.");var J=l;l=null;J.apply(this,arguments)}}function H(l,J){function p(ka,ua,ea){if(null!=ea&&"function"!==typeof ea)throw Error("task callback must be a function");
aa.started=!0;null==ka&&aa.idle()?setTimeout(function(){return aa.drain()},1):(ka={data:ka,callback:"function"===typeof ea?ea:y},ua?aa._tasks.unshift(ka):aa._tasks.push(ka),setTimeout(function(){return aa.process()},1))}function G(ka){return function(){--R;ka.callback.apply(ka,arguments);null!=arguments[0]&&aa.error(arguments[0],ka.data);R<=aa.concurrency-aa.buffer&&aa.unsaturated();aa.idle()&&aa.drain();aa.process()}}if(null==J)J=1;else if(0===J)throw Error("Concurrency must not be zero");var R=
0,aa={_tasks:[],concurrency:J,saturated:y,unsaturated:y,buffer:J/4,empty:y,drain:y,error:y,started:!1,paused:!1,push:function(ka,ua){p(ka,!1,ua)},kill:function(){R=0;aa.drain=y;aa.started=!1;aa._tasks=[]},unshift:function(ka,ua){p(ka,!0,ua)},process:function(){for(;!aa.paused&&R<aa.concurrency&&aa._tasks.length;){var ka=aa._tasks.shift();0===aa._tasks.length&&aa.empty();R+=1;R===aa.concurrency&&aa.saturated();l(ka.data,Q(G(ka)))}},length:function(){return aa._tasks.length},running:function(){return R},
idle:function(){return 0===aa._tasks.length+R},pause:function(){!0!==aa.paused&&(aa.paused=!0)},resume:function(){if(!1!==aa.paused){aa.paused=!1;for(var ka=1;ka<=aa.concurrency;ka++)aa.process()}}};return aa}function t(l,J){for(var p=0;p<J.length;p++){var G=J[p];G.enumerable=G.enumerable||!1;G.configurable=!0;"value"in G&&(G.writable=!0);Object.defineProperty(l,G.key,G)}}function v(l,J,p){J&&t(l.prototype,J);p&&t(l,p);return l}function C(){}function L(l,J,p){J&&0===J.indexOf(".")&&(J=J.substring(1));
J&&(l[J]=p)}function F(l){return l.toString().replace("object ","")}function n(l){for(var J="",p=0;p<l.length;){for(var G=[0,0,0],R=[0,0,0,0],aa=0;aa<G.length;++aa)G[aa]=p<l.length?l.charCodeAt(p++)&255:0;R[0]=G[0]>>2;R[1]=(G[0]&3)<<4|G[1]>>4;R[2]=(G[1]&15)<<2|G[2]>>6;R[3]=G[2]&63;switch(p-(l.length-1)){case 2:R[3]=64;R[2]=64;break;case 1:R[3]=64}for(G=0;G<R.length;++G)J+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(R[G])}return J}Object.defineProperty(Y,"__esModule",
{value:!0});var u=N(pa(27)),q=N(pa(28));ya={eachSeries:E,queue:H};var z={},I=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),P=null,m=function(){function l(p,G,R){if("string"!==typeof p||"string"!==typeof G)throw Error("Both name and url are required for constructing a resource.");R=R||{};this._flags=0;this._setFlag(l.STATUS_FLAGS.DATA_URL,0===G.indexOf("data:"));this.name=p;this.url=G;this.extension=this._getExtension();this.data=null;this.crossOrigin=!0===R.crossOrigin?"anonymous":
R.crossOrigin;this.timeout=R.timeout||0;this.loadType=R.loadType||this._determineLoadType();this.xhrType=R.xhrType;this.metadata=R.metadata||{};this.xhr=this.error=null;this.children=[];this.type=l.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=C;this._onLoadBinding=null;this._elementTimer=0;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundOnTimeout=this._onTimeout.bind(this);this._boundXhrOnError=
this._xhrOnError.bind(this);this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this.onStart=new q;this.onProgress=new q;this.onComplete=new q;this.onAfterMiddleware=new q}l.setExtensionLoadType=function(p,G){L(l._loadTypeMap,p,G)};l.setExtensionXhrType=function(p,G){L(l._xhrTypeMap,p,G)};var J=l.prototype;J.complete=function(){this._clearEvents();this._finish()};J.abort=function(p){if(!this.error){this.error=
Error(p);this._clearEvents();if(this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=l.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}};J.load=function(p){var G=this;if(!this.isLoading)if(this.isComplete)p&&setTimeout(function(){return p(G)},1);else{if(p)this.onComplete.once(p);this._setFlag(l.STATUS_FLAGS.LOADING,!0);this.onStart.dispatch(this);if(!1===this.crossOrigin||"string"!==typeof this.crossOrigin)this.crossOrigin=
this._determineCrossOrigin(this.url);switch(this.loadType){case l.LOAD_TYPE.IMAGE:this.type=l.TYPE.IMAGE;this._loadElement("image");break;case l.LOAD_TYPE.AUDIO:this.type=l.TYPE.AUDIO;this._loadSourceElement("audio");break;case l.LOAD_TYPE.VIDEO:this.type=l.TYPE.VIDEO;this._loadSourceElement("video");break;default:I&&this.crossOrigin?this._loadXdr():this._loadXhr()}}};J._hasFlag=function(p){return 0!==(this._flags&p)};J._setFlag=function(p,G){this._flags=G?this._flags|p:this._flags&~p};J._clearEvents=
function(){clearTimeout(this._elementTimer);this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1));this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,
!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))};J._finish=function(){if(this.isComplete)throw Error("Complete called again for an already completed resource.");this._setFlag(l.STATUS_FLAGS.COMPLETE,!0);this._setFlag(l.STATUS_FLAGS.LOADING,!1);this.onComplete.dispatch(this)};
J._loadElement=function(p){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===p&&"undefined"!==typeof window.Image?new Image:document.createElement(p);this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.metadata.skipSource||(this.data.src=this.url);this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,
this.timeout))};J._loadSourceElement=function(p){this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===p&&"undefined"!==typeof window.Audio?new Audio:document.createElement(p);if(null===this.data)this.abort("Unsupported element: "+p);else{this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var G=this.metadata.mimeType,R=0;R<this.url.length;++R)this.data.appendChild(this._createSource(p,
this.url[R],Array.isArray(G)?G[R]:G));else G=this.metadata.mimeType,this.data.appendChild(this._createSource(p,this.url,Array.isArray(G)?G[0]:G));this.data.addEventListener("error",this._boundOnError,!1);this.data.addEventListener("load",this._boundComplete,!1);this.data.addEventListener("progress",this._boundOnProgress,!1);this.data.addEventListener("canplaythrough",this._boundComplete,!1);this.data.load();this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}};J._loadXhr=
function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var p=this.xhr=new XMLHttpRequest;p.open("GET",this.url,!0);p.timeout=this.timeout;p.responseType=this.xhrType===l.XHR_RESPONSE_TYPE.JSON||this.xhrType===l.XHR_RESPONSE_TYPE.DOCUMENT?l.XHR_RESPONSE_TYPE.TEXT:this.xhrType;p.addEventListener("error",this._boundXhrOnError,!1);p.addEventListener("timeout",this._boundXhrOnTimeout,!1);p.addEventListener("abort",this._boundXhrOnAbort,!1);p.addEventListener("progress",this._boundOnProgress,
!1);p.addEventListener("load",this._boundXhrOnLoad,!1);p.send()};J._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var p=this.xhr=new XDomainRequest;p.timeout=this.timeout||5E3;p.onerror=this._boundXhrOnError;p.ontimeout=this._boundXhrOnTimeout;p.onprogress=this._boundOnProgress;p.onload=this._boundXhrOnLoad;p.open("GET",this.url,!0);setTimeout(function(){return p.send()},1)};J._createSource=function(p,G,R){R||(R=p+"/"+this._getExtension(G));p=document.createElement("source");
p.src=G;p.type=R;return p};J._onError=function(p){this.abort("Failed to load element using: "+p.target.nodeName)};J._onProgress=function(p){p&&p.lengthComputable&&this.onProgress.dispatch(this,p.loaded/p.total)};J._onTimeout=function(){this.abort("Load timed out.")};J._xhrOnError=function(){var p=this.xhr;this.abort(F(p)+" Request failed. Status: "+p.status+', text: "'+p.statusText+'"')};J._xhrOnTimeout=function(){this.abort(F(this.xhr)+" Request timed out.")};J._xhrOnAbort=function(){this.abort(F(this.xhr)+
" Request was aborted by the user.")};J._xhrOnLoad=function(){var p=this.xhr,G="",R="undefined"===typeof p.status?200:p.status;if(""===p.responseType||"text"===p.responseType||"undefined"===typeof p.responseType)G=p.responseText;0===R&&(0<G.length||p.responseType===l.XHR_RESPONSE_TYPE.BUFFER)?R=200:1223===R&&(R=204);if(2===(R/100|0)){if(this.xhrType===l.XHR_RESPONSE_TYPE.TEXT)this.data=G,this.type=l.TYPE.TEXT;else if(this.xhrType===l.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(G),this.type=l.TYPE.JSON}catch(ka){this.abort("Error trying to parse loaded json: "+
ka);return}else if(this.xhrType===l.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(G,"text/xml");else{var aa=document.createElement("div");aa.innerHTML=G;this.data=aa}this.type=l.TYPE.XML}catch(ka){this.abort("Error trying to parse loaded xml: "+ka);return}else this.data=p.response||G;this.complete()}else this.abort("["+p.status+"] "+p.statusText+": "+p.responseURL)};J._determineCrossOrigin=function(p,G){if(0===p.indexOf("data:"))return"";if(window.origin!==
window.location.origin)return"anonymous";G=G||window.location;P||(P=document.createElement("a"));P.href=p;p=u(P.href,{strictMode:!0});var R=!p.port&&""===G.port||p.port===G.port,aa=p.protocol?p.protocol+":":"";return p.host===G.hostname&&R&&aa===G.protocol?"":"anonymous"};J._determineXhrType=function(){return l._xhrTypeMap[this.extension]||l.XHR_RESPONSE_TYPE.TEXT};J._determineLoadType=function(){return l._loadTypeMap[this.extension]||l.LOAD_TYPE.XHR};J._getExtension=function(){var p=this.url;if(this.isDataUrl){var G=
p.indexOf("/");p=p.substring(G+1,p.indexOf(";",G))}else{G=p.indexOf("?");var R=p.indexOf("#");p=p.substring(0,Math.min(-1<G?G:p.length,-1<R?R:p.length));p=p.substring(p.lastIndexOf(".")+1)}return p.toLowerCase()};J._getMimeFromXhrType=function(p){switch(p){case l.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case l.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case l.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case l.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}};
v(l,[{key:"isDataUrl",get:function(){return this._hasFlag(l.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(l.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(l.STATUS_FLAGS.LOADING)}}]);return l}();m.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4};m.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};m.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};m.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",
JSON:"json",TEXT:"text"};m._loadTypeMap={gif:m.LOAD_TYPE.IMAGE,png:m.LOAD_TYPE.IMAGE,bmp:m.LOAD_TYPE.IMAGE,jpg:m.LOAD_TYPE.IMAGE,jpeg:m.LOAD_TYPE.IMAGE,tif:m.LOAD_TYPE.IMAGE,tiff:m.LOAD_TYPE.IMAGE,webp:m.LOAD_TYPE.IMAGE,tga:m.LOAD_TYPE.IMAGE,svg:m.LOAD_TYPE.IMAGE,"svg+xml":m.LOAD_TYPE.IMAGE,mp3:m.LOAD_TYPE.AUDIO,ogg:m.LOAD_TYPE.AUDIO,wav:m.LOAD_TYPE.AUDIO,mp4:m.LOAD_TYPE.VIDEO,webm:m.LOAD_TYPE.VIDEO};m._xhrTypeMap={xhtml:m.XHR_RESPONSE_TYPE.DOCUMENT,html:m.XHR_RESPONSE_TYPE.DOCUMENT,htm:m.XHR_RESPONSE_TYPE.DOCUMENT,
xml:m.XHR_RESPONSE_TYPE.DOCUMENT,tmx:m.XHR_RESPONSE_TYPE.DOCUMENT,svg:m.XHR_RESPONSE_TYPE.DOCUMENT,tsx:m.XHR_RESPONSE_TYPE.DOCUMENT,gif:m.XHR_RESPONSE_TYPE.BLOB,png:m.XHR_RESPONSE_TYPE.BLOB,bmp:m.XHR_RESPONSE_TYPE.BLOB,jpg:m.XHR_RESPONSE_TYPE.BLOB,jpeg:m.XHR_RESPONSE_TYPE.BLOB,tif:m.XHR_RESPONSE_TYPE.BLOB,tiff:m.XHR_RESPONSE_TYPE.BLOB,webp:m.XHR_RESPONSE_TYPE.BLOB,tga:m.XHR_RESPONSE_TYPE.BLOB,json:m.XHR_RESPONSE_TYPE.JSON,text:m.XHR_RESPONSE_TYPE.TEXT,txt:m.XHR_RESPONSE_TYPE.TEXT,ttf:m.XHR_RESPONSE_TYPE.BUFFER,
otf:m.XHR_RESPONSE_TYPE.BUFFER};m.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d";var k=window.URL||window.webkitURL,h=/(#[\w-]+)?$/,r=function(){function l(p,G){var R=this;void 0===p&&(p="");void 0===G&&(G=10);this.baseUrl=p;this.progress=0;this.loading=!1;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(aa,ka){return R._loadResource(aa,ka)};this._queue=H(this._boundLoadResource,
G);this._queue.pause();this.resources={};this.onProgress=new q;this.onError=new q;this.onLoad=new q;this.onStart=new q;this.onComplete=new q;for(p=0;p<l._defaultBeforeMiddleware.length;++p)this.pre(l._defaultBeforeMiddleware[p]);for(p=0;p<l._defaultAfterMiddleware.length;++p)this.use(l._defaultAfterMiddleware[p])}var J=l.prototype;J.add=function(p,G,R,aa){if(Array.isArray(p)){for(G=0;G<p.length;++G)this.add(p[G]);return this}"object"===typeof p&&(aa=G||p.callback||p.onComplete,R=p,G=p.url,p=p.name||
p.key||p.url);"string"!==typeof G&&(aa=R,R=G,G=p);if("string"!==typeof G)throw Error("No url passed to add resource to loader.");"function"===typeof R&&(aa=R,R=null);if(this.loading&&(!R||!R.parentResource))throw Error("Cannot add resources while the loader is running.");if(this.resources[p])throw Error('Resource named "'+p+'" already exists.');G=this._prepareUrl(G);this.resources[p]=new m(p,G,R);if("function"===typeof aa)this.resources[p].onAfterMiddleware.once(aa);if(this.loading){R=R.parentResource;
G=[];for(aa=0;aa<R.children.length;++aa)R.children[aa].isComplete||G.push(R.children[aa]);aa=R.progressChunk*(G.length+1)/(G.length+2);R.children.push(this.resources[p]);R.progressChunk=aa;for(R=0;R<G.length;++R)G[R].progressChunk=aa;this.resources[p].progressChunk=aa}this._queue.push(this.resources[p]);return this};J.pre=function(p){this._beforeMiddleware.push(p);return this};J.use=function(p){this._afterMiddleware.push(p);return this};J.reset=function(){this.progress=0;this.loading=!1;this._queue.kill();
this._queue.pause();for(var p in this.resources){var G=this.resources[p];G._onLoadBinding&&G._onLoadBinding.detach();G.isLoading&&G.abort()}this.resources={};return this};J.load=function(p){if("function"===typeof p)this.onComplete.once(p);if(this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{p=100/this._queue._tasks.length;for(var G=0;G<this._queue._tasks.length;++G)this._queue._tasks[G].data.progressChunk=p;this._onStart();this._queue.resume()}return this};J._prepareUrl=
function(p){var G=u(p,{strictMode:!0});p=G.protocol||!G.path||0===p.indexOf("//")?p:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==p.charAt(0)?this.baseUrl+"/"+p:this.baseUrl+p;this.defaultQueryString&&(G=h.exec(p)[0],p=p.substr(0,p.length-G.length),p=-1!==p.indexOf("?")?p+("\x26"+this.defaultQueryString):p+("?"+this.defaultQueryString),p+=G);return p};J._loadResource=function(p,G){var R=this;p._dequeue=G;E(this._beforeMiddleware,function(aa,ka){aa.call(R,p,function(){ka(p.isComplete?
{}:null)})},function(){p.isComplete?R._onLoad(p):(p._onLoadBinding=p.onComplete.once(R._onLoad,R),p.load())},!0)};J._onStart=function(){this.progress=0;this.loading=!0;this.onStart.dispatch(this)};J._onComplete=function(){this.progress=100;this.loading=!1;this.onComplete.dispatch(this,this.resources)};J._onLoad=function(p){var G=this;p._onLoadBinding=null;this._resourcesParsing.push(p);p._dequeue();E(this._afterMiddleware,function(R,aa){R.call(G,p,aa)},function(){p.onAfterMiddleware.dispatch(p);G.progress=
Math.min(100,G.progress+p.progressChunk);G.onProgress.dispatch(G,p);p.error?G.onError.dispatch(p.error,G,p):G.onLoad.dispatch(G,p);G._resourcesParsing.splice(G._resourcesParsing.indexOf(p),1);G._queue.idle()&&0===G._resourcesParsing.length&&G._onComplete()},!0)};v(l,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(p){this._queue.concurrency=p}}]);return l}();r._defaultBeforeMiddleware=[];r._defaultAfterMiddleware=[];r.pre=function(l){r._defaultBeforeMiddleware.push(l);
return r};r.use=function(l){r._defaultAfterMiddleware.push(l);return r};Y.Loader=r;Y.Resource=m;Y.async=ya;Y.encodeBinary=n;Y.middleware={caching:function(l,J){var p=this;if(z[l.url])l.data=z[l.url],l.complete();else l.onComplete.once(function(){return z[p.url]=p.data});J()},parsing:function(l,J){if(l.data&&l.xhr&&l.xhrType===m.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"===typeof l.data){var p=l.xhr.getResponseHeader("content-type");if(p&&0===p.indexOf("image")){l.data=new Image;l.data.src="data:"+
p+";base64,"+n(l.xhr.responseText);l.type=m.TYPE.IMAGE;l.data.onload=function(){l.data.onload=null;J()};return}}else if(0===l.data.type.indexOf("image")){var G=k.createObjectURL(l.data);l.blob=l.data;l.data=new Image;l.data.src=G;l.type=m.TYPE.IMAGE;l.data.onload=function(){k.revokeObjectURL(G);l.data.onload=null;J()};return}J()}}};
shadow$provide[30]=function(ya,pa,Ha,Y){function N(t,v){function C(){this.constructor=t}Q(t,v);t.prototype=null===v?Object.create(v):(C.prototype=v.prototype,new C)}Object.defineProperty(Y,"__esModule",{value:!0});var y=pa(29),E=pa(16);ya=y.Resource;var Q=function(t,v){Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,L){C.__proto__=L}||function(C,L){for(var F in L)L.hasOwnProperty(F)&&(C[F]=L[F])};return Q(t,v)};pa=function(){function t(){}t.use=function(v,C){v.data&&v.type===y.Resource.TYPE.IMAGE&&
(v.texture=E.Texture.fromLoader(v.data,v.url,v.name));C()};return t}();var H=function(t){function v(C,L){C=t.call(this,C,L)||this;for(L=0;L<v._plugins.length;++L){var F=v._plugins[L],n=F.pre;F=F.use;n&&C.pre(n);F&&C.use(F)}C._protected=!1;return C}N(v,t);v.prototype.destroy=function(){this._protected||this.reset()};Object.defineProperty(v,"shared",{get:function(){var C=v._shared;C||(C=new v,C._protected=!0,v._shared=C);return C},enumerable:!1,configurable:!0});v.registerPlugin=function(C){v._plugins.push(C);
C.add&&C.add();return v};v._plugins=[];return v}(y.Loader);H.registerPlugin({use:y.middleware.parsing});H.registerPlugin(pa);Ha=function(){function t(){}t.init=function(v){v=Object.assign({sharedLoader:!1},v);this.loader=v.sharedLoader?H.shared:new H};t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};return t}();Y.AppLoaderPlugin=Ha;Y.Loader=H;Y.LoaderResource=ya;Y.TextureLoader=pa};
shadow$provide[31]=function(ya,pa,Ha,Y){function N(C,L){function F(){this.constructor=C}t(C,L);C.prototype=null===L?Object.create(L):(F.prototype=L.prototype,new F)}Object.defineProperty(Y,"__esModule",{value:!0});var y=pa(3);ya=pa(22);var E=pa(12),Q=pa(16),H=pa(15),t=function(C,L){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,n){F.__proto__=n}||function(F,n){for(var u in n)n.hasOwnProperty(u)&&(F[u]=n[u])};return t(C,L)};pa=function(C){function L(F,n,u,q){void 0===F&&(F=1500);
void 0===u&&(u=16384);void 0===q&&(q=!1);var z=C.call(this)||this;16384<u&&(u=16384);z._properties=[!1,!0,!1,!1,!1];z._maxSize=F;z._batchSize=u;z._buffers=null;z._bufferUpdateIDs=[];z._updateID=0;z.interactiveChildren=!1;z.blendMode=y.BLEND_MODES.NORMAL;z.autoResize=q;z.roundPixels=!0;z.baseTexture=null;z.setProperties(n);z._tint=0;z.tintRgb=new Float32Array(4);z.tint=16777215;return z}N(L,C);L.prototype.setProperties=function(F){F&&(this._properties[0]="vertices"in F||"scale"in F?!!F.vertices||!!F.scale:
this._properties[0],this._properties[1]="position"in F?!!F.position:this._properties[1],this._properties[2]="rotation"in F?!!F.rotation:this._properties[2],this._properties[3]="uvs"in F?!!F.uvs:this._properties[3],this._properties[4]="tint"in F||"alpha"in F?!!F.tint||!!F.alpha:this._properties[4])};L.prototype.updateTransform=function(){this.displayObjectUpdateTransform()};Object.defineProperty(L.prototype,"tint",{get:function(){return this._tint},set:function(F){this._tint=F;E.hex2rgb(F,this.tintRgb)},
enumerable:!1,configurable:!0});L.prototype.render=function(F){var n=this;if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){if(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.valid))this.baseTexture.once("update",function(){return n.onChildrenChange(0)});F.batch.setObjectRenderer(F.plugins.particle);F.plugins.particle.render(this)}};L.prototype.onChildrenChange=function(F){for(F=Math.floor(F/this._batchSize);this._bufferUpdateIDs.length<
F;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[F]=++this._updateID};L.prototype.dispose=function(){if(this._buffers){for(var F=0;F<this._buffers.length;++F)this._buffers[F].destroy();this._buffers=null}};L.prototype.destroy=function(F){C.prototype.destroy.call(this,F);this.dispose();this._bufferUpdateIDs=this._buffers=this._properties=null};return L}(ya.Container);var v=function(){function C(L,F,n){this.geometry=new Q.Geometry;this.indexBuffer=null;this.size=n;this.dynamicProperties=[];this.staticProperties=
[];for(n=0;n<L.length;++n){var u=L[n];u={attributeName:u.attributeName,size:u.size,uploadFunction:u.uploadFunction,type:u.type||y.TYPES.FLOAT,offset:u.offset};F[n]?this.dynamicProperties.push(u):this.staticProperties.push(u)}this.staticStride=0;this.staticDataUint32=this.staticData=this.staticBuffer=null;this.dynamicStride=0;this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=null;this._updateID=0;this.initBuffers()}C.prototype.initBuffers=function(){var L=this.geometry,F=0;this.indexBuffer=
new Q.Buffer(E.createIndicesForQuads(this.size),!0,!0);L.addIndex(this.indexBuffer);for(var n=this.dynamicStride=0;n<this.dynamicProperties.length;++n){var u=this.dynamicProperties[n];u.offset=F;F+=u.size;this.dynamicStride+=u.size}n=new ArrayBuffer(this.size*this.dynamicStride*16);this.dynamicData=new Float32Array(n);this.dynamicDataUint32=new Uint32Array(n);this.dynamicBuffer=new Q.Buffer(this.dynamicData,!1,!1);for(n=this.staticStride=F=0;n<this.staticProperties.length;++n)u=this.staticProperties[n],
u.offset=F,F+=u.size,this.staticStride+=u.size;n=new ArrayBuffer(this.size*this.staticStride*16);this.staticData=new Float32Array(n);this.staticDataUint32=new Uint32Array(n);this.staticBuffer=new Q.Buffer(this.staticData,!0,!1);for(n=0;n<this.dynamicProperties.length;++n)u=this.dynamicProperties[n],L.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===y.TYPES.UNSIGNED_BYTE,u.type,4*this.dynamicStride,4*u.offset);for(n=0;n<this.staticProperties.length;++n)u=this.staticProperties[n],L.addAttribute(u.attributeName,
this.staticBuffer,0,u.type===y.TYPES.UNSIGNED_BYTE,u.type,4*this.staticStride,4*u.offset)};C.prototype.uploadDynamic=function(L,F,n){for(var u=0;u<this.dynamicProperties.length;u++){var q=this.dynamicProperties[u];q.uploadFunction(L,F,n,q.type===y.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,q.offset)}this.dynamicBuffer._updateID++};C.prototype.uploadStatic=function(L,F,n){for(var u=0;u<this.staticProperties.length;u++){var q=this.staticProperties[u];q.uploadFunction(L,
F,n,q.type===y.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,q.offset)}this.staticBuffer._updateID++};C.prototype.destroy=function(){this.staticDataUint32=this.staticData=this.staticBuffer=this.staticProperties=this.dynamicDataUint32=this.dynamicData=this.dynamicBuffer=this.dynamicProperties=this.indexBuffer=null;this.geometry.destroy()};return C}();ya=function(C){function L(F){F=C.call(this,F)||this;F.shader=null;F.properties=null;F.tempMatrix=new H.Matrix;F.properties=
[{attributeName:"aVertexPosition",size:2,uploadFunction:F.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:F.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:F.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:F.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:y.TYPES.UNSIGNED_BYTE,uploadFunction:F.uploadTint,offset:0}];F.shader=Q.Shader.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x \x3d (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y \x3d (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v \x3d vec2(x, y);\n    v \x3d v + aPositionCoord;\n\n    gl_Position \x3d vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d aTextureCoord;\n    vColor \x3d aColor * uColor;\n}\n",
"varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color \x3d texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor \x3d color;\n}",{});F.state=Q.State.for2d();return F}N(L,C);L.prototype.render=function(F){var n=F.children,u=F._maxSize,q=F._batchSize,z=this.renderer,I=n.length;if(0!==I){I>u&&!F.autoResize&&(I=u);u=F._buffers;u||(u=F._buffers=this.generateBuffers(F));var P=n[0]._texture.baseTexture;this.state.blendMode=E.correctBlendMode(F.blendMode,
P.alphaMode);z.state.set(this.state);var m=z.gl,k=F.worldTransform.copyTo(this.tempMatrix);k.prepend(z.globalUniforms.uniforms.projectionMatrix);this.shader.uniforms.translationMatrix=k.toArray(!0);this.shader.uniforms.uColor=E.premultiplyRgba(F.tintRgb,F.worldAlpha,this.shader.uniforms.uColor,P.alphaMode);this.shader.uniforms.uSampler=P;this.renderer.shader.bind(this.shader);P=!1;for(var h=k=0;k<I;k+=q,h+=1){var r=I-k;r>q&&(r=q);h>=u.length&&u.push(this._generateOneMoreBuffer(F));var l=u[h];l.uploadDynamic(n,
k,r);var J=F._bufferUpdateIDs[h]||0;if(P=P||l._updateID<J)l._updateID=F._updateID,l.uploadStatic(n,k,r);z.geometry.bind(l.geometry);m.drawElements(m.TRIANGLES,6*r,m.UNSIGNED_SHORT,0)}}};L.prototype.generateBuffers=function(F){var n=[],u=F._maxSize,q=F._batchSize;F=F._properties;for(var z=0;z<u;z+=q)n.push(new v(this.properties,F,q));return n};L.prototype._generateOneMoreBuffer=function(F){return new v(this.properties,F._properties,F._batchSize)};L.prototype.uploadVertices=function(F,n,u,q,z,I){for(var P,
m,k,h,r=0;r<u;++r){h=F[n+r];P=h._texture;var l=h.scale.x,J=h.scale.y;k=P.trim;var p=P.orig;k?(m=k.x-h.anchor.x*p.width,P=m+k.width,h=k.y-h.anchor.y*p.height,k=h+k.height):(P=p.width*(1-h.anchor.x),m=p.width*-h.anchor.x,k=p.height*(1-h.anchor.y),h=p.height*-h.anchor.y);q[I]=m*l;q[I+1]=h*J;q[I+z]=P*l;q[I+z+1]=h*J;q[I+2*z]=P*l;q[I+2*z+1]=k*J;q[I+3*z]=m*l;q[I+3*z+1]=k*J;I+=4*z}};L.prototype.uploadPosition=function(F,n,u,q,z,I){for(var P=0;P<u;P++){var m=F[n+P].position;q[I]=m.x;q[I+1]=m.y;q[I+z]=m.x;
q[I+z+1]=m.y;q[I+2*z]=m.x;q[I+2*z+1]=m.y;q[I+3*z]=m.x;q[I+3*z+1]=m.y;I+=4*z}};L.prototype.uploadRotation=function(F,n,u,q,z,I){for(var P=0;P<u;P++){var m=F[n+P].rotation;q[I]=m;q[I+z]=m;q[I+2*z]=m;q[I+3*z]=m;I+=4*z}};L.prototype.uploadUvs=function(F,n,u,q,z,I){for(var P=0;P<u;++P){var m=F[n+P]._texture._uvs;m?(q[I]=m.x0,q[I+1]=m.y0,q[I+z]=m.x1,q[I+z+1]=m.y1,q[I+2*z]=m.x2,q[I+2*z+1]=m.y2,q[I+3*z]=m.x3,q[I+3*z+1]=m.y3):(q[I]=0,q[I+1]=0,q[I+z]=0,q[I+z+1]=0,q[I+2*z]=0,q[I+2*z+1]=0,q[I+3*z]=0,q[I+3*z+
1]=0);I+=4*z}};L.prototype.uploadTint=function(F,n,u,q,z,I){for(var P=0;P<u;++P){var m=F[n+P],k=0<m._texture.baseTexture.alphaMode,h=m.alpha;m=1>h&&k?E.premultiplyTint(m._tintRGB,h):m._tintRGB+(255*h<<24);q[I]=m;q[I+z]=m;q[I+2*z]=m;q[I+3*z]=m;I+=4*z}};L.prototype.destroy=function(){C.prototype.destroy.call(this);this.shader&&(this.shader.destroy(),this.shader=null);this.tempMatrix=null};return L}(Q.ObjectRenderer);Y.ParticleContainer=pa;Y.ParticleRenderer=ya};
shadow$provide[32]=function(ya,pa,Ha,Y){function N(ba,fa){function K(){this.constructor=ba}q(ba,fa);ba.prototype=null===fa?Object.create(fa):(K.prototype=fa.prototype,new K)}function y(ba,fa,K,V,ca,Z,ma){void 0===ma&&(ma=[]);for(var sa,qa,Ca,wa,za=0,Ba;20>=za;++za)Ba=za/20,sa=ba+(K-ba)*Ba,qa=fa+(V-fa)*Ba,Ca=K+(ca-K)*Ba,wa=V+(Z-V)*Ba,sa+=(Ca-sa)*Ba,qa+=(wa-qa)*Ba,ma.push(sa,qa);return ma}function E(ba,fa,K,V,ca,Z,ma,sa){if(ma){ma=V;var qa=-K}else ma=-V,qa=K;var Ca=ba+K*Z+ma;Z=fa+V*Z+qa;sa.push(ba-
K*ca+ma,fa-V*ca+qa);sa.push(Ca,Z);return 2}function Q(ba,fa,K,V,ca,Z,ma,sa){var qa=K-ba,Ca=V-fa,wa=Math.atan2(qa,Ca),za=Math.atan2(ca-ba,Z-fa);sa&&wa<za?wa+=2*Math.PI:!sa&&wa>za&&(za+=2*Math.PI);za-=wa;qa=Math.sqrt(qa*qa+Ca*Ca);Ca=(15*Math.abs(za)*Math.sqrt(qa)/Math.PI>>0)+1;za/=Ca;wa+=za;if(sa){ma.push(ba,fa);ma.push(K,V);K=1;for(V=wa;K<Ca;K++,V+=za)ma.push(ba,fa),ma.push(ba+Math.sin(V)*qa,fa+Math.cos(V)*qa);ma.push(ba,fa);ma.push(ca,Z)}else{ma.push(K,V);ma.push(ba,fa);K=1;for(V=wa;K<Ca;K++,V+=za)ma.push(ba+
Math.sin(V)*qa,fa+Math.cos(V)*qa),ma.push(ba,fa);ma.push(ca,Z);ma.push(ba,fa)}return 2*Ca}function H(ba,fa){if(ba.lineStyle.native){var K=ba.shape,V=ba.points||K.points;ba=K.type!==v.SHAPES.POLY||K.closeStroke;if(0!==V.length){K=fa.points;var ca=fa.indices,Z=V.length/2,ma=K.length/2,sa=ma;K.push(V[0],V[1]);for(fa=1;fa<Z;fa++)K.push(V[2*fa],V[2*fa+1]),ca.push(sa,sa+1),sa++;ba&&ca.push(sa,ma)}}else if(K=ba.shape,V=ba.points||K.points.slice(),ma=fa.closePointEps,0!==V.length){ba=ba.lineStyle;ca=new v.Point(V[0],
V[1]);Z=new v.Point(V[V.length-2],V[V.length-1]);K=K.type!==v.SHAPES.POLY||K.closeStroke;ma=Math.abs(ca.x-Z.x)<ma&&Math.abs(ca.y-Z.y)<ma;K&&(V=V.slice(),ma&&(V.pop(),V.pop(),Z.set(V[V.length-2],V[V.length-1])),ma=.5*(ca.x+Z.x),ca=.5*(Z.y+ca.y),V.unshift(ma,ca),V.push(ma,ca));ca=fa.points;var qa=V.length/2;Z=V.length;ma=ca.length/2;var Ca=ba.width/2,wa=Ca*Ca,za=ba.miterLimit*ba.miterLimit,Ba=V[0],Ga=V[1];sa=V[2];var Da=V[3],Ka=-(Ga-Da),Oa=Ba-sa,Pa=Math.sqrt(Ka*Ka+Oa*Oa);Ka=Ka/Pa*Ca;Oa=Oa/Pa*Ca;sa=
ba.alignment;var Fa=2*(1-sa),Ma=2*sa;K||(ba.cap===Y.LINE_CAP.ROUND?Z+=Q(Ba-Ka*(Fa-Ma)*.5,Ga-Oa*(Fa-Ma)*.5,Ba-Ka*Fa,Ga-Oa*Fa,Ba+Ka*Ma,Ga+Oa*Ma,ca,!0)+2:ba.cap===Y.LINE_CAP.SQUARE&&(Z+=E(Ba,Ga,Ka,Oa,Fa,Ma,!0,ca)));ca.push(Ba-Ka*Fa,Ga-Oa*Fa);ca.push(Ba+Ka*Ma,Ga+Oa*Ma);for(var Wa=1;Wa<qa-1;++Wa){Ba=V[2*(Wa-1)];Ga=V[2*(Wa-1)+1];sa=V[2*Wa];Da=V[2*Wa+1];var bb=V[2*(Wa+1)];var Ja=V[2*(Wa+1)+1];Ka=-(Ga-Da);Oa=Ba-sa;Pa=Math.sqrt(Ka*Ka+Oa*Oa);Ka/=Pa;Oa/=Pa;Ka*=Ca;Oa*=Ca;var Va=-(Da-Ja);var Za=sa-bb;Pa=Math.sqrt(Va*
Va+Za*Za);Va/=Pa;Za/=Pa;Va*=Ca;Za*=Ca;Pa=sa-Ba;var eb=Ga-Da,fb=sa-bb,cb=Ja-Da,$a=eb*fb-cb*Pa,Ua=0>$a;if(.1>Math.abs($a))ca.push(sa-Ka*Fa,Da-Oa*Fa),ca.push(sa+Ka*Ma,Da+Oa*Ma);else{Ga=(-Ka+Ba)*(-Oa+Da)-(-Ka+sa)*(-Oa+Ga);bb=(-Va+bb)*(-Za+Da)-(-Va+sa)*(-Za+Ja);Ba=(Pa*bb-fb*Ga)/$a;$a=(cb*Ga-eb*bb)/$a;Ga=(Ba-sa)*(Ba-sa)+($a-Da)*($a-Da);bb=sa+(Ba-sa)*Fa;Ja=Da+($a-Da)*Fa;Ba=sa-(Ba-sa)*Ma;$a=Da-($a-Da)*Ma;var gb=Ua?Fa:Ma;Ga<=Math.min(Pa*Pa+eb*eb,fb*fb+cb*cb)+gb*gb*wa?ba.join===Y.LINE_JOIN.BEVEL||Ga/wa>za?
(Ua?(ca.push(bb,Ja),ca.push(sa+Ka*Ma,Da+Oa*Ma),ca.push(bb,Ja),ca.push(sa+Va*Ma,Da+Za*Ma)):(ca.push(sa-Ka*Fa,Da-Oa*Fa),ca.push(Ba,$a),ca.push(sa-Va*Fa,Da-Za*Fa),ca.push(Ba,$a)),Z+=2):ba.join===Y.LINE_JOIN.ROUND?Ua?(ca.push(bb,Ja),ca.push(sa+Ka*Ma,Da+Oa*Ma),Z+=Q(sa,Da,sa+Ka*Ma,Da+Oa*Ma,sa+Va*Ma,Da+Za*Ma,ca,!0)+4,ca.push(bb,Ja),ca.push(sa+Va*Ma,Da+Za*Ma)):(ca.push(sa-Ka*Fa,Da-Oa*Fa),ca.push(Ba,$a),Z+=Q(sa,Da,sa-Ka*Fa,Da-Oa*Fa,sa-Va*Fa,Da-Za*Fa,ca,!1)+4,ca.push(sa-Va*Fa,Da-Za*Fa),ca.push(Ba,$a)):(ca.push(bb,
Ja),ca.push(Ba,$a)):(ca.push(sa-Ka*Fa,Da-Oa*Fa),ca.push(sa+Ka*Ma,Da+Oa*Ma),ba.join===Y.LINE_JOIN.BEVEL||Ga/wa>za||(ba.join===Y.LINE_JOIN.ROUND?Z=Ua?Z+(Q(sa,Da,sa+Ka*Ma,Da+Oa*Ma,sa+Va*Ma,Da+Za*Ma,ca,!0)+2):Z+(Q(sa,Da,sa-Ka*Fa,Da-Oa*Fa,sa-Va*Fa,Da-Za*Fa,ca,!1)+2):(Ua?(ca.push(Ba,$a),ca.push(Ba,$a)):(ca.push(bb,Ja),ca.push(bb,Ja)),Z+=2)),ca.push(sa-Va*Fa,Da-Za*Fa),ca.push(sa+Va*Ma,Da+Za*Ma),Z+=2)}}Ba=V[2*(qa-2)];Ga=V[2*(qa-2)+1];sa=V[2*(qa-1)];Da=V[2*(qa-1)+1];Ka=-(Ga-Da);Oa=Ba-sa;Pa=Math.sqrt(Ka*Ka+
Oa*Oa);Ka=Ka/Pa*Ca;Oa=Oa/Pa*Ca;ca.push(sa-Ka*Fa,Da-Oa*Fa);ca.push(sa+Ka*Ma,Da+Oa*Ma);K||(ba.cap===Y.LINE_CAP.ROUND?Z+=Q(sa-Ka*(Fa-Ma)*.5,Da-Oa*(Fa-Ma)*.5,sa-Ka*Fa,Da-Oa*Fa,sa+Ka*Ma,Da+Oa*Ma,ca,!1)+2:ba.cap===Y.LINE_CAP.SQUARE&&(Z+=E(sa,Da,Ka,Oa,Fa,Ma,!1,ca)));fa=fa.indices;V=n.epsilon*n.epsilon;for(Wa=ma;Wa<Z+ma-2;++Wa)Ba=ca[2*Wa],Ga=ca[2*Wa+1],sa=ca[2*(Wa+1)],Da=ca[2*(Wa+1)+1],bb=ca[2*(Wa+2)],Ja=ca[2*(Wa+2)+1],Math.abs(Ba*(Da-Ja)+sa*(Ja-Ga)+bb*(Ga-Da))<V||fa.push(Wa,Wa+1,Wa+2)}}Object.defineProperty(Y,
"__esModule",{value:!0});var t=pa(16),v=pa(15),C=pa(12),L=pa(3),F=pa(22);(function(ba){ba.MITER="miter";ba.BEVEL="bevel";ba.ROUND="round"})(Y.LINE_JOIN||(Y.LINE_JOIN={}));(function(ba){ba.BUTT="butt";ba.ROUND="round";ba.SQUARE="square"})(Y.LINE_CAP||(Y.LINE_CAP={}));var n={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1E-4,_segmentsCount:function(ba,fa){void 0===fa&&(fa=20);if(!this.adaptive||!ba||isNaN(ba))return fa;ba=Math.ceil(ba/this.maxLength);ba<this.minSegments?ba=this.minSegments:
ba>this.maxSegments&&(ba=this.maxSegments);return ba}},u=function(){function ba(){this.color=16777215;this.alpha=1;this.texture=t.Texture.WHITE;this.matrix=null;this.visible=!1;this.reset()}ba.prototype.clone=function(){var fa=new ba;fa.color=this.color;fa.alpha=this.alpha;fa.texture=this.texture;fa.matrix=this.matrix;fa.visible=this.visible;return fa};ba.prototype.reset=function(){this.color=16777215;this.alpha=1;this.texture=t.Texture.WHITE;this.matrix=null;this.visible=!1};ba.prototype.destroy=
function(){this.matrix=this.texture=null};return ba}(),q=function(ba,fa){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,V){K.__proto__=V}||function(K,V){for(var ca in V)V.hasOwnProperty(ca)&&(K[ca]=V[ca])};return q(ba,fa)},z={build:function(ba){ba.points=ba.shape.points.slice()},triangulate:function(ba,fa){var K=ba.points,V=ba.holes;ba=fa.points;fa=fa.indices;if(6<=K.length){for(var ca=[],Z=0;Z<V.length;Z++){var ma=V[Z];ca.push(K.length/2);K=K.concat(ma.points)}if(V=C.earcut(K,
ca,2)){ca=ba.length/2;for(Z=0;Z<V.length;Z+=3)fa.push(V[Z]+ca),fa.push(V[Z+1]+ca),fa.push(V[Z+2]+ca);for(Z=0;Z<K.length;Z++)ba.push(K[Z])}}}};ya={build:function(ba){var fa=ba.shape,K=ba.points,V=fa.x,ca=fa.y;K.length=0;if(ba.type===v.SHAPES.CIRC)var Z=ba=fa.radius;else Z=ba.shape,ba=Z.width,Z=Z.height;if(0!==ba&&0!==Z){fa=Math.floor(30*Math.sqrt(fa.radius))||Math.floor(15*Math.sqrt(ba+Z));fa/=2.3;for(var ma=2*Math.PI/fa,sa=0;sa<fa-.5;sa++)K.push(V+Math.sin(-ma*sa)*ba,ca+Math.cos(-ma*sa)*Z);K.push(K[0],
K[1])}},triangulate:function(ba,fa){var K=ba.points,V=fa.points;fa=fa.indices;var ca=V.length/2,Z=ca,ma=ba.shape,sa=ba.matrix,qa=ma.x;ma=ma.y;V.push(ba.matrix?sa.a*qa+sa.c*ma+sa.tx:qa,ba.matrix?sa.b*qa+sa.d*ma+sa.ty:ma);for(ba=0;ba<K.length;ba+=2)V.push(K[ba],K[ba+1]),fa.push(ca++,Z,ca)}};pa={build:function(ba){var fa=ba.shape,K=fa.x,V=fa.y,ca=fa.width;fa=fa.height;ba=ba.points;ba.length=0;ba.push(K,V,K+ca,V,K+ca,V+fa,K,V+fa)},triangulate:function(ba,fa){ba=ba.points;var K=fa.points,V=K.length/2;
K.push(ba[0],ba[1],ba[2],ba[3],ba[6],ba[7],ba[4],ba[5]);fa.indices.push(V,V+1,V+2,V+1,V+2,V+3)}};Ha={build:function(ba){var fa=ba.shape;ba=ba.points;var K=fa.x,V=fa.y,ca=fa.width,Z=fa.height;fa=Math.max(0,Math.min(fa.radius,Math.min(ca,Z)/2));ba.length=0;fa?(y(K,V+fa,K,V,K+fa,V,ba),y(K+ca-fa,V,K+ca,V,K+ca,V+fa,ba),y(K+ca,V+Z-fa,K+ca,V+Z,K+ca-fa,V+Z,ba),y(K+fa,V+Z,K,V+Z,K,V+Z-fa,ba)):ba.push(K,V,K+ca,V,K+ca,V+Z,K,V+Z)},triangulate:function(ba,fa){ba=ba.points;var K=fa.points;fa=fa.indices;for(var V=
K.length/2,ca=C.earcut(ba,null,2),Z=0,ma=ca.length;Z<ma;Z+=3)fa.push(ca[Z]+V),fa.push(ca[Z+1]+V),fa.push(ca[Z+2]+V);Z=0;for(ma=ba.length;Z<ma;Z++)K.push(ba[Z],ba[++Z])}};var I=function(ba){function fa(K,V,ca,Z,ma,sa){void 0===sa&&(sa=0);ma=ma||Z/2;sa=-1*Math.PI/2+sa;ca*=2;for(var qa=v.PI_2/ca,Ca=[],wa=0;wa<ca;wa++){var za=wa%2?ma:Z,Ba=wa*qa+sa;Ca.push(K+za*Math.cos(Ba),V+za*Math.sin(Ba))}return ba.call(this,Ca)||this}N(fa,ba);return fa}(v.Polygon),P=function(){function ba(){}ba.curveTo=function(fa,
K,V,ca,Z,ma){var sa=ma[ma.length-1]-K,qa=ma[ma.length-2]-fa;ca-=K;V-=fa;var Ca=Math.abs(sa*V-qa*ca);if(1E-8>Ca||0===Z)return ma[ma.length-2]===fa&&ma[ma.length-1]===K||ma.push(fa,K),null;var wa=sa*sa+qa*qa,za=ca*ca+V*V,Ba=sa*ca+qa*V;ma=Z*Math.sqrt(wa)/Ca;Ca=Z*Math.sqrt(za)/Ca;wa=ma*Ba/wa;za=Ca*Ba/za;Ba=ma*V+Ca*qa;var Ga=ma*ca+Ca*sa;return{cx:Ba+fa,cy:Ga+K,radius:Z,startAngle:Math.atan2(sa*(Ca+wa)-Ga,qa*(Ca+wa)-Ba),endAngle:Math.atan2(ca*(ma+za)-Ga,V*(ma+za)-Ba),anticlockwise:qa*ca>V*sa}};ba.arc=function(fa,
K,V,ca,Z,ma,sa,qa,Ca){fa=sa-ma;var wa=n._segmentsCount(Math.abs(fa)*Z,40*Math.ceil(Math.abs(fa)/v.PI_2));fa/=2*wa;K=2*fa;sa=Math.cos(fa);qa=Math.sin(fa);--wa;for(var za=wa%1/wa,Ba=0;Ba<=wa;++Ba){var Ga=fa+ma+K*(Ba+za*Ba),Da=Math.cos(Ga);Ga=-Math.sin(Ga);Ca.push((sa*Da+qa*Ga)*Z+V,(sa*-Ga+qa*Da)*Z+ca)}};return ba}(),m=function(){function ba(){}ba.curveLength=function(fa,K,V,ca,Z,ma,sa,qa){for(var Ca=0,wa,za,Ba,Ga,Da,Ka,Oa,Pa=fa,Fa=K,Ma=1;10>=Ma;++Ma)wa=Ma/10,za=wa*wa,Ba=za*wa,Ga=1-wa,Da=Ga*Ga,Ka=Da*
Ga,Oa=Ka*fa+3*Da*wa*V+3*Ga*za*Z+Ba*sa,wa=Ka*K+3*Da*wa*ca+3*Ga*za*ma+Ba*qa,za=Pa-Oa,Ba=Fa-wa,Pa=Oa,Fa=wa,Ca+=Math.sqrt(za*za+Ba*Ba);return Ca};ba.curveTo=function(fa,K,V,ca,Z,ma,sa){var qa=sa[sa.length-2],Ca=sa[sa.length-1];sa.length-=2;var wa=n._segmentsCount(ba.curveLength(qa,Ca,fa,K,V,ca,Z,ma));sa.push(qa,Ca);for(var za=1,Ba;za<=wa;++za){Ba=za/wa;var Ga=1-Ba;var Da=Ga*Ga;var Ka=Da*Ga;var Oa=Ba*Ba;var Pa=Oa*Ba;sa.push(Ka*qa+3*Da*Ba*fa+3*Ga*Oa*V+Pa*Z,Ka*Ca+3*Da*Ba*K+3*Ga*Oa*ca+Pa*ma)}};return ba}(),
k=function(){function ba(){}ba.curveLength=function(fa,K,V,ca,Z,ma){Z=fa-2*V+Z;ma=K-2*ca+ma;fa=2*V-2*fa;ca=2*ca-2*K;K=4*(Z*Z+ma*ma);Z=4*(Z*fa+ma*ca);ca=fa*fa+ca*ca;ma=2*Math.sqrt(K+Z+ca);fa=Math.sqrt(K);V=2*K*fa;var sa=2*Math.sqrt(ca),qa=Z/fa;return(V*ma+fa*Z*(ma-sa)+(4*ca*K-Z*Z)*Math.log((2*fa+qa+ma)/(qa+sa)))/(4*V)};ba.curveTo=function(fa,K,V,ca,Z){for(var ma=Z[Z.length-2],sa=Z[Z.length-1],qa=n._segmentsCount(ba.curveLength(ma,sa,fa,K,V,ca)),Ca,wa,za=1;za<=qa;++za){var Ba=za/qa;Ca=ma+(fa-ma)*Ba;
wa=sa+(K-sa)*Ba;Z.push(Ca+(fa+(V-fa)*Ba-Ca)*Ba,wa+(K+(ca-K)*Ba-wa)*Ba)}};return ba}(),h=function(){function ba(){this.reset()}ba.prototype.begin=function(fa,K,V){this.reset();this.style=fa;this.start=K;this.attribStart=V};ba.prototype.end=function(fa,K){this.attribSize=K-this.attribStart;this.size=fa-this.start};ba.prototype.reset=function(){this.style=null;this.attribSize=this.attribStart=this.start=this.size=0};return ba}(),r,l=(r={},r[v.SHAPES.POLY]=z,r[v.SHAPES.CIRC]=ya,r[v.SHAPES.ELIP]=ya,r[v.SHAPES.RECT]=
pa,r[v.SHAPES.RREC]=Ha,r),J=[],p=[];r={buildPoly:z,buildCircle:ya,buildRectangle:pa,buildRoundedRectangle:Ha,FILL_COMMANDS:l,BATCH_POOL:J,DRAW_CALL_POOL:p,buildLine:H,Star:I,ArcUtils:P,BezierUtils:m,QuadraticUtils:k,BatchPart:h};var G=function(){function ba(fa,K,V,ca){void 0===K&&(K=null);void 0===V&&(V=null);void 0===ca&&(ca=null);this.shape=fa;this.lineStyle=V;this.fillStyle=K;this.matrix=ca;this.type=fa.type;this.points=[];this.holes=[]}ba.prototype.clone=function(){return new ba(this.shape,this.fillStyle,
this.lineStyle,this.matrix)};ba.prototype.destroy=function(){this.shape=null;this.holes.length=0;this.holes=null;this.points.length=0;this.fillStyle=this.lineStyle=this.points=null};return ba}(),R=new v.Point,aa=new F.Bounds,ka=function(ba){function fa(){var K=ba.call(this)||this;K.uvsFloat32=null;K.indicesUint16=null;K.points=[];K.colors=[];K.uvs=[];K.indices=[];K.textureIds=[];K.graphicsData=[];K.dirty=0;K.batchDirty=-1;K.cacheDirty=-1;K.clearDirty=0;K.drawCalls=[];K.batches=[];K.shapeIndex=0;K._bounds=
new F.Bounds;K.boundsDirty=-1;K.boundsPadding=0;K.batchable=!1;K.indicesUint16=null;K.uvsFloat32=null;K.closePointEps=1E-4;return K}N(fa,ba);Object.defineProperty(fa.prototype,"bounds",{get:function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds());return this._bounds},enumerable:!1,configurable:!0});fa.prototype.invalidate=function(){this.boundsDirty=-1;this.dirty++;this.batchDirty++;this.shapeIndex=0;this.points.length=0;this.colors.length=0;this.uvs.length=0;
this.indices.length=0;for(var K=this.textureIds.length=0;K<this.drawCalls.length;K++)this.drawCalls[K].texArray.clear(),p.push(this.drawCalls[K]);for(K=this.drawCalls.length=0;K<this.batches.length;K++){var V=this.batches[K];V.reset();J.push(V)}this.batches.length=0};fa.prototype.clear=function(){0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0);return this};fa.prototype.drawShape=function(K,V,ca,Z){void 0===V&&(V=null);void 0===ca&&(ca=null);void 0===Z&&
(Z=null);K=new G(K,V,ca,Z);this.graphicsData.push(K);this.dirty++;return this};fa.prototype.drawHole=function(K,V){void 0===V&&(V=null);if(!this.graphicsData.length)return null;K=new G(K,null,null,V);V=this.graphicsData[this.graphicsData.length-1];K.lineStyle=V.lineStyle;V.holes.push(K);this.dirty++;return this};fa.prototype.destroy=function(){ba.prototype.destroy.call(this);for(var K=0;K<this.graphicsData.length;++K)this.graphicsData[K].destroy();this.points.length=0;this.points=null;this.colors.length=
0;this.colors=null;this.uvs.length=0;this.uvs=null;this.indices.length=0;this.indices=null;this.indexBuffer.destroy();this.indexBuffer=null;this.graphicsData.length=0;this.graphicsData=null;this.drawCalls.length=0;this.drawCalls=null;this.batches.length=0;this._bounds=this.batches=null};fa.prototype.containsPoint=function(K){for(var V=this.graphicsData,ca=0;ca<V.length;++ca){var Z=V[ca];if(Z.fillStyle.visible&&Z.shape&&(Z.matrix?Z.matrix.applyInverse(K,R):R.copyFrom(K),Z.shape.contains(R.x,R.y))){var ma=
!1;if(Z.holes)for(var sa=0;sa<Z.holes.length;sa++)if(Z.holes[sa].shape.contains(R.x,R.y)){ma=!0;break}if(!ma)return!0}}return!1};fa.prototype.updateBatches=function(K){if(!this.graphicsData.length)this.batchable=!0;else if(this.validateBatching()){this.cacheDirty=this.dirty;var V=this.uvs,ca=this.graphicsData,Z=null,ma=null;0<this.batches.length&&(Z=this.batches[this.batches.length-1],ma=Z.style);for(var sa=this.shapeIndex;sa<ca.length;sa++){this.shapeIndex++;var qa=ca[sa],Ca=qa.fillStyle,wa=qa.lineStyle;
l[qa.type].build(qa);qa.matrix&&this.transformPoints(qa.points,qa.matrix);for(var za=0;2>za;za++){var Ba=0===za?Ca:wa;if(Ba.visible){var Ga=this.indices.length,Da=this.points.length/2;Ba.texture.baseTexture.wrapMode=L.WRAP_MODES.REPEAT;0===za?this.processFill(qa):this.processLine(qa);var Ka=this.points.length/2-Da;0!==Ka&&(Z&&!this._compareStyles(ma,Ba)&&(Z.end(Ga,Da),Z=null),Z||(Z=J.pop()||new h,Z.begin(Ba,Ga,Da),this.batches.push(Z),ma=Ba),this.addUvs(this.points,V,Ba.texture,Da,Ka,Ba.matrix))}}}V=
this.indices.length;ca=this.points.length/2;Z&&Z.end(V,ca);0===this.batches.length?this.batchable=!0:(this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=65535<ca&&K?new Uint32Array(this.indices):new Uint16Array(this.indices),(this.batchable=this.isBatchable())?this.packBatches():this.buildDrawCalls())}};fa.prototype._compareStyles=function(K,V){return K&&V&&K.texture.baseTexture===V.texture.baseTexture&&K.color+K.alpha===V.color+
V.alpha&&!!K.native===!!V.native?!0:!1};fa.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var K=0,V=this.graphicsData.length;K<V;K++){var ca=this.graphicsData[K],Z=ca.fillStyle;ca=ca.lineStyle;if(Z&&!Z.texture.baseTexture.valid||ca&&!ca.texture.baseTexture.valid)return!1}return!0};fa.prototype.packBatches=function(){this.batchDirty++;this.uvsFloat32=new Float32Array(this.uvs);for(var K=this.batches,V=0,ca=K.length;V<ca;V++)for(var Z=K[V],
ma=0;ma<Z.size;ma++){var sa=Z.start+ma;this.indicesUint16[sa]-=Z.attribStart}};fa.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var K=this.batches,V=0;V<K.length;V++)if(K[V].style.native)return!1;return this.points.length<2*fa.BATCHABLE_SIZE};fa.prototype.buildDrawCalls=function(){for(var K=++t.BaseTexture._globalBatch,V=0;V<this.drawCalls.length;V++)this.drawCalls[V].texArray.clear(),p.push(this.drawCalls[V]);this.drawCalls.length=0;var ca=this.colors,Z=this.textureIds,
ma=p.pop();ma||(ma=new t.BatchDrawCall,ma.texArray=new t.BatchTextureArray);ma.texArray.count=0;ma.start=0;ma.size=0;ma.type=L.DRAW_MODES.TRIANGLES;var sa=0,qa=null,Ca=!1,wa=L.DRAW_MODES.TRIANGLES,za=0;this.drawCalls.push(ma);for(V=0;V<this.batches.length;V++){var Ba=this.batches[V],Ga=Ba.style;var Da=Ga.texture.baseTexture;Ca!==!!Ga.native&&(wa=(Ca=!!Ga.native)?L.DRAW_MODES.LINES:L.DRAW_MODES.TRIANGLES,qa=null,sa=8,K++);qa!==Da&&(qa=Da,Da._batchEnabled!==K&&(8===sa&&(K++,sa=0,0<ma.size&&(ma=p.pop(),
ma||(ma=new t.BatchDrawCall,ma.texArray=new t.BatchTextureArray),this.drawCalls.push(ma)),ma.start=za,ma.size=0,ma.texArray.count=0,ma.type=wa),Da.touched=1,Da._batchEnabled=K,Da._batchLocation=sa,Da.wrapMode=10497,ma.texArray.elements[ma.texArray.count++]=Da,sa++));ma.size+=Ba.size;za+=Ba.size;Da=Da._batchLocation;this.addColors(ca,Ga.color,Ga.alpha,Ba.attribSize);this.addTextureIds(Z,Da,Ba.attribSize)}t.BaseTexture._globalBatch=K;this.packAttributes()};fa.prototype.packAttributes=function(){for(var K=
this.points,V=this.uvs,ca=this.colors,Z=this.textureIds,ma=new ArrayBuffer(12*K.length),sa=new Float32Array(ma),qa=new Uint32Array(ma),Ca=0,wa=0;wa<K.length/2;wa++)sa[Ca++]=K[2*wa],sa[Ca++]=K[2*wa+1],sa[Ca++]=V[2*wa],sa[Ca++]=V[2*wa+1],qa[Ca++]=ca[wa],sa[Ca++]=Z[wa];this._buffer.update(ma);this._indexBuffer.update(this.indicesUint16)};fa.prototype.processFill=function(K){K.holes.length?(this.processHoles(K.holes),z.triangulate(K,this)):l[K.type].triangulate(K,this)};fa.prototype.processLine=function(K){H(K,
this);for(var V=0;V<K.holes.length;V++)H(K.holes[V],this)};fa.prototype.processHoles=function(K){for(var V=0;V<K.length;V++){var ca=K[V];l[ca.type].build(ca);ca.matrix&&this.transformPoints(ca.points,ca.matrix)}};fa.prototype.calculateBounds=function(){var K=this._bounds,V=v.Matrix.IDENTITY;this._bounds.clear();aa.clear();for(var ca=0;ca<this.graphicsData.length;ca++){var Z=this.graphicsData[ca],ma=Z.shape,sa=Z.type,qa=Z.lineStyle,Ca=Z.matrix||v.Matrix.IDENTITY;Z=0;if(qa&&qa.visible){var wa=qa.alignment;
Z=qa.width;Z=sa===v.SHAPES.POLY?Z*(.5+Math.abs(.5-wa)):Z*Math.max(0,wa)}V!==Ca&&(aa.isEmpty()||(K.addBoundsMatrix(aa,V),aa.clear()),V=Ca);sa===v.SHAPES.RECT||sa===v.SHAPES.RREC?aa.addFramePad(ma.x,ma.y,ma.x+ma.width,ma.y+ma.height,Z,Z):sa===v.SHAPES.CIRC?aa.addFramePad(ma.x,ma.y,ma.x,ma.y,ma.radius+Z,ma.radius+Z):sa===v.SHAPES.ELIP?aa.addFramePad(ma.x,ma.y,ma.x,ma.y,ma.width+Z,ma.height+Z):K.addVerticesMatrix(V,ma.points,0,ma.points.length,Z,Z)}aa.isEmpty()||K.addBoundsMatrix(aa,V);K.pad(this.boundsPadding,
this.boundsPadding)};fa.prototype.transformPoints=function(K,V){for(var ca=0;ca<K.length/2;ca++){var Z=K[2*ca],ma=K[2*ca+1];K[2*ca]=V.a*Z+V.c*ma+V.tx;K[2*ca+1]=V.b*Z+V.d*ma+V.ty}};fa.prototype.addColors=function(K,V,ca,Z){for(V=C.premultiplyTint((V>>16)+(V&65280)+((V&255)<<16),ca);0<Z--;)K.push(V)};fa.prototype.addTextureIds=function(K,V,ca){for(;0<ca--;)K.push(V)};fa.prototype.addUvs=function(K,V,ca,Z,ma,sa){void 0===sa&&(sa=null);for(var qa=0,Ca=V.length,wa=ca.frame;qa<ma;){var za=K[2*(Z+qa)],Ba=
K[2*(Z+qa)+1];if(sa){var Ga=sa.a*za+sa.c*Ba+sa.tx;Ba=sa.b*za+sa.d*Ba+sa.ty;za=Ga}qa++;V.push(za/wa.width,Ba/wa.height)}K=ca.baseTexture;(wa.width<K.width||wa.height<K.height)&&this.adjustUvs(V,ca,Ca,ma)};fa.prototype.adjustUvs=function(K,V,ca,Z){var ma=V.baseTexture;Z=ca+2*Z;var sa=V.frame;V=sa.width/ma.width;ma=sa.height/ma.height;var qa=sa.x/sa.width;sa=sa.y/sa.height;for(var Ca=Math.floor(K[ca]+1E-6),wa=Math.floor(K[ca+1]+1E-6),za=ca+2;za<Z;za+=2)Ca=Math.min(Ca,Math.floor(K[za]+1E-6)),wa=Math.min(wa,
Math.floor(K[za+1]+1E-6));qa-=Ca;sa-=wa;for(za=ca;za<Z;za+=2)K[za]=(K[za]+qa)*V,K[za+1]=(K[za+1]+sa)*ma};fa.BATCHABLE_SIZE=100;return fa}(t.BatchGeometry),ua=function(ba){function fa(){var K=null!==ba&&ba.apply(this,arguments)||this;K.width=0;K.alignment=.5;K.native=!1;K.cap=Y.LINE_CAP.BUTT;K.join=Y.LINE_JOIN.MITER;K.miterLimit=10;return K}N(fa,ba);fa.prototype.clone=function(){var K=new fa;K.color=this.color;K.alpha=this.alpha;K.texture=this.texture;K.matrix=this.matrix;K.visible=this.visible;K.width=
this.width;K.alignment=this.alignment;K.native=this.native;K.cap=this.cap;K.join=this.join;K.miterLimit=this.miterLimit;return K};fa.prototype.reset=function(){ba.prototype.reset.call(this);this.color=0;this.alignment=.5;this.width=0;this.native=!1};return fa}(u),ea=new Float32Array(3),xa={};ya=function(ba){function fa(K){void 0===K&&(K=null);var V=ba.call(this)||this;V._geometry=K||new ka;V._geometry.refCount++;V.shader=null;V.state=t.State.for2d();V._fillStyle=new u;V._lineStyle=new ua;V._matrix=
null;V._holeMode=!1;V.currentPath=null;V.batches=[];V.batchTint=-1;V.batchDirty=-1;V.vertexData=null;V.pluginName="batch";V._transformID=-1;V.tint=16777215;V.blendMode=L.BLEND_MODES.NORMAL;return V}N(fa,ba);Object.defineProperty(fa.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0});fa.prototype.clone=function(){this.finishPoly();return new fa(this._geometry)};Object.defineProperty(fa.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(K){this.state.blendMode=
K},enumerable:!1,configurable:!0});Object.defineProperty(fa.prototype,"tint",{get:function(){return this._tint},set:function(K){this._tint=K},enumerable:!1,configurable:!0});Object.defineProperty(fa.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0});Object.defineProperty(fa.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0});fa.prototype.lineStyle=function(K){void 0===K&&(K=null);if("number"===typeof K){var V=arguments;K={width:V[0]||
0,color:V[1]||0,alpha:void 0!==V[2]?V[2]:1,alignment:void 0!==V[3]?V[3]:.5,native:!!V[4]}}return this.lineTextureStyle(K)};fa.prototype.lineTextureStyle=function(K){if("number"===typeof K){C.deprecation("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var V=arguments;K={width:V[0],texture:V[1],color:V[2],alpha:V[3],matrix:V[4],alignment:V[5],native:V[6]};Object.keys(K).forEach(function(ca){return void 0===K[ca]&&delete K[ca]})}K=Object.assign({width:0,texture:t.Texture.WHITE,
color:K&&K.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Y.LINE_CAP.BUTT,join:Y.LINE_JOIN.MITER,miterLimit:10},K);this.currentPath&&this.startPoly();(V=0<K.width&&0<K.alpha)?(K.matrix&&(K.matrix=K.matrix.clone(),K.matrix.invert()),Object.assign(this._lineStyle,{visible:V},K)):this._lineStyle.reset();return this};fa.prototype.startPoly=function(){if(this.currentPath){var K=this.currentPath.points,V=this.currentPath.points.length;2<V&&(this.drawShape(this.currentPath),this.currentPath=
new v.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(K[V-2],K[V-1]))}else this.currentPath=new v.Polygon,this.currentPath.closeStroke=!1};fa.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)};fa.prototype.moveTo=function(K,V){this.startPoly();this.currentPath.points[0]=K;this.currentPath.points[1]=V;return this};fa.prototype.lineTo=function(K,V){this.currentPath||
this.moveTo(0,0);var ca=this.currentPath.points,Z=ca[ca.length-1];ca[ca.length-2]===K&&Z===V||ca.push(K,V);return this};fa.prototype._initCurve=function(K,V){void 0===K&&(K=0);void 0===V&&(V=0);this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[K,V]):this.moveTo(K,V)};fa.prototype.quadraticCurveTo=function(K,V,ca,Z){this._initCurve();var ma=this.currentPath.points;0===ma.length&&this.moveTo(0,0);k.curveTo(K,V,ca,Z,ma);return this};fa.prototype.bezierCurveTo=function(K,
V,ca,Z,ma,sa){this._initCurve();m.curveTo(K,V,ca,Z,ma,sa,this.currentPath.points);return this};fa.prototype.arcTo=function(K,V,ca,Z,ma){this._initCurve(K,V);(K=P.curveTo(K,V,ca,Z,ma,this.currentPath.points))&&this.arc(K.cx,K.cy,K.radius,K.startAngle,K.endAngle,K.anticlockwise);return this};fa.prototype.arc=function(K,V,ca,Z,ma,sa){void 0===sa&&(sa=!1);if(Z===ma)return this;!sa&&ma<=Z?ma+=v.PI_2:sa&&Z<=ma&&(Z+=v.PI_2);if(0===ma-Z)return this;var qa=K+Math.cos(Z)*ca,Ca=V+Math.sin(Z)*ca,wa=this._geometry.closePointEps,
za=this.currentPath?this.currentPath.points:null;if(za){var Ba=Math.abs(za[za.length-1]-Ca);Math.abs(za[za.length-2]-qa)<wa&&Ba<wa||za.push(qa,Ca)}else this.moveTo(qa,Ca),za=this.currentPath.points;P.arc(qa,Ca,K,V,ca,Z,ma,sa,za);return this};fa.prototype.beginFill=function(K,V){void 0===K&&(K=0);void 0===V&&(V=1);return this.beginTextureFill({texture:t.Texture.WHITE,color:K,alpha:V})};fa.prototype.beginTextureFill=function(K){if(K instanceof t.Texture){C.deprecation("v5.2.0","Please use object-based options for Graphics#beginTextureFill");
var V=arguments;K={texture:V[0],color:V[1],alpha:V[2],matrix:V[3]};Object.keys(K).forEach(function(ca){return void 0===K[ca]&&delete K[ca]})}K=Object.assign({texture:t.Texture.WHITE,color:16777215,alpha:1,matrix:null},K);this.currentPath&&this.startPoly();(V=0<K.alpha)?(K.matrix&&(K.matrix=K.matrix.clone(),K.matrix.invert()),Object.assign(this._fillStyle,{visible:V},K)):this._fillStyle.reset();return this};fa.prototype.endFill=function(){this.finishPoly();this._fillStyle.reset();return this};fa.prototype.drawRect=
function(K,V,ca,Z){return this.drawShape(new v.Rectangle(K,V,ca,Z))};fa.prototype.drawRoundedRect=function(K,V,ca,Z,ma){return this.drawShape(new v.RoundedRectangle(K,V,ca,Z,ma))};fa.prototype.drawCircle=function(K,V,ca){return this.drawShape(new v.Circle(K,V,ca))};fa.prototype.drawEllipse=function(K,V,ca,Z){return this.drawShape(new v.Ellipse(K,V,ca,Z))};fa.prototype.drawPolygon=function(){for(var K=arguments,V=[],ca=0;ca<arguments.length;ca++)V[ca]=K[ca];K=!0;ca=V[0];ca.points?(K=ca.closeStroke,
V=ca.points):V=Array.isArray(V[0])?V[0]:V;V=new v.Polygon(V);V.closeStroke=K;this.drawShape(V);return this};fa.prototype.drawShape=function(K){this._holeMode?this._geometry.drawHole(K,this._matrix):this._geometry.drawShape(K,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix);return this};fa.prototype.drawStar=function(K,V,ca,Z,ma,sa){void 0===sa&&(sa=0);return this.drawPolygon(new I(K,V,ca,Z,ma,sa))};fa.prototype.clear=function(){this._geometry.clear();this._lineStyle.reset();this._fillStyle.reset();
this._boundsID++;this._matrix=null;this._holeMode=!1;this.currentPath=null;return this};fa.prototype.isFastRect=function(){var K=this._geometry.graphicsData;return 1===K.length&&K[0].shape.type===v.SHAPES.RECT&&!(K[0].lineStyle.visible&&K[0].lineStyle.width)};fa.prototype._render=function(K){this.finishPoly();var V=this._geometry;V.updateBatches(K.context.supports.uint32Indices);V.batchable?(this.batchDirty!==V.batchDirty&&this._populateBatches(),this._renderBatched(K)):(K.batch.flush(),this._renderDirect(K))};
fa.prototype._populateBatches=function(){var K=this._geometry,V=this.blendMode,ca=K.batches.length;this._transformID=this.batchTint=-1;this.batchDirty=K.batchDirty;this.batches.length=ca;this.vertexData=new Float32Array(K.points);for(var Z=0;Z<ca;Z++){var ma=K.batches[Z],sa=ma.style.color,qa=new Float32Array(this.vertexData.buffer,8*ma.attribStart,2*ma.attribSize),Ca=new Float32Array(K.uvsFloat32.buffer,8*ma.attribStart,2*ma.attribSize),wa=new Uint16Array(K.indicesUint16.buffer,2*ma.start,ma.size);
ma={vertexData:qa,blendMode:V,indices:wa,uvs:Ca,_batchRGB:C.hex2rgb(sa),_tintRGB:sa,_texture:ma.style.texture,alpha:ma.style.alpha,worldAlpha:1};this.batches[Z]=ma}};fa.prototype._renderBatched=function(K){if(this.batches.length){K.batch.setObjectRenderer(K.plugins[this.pluginName]);this.calculateVertices();this.calculateTints();for(var V=0,ca=this.batches.length;V<ca;V++){var Z=this.batches[V];Z.worldAlpha=this.worldAlpha*Z.alpha;K.plugins[this.pluginName].render(Z)}}};fa.prototype._renderDirect=
function(K){var V=this._resolveDirectShader(K),ca=this._geometry,Z=this.tint,ma=this.worldAlpha,sa=V.uniforms,qa=ca.drawCalls;sa.translationMatrix=this.transform.worldTransform;sa.tint[0]=(Z>>16&255)/255*ma;sa.tint[1]=(Z>>8&255)/255*ma;sa.tint[2]=(Z&255)/255*ma;sa.tint[3]=ma;K.shader.bind(V);K.geometry.bind(ca,V);K.state.set(this.state);V=0;for(qa=qa.length;V<qa;V++)this._renderDrawCallDirect(K,ca.drawCalls[V])};fa.prototype._renderDrawCallDirect=function(K,V){var ca=V.texArray,Z=V.type,ma=V.size;
V=V.start;for(var sa=ca.count,qa=0;qa<sa;qa++)K.texture.bind(ca.elements[qa],qa);K.geometry.draw(Z,ma,V)};fa.prototype._resolveDirectShader=function(K){var V=this.shader,ca=this.pluginName;if(!V){if(!xa[ca]){V=K.plugins.batch.MAX_TEXTURES;for(var Z=new Int32Array(V),ma=0;ma<V;ma++)Z[ma]=ma;V={tint:new Float32Array([1,1,1,1]),translationMatrix:new v.Matrix,default:t.UniformGroup.from({uSamplers:Z},!0)};xa[ca]=new t.Shader(K.plugins[ca]._shader.program,V)}V=xa[ca]}return V};fa.prototype._calculateBounds=
function(){this.finishPoly();var K=this._geometry;K.graphicsData.length&&(K=K.bounds,this._bounds.addFrame(this.transform,K.minX,K.minY,K.maxX,K.maxY))};fa.prototype.containsPoint=function(K){this.worldTransform.applyInverse(K,fa._TEMP_POINT);return this._geometry.containsPoint(fa._TEMP_POINT)};fa.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var K=C.hex2rgb(this.tint,ea),V=0;V<this.batches.length;V++){var ca=this.batches[V],Z=ca._batchRGB;Z=(K[0]*
Z[0]*255<<16)+(K[1]*Z[1]*255<<8)+(K[2]*Z[2]*255|0);ca._tintRGB=(Z>>16)+(Z&65280)+((Z&255)<<16)}}};fa.prototype.calculateVertices=function(){var K=this.transform._worldID;if(this._transformID!==K){this._transformID=K;var V=this.transform.worldTransform;K=V.a;var ca=V.b,Z=V.c,ma=V.d,sa=V.tx;V=V.ty;for(var qa=this._geometry.points,Ca=this.vertexData,wa=0,za=0;za<qa.length;za+=2){var Ba=qa[za],Ga=qa[za+1];Ca[wa++]=K*Ba+Z*Ga+sa;Ca[wa++]=ma*Ga+ca*Ba+V}}};fa.prototype.closePath=function(){var K=this.currentPath;
K&&(K.closeStroke=!0);return this};fa.prototype.setMatrix=function(K){this._matrix=K;return this};fa.prototype.beginHole=function(){this.finishPoly();this._holeMode=!0;return this};fa.prototype.endHole=function(){this.finishPoly();this._holeMode=!1;return this};fa.prototype.destroy=function(K){this._geometry.refCount--;0===this._geometry.refCount&&this._geometry.dispose();this.currentPath=this._matrix=null;this._lineStyle.destroy();this._lineStyle=null;this._fillStyle.destroy();this.vertexData=this.shader=
this._geometry=this._fillStyle=null;this.batches.length=0;this.batches=null;ba.prototype.destroy.call(this,K)};fa._TEMP_POINT=new v.Point;return fa}(F.Container);Y.FillStyle=u;Y.GRAPHICS_CURVES=n;Y.Graphics=ya;Y.GraphicsData=G;Y.GraphicsGeometry=ka;Y.LineStyle=ua;Y.graphicsUtils=r};
shadow$provide[33]=function(ya,pa,Ha,Y){function N(F,n){function u(){this.constructor=F}v(F,n);F.prototype=null===n?Object.create(n):(u.prototype=n.prototype,new u)}Object.defineProperty(Y,"__esModule",{value:!0});var y=pa(3),E=pa(16);ya=pa(22);var Q=pa(15),H=pa(2),t=pa(12),v=function(F,n){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,q){u.__proto__=q}||function(u,q){for(var z in q)q.hasOwnProperty(z)&&(u[z]=q[z])};return v(F,n)},C=new Q.Point,L=new Uint16Array([0,1,2,0,2,3]);
pa=function(F){function n(u){var q=F.call(this)||this;q._anchor=new Q.ObservablePoint(q._onAnchorUpdate,q,u?u.defaultAnchor.x:0,u?u.defaultAnchor.y:0);q._texture=null;q._width=0;q._height=0;q._tint=null;q._tintRGB=null;q.tint=16777215;q.blendMode=y.BLEND_MODES.NORMAL;q._cachedTint=16777215;q.uvs=null;q.texture=u||E.Texture.EMPTY;q.vertexData=new Float32Array(8);q.vertexTrimmedData=null;q._transformID=-1;q._textureID=-1;q._transformTrimmedID=-1;q._textureTrimmedID=-1;q.indices=L;q.pluginName="batch";
q.isSprite=!0;q._roundPixels=H.settings.ROUND_PIXELS;return q}N(n,F);n.prototype._onTextureUpdate=function(){this._textureTrimmedID=this._textureID=-1;this._cachedTint=16777215;this._width&&(this.scale.x=t.sign(this.scale.x)*this._width/this._texture.orig.width);this._height&&(this.scale.y=t.sign(this.scale.y)*this._height/this._texture.orig.height)};n.prototype._onAnchorUpdate=function(){this._transformTrimmedID=this._transformID=-1};n.prototype.calculateVertices=function(){var u=this._texture;if(this._transformID!==
this.transform._worldID||this._textureID!==u._updateID){this._textureID!==u._updateID&&(this.uvs=this._texture._uvs.uvsFloat32);this._transformID=this.transform._worldID;this._textureID=u._updateID;var q=this.transform.worldTransform,z=q.a,I=q.b,P=q.c,m=q.d,k=q.tx,h=q.ty;q=this.vertexData;var r=u.trim,l=u.orig,J=this._anchor;if(r){var p=r.x-J._x*l.width;u=p+r.width;J=r.y-J._y*l.height;r=J+r.height}else p=-J._x*l.width,u=p+l.width,J=-J._y*l.height,r=J+l.height;q[0]=z*p+P*J+k;q[1]=m*J+I*p+h;q[2]=z*
u+P*J+k;q[3]=m*J+I*u+h;q[4]=z*u+P*r+k;q[5]=m*r+I*u+h;q[6]=z*p+P*r+k;q[7]=m*r+I*p+h;if(this._roundPixels)for(z=H.settings.RESOLUTION,I=0;I<q.length;++I)q[I]=Math.round((q[I]*z|0)/z)}};n.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;
var u=this.vertexTrimmedData,q=this._texture.orig,z=this._anchor,I=this.transform.worldTransform,P=I.a,m=I.b,k=I.c,h=I.d,r=I.tx;I=I.ty;var l=-z._x*q.width,J=l+q.width;z=-z._y*q.height;q=z+q.height;u[0]=P*l+k*z+r;u[1]=h*z+m*l+I;u[2]=P*J+k*z+r;u[3]=h*z+m*J+I;u[4]=P*J+k*q+r;u[5]=h*q+m*J+I;u[6]=P*l+k*q+r;u[7]=h*q+m*l+I};n.prototype._render=function(u){this.calculateVertices();u.batch.setObjectRenderer(u.plugins[this.pluginName]);u.plugins[this.pluginName].render(this)};n.prototype._calculateBounds=function(){var u=
this._texture.trim,q=this._texture.orig;!u||u.width===q.width&&u.height===q.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))};n.prototype.getLocalBounds=function(u){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=
this._texture.orig.height*(1-this._anchor._y),u||(this._localBoundsRect||(this._localBoundsRect=new Q.Rectangle),u=this._localBoundsRect),this._bounds.getRectangle(u)):F.prototype.getLocalBounds.call(this,u)};n.prototype.containsPoint=function(u){this.worldTransform.applyInverse(u,C);var q=this._texture.orig.width;u=this._texture.orig.height;var z=-q*this.anchor.x;return C.x>=z&&C.x<z+q&&(q=-u*this.anchor.y,C.y>=q&&C.y<q+u)?!0:!1};n.prototype.destroy=function(u){F.prototype.destroy.call(this,u);this._texture.off("update",
this._onTextureUpdate,this);this._anchor=null;("boolean"===typeof u?u:u&&u.texture)&&this._texture.destroy(!!("boolean"===typeof u?u:u&&u.baseTexture));this._texture=null};n.from=function(u,q){u=u instanceof E.Texture?u:E.Texture.from(u,q);return new n(u)};Object.defineProperty(n.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(u){this._roundPixels!==u&&(this._transformID=-1);this._roundPixels=u},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"width",
{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(u){var q=t.sign(this.scale.x)||1;this.scale.x=q*u/this._texture.orig.width;this._width=u},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(u){var q=t.sign(this.scale.y)||1;this.scale.y=q*u/this._texture.orig.height;this._height=u},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"anchor",
{get:function(){return this._anchor},set:function(u){this._anchor.copyFrom(u)},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"tint",{get:function(){return this._tint},set:function(u){this._tint=u;this._tintRGB=(u>>16)+(u&65280)+((u&255)<<16)},enumerable:!1,configurable:!0});Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(u){if(this._texture!==u&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=u||
E.Texture.EMPTY,this._cachedTint=16777215,this._textureTrimmedID=this._textureID=-1,u))if(u.baseTexture.valid)this._onTextureUpdate();else u.once("update",this._onTextureUpdate,this)},enumerable:!1,configurable:!0});return n}(ya.Container);Y.Sprite=pa};
shadow$provide[34]=function(ya,pa,Ha,Y){function N(I,P){function m(){this.constructor=I}L(I,P);I.prototype=null===P?Object.create(P):(m.prototype=P.prototype,new m)}function y(I){if("number"===typeof I)return C.hex2string(I);"string"===typeof I&&0===I.indexOf("0x")&&(I=I.replace("0x","#"));return I}function E(I){if(Array.isArray(I)){for(var P=0;P<I.length;++P)I[P]=y(I[P]);return I}return y(I)}function Q(I,P,m){for(var k in m)Array.isArray(P[k])?I[k]=P[k].slice():I[k]=P[k]}Object.defineProperty(Y,
"__esModule",{value:!0});ya=pa(33);var H=pa(16),t=pa(2),v=pa(15),C=pa(12),L=function(I,P){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,k){m.__proto__=k}||function(m,k){for(var h in k)k.hasOwnProperty(h)&&(m[h]=k[h])};return L(I,P)};(function(I){I[I.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";I[I.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Y.TEXT_GRADIENT||(Y.TEXT_GRADIENT={}));var F={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,
dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Y.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},n="serif sans-serif monospace cursive fantasy system-ui".split(" "),u=function(){function I(P){this.styleID=
0;this.reset();Q(this,P,P)}I.prototype.clone=function(){var P={};Q(P,this,F);return new I(P)};I.prototype.reset=function(){Q(this,F,F)};Object.defineProperty(I.prototype,"align",{get:function(){return this._align},set:function(P){this._align!==P&&(this._align=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"breakWords",{get:function(){return this._breakWords},set:function(P){this._breakWords!==P&&(this._breakWords=P,this.styleID++)},enumerable:!1,configurable:!0});
Object.defineProperty(I.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(P){this._dropShadow!==P&&(this._dropShadow=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(P){this._dropShadowAlpha!==P&&(this._dropShadowAlpha=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},
set:function(P){this._dropShadowAngle!==P&&(this._dropShadowAngle=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(P){this._dropShadowBlur!==P&&(this._dropShadowBlur=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(P){P=E(P);this._dropShadowColor!==P&&(this._dropShadowColor=P,
this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(P){this._dropShadowDistance!==P&&(this._dropShadowDistance=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"fill",{get:function(){return this._fill},set:function(P){P=E(P);this._fill!==P&&(this._fill=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"fillGradientType",
{get:function(){return this._fillGradientType},set:function(P){this._fillGradientType!==P&&(this._fillGradientType=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(P){a:{var m=this._fillGradientStops;if(Array.isArray(m)&&Array.isArray(P)&&m.length===P.length){for(var k=0;k<m.length;++k)if(m[k]!==P[k]){m=!1;break a}m=!0}else m=!1}m||(this._fillGradientStops=P,this.styleID++)},enumerable:!1,
configurable:!0});Object.defineProperty(I.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(P){this.fontFamily!==P&&(this._fontFamily=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"fontSize",{get:function(){return this._fontSize},set:function(P){this._fontSize!==P&&(this._fontSize=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(P){this._fontStyle!==
P&&(this._fontStyle=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(P){this._fontVariant!==P&&(this._fontVariant=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(P){this._fontWeight!==P&&(this._fontWeight=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"letterSpacing",
{get:function(){return this._letterSpacing},set:function(P){this._letterSpacing!==P&&(this._letterSpacing=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(P){this._lineHeight!==P&&(this._lineHeight=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"leading",{get:function(){return this._leading},set:function(P){this._leading!==P&&(this._leading=P,this.styleID++)},
enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(P){this._lineJoin!==P&&(this._lineJoin=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(P){this._miterLimit!==P&&(this._miterLimit=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"padding",{get:function(){return this._padding},set:function(P){this._padding!==
P&&(this._padding=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"stroke",{get:function(){return this._stroke},set:function(P){P=E(P);this._stroke!==P&&(this._stroke=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(P){this._strokeThickness!==P&&(this._strokeThickness=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,
"textBaseline",{get:function(){return this._textBaseline},set:function(P){this._textBaseline!==P&&(this._textBaseline=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"trim",{get:function(){return this._trim},set:function(P){this._trim!==P&&(this._trim=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(P){this._whiteSpace!==P&&(this._whiteSpace=P,this.styleID++)},
enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(P){this._wordWrap!==P&&(this._wordWrap=P,this.styleID++)},enumerable:!1,configurable:!0});Object.defineProperty(I.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(P){this._wordWrapWidth!==P&&(this._wordWrapWidth=P,this.styleID++)},enumerable:!1,configurable:!0});I.prototype.toFontString=function(){var P="number"===typeof this.fontSize?this.fontSize+
"px":this.fontSize,m=this.fontFamily;Array.isArray(this.fontFamily)||(m=this.fontFamily.split(","));for(var k=m.length-1;0<=k;k--){var h=m[k].trim();!/(["'])[^'"]+\1/.test(h)&&0>n.indexOf(h)&&(h='"'+h+'"');m[k]=h}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+P+" "+m.join(",")};return I}(),q=function(){function I(P,m,k,h,r,l,J,p,G){this.text=P;this.style=m;this.width=k;this.height=h;this.lines=r;this.lineWidths=l;this.lineHeight=J;this.maxLineWidth=p;this.fontProperties=G}I.measureText=
function(P,m,k,h){void 0===h&&(h=I._canvas);k=void 0===k||null===k?m.wordWrap:k;var r=m.toFontString(),l=I.measureFont(r);0===l.fontSize&&(l.fontSize=m.fontSize,l.ascent=m.fontSize);var J=h.getContext("2d");J.font=r;k=(k?I.wordWrap(P,m,h):P).split(/(?:\r\n|\r|\n)/);h=Array(k.length);for(var p=r=0;p<k.length;p++){var G=J.measureText(k[p]).width+(k[p].length-1)*m.letterSpacing;h[p]=G;r=Math.max(r,G)}J=r+m.strokeThickness;m.dropShadow&&(J+=m.dropShadowDistance);p=m.lineHeight||l.fontSize+m.strokeThickness;
G=Math.max(p,l.fontSize+m.strokeThickness)+(k.length-1)*(p+m.leading);m.dropShadow&&(G+=m.dropShadowDistance);return new I(P,m,J,G,k,h,p+m.leading,r,l)};I.wordWrap=function(P,m,k){void 0===k&&(k=I._canvas);k=k.getContext("2d");var h=0,r="",l="",J=Object.create(null),p=m.letterSpacing,G=m.whiteSpace,R=I.collapseSpaces(G);G=I.collapseNewlines(G);var aa=!R,ka=m.wordWrapWidth+p;P=I.tokenize(P);for(var ua=0;ua<P.length;ua++){var ea=P[ua];if(I.isNewline(ea)){if(!G){l+=I.addLine(r);aa=!R;r="";h=0;continue}ea=
" "}if(R){var xa=I.isBreakingSpace(ea),ba=I.isBreakingSpace(r[r.length-1]);if(xa&&ba)continue}xa=I.getFromCache(ea,p,J,k);if(xa>ka)if(""!==r&&(l+=I.addLine(r),r="",h=0),I.canBreakWords(ea,m.breakWords))for(xa=I.wordWrapSplit(ea),ba=0;ba<xa.length;ba++){for(var fa=xa[ba],K=1;xa[ba+K];){var V=xa[ba+K];if(I.canBreakChars(fa[fa.length-1],V,ea,ba,m.breakWords))break;else fa+=V;K++}ba+=fa.length-1;K=I.getFromCache(fa,p,J,k);K+h>ka&&(l+=I.addLine(r),aa=!1,r="",h=0);r+=fa;h+=K}else 0<r.length&&(l+=I.addLine(r)),
l+=I.addLine(ea,ua!==P.length-1),aa=!1,r="",h=0;else if(xa+h>ka&&(aa=!1,l+=I.addLine(r),r="",h=0),0<r.length||!I.isBreakingSpace(ea)||aa)r+=ea,h+=xa}return l+=I.addLine(r,!1)};I.addLine=function(P,m){void 0===m&&(m=!0);P=I.trimRight(P);return m?P+"\n":P};I.getFromCache=function(P,m,k,h){var r=k[P];"number"!==typeof r&&(m*=P.length,r=h.measureText(P).width+m,k[P]=r);return r};I.collapseSpaces=function(P){return"normal"===P||"pre-line"===P};I.collapseNewlines=function(P){return"normal"===P};I.trimRight=
function(P){if("string"!==typeof P)return"";for(var m=P.length-1;0<=m&&I.isBreakingSpace(P[m]);m--)P=P.slice(0,-1);return P};I.isNewline=function(P){return"string"!==typeof P?!1:0<=I._newlines.indexOf(P.charCodeAt(0))};I.isBreakingSpace=function(P){return"string"!==typeof P?!1:0<=I._breakingSpaces.indexOf(P.charCodeAt(0))};I.tokenize=function(P){var m=[],k="";if("string"!==typeof P)return m;for(var h=0;h<P.length;h++){var r=P[h];I.isBreakingSpace(r)||I.isNewline(r)?(""!==k&&(m.push(k),k=""),m.push(r)):
k+=r}""!==k&&m.push(k);return m};I.canBreakWords=function(P,m){return m};I.canBreakChars=function(P,m,k,h,r){return!0};I.wordWrapSplit=function(P){return P.split("")};I.measureFont=function(P){if(I._fonts[P])return I._fonts[P];var m={ascent:0,descent:0,fontSize:0},k=I._canvas,h=I._context;h.font=P;var r=I.METRICS_STRING+I.BASELINE_SYMBOL,l=Math.ceil(h.measureText(r).width),J=Math.ceil(h.measureText(I.BASELINE_SYMBOL).width),p=2*J;J=J*I.BASELINE_MULTIPLIER|0;k.width=l;k.height=p;h.fillStyle="#f00";
h.fillRect(0,0,l,p);h.font=P;h.textBaseline="alphabetic";h.fillStyle="#000";h.fillText(r,0,J);k=h.getImageData(0,0,l,p).data;h=k.length;l*=4;var G=0,R=!1;for(r=0;r<J;++r){for(var aa=0;aa<l;aa+=4)if(255!==k[G+aa]){R=!0;break}if(R)break;else G+=l}m.ascent=J-r;G=h-l;R=!1;for(r=p;r>J;--r){for(aa=0;aa<l;aa+=4)if(255!==k[G+aa]){R=!0;break}if(R)break;else G-=l}m.descent=r-J;m.fontSize=m.ascent+m.descent;return I._fonts[P]=m};I.clearMetrics=function(P){void 0===P&&(P="");P?delete I._fonts[P]:I._fonts={}};
return I}();pa=function(){try{var I=new OffscreenCanvas(0,0),P=I.getContext("2d");return P&&P.measureText?I:document.createElement("canvas")}catch(m){return document.createElement("canvas")}}();pa.width=pa.height=10;q._canvas=pa;q._context=pa.getContext("2d");q._fonts={};q.METRICS_STRING="|ÉqÅ";q.BASELINE_SYMBOL="M";q.BASELINE_MULTIPLIER=1.4;q._newlines=[10,13];q._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var z={texture:!0,children:!1,baseTexture:!0};pa=function(I){function P(m,
k,h){var r=!1;h||(h=document.createElement("canvas"),r=!0);h.width=3;h.height=3;var l=H.Texture.from(h);l.orig=new v.Rectangle;l.trim=new v.Rectangle;l=I.call(this,l)||this;l._ownCanvas=r;l.canvas=h;l.context=l.canvas.getContext("2d");l._resolution=t.settings.RESOLUTION;l._autoResolution=!0;l._text=null;l._style=null;l._styleListener=null;l._font="";l.text=m;l.style=k;l.localStyleID=-1;return l}N(P,I);P.prototype.updateText=function(m){var k=this._style;this.localStyleID!==k.styleID&&(this.dirty=
!0,this.localStyleID=k.styleID);if(this.dirty||!m){this._font=this._style.toFontString();m=this.context;var h=q.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),r=h.height,l=h.lines,J=h.lineHeight,p=h.lineWidths,G=h.maxLineWidth,R=h.fontProperties;this.canvas.width=Math.ceil((Math.max(1,h.width)+2*k.padding)*this._resolution);this.canvas.height=Math.ceil((Math.max(1,r)+2*k.padding)*this._resolution);m.scale(this._resolution,this._resolution);m.clearRect(0,0,this.canvas.width,
this.canvas.height);m.font=this._font;m.lineWidth=k.strokeThickness;m.textBaseline=k.textBaseline;m.lineJoin=k.lineJoin;m.miterLimit=k.miterLimit;for(var aa,ka,ua=k.dropShadow?2:1,ea=0;ea<ua;++ea){var xa=(ka=k.dropShadow&&0===ea)?Math.ceil(Math.max(1,r)+2*k.padding):0;aa=xa*this._resolution;ka?(m.fillStyle="black",m.strokeStyle="black",ka=k.dropShadowColor,ka=C.hex2rgb("number"===typeof ka?ka:C.string2hex(ka)),m.shadowColor="rgba("+255*ka[0]+","+255*ka[1]+","+255*ka[2]+","+k.dropShadowAlpha+")",m.shadowBlur=
k.dropShadowBlur,m.shadowOffsetX=Math.cos(k.dropShadowAngle)*k.dropShadowDistance,m.shadowOffsetY=Math.sin(k.dropShadowAngle)*k.dropShadowDistance+aa):(m.fillStyle=this._generateFillStyle(k,l,h),m.strokeStyle=k.stroke,m.shadowColor="black",m.shadowBlur=0,m.shadowOffsetX=0,m.shadowOffsetY=0);for(var ba=0;ba<l.length;ba++)aa=k.strokeThickness/2,ka=k.strokeThickness/2+ba*J+R.ascent,"right"===k.align?aa+=G-p[ba]:"center"===k.align&&(aa+=(G-p[ba])/2),k.stroke&&k.strokeThickness&&this.drawLetterSpacing(l[ba],
aa+k.padding,ka+k.padding-xa,!0),k.fill&&this.drawLetterSpacing(l[ba],aa+k.padding,ka+k.padding-xa)}this.updateTexture()}};P.prototype.drawLetterSpacing=function(m,k,h,r){void 0===r&&(r=!1);var l=this._style.letterSpacing;if(0===l)r?this.context.strokeText(m,k,h):this.context.fillText(m,k,h);else for(var J=Array.from?Array.from(m):m.split(""),p=this.context.measureText(m).width,G,R=0;R<J.length;++R)G=J[R],r?this.context.strokeText(G,k,h):this.context.fillText(G,k,h),G=this.context.measureText(m.substring(R+
1)).width,k+=p-G+l,p=G};P.prototype.updateTexture=function(){var m=this.canvas;if(this._style.trim){var k=C.trimCanvas(m);k.data&&(m.width=k.width,m.height=k.height,this.context.putImageData(k.data,0,0))}k=this._texture;var h=this._style;h=h.trim?0:h.padding;var r=k.baseTexture;k.trim.width=k._frame.width=Math.ceil(m.width/this._resolution);k.trim.height=k._frame.height=Math.ceil(m.height/this._resolution);k.trim.x=-h;k.trim.y=-h;k.orig.width=k._frame.width-2*h;k.orig.height=k._frame.height-2*h;this._onTextureUpdate();
r.setRealSize(m.width,m.height,this._resolution);this._recursivePostUpdateTransform();this.dirty=!1};P.prototype._render=function(m){this._autoResolution&&this._resolution!==m.resolution&&(this._resolution=m.resolution,this.dirty=!0);this.updateText(!0);I.prototype._render.call(this,m)};P.prototype.getLocalBounds=function(m){this.updateText(!0);return I.prototype.getLocalBounds.call(this,m)};P.prototype._calculateBounds=function(){this.updateText(!0);this.calculateVertices();this._bounds.addQuad(this.vertexData)};
P.prototype._generateFillStyle=function(m,k,h){var r=m.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];var l=m.dropShadow?m.dropShadowDistance:0,J=m.padding||0,p=Math.ceil(this.canvas.width/this._resolution)-l-2*J,G=Math.ceil(this.canvas.height/this._resolution)-l-2*J;l=r.slice();var R=m.fillGradientStops.slice();if(!R.length)for(var aa=l.length+1,ka=1;ka<aa;++ka)R.push(ka/aa);l.unshift(r[0]);R.unshift(0);l.push(r[r.length-1]);R.push(1);if(m.fillGradientType===Y.TEXT_GRADIENT.LINEAR_VERTICAL)for(r=
this.context.createLinearGradient(p/2,J,p/2,G+J),J=0,m=(h.fontProperties.fontSize+m.strokeThickness)/G,ka=0;ka<k.length;ka++)for(p=h.lineHeight*ka,aa=0;aa<l.length;aa++)J=Math.max(J,p/G+("number"===typeof R[aa]?R[aa]:aa/l.length)*m),J=Math.min(J,1),r.addColorStop(J,l[aa]);else for(r=this.context.createLinearGradient(J,G/2,p+J,G/2),k=l.length+1,h=1,ka=0;ka<l.length;ka++)r.addColorStop("number"===typeof R[ka]?R[ka]:h/k,l[ka]),h++;return r};P.prototype.destroy=function(m){"boolean"===typeof m&&(m={children:m});
m=Object.assign({},z,m);I.prototype.destroy.call(this,m);this._ownCanvas&&(this.canvas.height=this.canvas.width=0);this._style=this.canvas=this.context=null};Object.defineProperty(P.prototype,"width",{get:function(){this.updateText(!0);return Math.abs(this.scale.x)*this._texture.orig.width},set:function(m){this.updateText(!0);var k=C.sign(this.scale.x)||1;this.scale.x=k*m/this._texture.orig.width;this._width=m},enumerable:!1,configurable:!0});Object.defineProperty(P.prototype,"height",{get:function(){this.updateText(!0);
return Math.abs(this.scale.y)*this._texture.orig.height},set:function(m){this.updateText(!0);var k=C.sign(this.scale.y)||1;this.scale.y=k*m/this._texture.orig.height;this._height=m},enumerable:!1,configurable:!0});Object.defineProperty(P.prototype,"style",{get:function(){return this._style},set:function(m){m=m||{};this._style=m instanceof u?m:new u(m);this.localStyleID=-1;this.dirty=!0},enumerable:!1,configurable:!0});Object.defineProperty(P.prototype,"text",{get:function(){return this._text},set:function(m){m=
String(null===m||void 0===m?"":m);this._text!==m&&(this._text=m,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(P.prototype,"resolution",{get:function(){return this._resolution},set:function(m){this._autoResolution=!1;this._resolution!==m&&(this._resolution=m,this.dirty=!0)},enumerable:!1,configurable:!0});return P}(ya.Sprite);Y.Text=pa;Y.TextMetrics=q;Y.TextStyle=u};
shadow$provide[35]=function(ya,pa,Ha,Y){function N(r,l){function J(){this.constructor=r}k(r,l);r.prototype=null===l?Object.create(l):(J.prototype=l.prototype,new J)}function y(r,l){var J=!1;if(r&&r._textures&&r._textures.length)for(var p=0;p<r._textures.length;p++)if(r._textures[p]instanceof q.Texture){var G=r._textures[p].baseTexture;-1===l.indexOf(G)&&(l.push(G),J=!0)}return J}function E(r,l){return r.baseTexture instanceof q.BaseTexture?(r=r.baseTexture,-1===l.indexOf(r)&&l.push(r),!0):!1}function Q(r,
l){return r._texture&&r._texture instanceof q.Texture?(r=r._texture.baseTexture,-1===l.indexOf(r)&&l.push(r),!0):!1}function H(r,l){return l instanceof m.Text?(l.updateText(!0),!0):!1}function t(r,l){return l instanceof m.TextStyle?(r=l.toFontString(),m.TextMetrics.measureFont(r),!0):!1}function v(r,l){return r instanceof m.Text?(-1===l.indexOf(r.style)&&l.push(r.style),-1===l.indexOf(r)&&l.push(r),r=r._texture.baseTexture,-1===l.indexOf(r)&&l.push(r),!0):!1}function C(r,l){return r instanceof m.TextStyle?
(-1===l.indexOf(r)&&l.push(r),!0):!1}function L(r,l){return l instanceof q.BaseTexture?(l._glTextures[r.CONTEXT_UID]||r.texture.bind(l),!0):!1}function F(r,l){if(!(l instanceof z.Graphics))return!1;var J=l.geometry;l.finishPoly();J.updateBatches();for(var p=J.batches,G=0;G<p.length;G++){var R=p[G].style.texture;R&&L(r,R.baseTexture)}J.batchable||r.geometry.bind(J,l._resolveDirectShader(r));return!0}function n(r,l){return r instanceof z.Graphics?(l.push(r),!0):!1}Object.defineProperty(Y,"__esModule",
{value:!0});var u=pa(2),q=pa(16),z=pa(32),I=pa(14),P=pa(22),m=pa(34);u.settings.UPLOADS_PER_FRAME=4;var k=function(r,l){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,p){J.__proto__=p}||function(J,p){for(var G in p)p.hasOwnProperty(G)&&(J[G]=p[G])};return k(r,l)},h=function(){function r(l){this.maxItemsPerFrame=l;this.itemsLeft=0}r.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame};r.prototype.allowedToUpload=function(){return 0<this.itemsLeft--};return r}();
ya=function(){function r(l){var J=this;this.limiter=new h(u.settings.UPLOADS_PER_FRAME);this.renderer=l;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=!1;this.delayedTick=function(){J.queue&&J.prepareItems()};this.registerFindHook(v);this.registerFindHook(C);this.registerFindHook(y);this.registerFindHook(E);this.registerFindHook(Q);this.registerUploadHook(H);this.registerUploadHook(t)}r.prototype.upload=function(l,J){"function"===typeof l&&
(J=l,l=null);l&&this.add(l);this.queue.length?(J&&this.completes.push(J),this.ticking||(this.ticking=!0,I.Ticker.system.addOnce(this.tick,this,I.UPDATE_PRIORITY.UTILITY))):J&&J()};r.prototype.tick=function(){setTimeout(this.delayedTick,0)};r.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var l=this.queue[0],J=!1;if(l&&!l._destroyed)for(var p=0,G=this.uploadHooks.length;p<G;p++)if(this.uploadHooks[p](this.uploadHookHelper,l)){this.queue.shift();
J=!0;break}J||this.queue.shift()}if(this.queue.length)I.Ticker.system.addOnce(this.tick,this,I.UPDATE_PRIORITY.UTILITY);else for(this.ticking=!1,l=this.completes.slice(0),p=this.completes.length=0,G=l.length;p<G;p++)l[p]()};r.prototype.registerFindHook=function(l){l&&this.addHooks.push(l);return this};r.prototype.registerUploadHook=function(l){l&&this.uploadHooks.push(l);return this};r.prototype.add=function(l){for(var J=0,p=this.addHooks.length;J<p&&!this.addHooks[J](l,this.queue);J++);if(l instanceof
P.Container)for(J=l.children.length-1;0<=J;J--)this.add(l.children[J]);return this};r.prototype.destroy=function(){this.ticking&&I.Ticker.system.remove(this.tick,this);this.ticking=!1;this.uploadHookHelper=this.limiter=this.queue=this.completes=this.renderer=this.uploadHooks=this.addHooks=null};return r}();pa=function(r){function l(J){J=r.call(this,J)||this;J.uploadHookHelper=J.renderer;J.registerFindHook(n);J.registerUploadHook(L);J.registerUploadHook(F);return J}N(l,r);return l}(ya);Ha=function(){function r(l){this.maxMilliseconds=
l;this.frameStart=0}r.prototype.beginFrame=function(){this.frameStart=Date.now()};r.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};return r}();Y.BasePrepare=ya;Y.CountLimiter=h;Y.Prepare=pa;Y.TimeLimiter=Ha};
shadow$provide[36]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});var N=pa(15),y=pa(16),E=pa(12),Q=pa(30),H=function(){function t(v,C,L){void 0===L&&(L=null);this._texture=v instanceof y.Texture?v:null;this.baseTexture=v instanceof y.BaseTexture?v:this._texture.baseTexture;this.textures={};this.animations={};this.data=C;v=this.baseTexture.resource;this.resolution=this._updateResolution(L||(v?v.url:null));this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);
this._batchIndex=0;this._callback=null}t.prototype._updateResolution=function(v){void 0===v&&(v=null);var C=this.data.meta.scale;v=E.getResolutionOfUrl(v,null);null===v&&(v=void 0!==C?parseFloat(C):1);1!==v&&this.baseTexture.setResolution(v);return v};t.prototype.parse=function(v){this._batchIndex=0;this._callback=v;this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()};t.prototype._processFrames=function(v){for(var C=v,L=t.BATCH_SIZE;C-
v<L&&C<this._frameKeys.length;){var F=this._frameKeys[C],n=this._frames[F],u=n.frame;if(u){var q=null;var z=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame;var I=new N.Rectangle(0,0,Math.floor(z.w)/this.resolution,Math.floor(z.h)/this.resolution);z=n.rotated?new N.Rectangle(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.h)/this.resolution,Math.floor(u.w)/this.resolution):new N.Rectangle(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.w)/
this.resolution,Math.floor(u.h)/this.resolution);!1!==n.trimmed&&n.spriteSourceSize&&(q=new N.Rectangle(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution));this.textures[F]=new y.Texture(this.baseTexture,z,I,q,n.rotated?2:0,n.anchor);y.Texture.addToCache(this.textures[F],F)}C++}};t.prototype._processAnimations=function(){var v=this.data.animations||{},C;for(C in v){this.animations[C]=[];
for(var L=0;L<v[C].length;L++)this.animations[C].push(this.textures[v[C][L]])}};t.prototype._parseComplete=function(){var v=this._callback;this._callback=null;this._batchIndex=0;v.call(this,this.textures)};t.prototype._nextBatch=function(){var v=this;this._processFrames(this._batchIndex*t.BATCH_SIZE);this._batchIndex++;setTimeout(function(){v._batchIndex*t.BATCH_SIZE<v._frameKeys.length?v._nextBatch():(v._processAnimations(),v._parseComplete())},0)};t.prototype.destroy=function(v){var C;void 0===
v&&(v=!1);for(var L in this.textures)this.textures[L].destroy();this.textures=this.data=this._frameKeys=this._frames=null;v&&(null===(C=this._texture)||void 0===C?void 0:C.destroy(),this.baseTexture.destroy());this.baseTexture=this._texture=null};t.BATCH_SIZE=1E3;return t}();ya=function(){function t(){}t.use=function(v,C){var L=v.name+"_image";if(v.data&&v.type===Q.LoaderResource.TYPE.JSON&&v.data.frames&&!this.resources[L]){var F={crossOrigin:v.crossOrigin,metadata:v.metadata.imageMetadata,parentResource:v},
n=t.getResourcePath(v,this.baseUrl);this.add(L,n,F,function(u){if(u.error)C(u.error);else{var q=new H(u.texture,v.data,v.url);q.parse(function(){v.spritesheet=q;v.textures=q.textures;C()})}})}else C()};t.getResourcePath=function(v,C){return v.isDataUrl?v.data.meta.image:E.url.resolve(v.url.replace(C,""),v.data.meta.image)};return t}();Y.Spritesheet=H;Y.SpritesheetLoader=ya};
shadow$provide[37]=function(ya,pa,Ha,Y){function N(L,F){function n(){this.constructor=L}t(L,F);L.prototype=null===F?Object.create(F):(n.prototype=F.prototype,new n)}Object.defineProperty(Y,"__esModule",{value:!0});var y=pa(16),E=pa(15);ya=pa(33);var Q=pa(12),H=pa(3),t=function(L,F){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,u){n.__proto__=u}||function(n,u){for(var q in u)u.hasOwnProperty(q)&&(n[q]=u[q])};return t(L,F)},v=new E.Point;pa=function(L){function F(n,u,q){void 0===
u&&(u=100);void 0===q&&(q=100);var z=L.call(this,n)||this;z.tileTransform=new E.Transform;z._width=u;z._height=q;z.uvMatrix=z.texture.uvMatrix||new y.TextureMatrix(n);z.pluginName="tilingSprite";z.uvRespectAnchor=!1;return z}N(F,L);Object.defineProperty(F.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(n){this.uvMatrix.clampMargin=n;this.uvMatrix.update(!0)},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"tileScale",{get:function(){return this.tileTransform.scale},
set:function(n){this.tileTransform.scale.copyFrom(n)},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(n){this.tileTransform.position.copyFrom(n)},enumerable:!1,configurable:!0});F.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture);this._cachedTint=16777215};F.prototype._render=function(n){var u=this._texture;u&&u.valid&&(this.tileTransform.updateLocalTransform(),
this.uvMatrix.update(),n.batch.setObjectRenderer(n.plugins[this.pluginName]),n.plugins[this.pluginName].render(this))};F.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))};F.prototype.getLocalBounds=function(n){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=
this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),n||(this._localBoundsRect||(this._localBoundsRect=new E.Rectangle),n=this._localBoundsRect),this._bounds.getRectangle(n)):L.prototype.getLocalBounds.call(this,n)};F.prototype.containsPoint=function(n){this.worldTransform.applyInverse(n,v);var u=this._width;n=this._height;var q=-u*this.anchor._x;return v.x>=q&&v.x<q+u&&(u=-n*this.anchor._y,v.y>=u&&v.y<u+n)?!0:!1};F.prototype.destroy=function(n){L.prototype.destroy.call(this,
n);this.uvMatrix=this.tileTransform=null};F.from=function(n,u,q){"number"===typeof u&&(Q.deprecation("5.3.0","TilingSprite.from use options instead of width and height args"),u={width:u,height:q});return new F(y.Texture.from(n,u),u.width,u.height)};Object.defineProperty(F.prototype,"width",{get:function(){return this._width},set:function(n){this._width=n},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n},
enumerable:!1,configurable:!0});return F}(ya.Sprite);var C=new E.Matrix;ya=function(L){function F(n){n=L.call(this,n)||this;var u={globals:n.renderer.globalUniforms};n.shader=y.Shader.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord \x3d vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord \x3d (uMapCoord * vec3(coord, 1.0)).xy;\n    coord \x3d clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample \x3d texture2D(uSampler, coord);\n    gl_FragColor \x3d texSample * uColor;\n}\n",u);n.simpleShader=y.Shader.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample \x3d texture2D(uSampler, vTextureCoord);\n    gl_FragColor \x3d sample * uColor;\n}\n",u);n.quad=new y.QuadUv;n.state=y.State.for2d();return n}N(F,L);F.prototype.render=function(n){var u=this.renderer,q=this.quad,z=q.vertices;z[0]=z[6]=n._width*-n.anchor.x;z[1]=z[3]=n._height*-n.anchor.y;z[2]=z[4]=n._width*(1-n.anchor.x);z[5]=z[7]=n._height*(1-n.anchor.y);n.uvRespectAnchor&&(z=
q.uvs,z[0]=z[6]=-n.anchor.x,z[1]=z[3]=-n.anchor.y,z[2]=z[4]=1-n.anchor.x,z[5]=z[7]=1-n.anchor.y);q.invalidate();z=n._texture;var I=z.baseTexture,P=n.tileTransform.localTransform,m=n.uvMatrix,k=I.isPowerOfTwo&&z.frame.width===I.width&&z.frame.height===I.height;k&&(I._glTextures[u.CONTEXT_UID]?k=I.wrapMode!==H.WRAP_MODES.CLAMP:I.wrapMode===H.WRAP_MODES.CLAMP&&(I.wrapMode=H.WRAP_MODES.REPEAT));var h=k?this.simpleShader:this.shader,r=z.width,l=z.height,J=n._width,p=n._height;C.set(P.a*r/J,P.b*r/p,P.c*
l/J,P.d*l/p,P.tx/J,P.ty/p);C.invert();k?C.prepend(m.mapCoord):(h.uniforms.uMapCoord=m.mapCoord.toArray(!0),h.uniforms.uClampFrame=m.uClampFrame,h.uniforms.uClampOffset=m.uClampOffset);h.uniforms.uTransform=C.toArray(!0);h.uniforms.uColor=Q.premultiplyTintToRgba(n.tint,n.worldAlpha,h.uniforms.uColor,I.alphaMode);h.uniforms.translationMatrix=n.transform.worldTransform.toArray(!0);h.uniforms.uSampler=z;u.shader.bind(h);u.geometry.bind(q);this.state.blendMode=Q.correctBlendMode(n.blendMode,I.alphaMode);
u.state.set(this.state);u.geometry.draw(this.renderer.gl.TRIANGLES,6,0)};return F}(y.ObjectRenderer);Y.TilingSprite=pa;Y.TilingSpriteRenderer=ya};
shadow$provide[38]=function(ya,pa,Ha,Y){function N(n,u){function q(){this.constructor=n}v(n,u);n.prototype=null===u?Object.create(u):(q.prototype=u.prototype,new q)}Object.defineProperty(Y,"__esModule",{value:!0});var y=pa(16),E=pa(15),Q=pa(3);ya=pa(22);var H=pa(2),t=pa(12),v=function(n,u){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,z){q.__proto__=z}||function(q,z){for(var I in z)z.hasOwnProperty(I)&&(q[I]=z[I])};return v(n,u)},C=function(){function n(u,q){this.uvBuffer=u;
this.uvMatrix=q;this.data=null;this._textureUpdateId=this._bufferUpdateId=-1;this._updateID=0}n.prototype.update=function(u){if(u||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID)this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,u=this.uvBuffer.data,this.data&&this.data.length===u.length||(this.data=new Float32Array(u.length)),this.uvMatrix.multiplyUvs(u,this.data),this._updateID++};return n}(),L=new E.Point,
F=new E.Polygon;pa=function(n){function u(q,z,I,P){void 0===P&&(P=Q.DRAW_MODES.TRIANGLES);var m=n.call(this)||this;m.geometry=q;q.refCount++;m.shader=z;m.state=I||y.State.for2d();m.drawMode=P;m.start=0;m.size=0;m.uvs=null;m.indices=null;m.vertexData=new Float32Array(1);m.vertexDirty=0;m._transformID=-1;m._roundPixels=H.settings.ROUND_PIXELS;m.batchUvs=null;return m}N(u,n);Object.defineProperty(u.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0});
Object.defineProperty(u.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0});Object.defineProperty(u.prototype,"material",{get:function(){return this.shader},set:function(q){this.shader=q},enumerable:!1,configurable:!0});Object.defineProperty(u.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(q){this.state.blendMode=q},enumerable:!1,configurable:!0});Object.defineProperty(u.prototype,"roundPixels",{get:function(){return this._roundPixels},
set:function(q){this._roundPixels!==q&&(this._transformID=-1);this._roundPixels=q},enumerable:!1,configurable:!0});Object.defineProperty(u.prototype,"tint",{get:function(){return this.shader.tint},set:function(q){this.shader.tint=q},enumerable:!1,configurable:!0});Object.defineProperty(u.prototype,"texture",{get:function(){return this.shader.texture},set:function(q){this.shader.texture=q},enumerable:!1,configurable:!0});u.prototype._render=function(q){var z=this.geometry.buffers[0].data;this.shader.batchable&&
this.drawMode===Q.DRAW_MODES.TRIANGLES&&z.length<2*u.BATCHABLE_SIZE?this._renderToBatch(q):this._renderDefault(q)};u.prototype._renderDefault=function(q){var z=this.shader;z.alpha=this.worldAlpha;z.update&&z.update();q.batch.flush();z.program.uniformData.translationMatrix&&(z.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0));q.shader.bind(z);q.state.set(this.state);q.geometry.bind(this.geometry,z);q.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)};
u.prototype._renderToBatch=function(q){var z=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs());this.calculateVertices();this.indices=z.indexBuffer.data;this._tintRGB=this.shader._tintRGB;this._texture=this.shader.texture;z=this.material.pluginName;q.batch.setObjectRenderer(q.plugins[z]);q.plugins[z].render(this)};u.prototype.calculateVertices=function(){var q=this.geometry,z=q.buffers[0].data;if(q.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=
this.transform._worldID;this.vertexData.length!==z.length&&(this.vertexData=new Float32Array(z.length));var I=this.transform.worldTransform,P=I.a,m=I.b,k=I.c,h=I.d,r=I.tx,l=I.ty;I=this.vertexData;for(var J=0;J<I.length/2;J++){var p=z[2*J],G=z[2*J+1];I[2*J]=P*p+k*G+r;I[2*J+1]=m*p+h*G+l}if(this._roundPixels)for(z=H.settings.RESOLUTION,J=0;J<I.length;++J)I[J]=Math.round((I[J]*z|0)/z);this.vertexDirty=q.vertexDirtyId}};u.prototype.calculateUvs=function(){var q=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?
this.uvs=q.data:(this.batchUvs||(this.batchUvs=new C(q,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)};u.prototype._calculateBounds=function(){this.calculateVertices();this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)};u.prototype.containsPoint=function(q){if(!this.getBounds().contains(q.x,q.y))return!1;this.worldTransform.applyInverse(q,L);q=this.geometry.getBuffer("aVertexPosition").data;for(var z=F.points,I=this.geometry.getIndex().data,P=I.length,
m=4===this.drawMode?3:1,k=0;k+2<P;k+=m){var h=2*I[k],r=2*I[k+1],l=2*I[k+2];z[0]=q[h];z[1]=q[h+1];z[2]=q[r];z[3]=q[r+1];z[4]=q[l];z[5]=q[l+1];if(F.contains(L.x,L.y))return!0}return!1};u.prototype.destroy=function(q){n.prototype.destroy.call(this,q);this.geometry.refCount--;0===this.geometry.refCount&&this.geometry.dispose();this.vertexData=this.indices=this.uvs=this.state=this.shader=this.geometry=null};u.BATCHABLE_SIZE=100;return u}(ya.Container);ya=function(n){function u(q,z){var I={uSampler:q,alpha:1,
uTextureMatrix:E.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};z=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},z);z.uniforms&&Object.assign(I,z.uniforms);I=n.call(this,z.program||y.Program.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position \x3d vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord \x3d (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",
"varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor \x3d texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),I)||this;I._colorDirty=!1;I.uvMatrix=new y.TextureMatrix(q);I.batchable=void 0===z.program;I.pluginName=z.pluginName;I.tint=z.tint;I.alpha=z.alpha;return I}N(u,n);Object.defineProperty(u.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(q){this.uniforms.uSampler!==q&&(this.uniforms.uSampler=
q,this.uvMatrix.texture=q)},enumerable:!1,configurable:!0});Object.defineProperty(u.prototype,"alpha",{get:function(){return this._alpha},set:function(q){q!==this._alpha&&(this._alpha=q,this._colorDirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(u.prototype,"tint",{get:function(){return this._tint},set:function(q){q!==this._tint&&(this._tint=q,this._tintRGB=(q>>16)+(q&65280)+((q&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0});u.prototype.update=function(){this._colorDirty&&
(this._colorDirty=!1,t.premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode));this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)};return u}(y.Shader);Ha=function(n){function u(q,z,I){var P=n.call(this)||this;q=new y.Buffer(q);z=new y.Buffer(z,!0);I=new y.Buffer(I,!0,!0);P.addAttribute("aVertexPosition",q,2,!1,Q.TYPES.FLOAT).addAttribute("aTextureCoord",z,2,!1,Q.TYPES.FLOAT).addIndex(I);P._updateId=-1;return P}N(u,n);Object.defineProperty(u.prototype,
"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0});return u}(y.Geometry);Y.Mesh=pa;Y.MeshBatchUvs=C;Y.MeshGeometry=Ha;Y.MeshMaterial=ya};
shadow$provide[39]=function(ya,pa,Ha,Y){function N(k,h){function r(){this.constructor=k}n(k,h);k.prototype=null===h?Object.create(h):(r.prototype=h.prototype,new r)}function y(k){for(var h=0;h<z.length;h++)if(z[h].test(k))return z[h];return null}function E(k,h,r,l,J,p){var G=r.fill;if(!Array.isArray(G))return G;if(1===G.length)return G[0];var R=r.dropShadow?r.dropShadowDistance:0,aa=r.padding||0,ka=Math.ceil(k.width/l)-R-2*aa,ua=Math.ceil(k.height/l)-R-2*aa;k=G.slice();l=r.fillGradientStops.slice();
if(!l.length){var ea=k.length+1;for(R=1;R<ea;++R)l.push(R/ea)}k.unshift(G[0]);l.unshift(0);k.push(G[G.length-1]);l.push(1);if(r.fillGradientType===L.TEXT_GRADIENT.LINEAR_VERTICAL)for(h=h.createLinearGradient(ka/2,aa,ka/2,ua+aa),G=0,r=(p.fontProperties.fontSize+r.strokeThickness)/ua,R=0;R<J.length;R++)for(aa=p.lineHeight*R,ka=0;ka<k.length;ka++)G=Math.max(G,aa/ua+("number"===typeof l[ka]?l[ka]:ka/k.length)*r),G=Math.min(G,1),h.addColorStop(G,k[ka]);else for(h=h.createLinearGradient(aa,ua/2,ka+aa,ua/
2),J=k.length+1,p=1,R=0;R<k.length;R++)h.addColorStop("number"===typeof l[R]?l[R]:p/J,k[R]),p++;return h}Object.defineProperty(Y,"__esModule",{value:!0});var Q=pa(15),H=pa(2),t=pa(38),v=pa(12),C=pa(16),L=pa(34);ya=pa(22);var F=pa(30),n=function(k,h){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,l){r.__proto__=l}||function(r,l){for(var J in l)l.hasOwnProperty(J)&&(r[J]=l[J])};return n(k,h)},u=function(){return function(){this.info=[];this.common=[];this.page=[];this.char=[];this.kerning=
[]}}();pa=function(){function k(){}k.test=function(h){return"string"===typeof h&&0===h.indexOf("info face\x3d")};k.parse=function(h){h=h.match(/^[a-z]+\s+.+$/gm);var r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]},l;for(l in h){var J=h[l].match(/^[a-z]+/gm)[0],p=h[l].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),G={},R;for(R in p){var aa=p[R].split("\x3d"),ka=aa[0];aa=aa[1].replace(/"/gm,"");var ua=parseFloat(aa);aa=isNaN(ua)?aa:ua;G[ka]=aa}r[J].push(G)}var ea=new u;r.info.forEach(function(xa){return ea.info.push({face:xa.face,
size:parseInt(xa.size,10)})});r.common.forEach(function(xa){return ea.common.push({lineHeight:parseInt(xa.lineHeight,10)})});r.page.forEach(function(xa){return ea.page.push({id:parseInt(xa.id,10),file:xa.file})});r.char.forEach(function(xa){return ea.char.push({id:parseInt(xa.id,10),page:parseInt(xa.page,10),x:parseInt(xa.x,10),y:parseInt(xa.y,10),width:parseInt(xa.width,10),height:parseInt(xa.height,10),xoffset:parseInt(xa.xoffset,10),yoffset:parseInt(xa.yoffset,10),xadvance:parseInt(xa.xadvance,
10)})});r.kerning.forEach(function(xa){return ea.kerning.push({first:parseInt(xa.first,10),second:parseInt(xa.second,10),amount:parseInt(xa.amount,10)})});return ea};return k}();var q=function(){function k(){}k.test=function(h){return h instanceof XMLDocument&&h.getElementsByTagName("page").length&&null!==h.getElementsByTagName("info")[0].getAttribute("face")};k.parse=function(h){var r=new u,l=h.getElementsByTagName("info"),J=h.getElementsByTagName("common"),p=h.getElementsByTagName("page"),G=h.getElementsByTagName("char");
h=h.getElementsByTagName("kerning");for(var R=0;R<l.length;R++)r.info.push({face:l[R].getAttribute("face"),size:parseInt(l[R].getAttribute("size"),10)});for(R=0;R<J.length;R++)r.common.push({lineHeight:parseInt(J[R].getAttribute("lineHeight"),10)});for(R=0;R<p.length;R++)r.page.push({id:parseInt(p[R].getAttribute("id"),10)||0,file:p[R].getAttribute("file")});for(R=0;R<G.length;R++)l=G[R],r.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),
10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)});for(R=0;R<h.length;R++)r.kerning.push({first:parseInt(h[R].getAttribute("first"),10),second:parseInt(h[R].getAttribute("second"),10),amount:parseInt(h[R].getAttribute("amount"),10)});return r};return k}();Ha=function(){function k(){}
k.test=function(h){return"string"===typeof h&&-1<h.indexOf("\x3cfont\x3e")?(h=(new self.DOMParser).parseFromString(h,"text/xml"),q.test(h)):!1};k.parse=function(h){h=(new window.DOMParser).parseFromString(h,"text/xml");return q.parse(h)};return k}();var z=[pa,q,Ha],I=function(){function k(h,r,l){var J=h.info[0],p=h.common[0],G=v.getResolutionOfUrl(h.page[0].file),R={};this._ownsTextures=l;this.font=J.face;this.size=J.size;this.lineHeight=p.lineHeight/G;this.chars={};this.pageTextures=R;for(l=0;l<
h.page.length;l++)p=h.page[l],J=p.id,p=p.file,R[J]=r instanceof Array?r[l]:r[p];for(l=0;l<h.char.length;l++){r=h.char[l];J=r.id;r=r.page;var aa=h.char[l],ka=aa.x,ua=aa.y,ea=aa.width,xa=aa.height;p=aa.xoffset;var ba=aa.yoffset;aa=aa.xadvance;ka/=G;ua/=G;ea/=G;xa/=G;p/=G;ba/=G;aa/=G;ka=new Q.Rectangle(ka+R[r].frame.x/G,ua+R[r].frame.y/G,ea,xa);this.chars[J]={xOffset:p,yOffset:ba,xAdvance:aa,kerning:{},texture:new C.Texture(R[r].baseTexture,ka),page:r}}for(l=0;l<h.kerning.length;l++)r=h.kerning[l],R=
r.first,J=r.second,r=r.amount,R/=G,J/=G,r/=G,this.chars[J]&&(this.chars[J].kerning[R]=r)}k.prototype.destroy=function(){for(var h in this.chars)this.chars[h].texture.destroy(),this.chars[h].texture=null;for(h in this.pageTextures)this._ownsTextures&&this.pageTextures[h].destroy(!0),this.pageTextures[h]=null;this.pageTextures=this.chars=null};k.install=function(h,r,l){if(!(h instanceof u)){var J=y(h);if(!J)throw Error("Unrecognized data format for font.");h=J.parse(h)}r instanceof C.Texture&&(r=[r]);
r=new k(h,r,l);return k.available[r.font]=r};k.uninstall=function(h){var r=k.available[h];if(!r)throw Error("No font found named '"+h+"'");r.destroy();delete k.available[h]};k.from=function(h,r,l){if(!h)throw Error("[BitmapFont] Property `name` is required.");var J=Object.assign({},k.defaultOptions,l);l=J.padding;var p=J.resolution,G=J.textureWidth,R=J.textureHeight,aa=J.chars;"string"===typeof aa&&(aa=[aa]);J=[];for(var ka=0,ua=aa.length;ka<ua;ka++){var ea=aa[ka];if(Array.isArray(ea)){if(2!==ea.length)throw Error("[BitmapFont]: Invalid character range length, expecting 2 got "+
ea.length+".");var xa=ea[0].charCodeAt(0);ea=ea[1].charCodeAt(0);if(ea<xa)throw Error("[BitmapFont]: Invalid character range.");for(;xa<=ea;xa++)J.push(String.fromCharCode(xa))}else J.push.apply(J,ea.split(""))}if(0===J.length)throw Error("[BitmapFont]: Empty set when resolving characters.");r=r instanceof L.TextStyle?r:new L.TextStyle(r);aa=new u;aa.info[0]={face:r.fontFamily,size:r.fontSize};aa.common[0]={lineHeight:r.fontSize};ua=ka=0;xa=0;ea=[];for(var ba=0;ba<J.length;ba++){if(!fa){var fa=document.createElement("canvas");
fa.width=G;fa.height=R;var K=fa.getContext("2d");var V=new C.BaseTexture(fa,{resolution:p});ea.push(new C.Texture(V));aa.page.push({id:ea.length-1,file:""})}var ca=L.TextMetrics.measureText(J[ba],r,!1,fa);V=ca.width;var Z=Math.ceil(ca.height),ma=Math.ceil(("italic"===r.fontStyle?2:1)*V);if(ua>=R-Z*p){if(0===ua)throw Error("[BitmapFont] textureHeight "+R+"px is too small for "+(r.fontSize+"px fonts"));--ba;K=fa=null;xa=ka=ua=0}else if(xa=Math.max(Z+ca.fontProperties.descent,xa),ma*p+ka>=G)--ba,ua+=
xa*p,ua=Math.ceil(ua),xa=ka=0;else{var sa=fa,qa=K,Ca=ca,wa=p,za=r,Ba=Ca.text,Ga=Ca.fontProperties;qa.translate(ka,ua);qa.scale(wa,wa);var Da=za.strokeThickness/2,Ka=-(za.strokeThickness/2);qa.font=za.toFontString();qa.lineWidth=za.strokeThickness;qa.textBaseline=za.textBaseline;qa.lineJoin=za.lineJoin;qa.miterLimit=za.miterLimit;qa.fillStyle=E(sa,qa,za,wa,[Ba],Ca);qa.strokeStyle=za.stroke;qa.font=za.toFontString();qa.lineWidth=za.strokeThickness;qa.textBaseline=za.textBaseline;qa.lineJoin=za.lineJoin;
qa.miterLimit=za.miterLimit;qa.fillStyle=E(sa,qa,za,wa,[Ba],Ca);qa.strokeStyle=za.stroke;sa=za.dropShadowColor;sa=v.hex2rgb("number"===typeof sa?sa:v.string2hex(sa));za.dropShadow?(qa.shadowColor="rgba("+255*sa[0]+","+255*sa[1]+","+255*sa[2]+","+za.dropShadowAlpha+")",qa.shadowBlur=za.dropShadowBlur,qa.shadowOffsetX=Math.cos(za.dropShadowAngle)*za.dropShadowDistance,qa.shadowOffsetY=Math.sin(za.dropShadowAngle)*za.dropShadowDistance):(qa.shadowColor="black",qa.shadowBlur=0,qa.shadowOffsetX=0,qa.shadowOffsetY=
0);za.stroke&&za.strokeThickness&&qa.strokeText(Ba,Da,Ka+Ca.lineHeight-Ga.descent);za.fill&&qa.fillText(Ba,Da,Ka+Ca.lineHeight-Ga.descent);qa.setTransform(1,0,0,1,0,0);qa.fillStyle="rgba(0, 0, 0, 0)";ca=ca.text.charCodeAt(0);aa.char.push({id:ca,page:ea.length-1,x:ka/p,y:ua/p,width:ma,height:Z,xoffset:0,yoffset:0,xadvance:Math.ceil(V-(r.dropShadow?r.dropShadowDistance:0)-(r.stroke?r.strokeThickness:0))});ka+=(ma+2*l)*p;ka=Math.ceil(ka)}}fa=new k(aa,ea,!0);void 0!==k.available[h]&&k.uninstall(h);return k.available[h]=
fa};k.ALPHA=[["a","z"],["A","Z"]," "];k.NUMERIC=[["0","9"]];k.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];k.ASCII=[[" ","~"]];k.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:k.ALPHANUMERIC};k.available={};return k}(),P=[],m=[];pa=function(k){function h(r,l){void 0===l&&(l={});var J=k.call(this)||this;J._tint=16777215;l.font&&(v.deprecation("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),J._upgradeStyle(l));var p=Object.assign({},h.styleDefaults,
l);l=p.align;var G=p.tint,R=p.maxWidth,aa=p.letterSpacing,ka=p.fontName;p=p.fontSize;if(!I.available[ka])throw Error('Missing BitmapFont "'+ka+'"');J._activePagesMeshData=[];J._textWidth=0;J._textHeight=0;J._align=l;J._tint=G;J._fontName=ka;J._fontSize=p||I.available[ka].size;J._text=r;J._maxWidth=R;J._maxLineHeight=0;J._letterSpacing=aa;J._anchor=new Q.ObservablePoint(function(){J.dirty=!0},J,0,0);J._roundPixels=H.settings.ROUND_PIXELS;J.dirty=!0;J._textureCache={};return J}N(h,k);h.prototype.updateText=
function(){for(var r,l=I.available[this._fontName],J=this._fontSize/l.size,p=new Q.Point,G=[],R=[],aa=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",ka=aa.length,ua=this._maxWidth*l.size/this._fontSize,ea=null,xa=0,ba=0,fa=0,K=-1,V=0,ca=0,Z=0,ma=0;ma<ka;ma++){var sa=aa.charCodeAt(ma),qa=aa.charAt(ma);/(?:\s)/.test(qa)&&(K=ma,V=xa);if("\r"===qa||"\n"===qa)R.push(xa),ba=Math.max(ba,xa),++fa,++ca,p.x=0,p.y+=l.lineHeight,ea=null;else if(qa=l.chars[sa])ea&&qa.kerning[ea]&&(p.x+=qa.kerning[ea]),xa=m.pop()||
{texture:C.Texture.EMPTY,line:0,charCode:0,position:new Q.Point},xa.texture=qa.texture,xa.line=fa,xa.charCode=sa,xa.position.x=p.x+qa.xOffset+this._letterSpacing/2,xa.position.y=p.y+qa.yOffset,G.push(xa),p.x+=qa.xAdvance+this._letterSpacing,xa=p.x,Z=Math.max(Z,qa.yOffset+qa.texture.height),ea=sa,-1!==K&&0<ua&&p.x>ua&&(++ca,v.removeItems(G,1+K-ca,1+ma-K),ma=K,K=-1,R.push(V),ba=Math.max(ba,V),fa++,p.x=0,p.y+=l.lineHeight,ea=null)}ma=aa.charAt(aa.length-1);"\r"!==ma&&"\n"!==ma&&(/(?:\s)/.test(ma)&&(xa=
V),R.push(xa),ba=Math.max(ba,xa));V=[];for(ma=0;ma<=fa;ma++)qa=0,"right"===this._align?qa=ba-R[ma]:"center"===this._align&&(qa=(ba-R[ma])/2),V.push(qa);fa=G.length;R={};ka=[];ua=this._activePagesMeshData;for(ma=0;ma<ua.length;ma++)P.push(ua[ma]);for(ma=0;ma<fa;ma++)aa=G[ma].texture,xa=aa.baseTexture.uid,R[xa]||(qa=P.pop(),qa||(qa=new t.MeshGeometry,K=new t.MeshMaterial(C.Texture.EMPTY),qa={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new t.Mesh(qa,K),vertices:null,uvs:null,indices:null}),
qa.index=0,qa.indexCount=0,qa.vertexCount=0,qa.uvsCount=0,qa.total=0,K=this._textureCache,K[xa]=K[xa]||new C.Texture(aa.baseTexture),qa.mesh.texture=K[xa],qa.mesh.tint=this._tint,ka.push(qa),R[xa]=qa),R[xa].total++;for(ma=0;ma<ua.length;ma++)-1===ka.indexOf(ua[ma])&&this.removeChild(ua[ma].mesh);for(ma=0;ma<ka.length;ma++)ka[ma].mesh.parent!==this&&this.addChild(ka[ma].mesh);this._activePagesMeshData=ka;for(ma in R){qa=R[ma];aa=qa.total;if(!((null===(r=qa.indices)||void 0===r?void 0:r.length)>6*aa)||
qa.vertices.length<2*t.Mesh.BATCHABLE_SIZE)qa.vertices=new Float32Array(8*aa),qa.uvs=new Float32Array(8*aa),qa.indices=new Uint16Array(6*aa);else for(ka=qa.vertices,ua=8*qa.total;ua<ka.length;ua++)ka[ua]=0;qa.mesh.size=6*aa}for(ma=0;ma<fa;ma++)qa=G[ma],r=qa.position.x+V[qa.line],this._roundPixels&&(r=Math.round(r)),r*=J,ka=qa.position.y*J,aa=qa.texture,qa=R[aa.baseTexture.uid],ua=aa.frame,aa=aa._uvs,xa=qa.index++,qa.indices[6*xa]=4*xa,qa.indices[6*xa+1]=1+4*xa,qa.indices[6*xa+2]=2+4*xa,qa.indices[6*
xa+3]=4*xa,qa.indices[6*xa+4]=2+4*xa,qa.indices[6*xa+5]=3+4*xa,qa.vertices[8*xa]=r,qa.vertices[8*xa+1]=ka,qa.vertices[8*xa+2]=r+ua.width*J,qa.vertices[8*xa+3]=ka,qa.vertices[8*xa+4]=r+ua.width*J,qa.vertices[8*xa+5]=ka+ua.height*J,qa.vertices[8*xa+6]=r,qa.vertices[8*xa+7]=ka+ua.height*J,qa.uvs[8*xa]=aa.x0,qa.uvs[8*xa+1]=aa.y0,qa.uvs[8*xa+2]=aa.x1,qa.uvs[8*xa+3]=aa.y1,qa.uvs[8*xa+4]=aa.x2,qa.uvs[8*xa+5]=aa.y2,qa.uvs[8*xa+6]=aa.x3,qa.uvs[8*xa+7]=aa.y3;this._textWidth=ba*J;this._textHeight=(p.y+l.lineHeight)*
J;for(ma in R){qa=R[ma];if(0!==this.anchor.x||0!==this.anchor.y)for(l=0,p=this._textWidth*this.anchor.x,ba=this._textHeight*this.anchor.y,r=0;r<qa.total;r++)qa.vertices[l++]-=p,qa.vertices[l++]-=ba,qa.vertices[l++]-=p,qa.vertices[l++]-=ba,qa.vertices[l++]-=p,qa.vertices[l++]-=ba,qa.vertices[l++]-=p,qa.vertices[l++]-=ba;this._maxLineHeight=Z*J;l=qa.mesh.geometry.getBuffer("aVertexPosition");p=qa.mesh.geometry.getBuffer("aTextureCoord");ba=qa.mesh.geometry.getIndex();l.data=qa.vertices;p.data=qa.uvs;
ba.data=qa.indices;l.update();p.update();ba.update()}for(ma=0;ma<G.length;ma++)m.push(G[ma])};h.prototype.updateTransform=function(){this.validate();this.containerUpdateTransform()};h.prototype.getLocalBounds=function(){this.validate();return k.prototype.getLocalBounds.call(this)};h.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)};Object.defineProperty(h.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var l=0;l<this._activePagesMeshData.length;l++)this._activePagesMeshData[l].mesh.tint=
r}},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!I.available[r])throw Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"fontSize",
{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"anchor",{get:function(){return this._anchor},set:function(r){"number"===typeof r?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"text",{get:function(){return this._text},set:function(r){r=String(null===r||void 0===r?"":r);this._text!==r&&(this._text=r,this.dirty=
!0)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"maxLineHeight",{get:function(){this.validate();return this._maxLineHeight},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"textWidth",{get:function(){this.validate();return this._textWidth},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,
"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0});Object.defineProperty(h.prototype,"textHeight",{get:function(){this.validate();return this._textHeight},enumerable:!1,configurable:!0});
h.prototype._upgradeStyle=function(r){if("string"===typeof r.font){var l=r.font.split(" ");r.fontName=1===l.length?l[0]:l.slice(1).join(" ");2<=l.length&&(r.fontSize=parseInt(l[0],10))}else r.fontName=r.font.name,r.fontSize="number"===typeof r.font.size?r.font.size:parseInt(r.font.size,10)};h.prototype.destroy=function(r){var l=this._textureCache,J;for(J in l)l[J].destroy(),delete l[J];this._textureCache=null;k.prototype.destroy.call(this,r)};h.registerFont=function(r,l){v.deprecation("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install");
return I.install(r,l)};Object.defineProperty(h,"fonts",{get:function(){v.deprecation("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available");return I.available},enumerable:!1,configurable:!0});h.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};return h}(ya.Container);ya=function(){function k(){}k.add=function(){F.LoaderResource.setExtensionXhrType("fnt",F.LoaderResource.XHR_RESPONSE_TYPE.TEXT)};k.use=function(h,r){var l=y(h.data);if(l){var J=k.getBaseUrl(this,
h),p=l.parse(h.data),G={};l=function(ba){G[ba.metadata.pageFile]=ba.texture;Object.keys(G).length===p.page.length&&(h.bitmapFont=I.install(p,G,!0),r())};for(var R=0;R<p.page.length;++R){var aa=p.page[R].file,ka=J+aa,ua=!1,ea;for(ea in this.resources){var xa=this.resources[ea];if(xa.url===ka){xa.metadata.pageFile=aa;xa.texture?l(xa):xa.onAfterMiddleware.add(l);ua=!0;break}}ua||(aa={crossOrigin:h.crossOrigin,loadType:F.LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:aa},h.metadata.imageMetadata),
parentResource:h},this.add(ka,aa,l))}}else r()};k.getBaseUrl=function(h,r){var l=r.isDataUrl?"":k.dirname(r.url);r.isDataUrl&&("."===l&&(l=""),h.baseUrl&&l&&"/"===h.baseUrl.charAt(h.baseUrl.length-1)&&(l+="/"));(l=l.replace(h.baseUrl,""))&&"/"!==l.charAt(l.length-1)&&(l+="/");return l};k.dirname=function(h){var r=h.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===h?".":""===r?"/":r};return k}();Y.BitmapFont=I;Y.BitmapFontData=u;Y.BitmapFontLoader=ya;Y.BitmapText=pa};
shadow$provide[40]=function(ya,pa,Ha,Y){function N(Q,H){function t(){this.constructor=Q}E(Q,H);Q.prototype=null===H?Object.create(H):(t.prototype=H.prototype,new t)}Object.defineProperty(Y,"__esModule",{value:!0});var y=pa(16),E=function(Q,H){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,v){t.__proto__=v}||function(t,v){for(var C in v)v.hasOwnProperty(C)&&(t[C]=v[C])};return E(Q,H)};ya=function(Q){function H(t){void 0===t&&(t=1);var v=Q.call(this,y.defaultVertex,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor \x3d texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",
{uAlpha:1})||this;v.alpha=t;return v}N(H,Q);Object.defineProperty(H.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0});return H}(y.Filter);Y.AlphaFilter=ya};
shadow$provide[41]=function(ya,pa,Ha,Y){function N(p,G){function R(){this.constructor=p}E(p,G);p.prototype=null===G?Object.create(G):(R.prototype=G.prototype,new R)}Object.defineProperty(Y,"__esModule",{value:!0});ya=pa(16);var y=pa(2),E=function(p,G){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,aa){R.__proto__=aa}||function(R,aa){for(var ka in aa)aa.hasOwnProperty(ka)&&(R[ka]=aa[ka])};return E(p,G)},Q={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,
.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[4.89E-4,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},H;(function(p){p[p.WEBGL_LEGACY=0]="WEBGL_LEGACY";p[p.WEBGL=1]="WEBGL";p[p.WEBGL2=2]="WEBGL2"})(H||(H={}));var t;(function(p){p[p.UNKNOWN=0]="UNKNOWN";p[p.WEBGL=1]="WEBGL";p[p.CANVAS=2]="CANVAS"})(t||(t={}));var v;(function(p){p[p.COLOR=16384]="COLOR";p[p.DEPTH=256]="DEPTH";p[p.STENCIL=1024]=
"STENCIL"})(v||(v={}));var C;(function(p){p[p.NORMAL=0]="NORMAL";p[p.ADD=1]="ADD";p[p.MULTIPLY=2]="MULTIPLY";p[p.SCREEN=3]="SCREEN";p[p.OVERLAY=4]="OVERLAY";p[p.DARKEN=5]="DARKEN";p[p.LIGHTEN=6]="LIGHTEN";p[p.COLOR_DODGE=7]="COLOR_DODGE";p[p.COLOR_BURN=8]="COLOR_BURN";p[p.HARD_LIGHT=9]="HARD_LIGHT";p[p.SOFT_LIGHT=10]="SOFT_LIGHT";p[p.DIFFERENCE=11]="DIFFERENCE";p[p.EXCLUSION=12]="EXCLUSION";p[p.HUE=13]="HUE";p[p.SATURATION=14]="SATURATION";p[p.COLOR=15]="COLOR";p[p.LUMINOSITY=16]="LUMINOSITY";p[p.NORMAL_NPM=
17]="NORMAL_NPM";p[p.ADD_NPM=18]="ADD_NPM";p[p.SCREEN_NPM=19]="SCREEN_NPM";p[p.NONE=20]="NONE";p[p.SRC_OVER=0]="SRC_OVER";p[p.SRC_IN=21]="SRC_IN";p[p.SRC_OUT=22]="SRC_OUT";p[p.SRC_ATOP=23]="SRC_ATOP";p[p.DST_OVER=24]="DST_OVER";p[p.DST_IN=25]="DST_IN";p[p.DST_OUT=26]="DST_OUT";p[p.DST_ATOP=27]="DST_ATOP";p[p.ERASE=26]="ERASE";p[p.SUBTRACT=28]="SUBTRACT";p[p.XOR=29]="XOR"})(C||(C={}));var L;(function(p){p[p.POINTS=0]="POINTS";p[p.LINES=1]="LINES";p[p.LINE_LOOP=2]="LINE_LOOP";p[p.LINE_STRIP=3]="LINE_STRIP";
p[p.TRIANGLES=4]="TRIANGLES";p[p.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";p[p.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(L||(L={}));var F;(function(p){p[p.RGBA=6408]="RGBA";p[p.RGB=6407]="RGB";p[p.ALPHA=6406]="ALPHA";p[p.LUMINANCE=6409]="LUMINANCE";p[p.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";p[p.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT";p[p.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(F||(F={}));var n;(function(p){p[p.TEXTURE_2D=3553]="TEXTURE_2D";p[p.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";p[p.TEXTURE_2D_ARRAY=35866]=
"TEXTURE_2D_ARRAY";p[p.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";p[p.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";p[p.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";p[p.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";p[p.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";p[p.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(n||(n={}));var u;(function(p){p[p.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";
p[p.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";p[p.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";p[p.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4";p[p.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";p[p.FLOAT=5126]="FLOAT";p[p.HALF_FLOAT=36193]="HALF_FLOAT"})(u||(u={}));var q;(function(p){p[p.NEAREST=0]="NEAREST";p[p.LINEAR=1]="LINEAR"})(q||(q={}));var z;(function(p){p[p.CLAMP=33071]="CLAMP";p[p.REPEAT=10497]="REPEAT";p[p.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(z||(z={}));var I;
(function(p){p[p.OFF=0]="OFF";p[p.POW2=1]="POW2";p[p.ON=2]="ON"})(I||(I={}));var P;(function(p){p[p.NPM=0]="NPM";p[p.UNPACK=1]="UNPACK";p[p.PMA=2]="PMA";p[p.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA";p[p.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD";p[p.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(P||(P={}));var m;(function(p){p[p.NO=0]="NO";p[p.YES=1]="YES";p[p.AUTO=2]="AUTO";p[p.BLEND=0]="BLEND";p[p.CLEAR=1]="CLEAR";p[p.BLIT=2]="BLIT"})(m||(m={}));var k;(function(p){p[p.AUTO=0]="AUTO";
p[p.MANUAL=1]="MANUAL"})(k||(k={}));var h;(function(p){p.LOW="lowp";p.MEDIUM="mediump";p.HIGH="highp"})(h||(h={}));var r;(function(p){p[p.NONE=0]="NONE";p[p.SCISSOR=1]="SCISSOR";p[p.STENCIL=2]="STENCIL";p[p.SPRITE=3]="SPRITE"})(r||(r={}));var l;(function(p){p[p.NONE=0]="NONE";p[p.LOW=2]="LOW";p[p.MEDIUM=4]="MEDIUM";p[p.HIGH=8]="HIGH"})(l||(l={}));var J=function(p){function G(R,aa,ka,ua,ea){void 0===aa&&(aa=8);void 0===ka&&(ka=4);void 0===ua&&(ua=y.settings.FILTER_RESOLUTION);void 0===ea&&(ea=5);var xa=
ea;var ba=Math.ceil(xa/2),fa="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position \x3d aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position \x3d filterVertexPosition();\n\n        vec2 textureCoord \x3d filterTextureCoord();\n        %blur%\n    }",
K="";var V=R?"vBlurTexCoords[%index%] \x3d  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] \x3d  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var ca=0;ca<xa;ca++){var Z=V.replace("%index%",ca.toString());Z=Z.replace("%sampleIndex%",ca-(ba-1)+".0");K+=Z;K+="\n"}fa=fa.replace("%blur%",K);xa=fa=fa.replace("%size%",xa.toString());ba=Q[ea];fa=ba.length;K="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor \x3d vec4(0.0);\n    %blur%\n}";
V="";for(Z=0;Z<ea;Z++){var ma="gl_FragColor +\x3d texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",Z.toString());ca=Z;Z>=fa&&(ca=ea-Z-1);ma=ma.replace("%value%",ba[ca].toString());V+=ma;V+="\n"}K=K.replace("%blur%",V);K=K.replace("%size%",ea.toString());xa=p.call(this,xa,K)||this;xa.horizontal=R;xa.resolution=ua;xa._quality=0;xa.quality=ka;xa.blur=aa;return xa}N(G,p);G.prototype.apply=function(R,aa,ka,ua){this.uniforms.strength=ka?this.horizontal?1/ka.width*(ka.width/aa.width):
1/ka.height*(ka.height/aa.height):this.horizontal?1/R.renderer.width*(R.renderer.width/aa.width):1/R.renderer.height*(R.renderer.height/aa.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(1===this.passes)R.applyFilter(this,aa,ka,ua);else{var ea=R.getFilterTexture(),xa=R.renderer,ba=ea;this.state.blend=!1;R.applyFilter(this,aa,ba,m.CLEAR);for(var fa=1;fa<this.passes-1;fa++){R.bindAndClear(aa,m.BLIT);var K=this.uniforms.uSampler=ba;ba=aa;aa=K;xa.shader.bind(this);
xa.geometry.draw(5)}this.state.blend=!0;R.applyFilter(this,ba,ka,ua);R.returnFilterTexture(ea)}};Object.defineProperty(G.prototype,"blur",{get:function(){return this.strength},set:function(R){this.padding=1+2*Math.abs(R);this.strength=R},enumerable:!1,configurable:!0});Object.defineProperty(G.prototype,"quality",{get:function(){return this._quality},set:function(R){this.passes=this._quality=R},enumerable:!1,configurable:!0});return G}(ya.Filter);pa=function(p){function G(R,aa,ka,ua){void 0===R&&(R=
8);void 0===aa&&(aa=4);void 0===ka&&(ka=y.settings.FILTER_RESOLUTION);void 0===ua&&(ua=5);var ea=p.call(this)||this;ea.blurXFilter=new J(!0,R,aa,ka,ua);ea.blurYFilter=new J(!1,R,aa,ka,ua);ea.resolution=ka;ea.quality=aa;ea.blur=R;ea.repeatEdgePixels=!1;return ea}N(G,p);G.prototype.apply=function(R,aa,ka,ua){var ea=Math.abs(this.blurYFilter.strength);Math.abs(this.blurXFilter.strength)&&ea?(ea=R.getFilterTexture(),this.blurXFilter.apply(R,aa,ea,m.CLEAR),this.blurYFilter.apply(R,ea,ka,ua),R.returnFilterTexture(ea)):
ea?this.blurYFilter.apply(R,aa,ka,ua):this.blurXFilter.apply(R,aa,ka,ua)};G.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))};Object.defineProperty(G.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(R){this.blurXFilter.blur=this.blurYFilter.blur=R;this.updatePadding()},enumerable:!1,configurable:!0});Object.defineProperty(G.prototype,"quality",{get:function(){return this.blurXFilter.quality},
set:function(R){this.blurXFilter.quality=this.blurYFilter.quality=R},enumerable:!1,configurable:!0});Object.defineProperty(G.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(R){this.blurXFilter.blur=R;this.updatePadding()},enumerable:!1,configurable:!0});Object.defineProperty(G.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(R){this.blurYFilter.blur=R;this.updatePadding()},enumerable:!1,configurable:!0});Object.defineProperty(G.prototype,"blendMode",
{get:function(){return this.blurYFilter.blendMode},set:function(R){this.blurYFilter.blendMode=R},enumerable:!1,configurable:!0});Object.defineProperty(G.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(R){this._repeatEdgePixels=R;this.updatePadding()},enumerable:!1,configurable:!0});return G}(ya.Filter);Y.BlurFilter=pa;Y.BlurFilterPass=J};
shadow$provide[42]=function(ya,pa,Ha,Y){function N(Q,H){function t(){this.constructor=Q}E(Q,H);Q.prototype=null===H?Object.create(H):(t.prototype=H.prototype,new t)}Object.defineProperty(Y,"__esModule",{value:!0});var y=pa(16),E=function(Q,H){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,v){t.__proto__=v}||function(t,v){for(var C in v)v.hasOwnProperty(C)&&(t[C]=v[C])};return E(Q,H)};ya=function(Q){function H(){var t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,
0]),uAlpha:1};t=Q.call(this,y.defaultFilterVertex,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c \x3d texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha \x3d\x3d 0.0) {\n        gl_FragColor \x3d c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a \x3e 0.0) {\n      c.rgb /\x3d c.a;\n    }\n\n    vec4 result;\n\n    result.r \x3d (m[0] * c.r);\n        result.r +\x3d (m[1] * c.g);\n        result.r +\x3d (m[2] * c.b);\n        result.r +\x3d (m[3] * c.a);\n        result.r +\x3d m[4];\n\n    result.g \x3d (m[5] * c.r);\n        result.g +\x3d (m[6] * c.g);\n        result.g +\x3d (m[7] * c.b);\n        result.g +\x3d (m[8] * c.a);\n        result.g +\x3d m[9];\n\n    result.b \x3d (m[10] * c.r);\n       result.b +\x3d (m[11] * c.g);\n       result.b +\x3d (m[12] * c.b);\n       result.b +\x3d (m[13] * c.a);\n       result.b +\x3d m[14];\n\n    result.a \x3d (m[15] * c.r);\n       result.a +\x3d (m[16] * c.g);\n       result.a +\x3d (m[17] * c.b);\n       result.a +\x3d (m[18] * c.a);\n       result.a +\x3d m[19];\n\n    vec3 rgb \x3d mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *\x3d result.a;\n\n    gl_FragColor \x3d vec4(rgb, result.a);\n}\n",
t)||this;t.alpha=1;return t}N(H,Q);H.prototype._loadMatrix=function(t,v){void 0===v&&(v=!1);var C=t;v&&(this._multiply(C,this.uniforms.m,t),C=this._colorMatrix(C));this.uniforms.m=C};H.prototype._multiply=function(t,v,C){t[0]=v[0]*C[0]+v[1]*C[5]+v[2]*C[10]+v[3]*C[15];t[1]=v[0]*C[1]+v[1]*C[6]+v[2]*C[11]+v[3]*C[16];t[2]=v[0]*C[2]+v[1]*C[7]+v[2]*C[12]+v[3]*C[17];t[3]=v[0]*C[3]+v[1]*C[8]+v[2]*C[13]+v[3]*C[18];t[4]=v[0]*C[4]+v[1]*C[9]+v[2]*C[14]+v[3]*C[19]+v[4];t[5]=v[5]*C[0]+v[6]*C[5]+v[7]*C[10]+v[8]*
C[15];t[6]=v[5]*C[1]+v[6]*C[6]+v[7]*C[11]+v[8]*C[16];t[7]=v[5]*C[2]+v[6]*C[7]+v[7]*C[12]+v[8]*C[17];t[8]=v[5]*C[3]+v[6]*C[8]+v[7]*C[13]+v[8]*C[18];t[9]=v[5]*C[4]+v[6]*C[9]+v[7]*C[14]+v[8]*C[19]+v[9];t[10]=v[10]*C[0]+v[11]*C[5]+v[12]*C[10]+v[13]*C[15];t[11]=v[10]*C[1]+v[11]*C[6]+v[12]*C[11]+v[13]*C[16];t[12]=v[10]*C[2]+v[11]*C[7]+v[12]*C[12]+v[13]*C[17];t[13]=v[10]*C[3]+v[11]*C[8]+v[12]*C[13]+v[13]*C[18];t[14]=v[10]*C[4]+v[11]*C[9]+v[12]*C[14]+v[13]*C[19]+v[14];t[15]=v[15]*C[0]+v[16]*C[5]+v[17]*C[10]+
v[18]*C[15];t[16]=v[15]*C[1]+v[16]*C[6]+v[17]*C[11]+v[18]*C[16];t[17]=v[15]*C[2]+v[16]*C[7]+v[17]*C[12]+v[18]*C[17];t[18]=v[15]*C[3]+v[16]*C[8]+v[17]*C[13]+v[18]*C[18];t[19]=v[15]*C[4]+v[16]*C[9]+v[17]*C[14]+v[18]*C[19]+v[19];return t};H.prototype._colorMatrix=function(t){t=new Float32Array(t);t[4]/=255;t[9]/=255;t[14]/=255;t[19]/=255;return t};H.prototype.brightness=function(t,v){this._loadMatrix([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0],v)};H.prototype.greyscale=function(t,v){this._loadMatrix([t,
t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0],v)};H.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)};H.prototype.hue=function(t,v){t=(t||0)/180*Math.PI;var C=Math.cos(t);t=Math.sin(t);var L=Math.sqrt,F=1/3;L=L(F);this._loadMatrix([C+(1-C)*F,F*(1-C)-L*t,F*(1-C)+L*t,0,0,F*(1-C)+L*t,C+F*(1-C),F*(1-C)-L*t,0,0,F*(1-C)-L*t,F*(1-C)+L*t,C+F*(1-C),0,0,0,0,0,1,0],v)};H.prototype.contrast=function(t,v){t=(t||0)+1;var C=-.5*(t-1);this._loadMatrix([t,0,0,0,C,
0,t,0,0,C,0,0,t,0,C,0,0,0,1,0],v)};H.prototype.saturate=function(t,v){void 0===t&&(t=0);t=2*t/3+1;var C=-.5*(t-1);this._loadMatrix([t,C,C,0,0,C,t,C,0,0,C,C,t,0,0,0,0,0,1,0],v)};H.prototype.desaturate=function(){this.saturate(-1)};H.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)};H.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)};H.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,
-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)};H.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)};H.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)};H.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,
-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)};H.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,
0,0,0,1,0],t)};H.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)};H.prototype.colorTone=function(t,v,C,L,F){C=C||16770432;L=L||3375104;var n=(C>>16&255)/255,u=(C>>8&255)/255;C=(C&255)/255;var q=(L>>16&255)/255,z=(L>>8&255)/255;L=(L&255)/255;this._loadMatrix([.3,
.59,.11,0,0,n,u,C,t||.2,0,q,z,L,v||.15,0,n-q,u-z,C-L,0,0],F)};H.prototype.night=function(t,v){t=t||.1;this._loadMatrix([-2*t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0],v)};H.prototype.predator=function(t,v){this._loadMatrix([11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0],
v)};H.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)};H.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};Object.defineProperty(H.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0});Object.defineProperty(H.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0});
return H}(y.Filter);ya.prototype.grayscale=ya.prototype.greyscale;Y.ColorMatrixFilter=ya};
shadow$provide[43]=function(ya,pa,Ha,Y){function N(Q,H){function t(){this.constructor=Q}E(Q,H);Q.prototype=null===H?Object.create(H):(t.prototype=H.prototype,new t)}Object.defineProperty(Y,"__esModule",{value:!0});ya=pa(16);var y=pa(15),E=function(Q,H){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,v){t.__proto__=v}||function(t,v){for(var C in v)v.hasOwnProperty(C)&&(t[C]=v[C])};return E(Q,H)};pa=function(Q){function H(t,v){var C=new y.Matrix;t.renderable=!1;var L=Q.call(this,
"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position \x3d aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position \x3d filterVertexPosition();\n\tvTextureCoord \x3d filterTextureCoord();\n\tvFilterCoord \x3d ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",
"varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map \x3d  texture2D(mapSampler, vFilterCoord);\n\n  map -\x3d 0.5;\n  map.xy \x3d scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor \x3d texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",
{mapSampler:t._texture,filterMatrix:C,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this;L.maskSprite=t;L.maskMatrix=C;if(null===v||void 0===v)v=20;L.scale=new y.Point(v,v);return L}N(H,Q);H.prototype.apply=function(t,v,C,L){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x;this.uniforms.scale.y=this.scale.y;var F=this.maskSprite.worldTransform,n=Math.sqrt(F.a*F.a+F.b*F.b),u=Math.sqrt(F.c*F.c+F.d*F.d);0!==n&&0!==u&&(this.uniforms.rotation[0]=
F.a/n,this.uniforms.rotation[1]=F.b/n,this.uniforms.rotation[2]=F.c/u,this.uniforms.rotation[3]=F.d/u);t.applyFilter(this,v,C,L)};Object.defineProperty(H.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0});return H}(ya.Filter);Y.DisplacementFilter=pa};
shadow$provide[44]=function(ya,pa,Ha,Y){function N(E,Q){function H(){this.constructor=E}y(E,Q);E.prototype=null===Q?Object.create(Q):(H.prototype=Q.prototype,new H)}Object.defineProperty(Y,"__esModule",{value:!0});var y=function(E,Q){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,t){H.__proto__=t}||function(H,t){for(var v in t)t.hasOwnProperty(v)&&(H[v]=t[v])};return y(E,Q)};ya=function(E){function Q(){return E.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position \x3d aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW \x3d (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE \x3d (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW \x3d (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE \x3d (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM \x3d vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position \x3d filterVertexPosition();\n\n   vFragCoord \x3d aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",
'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW \x3d texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE \x3d texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW \x3d texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE \x3d texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor \x3d texture2D(tex, v_rgbM);\n    vec3 rgbM  \x3d texColor.xyz;\n    vec3 luma \x3d vec3(0.299, 0.587, 0.114);\n    float lumaNW \x3d dot(rgbNW, luma);\n    float lumaNE \x3d dot(rgbNE, luma);\n    float lumaSW \x3d dot(rgbSW, luma);\n    float lumaSE \x3d dot(rgbSE, luma);\n    float lumaM  \x3d dot(rgbM,  luma);\n    float lumaMin \x3d min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax \x3d max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x \x3d -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y \x3d  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce \x3d max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin \x3d 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir \x3d min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA \x3d 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB \x3d rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB \x3d dot(rgbB, luma);\n    if ((lumaB \x3c lumaMin) || (lumaB \x3e lumaMax))\n        color \x3d vec4(rgbA, texColor.a);\n    else\n        color \x3d vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color \x3d fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor \x3d color;\n}\n')||
this}N(Q,E);return Q}(pa(16).Filter);Y.FXAAFilter=ya};
shadow$provide[45]=function(ya,pa,Ha,Y){function N(Q,H){function t(){this.constructor=Q}E(Q,H);Q.prototype=null===H?Object.create(H):(t.prototype=H.prototype,new t)}Object.defineProperty(Y,"__esModule",{value:!0});var y=pa(16),E=function(Q,H){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,v){t.__proto__=v}||function(t,v){for(var C in v)v.hasOwnProperty(C)&&(t[C]=v[C])};return E(Q,H)};ya=function(Q){function H(t,v){void 0===t&&(t=.5);void 0===v&&(v=Math.random());var C=Q.call(this,
y.defaultFilterVertex,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color \x3d texture2D(uSampler, vTextureCoord);\n    float randomValue \x3d rand(gl_FragCoord.xy * uSeed);\n    float diff \x3d (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a \x3e 0.0) {\n        color.rgb /\x3d color.a;\n    }\n\n    color.r +\x3d diff;\n    color.g +\x3d diff;\n    color.b +\x3d diff;\n\n    // Premultiply alpha again.\n    color.rgb *\x3d color.a;\n\n    gl_FragColor \x3d color;\n}\n",
{uNoise:0,uSeed:0})||this;C.noise=t;C.seed=v;return C}N(H,Q);Object.defineProperty(H.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0});Object.defineProperty(H.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0});return H}(y.Filter);Y.NoiseFilter=ya};
shadow$provide[46]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});var N=pa(16),y=pa(33);ya=pa(22);Ha=pa(15);var E=pa(12),Q=pa(2),H=new Ha.Matrix;ya.DisplayObject.prototype._cacheAsBitmap=!1;ya.DisplayObject.prototype._cacheData=null;var t=function(){return function(){this.sprite=this.originalContainsPoint=this.originalFilterArea=this.originalMask=this.originalDestroy=this.originalUpdateTransform=this.originalGetLocalBounds=this.originalCalculateBounds=this.originalRenderCanvas=
this.originalRender=this.textureCacheId=null}}();Object.defineProperties(ya.DisplayObject.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(v){this._cacheAsBitmap!==v&&((this._cacheAsBitmap=v)?(this._cacheData||(this._cacheData=new t),v=this._cacheData,v.originalRender=this.render,v.originalRenderCanvas=this.renderCanvas,v.originalUpdateTransform=this.updateTransform,v.originalCalculateBounds=this.calculateBounds,v.originalGetLocalBounds=this.getLocalBounds,v.originalDestroy=
this.destroy,v.originalContainsPoint=this.containsPoint,v.originalMask=this._mask,v.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(v=this._cacheData,v.sprite&&this._destroyCachedDisplayObject(),this.render=v.originalRender,this.renderCanvas=v.originalRenderCanvas,this.calculateBounds=v.originalCalculateBounds,this.getLocalBounds=v.originalGetLocalBounds,this.destroy=v.originalDestroy,this.updateTransform=
v.originalUpdateTransform,this.containsPoint=v.originalContainsPoint,this._mask=v.originalMask,this.filterArea=v.originalFilterArea))}}});ya.DisplayObject.prototype._renderCached=function(v){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObject(v),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(v))};ya.DisplayObject.prototype._initCachedDisplayObject=function(v){if(!this._cacheData||
!this._cacheData.sprite){var C=this.alpha;this.alpha=1;v.batch.flush();var L=this.getLocalBounds(null,!0).clone();this.filters&&L.pad(this.filters[0].padding);L.ceil(Q.settings.RESOLUTION);var F=v.renderTexture.current,n=v.renderTexture.sourceFrame.clone(),u=v.renderTexture.destinationFrame.clone(),q=v.projection.transform,z=N.RenderTexture.create({width:L.width,height:L.height}),I="cacheAsBitmap_"+E.uid();this._cacheData.textureCacheId=I;N.BaseTexture.addToCache(z.baseTexture,I);N.Texture.addToCache(z,
I);I=this.transform.localTransform.copyTo(H).invert().translate(-L.x,-L.y);this.render=this._cacheData.originalRender;v.render(this,z,!0,I,!1);v.projection.transform=q;v.renderTexture.bind(F,n,u);this.render=this._renderCached;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this.filterArea=this._mask=null;v=new y.Sprite(z);v.transform.worldTransform=this.transform.worldTransform;v.anchor.x=-(L.x/
L.width);v.anchor.y=-(L.y/L.height);v.alpha=C;v._bounds=this._bounds;this._cacheData.sprite=v;this.transform._parentID=-1;this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null));this.containsPoint=v.containsPoint.bind(v)}};ya.DisplayObject.prototype._renderCachedCanvas=function(v){!this.visible||0>=this.worldAlpha||!this.renderable||(this._initCachedDisplayObjectCanvas(v),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(v))};
ya.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(v){if(!this._cacheData||!this._cacheData.sprite){var C=this.getLocalBounds(null,!0),L=this.alpha;this.alpha=1;var F=v.context,n=v._projTransform;C.ceil(Q.settings.RESOLUTION);var u=N.RenderTexture.create({width:C.width,height:C.height}),q="cacheAsBitmap_"+E.uid();this._cacheData.textureCacheId=q;N.BaseTexture.addToCache(u.baseTexture,q);N.Texture.addToCache(u,q);this.transform.localTransform.copyTo(H);H.invert();H.tx-=C.x;H.ty-=C.y;
this.renderCanvas=this._cacheData.originalRenderCanvas;v.render(this,u,!0,H,!1);v.context=F;v._projTransform=n;this.renderCanvas=this._renderCachedCanvas;this.updateTransform=this.displayObjectUpdateTransform;this.calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this.filterArea=this._mask=null;F=new y.Sprite(u);F.transform.worldTransform=this.transform.worldTransform;F.anchor.x=-(C.x/C.width);F.anchor.y=-(C.y/C.height);F.alpha=L;F._bounds=this._bounds;this._cacheData.sprite=
F;this.transform._parentID=-1;this.parent?this.updateTransform():(this.parent=v._tempDisplayObjectParent,this.updateTransform(),this.parent=null);this.containsPoint=F.containsPoint.bind(F)}};ya.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear();this._cacheData.sprite.transform._worldID=this.transform._worldID;this._cacheData.sprite._calculateBounds();this._bounds.updateID=this._boundsID};ya.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};
ya.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0);this._cacheData.sprite=null;N.BaseTexture.removeFromCache(this._cacheData.textureCacheId);N.Texture.removeFromCache(this._cacheData.textureCacheId);this._cacheData.textureCacheId=null};ya.DisplayObject.prototype._cacheAsBitmapDestroy=function(v){this.cacheAsBitmap=!1;this.destroy(v)};Y.CacheData=t};
shadow$provide[47]=function(ya,pa,Ha,Y){ya=pa(22);ya.DisplayObject.prototype.name=null;ya.Container.prototype.getChildByName=function(N,y){for(var E=0,Q=this.children.length;E<Q;E++)if(this.children[E].name===N)return this.children[E];if(y)for(E=0,Q=this.children.length;E<Q;E++)if(this.children[E].getChildByName&&(y=this.children[E].getChildByName(N,!0)))return y;return null}};
shadow$provide[48]=function(ya,pa,Ha,Y){ya=pa(22);var N=pa(15);ya.DisplayObject.prototype.getGlobalPosition=function(y,E){void 0===y&&(y=new N.Point);void 0===E&&(E=!1);this.parent?this.parent.toGlobal(this.position,y,E):(y.x=this.position.x,y.y=this.position.y);return y}};
shadow$provide[49]=function(ya,pa,Ha,Y){function N(L,F){function n(){this.constructor=L}H(L,F);L.prototype=null===F?Object.create(F):(n.prototype=F.prototype,new n)}Object.defineProperty(Y,"__esModule",{value:!0});var y=pa(38),E=pa(3),Q=pa(16),H=function(L,F){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,u){n.__proto__=u}||function(n,u){for(var q in u)u.hasOwnProperty(q)&&(n[q]=u[q])};return H(L,F)},t=function(L){function F(n,u,q,z){void 0===n&&(n=100);void 0===u&&(u=100);void 0===
q&&(q=10);void 0===z&&(z=10);var I=L.call(this)||this;I.segWidth=q;I.segHeight=z;I.width=n;I.height=u;I.build();return I}N(F,L);F.prototype.build=function(){for(var n=this.segWidth*this.segHeight,u=[],q=[],z=[],I=this.segWidth-1,P=this.segHeight-1,m=this.width/I,k=this.height/P,h=0;h<n;h++){var r=h%this.segWidth,l=h/this.segWidth|0;u.push(r*m,l*k);q.push(r/I,l/P)}n=I*P;for(h=0;h<n;h++)P=h%I,m=h/I|0,k=m*this.segWidth+P+1,r=(m+1)*this.segWidth+P,z.push(m*this.segWidth+P,k,r,k,(m+1)*this.segWidth+P+
1,r);this.buffers[0].data=new Float32Array(u);this.buffers[1].data=new Float32Array(q);this.indexBuffer.data=new Uint16Array(z);this.buffers[0].update();this.buffers[1].update();this.indexBuffer.update()};return F}(y.MeshGeometry),v=function(L){function F(n,u,q){void 0===n&&(n=200);void 0===q&&(q=0);var z=L.call(this,new Float32Array(4*u.length),new Float32Array(4*u.length),new Uint16Array(6*(u.length-1)))||this;z.points=u;z._width=n;z.textureScale=q;z.build();return z}N(F,L);Object.defineProperty(F.prototype,
"width",{get:function(){return this._width},enumerable:!1,configurable:!0});F.prototype.build=function(){var n=this.points;if(n){var u=this.getBuffer("aVertexPosition"),q=this.getBuffer("aTextureCoord"),z=this.getIndex();if(!(1>n.length)){u.data.length/4!==n.length&&(u.data=new Float32Array(4*n.length),q.data=new Float32Array(4*n.length),z.data=new Uint16Array(6*(n.length-1)));var I=q.data;u=z.data;I[0]=0;I[1]=0;I[2]=0;I[3]=1;for(var P=0,m=n[0],k=this._width*this.textureScale,h=n.length,r=0;r<h;r++){var l=
4*r;if(0<this.textureScale){var J=m.x-n[r].x;m=m.y-n[r].y;J=Math.sqrt(J*J+m*m);m=n[r];P+=J/k}else P=r/(h-1);I[l]=P;I[l+1]=0;I[l+2]=P;I[l+3]=1}for(r=n=0;r<h-1;r++)l=2*r,u[n++]=l,u[n++]=l+1,u[n++]=l+2,u[n++]=l+2,u[n++]=l+1,u[n++]=l+3;q.update();z.update();this.updateVertices()}}};F.prototype.updateVertices=function(){var n=this.points;if(!(1>n.length)){for(var u=n[0],q,z,I=this.buffers[0].data,P=n.length,m=0;m<P;m++){var k=n[m],h=4*m;q=m<n.length-1?n[m+1]:k;z=-(q.x-u.x);u=q.y-u.y;q=Math.sqrt(u*u+z*
z);var r=0<this.textureScale?this.textureScale*this._width/2:this._width/2;u/=q;z/=q;u*=r;z*=r;I[h]=k.x+u;I[h+1]=k.y+z;I[h+2]=k.x-u;I[h+3]=k.y-z;u=k}this.buffers[0].update()}};F.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()};return F}(y.MeshGeometry);ya=function(L){function F(n,u,q){void 0===q&&(q=0);u=new v(n.height,u,q);var z=new y.MeshMaterial(n);0<q&&(n.baseTexture.wrapMode=E.WRAP_MODES.REPEAT);n=L.call(this,u,z)||this;n.autoUpdate=!0;return n}N(F,L);F.prototype._render=
function(n){var u=this.geometry;if(this.autoUpdate||u._width!==this.shader.texture.height)u._width=this.shader.texture.height,u.update();L.prototype._render.call(this,n)};return F}(y.Mesh);pa=function(L){function F(n,u,q){u=new t(n.width,n.height,u,q);q=new y.MeshMaterial(Q.Texture.WHITE);u=L.call(this,u,q)||this;u.texture=n;return u}N(F,L);F.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var n=this.geometry;n.width=this.shader.texture.width;n.height=this.shader.texture.height;
n.build()};Object.defineProperty(F.prototype,"texture",{get:function(){return this.shader.texture},set:function(n){if(this.shader.texture!==n)if(this.shader.texture=n,this._textureID=-1,n.baseTexture.valid)this.textureUpdated();else n.once("update",this.textureUpdated,this)},enumerable:!1,configurable:!0});F.prototype._render=function(n){this._textureID!==this.shader.texture._updateID&&this.textureUpdated();L.prototype._render.call(this,n)};F.prototype.destroy=function(n){this.shader.texture.off("update",
this.textureUpdated,this);L.prototype.destroy.call(this,n)};return F}(y.Mesh);Ha=function(L){function F(n,u,q,z,I){void 0===n&&(n=Q.Texture.EMPTY);u=new y.MeshGeometry(u,q,z);u.getBuffer("aVertexPosition").static=!1;n=new y.MeshMaterial(n);I=L.call(this,u,n,null,I)||this;I.autoUpdate=!0;return I}N(F,L);Object.defineProperty(F.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(n){this.geometry.getBuffer("aVertexPosition").data=n},enumerable:!1,
configurable:!0});F.prototype._render=function(n){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update();L.prototype._render.call(this,n)};return F}(y.Mesh);var C=function(L){function F(n,u,q,z,I){void 0===u&&(u=10);void 0===q&&(q=10);void 0===z&&(z=10);void 0===I&&(I=10);var P=L.call(this,Q.Texture.WHITE,4,4)||this;P._origWidth=n.orig.width;P._origHeight=n.orig.height;P._width=P._origWidth;P._height=P._origHeight;P._leftWidth=u;P._rightWidth=z;P._topHeight=q;P._bottomHeight=I;P.texture=
n;return P}N(F,L);F.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;this._refresh()};Object.defineProperty(F.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(n){this.geometry.getBuffer("aVertexPosition").data=n},enumerable:!1,configurable:!0});F.prototype.updateHorizontalVertices=function(){var n=this.vertices,u=this._getMinScale();n[9]=n[11]=n[13]=n[15]=this._topHeight*u;n[17]=n[19]=n[21]=n[23]=this._height-
this._bottomHeight*u;n[25]=n[27]=n[29]=n[31]=this._height};F.prototype.updateVerticalVertices=function(){var n=this.vertices,u=this._getMinScale();n[2]=n[10]=n[18]=n[26]=this._leftWidth*u;n[4]=n[12]=n[20]=n[28]=this._width-this._rightWidth*u;n[6]=n[14]=n[22]=n[30]=this._width};F.prototype._getMinScale=function(){var n=this._leftWidth+this._rightWidth,u=this._topHeight+this._bottomHeight;return Math.min(this._width>n?1:this._width/n,this._height>u?1:this._height/u)};Object.defineProperty(F.prototype,
"width",{get:function(){return this._width},set:function(n){this._width=n;this._refresh()},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n;this._refresh()},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(n){this._leftWidth=n;this._refresh()},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"rightWidth",{get:function(){return this._rightWidth},
set:function(n){this._rightWidth=n;this._refresh()},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"topHeight",{get:function(){return this._topHeight},set:function(n){this._topHeight=n;this._refresh()},enumerable:!1,configurable:!0});Object.defineProperty(F.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(n){this._bottomHeight=n;this._refresh()},enumerable:!1,configurable:!0});F.prototype._refresh=function(){var n=this.texture,u=this.geometry.buffers[1].data;
this._origWidth=n.orig.width;this._origHeight=n.orig.height;n=1/this._origWidth;var q=1/this._origHeight;u[0]=u[8]=u[16]=u[24]=0;u[1]=u[3]=u[5]=u[7]=0;u[6]=u[14]=u[22]=u[30]=1;u[25]=u[27]=u[29]=u[31]=1;u[2]=u[10]=u[18]=u[26]=n*this._leftWidth;u[4]=u[12]=u[20]=u[28]=1-n*this._rightWidth;u[9]=u[11]=u[13]=u[15]=q*this._topHeight;u[17]=u[19]=u[21]=u[23]=1-q*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.geometry.buffers[0].update();this.geometry.buffers[1].update()};
return F}(pa);Y.NineSlicePlane=C;Y.PlaneGeometry=t;Y.RopeGeometry=v;Y.SimpleMesh=Ha;Y.SimplePlane=pa;Y.SimpleRope=ya};
shadow$provide[50]=function(ya,pa,Ha,Y){function N(H,t){function v(){this.constructor=H}Q(H,t);H.prototype=null===t?Object.create(t):(v.prototype=t.prototype,new v)}Object.defineProperty(Y,"__esModule",{value:!0});var y=pa(16);ya=pa(33);var E=pa(14),Q=function(H,t){Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,C){v.__proto__=C}||function(v,C){for(var L in C)C.hasOwnProperty(L)&&(v[L]=C[L])};return Q(H,t)};pa=function(H){function t(v,C){void 0===C&&(C=!0);var L=H.call(this,v[0]instanceof
y.Texture?v[0]:v[0].texture)||this;L._textures=null;L._durations=null;L._autoUpdate=C;L._isConnectedToTicker=!1;L.animationSpeed=1;L.loop=!0;L.updateAnchor=!1;L.onComplete=null;L.onFrameChange=null;L.onLoop=null;L._currentTime=0;L._playing=!1;L._previousFrame=null;L.textures=v;return L}N(t,H);t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(E.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))};t.prototype.play=function(){this._playing||
(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(E.Ticker.shared.add(this.update,this,E.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))};t.prototype.gotoAndStop=function(v){this.stop();var C=this.currentFrame;this._currentTime=v;C!==this.currentFrame&&this.updateTexture()};t.prototype.gotoAndPlay=function(v){var C=this.currentFrame;this._currentTime=v;C!==this.currentFrame&&this.updateTexture();this.play()};t.prototype.update=function(v){if(this._playing){var C=this.animationSpeed*
v,L=this.currentFrame;if(null!==this._durations){var F=this._currentTime%1*this._durations[this.currentFrame];for(F+=C/60*1E3;0>F;)this._currentTime--,F+=this._durations[this.currentFrame];v=Math.sign(this.animationSpeed*v);for(this._currentTime=Math.floor(this._currentTime);F>=this._durations[this.currentFrame];)F-=this._durations[this.currentFrame]*v,this._currentTime+=v;this._currentTime+=F/this._durations[this.currentFrame]}else this._currentTime+=C;if(0>this._currentTime&&!this.loop){if(this.gotoAndStop(0),
this.onComplete)this.onComplete()}else if(this._currentTime>=this._textures.length&&!this.loop){if(this.gotoAndStop(this._textures.length-1),this.onComplete)this.onComplete()}else if(L!==this.currentFrame){if(this.loop&&this.onLoop)if(0<this.animationSpeed&&this.currentFrame<L)this.onLoop();else if(0>this.animationSpeed&&this.currentFrame>L)this.onLoop();this.updateTexture()}}};t.prototype.updateTexture=function(){var v=this.currentFrame;if(this._previousFrame!==v&&(this._previousFrame=v,this._texture=
this._textures[v],this._textureTrimmedID=this._textureID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange))this.onFrameChange(this.currentFrame)};t.prototype.destroy=function(v){this.stop();H.prototype.destroy.call(this,v);this.onLoop=this.onFrameChange=this.onComplete=null};t.fromFrames=function(v){for(var C=[],L=0;L<v.length;++L)C.push(y.Texture.from(v[L]));return new t(C)};t.fromImages=function(v){for(var C=
[],L=0;L<v.length;++L)C.push(y.Texture.from(v[L]));return new t(C)};Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(v){if(v[0]instanceof y.Texture)this._textures=v,this._durations=null;else{this._textures=[];this._durations=[];for(var C=0;C<v.length;C++)this._textures.push(v[C].texture),this._durations.push(v[C].time)}this._previousFrame=
null;this.gotoAndStop(0);this.updateTexture()},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"currentFrame",{get:function(){var v=Math.floor(this._currentTime)%this._textures.length;0>v&&(v+=this._textures.length);return v},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0});Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(v){v!==this._autoUpdate&&
(this._autoUpdate=v,!this._autoUpdate&&this._isConnectedToTicker?(E.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(E.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0});return t}(ya.Sprite);Y.AnimatedSprite=pa};
shadow$provide[51]=function(ya,pa,Ha,Y){function N(ba,fa){function K(){this.constructor=ba}xa(ba,fa);ba.prototype=null===fa?Object.create(fa):(K.prototype=fa.prototype,new K)}Object.defineProperty(Y,"__esModule",{value:!0});pa(21);var y=pa(12),E=pa(23),Q=pa(24),H=pa(25),t=pa(16),v=pa(26),C=pa(30),L=pa(31),F=pa(35),n=pa(36),u=pa(37),q=pa(39),z=pa(14);ya=pa(40);Ha=pa(41);var I=pa(42),P=pa(43),m=pa(44),k=pa(45);pa(46);pa(47);pa(48);var h=pa(3),r=pa(22),l=pa(32),J=pa(15),p=pa(38),G=pa(49),R=pa(13),aa=
pa(33),ka=pa(50),ua=pa(34),ea=pa(2),xa=function(ba,fa){xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,V){K.__proto__=V}||function(K,V){for(var ca in V)V.hasOwnProperty(ca)&&(K[ca]=V[ca])};return xa(ba,fa)};t.Renderer.registerPlugin("accessibility",E.AccessibilityManager);t.Renderer.registerPlugin("extract",v.Extract);t.Renderer.registerPlugin("interaction",Q.InteractionManager);t.Renderer.registerPlugin("particle",L.ParticleRenderer);t.Renderer.registerPlugin("prepare",F.Prepare);
t.Renderer.registerPlugin("batch",t.BatchRenderer);t.Renderer.registerPlugin("tilingSprite",u.TilingSpriteRenderer);C.Loader.registerPlugin(q.BitmapFontLoader);C.Loader.registerPlugin(n.SpritesheetLoader);H.Application.registerPlugin(z.TickerPlugin);H.Application.registerPlugin(C.AppLoaderPlugin);pa={AlphaFilter:ya.AlphaFilter,BlurFilter:Ha.BlurFilter,BlurFilterPass:Ha.BlurFilterPass,ColorMatrixFilter:I.ColorMatrixFilter,DisplacementFilter:P.DisplacementFilter,FXAAFilter:m.FXAAFilter,NoiseFilter:k.NoiseFilter};
Object.keys(E).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return E[ba]}})});Object.keys(Q).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return Q[ba]}})});Object.keys(H).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return H[ba]}})});Object.keys(t).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return t[ba]}})});Object.keys(v).forEach(function(ba){Object.defineProperty(Y,
ba,{enumerable:!0,get:function(){return v[ba]}})});Object.keys(C).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return C[ba]}})});Object.keys(L).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return L[ba]}})});Object.keys(F).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return F[ba]}})});Object.keys(n).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return n[ba]}})});Object.keys(u).forEach(function(ba){Object.defineProperty(Y,
ba,{enumerable:!0,get:function(){return u[ba]}})});Object.keys(q).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return q[ba]}})});Object.keys(z).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return z[ba]}})});Object.keys(h).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return h[ba]}})});Object.keys(r).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return r[ba]}})});Object.keys(l).forEach(function(ba){Object.defineProperty(Y,
ba,{enumerable:!0,get:function(){return l[ba]}})});Object.keys(J).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return J[ba]}})});Object.keys(p).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return p[ba]}})});Object.keys(G).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return G[ba]}})});Object.keys(R).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return R[ba]}})});Object.keys(aa).forEach(function(ba){Object.defineProperty(Y,
ba,{enumerable:!0,get:function(){return aa[ba]}})});Object.keys(ka).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return ka[ba]}})});Object.keys(ua).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return ua[ba]}})});Object.keys(ea).forEach(function(ba){Object.defineProperty(Y,ba,{enumerable:!0,get:function(){return ea[ba]}})});Y.utils=y;Y.VERSION="5.3.9";Y.filters=pa;Y.useDeprecated=function(){function ba(wa,za,Ba,Ga){y.deprecation("5.0.0",
"PIXI.Sprite."+wa+" method is deprecated, use PIXI.Sprite.from");return qa.from(za,{resourceOptions:{scale:Ga,crossorigin:Ba}})}function fa(wa,za,Ba,Ga){y.deprecation("5.0.0","PIXI.Texture."+wa+" method is deprecated, use PIXI.Texture.from");return Ca.from(za,{resourceOptions:{scale:Ga,crossorigin:Ba}})}var K=this;Object.defineProperties(K,{SVG_SIZE:{get:function(){y.deprecation("5.0.0","PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE");return K.SVGResource.SVG_SIZE}},
TransformStatic:{get:function(){y.deprecation("5.0.0","PIXI.TransformStatic class has been removed, use PIXI.Transform");return K.Transform}},TransformBase:{get:function(){y.deprecation("5.0.0","PIXI.TransformBase class has been removed, use PIXI.Transform");return K.Transform}},TRANSFORM_MODE:{get:function(){y.deprecation("5.0.0","PIXI.TRANSFORM_MODE property has been removed");return{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){y.deprecation("5.0.0","PIXI.WebGLRenderer class has moved to PIXI.Renderer");
return K.Renderer}},CanvasRenderTarget:{get:function(){y.deprecation("5.0.0","PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget");return K.utils.CanvasRenderTarget}},loader:{get:function(){y.deprecation("5.0.0","PIXI.loader instance has moved to PIXI.Loader.shared");return K.Loader.shared}},FilterManager:{get:function(){y.deprecation("5.0.0","PIXI.FilterManager class has moved to PIXI.systems.FilterSystem");return K.systems.FilterSystem}},CanvasTinter:{get:function(){y.deprecation("5.2.0",
"PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils");return K.canvasUtils}},GroupD8:{get:function(){y.deprecation("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8");return K.groupD8}}});K.accessibility={};Object.defineProperties(K.accessibility,{AccessibilityManager:{get:function(){y.deprecation("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager");return K.AccessibilityManager}}});K.interaction={};Object.defineProperties(K.interaction,{InteractionManager:{get:function(){y.deprecation("5.3.0",
"PIXI.interaction.InteractionManager moved to PIXI.InteractionManager");return K.InteractionManager}},InteractionData:{get:function(){y.deprecation("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData");return K.InteractionData}},InteractionEvent:{get:function(){y.deprecation("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent");return K.InteractionEvent}}});K.prepare={};Object.defineProperties(K.prepare,{BasePrepare:{get:function(){y.deprecation("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare");
return K.BasePrepare}},Prepare:{get:function(){y.deprecation("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare");return K.Prepare}},CanvasPrepare:{get:function(){y.deprecation("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare");return K.CanvasPrepare}}});K.extract={};Object.defineProperties(K.extract,{Extract:{get:function(){y.deprecation("5.2.1","PIXI.extract.Extract moved to PIXI.Extract");return K.Extract}},CanvasExtract:{get:function(){y.deprecation("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract");
return K.CanvasExtract}}});K.extras={};Object.defineProperties(K.extras,{TilingSprite:{get:function(){y.deprecation("5.0.0","PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite");return K.TilingSprite}},TilingSpriteRenderer:{get:function(){y.deprecation("5.0.0","PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer");return K.TilingSpriteRenderer}},AnimatedSprite:{get:function(){y.deprecation("5.0.0","PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite");
return K.AnimatedSprite}},BitmapText:{get:function(){y.deprecation("5.0.0","PIXI.extras.BitmapText class has moved to PIXI.BitmapText");return K.BitmapText}}});K.TilingSprite.fromFrame=function(wa,za,Ba){y.deprecation("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from");return K.TilingSprite.from(wa,{width:za,height:Ba})};K.TilingSprite.fromImage=function(wa,za,Ba,Ga,Da){void 0===Ga&&(Ga={});y.deprecation("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from");Ga&&
"object"!==typeof Ga&&(Ga={scaleMode:Da,resourceOptions:{crossorigin:Ga}});Ga.width=za;Ga.height=Ba;return K.TilingSprite.from(wa,Ga)};Object.defineProperties(K.utils,{getSvgSize:{get:function(){y.deprecation("5.0.0","PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize");return K.resources.SVGResource.getSize}}});K.mesh={};Object.defineProperties(K.mesh,{Mesh:{get:function(){y.deprecation("5.0.0","PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh");return K.SimpleMesh}},
NineSlicePlane:{get:function(){y.deprecation("5.0.0","PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane");return K.NineSlicePlane}},Plane:{get:function(){y.deprecation("5.0.0","PIXI.mesh.Plane class has moved to PIXI.SimplePlane");return K.SimplePlane}},Rope:{get:function(){y.deprecation("5.0.0","PIXI.mesh.Rope class has moved to PIXI.SimpleRope");return K.SimpleRope}},RawMesh:{get:function(){y.deprecation("5.0.0","PIXI.mesh.RawMesh class has moved to PIXI.Mesh");return K.Mesh}},CanvasMeshRenderer:{get:function(){y.deprecation("5.0.0",
"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer");return K.CanvasMeshRenderer}},MeshRenderer:{get:function(){y.deprecation("5.0.0","PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer");return K.MeshRenderer}}});K.particles={};Object.defineProperties(K.particles,{ParticleContainer:{get:function(){y.deprecation("5.0.0","PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer");return K.ParticleContainer}},ParticleRenderer:{get:function(){y.deprecation("5.0.0",
"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer");return K.ParticleRenderer}}});K.ticker={};Object.defineProperties(K.ticker,{Ticker:{get:function(){y.deprecation("5.0.0","PIXI.ticker.Ticker class has moved to PIXI.Ticker");return K.Ticker}},shared:{get:function(){y.deprecation("5.0.0","PIXI.ticker.shared instance has moved to PIXI.Ticker.shared");return K.Ticker.shared}}});K.loaders={};Object.defineProperties(K.loaders,{Loader:{get:function(){y.deprecation("5.0.0","PIXI.loaders.Loader class has moved to PIXI.Loader");
return K.Loader}},Resource:{get:function(){y.deprecation("5.0.0","PIXI.loaders.Resource class has moved to PIXI.LoaderResource");return K.LoaderResource}},bitmapFontParser:{get:function(){y.deprecation("5.0.0","PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use");return K.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){y.deprecation("5.0.0","PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){y.deprecation("5.0.0","PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use");
return K.SpritesheetLoader.use}},getResourcePath:{get:function(){y.deprecation("5.0.0","PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath");return K.SpritesheetLoader.getResourcePath}}});K.Loader.addPixiMiddleware=function(wa){y.deprecation("5.0.0","PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin");return K.loaders.Loader.registerPlugin({use:wa()})};var V=function(wa){return"on"+wa.charAt(0).toUpperCase()+
wa.slice(1)};Object.assign(K.Loader.prototype,{on:function(wa){wa=V(wa);y.deprecation("5.0.0","PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+wa+".add")},once:function(wa){wa=V(wa);y.deprecation("5.0.0","PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+wa+".once")},off:function(wa){wa=V(wa);y.deprecation("5.0.0","PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+wa+".detach")}});Object.defineProperty(K.extract,"WebGLExtract",{get:function(){y.deprecation("5.0.0",
"PIXI.extract.WebGLExtract method has moved to PIXI.Extract");return K.Extract}});Object.defineProperty(K.prepare,"WebGLPrepare",{get:function(){y.deprecation("5.0.0","PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare");return K.Prepare}});K.Container.prototype._renderWebGL=function(wa){y.deprecation("5.0.0","PIXI.Container._renderWebGL method has moved to PIXI.Container._render");this._render(wa)};K.Container.prototype.renderWebGL=function(wa){y.deprecation("5.0.0","PIXI.Container.renderWebGL method has moved to PIXI.Container.render");
this.render(wa)};K.DisplayObject.prototype.renderWebGL=function(wa){y.deprecation("5.0.0","PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render");this.render(wa)};K.Container.prototype.renderAdvancedWebGL=function(wa){y.deprecation("5.0.0","PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced");this.renderAdvanced(wa)};Object.defineProperties(K.settings,{TRANSFORM_MODE:{get:function(){y.deprecation("5.0.0","PIXI.settings.TRANSFORM_MODE property has been removed");
return 0},set:function(){y.deprecation("5.0.0","PIXI.settings.TRANSFORM_MODE property has been removed")}}});var ca=K.BaseTexture;ca.prototype.loadSource=function(wa){y.deprecation("5.0.0","PIXI.BaseTexture.loadSource method has been deprecated");wa=K.resources.autoDetectResource(wa);wa.internal=!0;this.setResource(wa);this.update()};var Z=!1;Object.defineProperties(ca.prototype,{hasLoaded:{get:function(){y.deprecation("5.0.0","PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid");
return this.valid}},imageUrl:{get:function(){var wa;y.deprecation("5.0.0","PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url");return null===(wa=this.resource)||void 0===wa?void 0:wa.url},set:function(wa){y.deprecation("5.0.0","PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url");this.resource&&(this.resource.url=wa)}},source:{get:function(){y.deprecation("5.0.0","PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`");
return this.resource.source},set:function(wa){y.deprecation("5.0.0","PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture.");this.resource&&(this.resource.source=wa)}},premultiplyAlpha:{get:function(){y.deprecation("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`");return 0!==this.alphaMode},set:function(wa){y.deprecation("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`");
this.alphaMode=Number(wa)}},_id:{get:function(){Z||(y.deprecation("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),Z=!0);return this._batchLocation},set:function(wa){this._batchLocation=wa}}});ca.fromImage=function(wa,za,Ba,Ga){y.deprecation("5.0.0","PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");return ca.from(wa,{scaleMode:Ba,resourceOptions:{scale:Ga,crossorigin:za}})};ca.fromCanvas=function(wa,za){y.deprecation("5.0.0","PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from");
return ca.from(wa,{scaleMode:za})};ca.fromSVG=function(wa,za,Ba,Ga){y.deprecation("5.0.0","PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");return ca.from(wa,{scaleMode:Ba,resourceOptions:{scale:Ga,crossorigin:za}})};Object.defineProperties(K.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){y.deprecation("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`");return 0!==this.alphaMode},
set:function(wa){y.deprecation("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`");this.alphaMode=Number(wa)}}});K.Point.prototype.copy=function(wa){y.deprecation("5.0.0","PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom");return this.copyFrom(wa)};K.ObservablePoint.prototype.copy=function(wa){y.deprecation("5.0.0","PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom");return this.copyFrom(wa)};
K.Rectangle.prototype.copy=function(wa){y.deprecation("5.0.0","PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom");return this.copyFrom(wa)};K.Matrix.prototype.copy=function(wa){y.deprecation("5.0.0","PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo");return this.copyTo(wa)};K.systems.StateSystem.prototype.setState=function(wa){y.deprecation("v5.1.0","StateSystem.setState has been renamed to StateSystem.set");return this.set(wa)};Object.assign(K.systems.FilterSystem.prototype,
{getRenderTarget:function(wa,za){y.deprecation("5.0.0","PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture");return this.getFilterTexture(null,za)},returnRenderTarget:function(wa){y.deprecation("5.0.0","PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture");this.returnFilterTexture(wa)},calculateScreenSpaceMatrix:function(wa){y.deprecation("5.0.0","PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");
wa=wa.identity();var za=this.activeState,Ba=za.sourceFrame;za=za.destinationFrame;wa.translate(Ba.x/za.width,Ba.y/za.height);wa.scale(za.width,za.height);return wa},calculateNormalizedScreenSpaceMatrix:function(wa){y.deprecation("5.0.0","PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var za=this.activeState,Ba=za.sourceFrame;za=za.destinationFrame;wa=wa.identity();wa.translate(Ba.x/
za.width,Ba.y/za.height);wa.scale(za.width/Ba.width,za.height/Ba.height);return wa}});Object.defineProperties(K.RenderTexture.prototype,{sourceFrame:{get:function(){y.deprecation("5.0.0","PIXI.RenderTexture.sourceFrame property has been removed");return this.filterFrame}},size:{get:function(){y.deprecation("5.0.0","PIXI.RenderTexture.size property has been removed");return this._frame}}});var ma=function(wa){function za(Ba,Ga,Da,Ka){y.deprecation("5.0.0","PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass");
return wa.call(this,!0,Ba,Ga,Da,Ka)||this}N(za,wa);return za}(K.filters.BlurFilterPass),sa=function(wa){function za(Ba,Ga,Da,Ka){y.deprecation("5.0.0","PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass");return wa.call(this,!1,Ba,Ga,Da,Ka)||this}N(za,wa);return za}(K.filters.BlurFilterPass);Object.assign(K.filters,{BlurXFilter:ma,BlurYFilter:sa});var qa=K.Sprite,Ca=K.Texture;ma=K.Graphics;ma.prototype.generateCanvasTexture||(ma.prototype.generateCanvasTexture=function(){y.deprecation("5.0.0",
'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')});Object.defineProperty(ma.prototype,"graphicsData",{get:function(){y.deprecation("5.0.0","PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData");return this.geometry.graphicsData}});qa.fromImage=ba.bind(null,"fromImage");qa.fromSVG=ba.bind(null,"fromSVG");qa.fromCanvas=ba.bind(null,"fromCanvas");qa.fromVideo=ba.bind(null,"fromVideo");qa.fromFrame=ba.bind(null,"fromFrame");Ca.fromImage=
fa.bind(null,"fromImage");Ca.fromSVG=fa.bind(null,"fromSVG");Ca.fromCanvas=fa.bind(null,"fromCanvas");Ca.fromVideo=fa.bind(null,"fromVideo");Ca.fromFrame=fa.bind(null,"fromFrame");Object.defineProperty(K.AbstractRenderer.prototype,"autoResize",{get:function(){y.deprecation("5.0.0","PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity");return this.autoDensity},set:function(wa){y.deprecation("5.0.0","PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity");
this.autoDensity=wa}});Object.defineProperty(K.Renderer.prototype,"textureManager",{get:function(){y.deprecation("5.0.0","PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture");return this.texture}});K.utils.mixins={mixin:function(){y.deprecation("5.0.0","PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){y.deprecation("5.0.0","PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){y.deprecation("5.0.0","PIXI.utils.mixins.performMixins function is no longer available")}};
Object.defineProperty(K.BitmapText.prototype,"font",{get:function(){y.deprecation("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties");return{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function(wa){y.deprecation("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties");wa&&(wa={font:wa},this._upgradeStyle(wa),wa.fontSize=wa.fontSize||K.BitmapFont.available[wa.fontName].size,
this._fontName=wa.fontName,this._fontSize=wa.fontSize,this.dirty=!0)}})}};
shadow$provide[52]=function(ya,pa,Ha,Y){(function(N,y,E,Q){function H(M,X,ja){return setTimeout(F(M,ja),X)}function t(M,X,ja){return Array.isArray(M)?(v(M,ja[X],ja),!0):!1}function v(M,X,ja){var ta;if(M)if(M.forEach)M.forEach(X,ja);else if(M.length!==Q)for(ta=0;ta<M.length;)X.call(ja,M[ta],ta,M),ta++;else for(ta in M)M.hasOwnProperty(ta)&&X.call(ja,M[ta],ta,M)}function C(M,X,ja){var ta="DEPRECATED METHOD: "+X+"\n"+ja+" AT \n";return function(){var Ea=Error("get-stack-trace");Ea=Ea&&Ea.stack?Ea.stack.replace(/^[^\(]+?[\n$]/gm,
"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace";var Ia=N.console&&(N.console.warn||N.console.log);Ia&&Ia.call(N.console,ta,Ea);return M.apply(this,arguments)}}function L(M,X,ja){X=X.prototype;var ta=M.prototype=Object.create(X);ta.constructor=M;ta._super=X;ja&&cb(ta,ja)}function F(M,X){return function(){return M.apply(X,arguments)}}function n(M,X){return"function"==typeof M?M.apply(X?X[0]||Q:Q,X):M}function u(M,X,ja){v(I(X),function(ta){M.addEventListener(ta,
ja,!1)})}function q(M,X,ja){v(I(X),function(ta){M.removeEventListener(ta,ja,!1)})}function z(M,X){for(;M;){if(M==X)return!0;M=M.parentNode}return!1}function I(M){return M.trim().split(/\s+/g)}function P(M,X,ja){if(M.indexOf&&!ja)return M.indexOf(X);for(var ta=0;ta<M.length;){if(ja&&M[ta][ja]==X||!ja&&M[ta]===X)return ta;ta++}return-1}function m(M){return Array.prototype.slice.call(M,0)}function k(M,X,ja){for(var ta=[],Ea=[],Ia=0;Ia<M.length;){var Na=X?M[Ia][X]:M[Ia];0>P(Ea,Na)&&ta.push(M[Ia]);Ea[Ia]=
Na;Ia++}ja&&(ta=X?ta.sort(function(Ra,Xa){return Ra[X]>Xa[X]}):ta.sort());return ta}function h(M,X){for(var ja,ta=X[0].toUpperCase()+X.slice(1),Ea=0;Ea<Ja.length;){ja=(ja=Ja[Ea])?ja+ta:X;if(ja in M)return ja;Ea++}return Q}function r(M){M=M.ownerDocument||M;return M.defaultView||M.parentWindow||N}function l(M,X){var ja=this;this.manager=M;this.callback=X;this.element=M.element;this.target=M.options.inputTarget;this.domHandler=function(ta){n(M.options.enable,[M])&&ja.handler(ta)};this.init()}function J(M){var X=
M.options.inputClass;return new (X?X:c?xa:g?fa:kb?V:ea)(M,p)}function p(M,X,ja){var ta=ja.pointers.length,Ea=ja.changedPointers.length;var Ia=X&1&&0===ta-Ea;ja.isFirst=!!Ia;ja.isFinal=!!(X&12&&0===ta-Ea);Ia&&(M.session={});ja.eventType=X;X=M.session;ta=ja.pointers;Ea=ta.length;X.firstInput||(X.firstInput=G(ja));1<Ea&&!X.firstMultiple?X.firstMultiple=G(ja):1===Ea&&(X.firstMultiple=!1);Ia=X.firstInput;var Na=(Ea=X.firstMultiple)?Ea.center:Ia.center;var Ra=ja.center=R(ta);ja.timeStamp=fb();ja.deltaTime=
ja.timeStamp-Ia.timeStamp;ja.angle=ua(Na,Ra);ja.distance=ka(Na,Ra);Ia=ja.center;Na=X.offsetDelta||{};Ra=X.prevDelta||{};var Xa=X.prevInput||{};if(1===ja.eventType||4===Xa.eventType)Ra=X.prevDelta={x:Xa.deltaX||0,y:Xa.deltaY||0},Na=X.offsetDelta={x:Ia.x,y:Ia.y};ja.deltaX=Ra.x+(Ia.x-Na.x);ja.deltaY=Ra.y+(Ia.y-Na.y);ja.offsetDirection=aa(ja.deltaX,ja.deltaY);Na=ja.deltaTime;Ia=ja.deltaX/Na||0;Na=ja.deltaY/Na||0;ja.overallVelocityX=Ia;ja.overallVelocityY=Na;ja.overallVelocity=eb(Ia)>eb(Na)?Ia:Na;Ea?(Ia=
Ea.pointers,Ia=ka(ta[0],ta[1],O)/ka(Ia[0],Ia[1],O)):Ia=1;ja.scale=Ia;Ea?(Ea=Ea.pointers,ta=ua(ta[1],ta[0],O)+ua(Ea[1],Ea[0],O)):ta=0;ja.rotation=ta;ja.maxPointers=X.prevInput?ja.pointers.length>X.prevInput.maxPointers?ja.pointers.length:X.prevInput.maxPointers:ja.pointers.length;Na=X.lastInterval||ja;ta=ja.timeStamp-Na.timeStamp;8!=ja.eventType&&(25<ta||Na.velocity===Q)?(Ia=ja.deltaX-Na.deltaX,Na=ja.deltaY-Na.deltaY,Ra=Ia/ta||0,Xa=Na/ta||0,ta=Ra,Ea=Xa,Ra=eb(Ra)>eb(Xa)?Ra:Xa,Ia=aa(Ia,Na),X.lastInterval=
ja):(Ra=Na.velocity,ta=Na.velocityX,Ea=Na.velocityY,Ia=Na.direction);ja.velocity=Ra;ja.velocityX=ta;ja.velocityY=Ea;ja.direction=Ia;X=M.element;z(ja.srcEvent.target,X)&&(X=ja.srcEvent.target);ja.target=X;M.emit("hammer.input",ja);M.recognize(ja);M.session.prevInput=ja}function G(M){for(var X=[],ja=0;ja<M.pointers.length;)X[ja]={clientX:Za(M.pointers[ja].clientX),clientY:Za(M.pointers[ja].clientY)},ja++;return{timeStamp:fb(),pointers:X,center:R(X),deltaX:M.deltaX,deltaY:M.deltaY}}function R(M){var X=
M.length;if(1===X)return{x:Za(M[0].clientX),y:Za(M[0].clientY)};for(var ja=0,ta=0,Ea=0;Ea<X;)ja+=M[Ea].clientX,ta+=M[Ea].clientY,Ea++;return{x:Za(ja/X),y:Za(ta/X)}}function aa(M,X){return M===X?1:eb(M)>=eb(X)?0>M?2:4:0>X?8:16}function ka(M,X,ja){ja||(ja=x);var ta=X[ja[0]]-M[ja[0]];M=X[ja[1]]-M[ja[1]];return Math.sqrt(ta*ta+M*M)}function ua(M,X,ja){ja||(ja=x);return 180*Math.atan2(X[ja[1]]-M[ja[1]],X[ja[0]]-M[ja[0]])/Math.PI}function ea(){this.evEl=T;this.evWin=na;this.pressed=!1;l.apply(this,arguments)}
function xa(){this.evEl=oa;this.evWin=w;l.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function ba(){this.evTarget="touchstart";this.evWin="touchstart touchmove touchend touchcancel";this.started=!1;l.apply(this,arguments)}function fa(){this.evTarget=f;this.targetIds={};l.apply(this,arguments)}function K(M,X){var ja=m(M.touches),ta=this.targetIds;if(X&3&&1===ja.length)return ta[ja[0].identifier]=!0,[ja,ja];M=m(M.changedTouches);var Ea=[],Ia=this.target;var Na=ja.filter(function(Ra){return z(Ra.target,
Ia)});if(1===X)for(ja=0;ja<Na.length;)ta[Na[ja].identifier]=!0,ja++;for(ja=0;ja<M.length;)ta[M[ja].identifier]&&Ea.push(M[ja]),X&12&&delete ta[M[ja].identifier],ja++;if(Ea.length)return[k(Na.concat(Ea),"identifier",!0),Ea]}function V(){l.apply(this,arguments);var M=F(this.handler,this);this.touch=new fa(this.manager,M);this.mouse=new ea(this.manager,M);this.primaryTouch=null;this.lastTouches=[]}function ca(M){M=M.changedPointers[0];if(M.identifier===this.primaryTouch){var X={x:M.clientX,y:M.clientY};
this.lastTouches.push(X);var ja=this.lastTouches;setTimeout(function(){var ta=ja.indexOf(X);-1<ta&&ja.splice(ta,1)},2500)}}function Z(M,X){this.manager=M;this.set(X)}function ma(M){if(-1<M.indexOf("none"))return"none";var X=-1<M.indexOf("pan-x"),ja=-1<M.indexOf("pan-y");return X&&ja?"none":X||ja?X?"pan-x":"pan-y":-1<M.indexOf("manipulation")?"manipulation":"auto"}function sa(M){this.options=cb({},this.defaults,M||{});this.id=gb++;this.manager=null;M=this.options.enable;this.options.enable=M===Q?!0:
M;this.state=1;this.simultaneous={};this.requireFail=[]}function qa(M){return M&16?"cancel":M&8?"end":M&4?"move":M&2?"start":""}function Ca(M){return 16==M?"down":8==M?"up":2==M?"left":4==M?"right":""}function wa(M,X){return(X=X.manager)?X.get(M):M}function za(){sa.apply(this,arguments)}function Ba(){za.apply(this,arguments);this.pY=this.pX=null}function Ga(){za.apply(this,arguments)}function Da(){sa.apply(this,arguments);this._input=this._timer=null}function Ka(){za.apply(this,arguments)}function Oa(){za.apply(this,
arguments)}function Pa(){sa.apply(this,arguments);this.pCenter=this.pTime=!1;this._input=this._timer=null;this.count=0}function Fa(M,X){X=X||{};var ja=X.recognizers;X.recognizers=ja===Q?Fa.defaults.preset:ja;return new Ma(M,X)}function Ma(M,X){this.options=cb({},Fa.defaults,X||{});this.options.inputTarget=this.options.inputTarget||M;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=M;this.input=J(this);this.touchAction=new Z(this,this.options.touchAction);Wa(this,
!0);v(this.options.recognizers,function(ja){var ta=this.add(new ja[0](ja[1]));ja[2]&&ta.recognizeWith(ja[2]);ja[3]&&ta.requireFailure(ja[3])},this)}function Wa(M,X){var ja=M.element;if(ja.style){var ta;v(M.options.cssProps,function(Ea,Ia){ta=h(ja.style,Ia);X?(M.oldCssProps[ta]=ja.style[ta],ja.style[ta]=Ea):ja.style[ta]=M.oldCssProps[ta]||""});X||(M.oldCssProps={})}}function bb(M,X){var ja=y.createEvent("Event");ja.initEvent(M,!0,!0);ja.gesture=X;X.target.dispatchEvent(ja)}var Ja=" webkit Moz MS ms o".split(" "),
Va=y.createElement("div"),Za=Math.round,eb=Math.abs,fb=Date.now;var cb="function"!==typeof Object.assign?function(M){if(M===Q||null===M)throw new TypeError("Cannot convert undefined or null to object");for(var X=Object(M),ja=1;ja<arguments.length;ja++){var ta=arguments[ja];if(ta!==Q&&null!==ta)for(var Ea in ta)ta.hasOwnProperty(Ea)&&(X[Ea]=ta[Ea])}return X}:Object.assign;var $a=C(function(M,X,ja){for(var ta=Object.keys(X),Ea=0;Ea<ta.length;){if(!ja||ja&&M[ta[Ea]]===Q)M[ta[Ea]]=X[ta[Ea]];Ea++}return M},
"extend","Use `assign`."),Ua=C(function(M,X){return $a(M,X,!0)},"merge","Use `assign`."),gb=1,ib=/mobile|tablet|ip(ad|hone|od)|android/i,kb="ontouchstart"in N,c=h(N,"PointerEvent")!==Q,g=kb&&ib.test(navigator.userAgent),x=["x","y"],O=["clientX","clientY"];l.prototype={handler:function(){},init:function(){this.evEl&&u(this.element,this.evEl,this.domHandler);this.evTarget&&u(this.target,this.evTarget,this.domHandler);this.evWin&&u(r(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&
q(this.element,this.evEl,this.domHandler);this.evTarget&&q(this.target,this.evTarget,this.domHandler);this.evWin&&q(r(this.element),this.evWin,this.domHandler)}};var S={mousedown:1,mousemove:2,mouseup:4},T="mousedown",na="mousemove mouseup";L(ea,l,{handler:function(M){var X=S[M.type];X&1&&0===M.button&&(this.pressed=!0);X&2&&1!==M.which&&(X=4);this.pressed&&(X&4&&(this.pressed=!1),this.callback(this.manager,X,{pointers:[M],changedPointers:[M],pointerType:"mouse",srcEvent:M}))}});var ha={pointerdown:1,
pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ra={2:"touch",3:"pen",4:"mouse",5:"kinect"},oa="pointerdown",w="pointermove pointerup pointercancel";N.MSPointerEvent&&!N.PointerEvent&&(oa="MSPointerDown",w="MSPointerMove MSPointerUp MSPointerCancel");L(xa,l,{handler:function(M){var X=this.store,ja=!1,ta=M.type.toLowerCase().replace("ms","");ta=ha[ta];var Ea=ra[M.pointerType]||M.pointerType,Ia="touch"==Ea,Na=P(X,M.pointerId,"pointerId");ta&1&&(0===M.button||Ia)?0>Na&&(X.push(M),Na=X.length-
1):ta&12&&(ja=!0);0>Na||(X[Na]=M,this.callback(this.manager,ta,{pointers:X,changedPointers:[M],pointerType:Ea,srcEvent:M}),ja&&X.splice(Na,1))}});var d={touchstart:1,touchmove:2,touchend:4,touchcancel:8};L(ba,l,{handler:function(M){var X=d[M.type];1===X&&(this.started=!0);if(this.started){var ja=m(M.touches);var ta=m(M.changedTouches);X&12&&(ja=k(ja.concat(ta),"identifier",!0));ja=[ja,ta];X&12&&0===ja[0].length-ja[1].length&&(this.started=!1);this.callback(this.manager,X,{pointers:ja[0],changedPointers:ja[1],
pointerType:"touch",srcEvent:M})}}});var a={touchstart:1,touchmove:2,touchend:4,touchcancel:8},f="touchstart touchmove touchend touchcancel";L(fa,l,{handler:function(M){var X=a[M.type],ja=K.call(this,M,X);ja&&this.callback(this.manager,X,{pointers:ja[0],changedPointers:ja[1],pointerType:"touch",srcEvent:M})}});L(V,l,{handler:function(M,X,ja){var ta="mouse"==ja.pointerType;if(!(ta&&ja.sourceCapabilities&&ja.sourceCapabilities.firesTouchEvents)){if("touch"==ja.pointerType)X&1?(this.primaryTouch=ja.changedPointers[0].identifier,
ca.call(this,ja)):X&12&&ca.call(this,ja);else{if(ta)a:{ta=ja.srcEvent.clientX;for(var Ea=ja.srcEvent.clientY,Ia=0;Ia<this.lastTouches.length;Ia++){var Na=this.lastTouches[Ia],Ra=Math.abs(Ea-Na.y);if(25>=Math.abs(ta-Na.x)&&25>=Ra){ta=!0;break a}}ta=!1}if(ta)return}this.callback(M,X,ja)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var B=h(Va.style,"touchAction"),U=B!==Q,ia=function(){if(!U)return!1;var M={},X=N.CSS&&N.CSS.supports;"auto;manipulation;pan-y;pan-x;pan-x pan-y;none".split(";").forEach(function(ja){M[ja]=
X?N.CSS.supports("touch-action",ja):!0});return M}();Z.prototype={set:function(M){"compute"==M&&(M=this.compute());U&&this.manager.element.style&&ia[M]&&(this.manager.element.style[B]=M);this.actions=M.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var M=[];v(this.manager.recognizers,function(X){n(X.options.enable,[X])&&(M=M.concat(X.getTouchAction()))});return ma(M.join(" "))},preventDefaults:function(M){var X=M.srcEvent,ja=M.offsetDirection;
if(this.manager.session.prevented)X.preventDefault();else{var ta=this.actions,Ea=-1<ta.indexOf("none")&&!ia.none,Ia=-1<ta.indexOf("pan-y")&&!ia["pan-y"];ta=-1<ta.indexOf("pan-x")&&!ia["pan-x"];if(Ea){var Na=2>M.distance,Ra=250>M.deltaTime;if(1===M.pointers.length&&Na&&Ra)return}if(!ta||!Ia)if(Ea||Ia&&ja&6||ta&&ja&24)return this.preventSrc(X)}},preventSrc:function(M){this.manager.session.prevented=!0;M.preventDefault()}};sa.prototype={defaults:{},set:function(M){cb(this.options,M);this.manager&&this.manager.touchAction.update();
return this},recognizeWith:function(M){if(t(M,"recognizeWith",this))return this;var X=this.simultaneous;M=wa(M,this);X[M.id]||(X[M.id]=M,M.recognizeWith(this));return this},dropRecognizeWith:function(M){if(t(M,"dropRecognizeWith",this))return this;M=wa(M,this);delete this.simultaneous[M.id];return this},requireFailure:function(M){if(t(M,"requireFailure",this))return this;var X=this.requireFail;M=wa(M,this);-1===P(X,M)&&(X.push(M),M.requireFailure(this));return this},dropRequireFailure:function(M){if(t(M,
"dropRequireFailure",this))return this;M=wa(M,this);M=P(this.requireFail,M);-1<M&&this.requireFail.splice(M,1);return this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(M){return!!this.simultaneous[M.id]},emit:function(M){function X(Ea){ja.manager.emit(Ea,M)}var ja=this,ta=this.state;8>ta&&X(ja.options.event+qa(ta));X(ja.options.event);M.additionalEvent&&X(M.additionalEvent);8<=ta&&X(ja.options.event+qa(ta))},tryEmit:function(M){if(this.canEmit())return this.emit(M);
this.state=32},canEmit:function(){for(var M=0;M<this.requireFail.length;){if(!(this.requireFail[M].state&33))return!1;M++}return!0},recognize:function(M){M=cb({},M);n(this.options.enable,[this,M])?(this.state&56&&(this.state=1),this.state=this.process(M),this.state&30&&this.tryEmit(M)):(this.reset(),this.state=32)},process:function(M){},getTouchAction:function(){},reset:function(){}};L(za,sa,{defaults:{pointers:1},attrTest:function(M){var X=this.options.pointers;return 0===X||M.pointers.length===
X},process:function(M){var X=this.state,ja=M.eventType,ta=X&6;M=this.attrTest(M);return ta&&(ja&8||!M)?X|16:ta||M?ja&4?X|8:X&2?X|4:2:32}});L(Ba,za,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var M=this.options.direction,X=[];M&6&&X.push("pan-y");M&24&&X.push("pan-x");return X},directionTest:function(M){var X=this.options,ja=!0,ta=M.distance,Ea=M.direction,Ia=M.deltaX,Na=M.deltaY;Ea&X.direction||(X.direction&6?(Ea=0===Ia?1:0>Ia?2:4,ja=Ia!=this.pX,ta=Math.abs(M.deltaX)):
(Ea=0===Na?1:0>Na?8:16,ja=Na!=this.pY,ta=Math.abs(M.deltaY)));M.direction=Ea;return ja&&ta>X.threshold&&Ea&X.direction},attrTest:function(M){return za.prototype.attrTest.call(this,M)&&(this.state&2||!(this.state&2)&&this.directionTest(M))},emit:function(M){this.pX=M.deltaX;this.pY=M.deltaY;var X=Ca(M.direction);X&&(M.additionalEvent=this.options.event+X);this._super.emit.call(this,M)}});L(Ga,za,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(M){return this._super.attrTest.call(this,
M)&&(Math.abs(M.scale-1)>this.options.threshold||this.state&2)},emit:function(M){1!==M.scale&&(M.additionalEvent=this.options.event+(1>M.scale?"in":"out"));this._super.emit.call(this,M)}});L(Da,sa,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(M){var X=this.options,ja=M.pointers.length===X.pointers,ta=M.distance<X.threshold,Ea=M.deltaTime>X.time;this._input=M;if(!ta||!ja||M.eventType&12&&!Ea)this.reset();else if(M.eventType&1)this.reset(),
this._timer=H(function(){this.state=8;this.tryEmit()},X.time,this);else if(M.eventType&4)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(M){8===this.state&&(M&&M.eventType&4?this.manager.emit(this.options.event+"up",M):(this._input.timeStamp=fb(),this.manager.emit(this.options.event,this._input)))}});L(Ka,za,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(M){return this._super.attrTest.call(this,M)&&(Math.abs(M.rotation)>
this.options.threshold||this.state&2)}});L(Oa,za,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ba.prototype.getTouchAction.call(this)},attrTest:function(M){var X=this.options.direction;if(X&30)var ja=M.overallVelocity;else X&6?ja=M.overallVelocityX:X&24&&(ja=M.overallVelocityY);return this._super.attrTest.call(this,M)&&X&M.offsetDirection&&M.distance>this.options.threshold&&M.maxPointers==this.options.pointers&&eb(ja)>this.options.velocity&&
M.eventType&4},emit:function(M){var X=Ca(M.offsetDirection);X&&this.manager.emit(this.options.event+X,M);this.manager.emit(this.options.event,M)}});L(Pa,sa,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(M){var X=this.options,ja=M.pointers.length===X.pointers,ta=M.distance<X.threshold,Ea=M.deltaTime<X.time;this.reset();if(M.eventType&1&&0===this.count)return this.failTimeout();if(ta&&Ea&&
ja){if(4!=M.eventType)return this.failTimeout();ja=this.pTime?M.timeStamp-this.pTime<X.interval:!0;ta=!this.pCenter||ka(this.pCenter,M.center)<X.posThreshold;this.pTime=M.timeStamp;this.pCenter=M.center;this.count=ta&&ja?this.count+1:1;this._input=M;if(0===this.count%X.taps)return this.hasRequireFailures()?(this._timer=H(function(){this.state=8;this.tryEmit()},X.interval,this),2):8}return 32},failTimeout:function(){this._timer=H(function(){this.state=32},this.options.interval,this);return 32},reset:function(){clearTimeout(this._timer)},
emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});Fa.VERSION="2.0.7";Fa.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ka,{enable:!1}],[Ga,{enable:!1},["rotate"]],[Oa,{direction:6}],[Ba,{direction:6},["swipe"]],[Pa],[Pa,{event:"doubletap",taps:2},["tap"]],[Da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};
Ma.prototype={set:function(M){cb(this.options,M);M.touchAction&&this.touchAction.update();M.inputTarget&&(this.input.destroy(),this.input.target=M.inputTarget,this.input.init());return this},stop:function(M){this.session.stopped=M?2:1},recognize:function(M){var X=this.session;if(!X.stopped){this.touchAction.preventDefaults(M);var ja=this.recognizers,ta=X.curRecognizer;if(!ta||ta&&ta.state&8)ta=X.curRecognizer=null;for(var Ea=0;Ea<ja.length;){var Ia=ja[Ea];2===X.stopped||ta&&Ia!=ta&&!Ia.canRecognizeWith(ta)?
Ia.reset():Ia.recognize(M);!ta&&Ia.state&14&&(ta=X.curRecognizer=Ia);Ea++}}},get:function(M){if(M instanceof sa)return M;for(var X=this.recognizers,ja=0;ja<X.length;ja++)if(X[ja].options.event==M)return X[ja];return null},add:function(M){if(t(M,"add",this))return this;var X=this.get(M.options.event);X&&this.remove(X);this.recognizers.push(M);M.manager=this;this.touchAction.update();return M},remove:function(M){if(t(M,"remove",this))return this;if(M=this.get(M)){var X=this.recognizers;M=P(X,M);-1!==
M&&(X.splice(M,1),this.touchAction.update())}return this},on:function(M,X){if(M!==Q&&X!==Q){var ja=this.handlers;v(I(M),function(ta){ja[ta]=ja[ta]||[];ja[ta].push(X)});return this}},off:function(M,X){if(M!==Q){var ja=this.handlers;v(I(M),function(ta){X?ja[ta]&&ja[ta].splice(P(ja[ta],X),1):delete ja[ta]});return this}},emit:function(M,X){this.options.domEvents&&bb(M,X);var ja=this.handlers[M]&&this.handlers[M].slice();if(ja&&ja.length)for(X.type=M,X.preventDefault=function(){X.srcEvent.preventDefault()},
M=0;M<ja.length;)ja[M](X),M++},destroy:function(){this.element&&Wa(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};cb(Fa,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ma,Input:l,TouchAction:Z,
TouchInput:fa,MouseInput:ea,PointerEventInput:xa,TouchMouseInput:V,SingleTouchInput:ba,Recognizer:sa,AttrRecognizer:za,Tap:Pa,Pan:Ba,Swipe:Oa,Pinch:Ga,Rotate:Ka,Press:Da,on:u,off:q,each:v,merge:Ua,extend:$a,assign:cb,inherit:L,bindFn:F,prefixed:h});("undefined"!==typeof N?N:"undefined"!==typeof self?self:{}).Hammer=Fa;"function"===typeof define&&define.amd?define(function(){return Fa}):"undefined"!=typeof Ha&&Ha.exports?Ha.exports=Fa:N[E]=Fa})(window,document,"Hammer")};
shadow$provide[53]=function(ya,pa,Ha,Y){function N(){this.rendererType="pixi"}N.prototype=new N;N.prototype.addCollisionProperties=function(y){"pixi"===this.rendererType&&(void 0===y.gx&&Object.defineProperty(y,"gx",{get:function(){return y.getGlobalPosition().x},enumerable:!0,configurable:!0}),void 0===y.gy&&Object.defineProperty(y,"gy",{get:function(){return y.getGlobalPosition().y},enumerable:!0,configurable:!0}),void 0===y.centerX&&Object.defineProperty(y,"centerX",{get:function(){return y.x+
y.width/2},enumerable:!0,configurable:!0}),void 0===y.centerY&&Object.defineProperty(y,"centerY",{get:function(){return y.y+y.height/2},enumerable:!0,configurable:!0}),void 0===y.halfWidth&&Object.defineProperty(y,"halfWidth",{get:function(){return y.width/2},enumerable:!0,configurable:!0}),void 0===y.halfHeight&&Object.defineProperty(y,"halfHeight",{get:function(){return y.height/2},enumerable:!0,configurable:!0}),void 0===y.xAnchorOffset&&Object.defineProperty(y,"xAnchorOffset",{get:function(){return void 0!==
y.anchor?y.width*y.anchor.x:0},enumerable:!0,configurable:!0}),void 0===y.yAnchorOffset&&Object.defineProperty(y,"yAnchorOffset",{get:function(){return void 0!==y.anchor?y.height*y.anchor.y:0},enumerable:!0,configurable:!0}),y.circular&&void 0===y.radius&&Object.defineProperty(y,"radius",{get:function(){return y.width/2},enumerable:!0,configurable:!0}));y._bumpPropertiesAdded=!0};N.prototype.hitTestPoint=function(y,E){E._bumpPropertiesAdded||this.addCollisionProperties(E);var Q=E.radius?"circle":
"rectangle";if("rectangle"===Q){var H=E.x-E.xAnchorOffset;var t=E.x+E.width-E.xAnchorOffset;var v=E.y-E.yAnchorOffset;var C=E.y+E.height-E.yAnchorOffset;H=y.x>H&&y.x<t&&y.y>v&&y.y<C}"circle"===Q&&(Q=y.x-E.x-E.width/2+E.xAnchorOffset,y=y.y-E.y-E.height/2+E.yAnchorOffset,y=Math.sqrt(Q*Q+y*y),H=y<E.radius);return H};N.prototype.hitTestCircle=function(y,E,Q){y._bumpPropertiesAdded||this.addCollisionProperties(y);E._bumpPropertiesAdded||this.addCollisionProperties(E);if(Q){Q=E.gx+E.width/2-E.xAnchorOffset-
(y.gx+y.width/2-y.xAnchorOffset);var H=E.gy+E.width/2-E.yAnchorOffset-(y.gy+y.width/2-y.yAnchorOffset)}else Q=E.x+E.width/2-E.xAnchorOffset-(y.x+y.width/2-y.xAnchorOffset),H=E.y+E.width/2-E.yAnchorOffset-(y.y+y.width/2-y.yAnchorOffset);return Math.sqrt(Q*Q+H*H)<y.radius+E.radius};N.prototype.circleCollision=function(y,E,Q,H){y._bumpPropertiesAdded||this.addCollisionProperties(y);E._bumpPropertiesAdded||this.addCollisionProperties(E);var t={},v=!1;if(H){var C=E.gx+E.width/2-E.xAnchorOffset-(y.gx+y.width/
2-y.xAnchorOffset);var L=E.gy+E.width/2-E.yAnchorOffset-(y.gy+y.width/2-y.yAnchorOffset)}else C=E.x+E.width/2-E.xAnchorOffset-(y.x+y.width/2-y.xAnchorOffset),L=E.y+E.width/2-E.yAnchorOffset-(y.y+y.width/2-y.yAnchorOffset);H=Math.sqrt(C*C+L*L);E=y.radius+E.radius;H<E&&(v=!0,E=E-H+.3,y.x-=C/H*E,y.y-=L/H*E,Q&&(t.x=L,t.y=-C,this.bounceOffSurface(y,t)));return v};N.prototype.movingCircleCollision=function(y,E,Q){y._bumpPropertiesAdded||this.addCollisionProperties(y);E._bumpPropertiesAdded||this.addCollisionProperties(E);
var H=!1;y.mass=y.mass||1;E.mass=E.mass||1;if(Q){var t=E.gx+E.radius-E.xAnchorOffset-(y.gx+y.radius-y.xAnchorOffset);var v=E.gy+E.radius-E.yAnchorOffset-(y.gy+y.radius-y.yAnchorOffset)}else t=E.x+E.radius-E.xAnchorOffset-(y.x+y.radius-y.xAnchorOffset),v=E.y+E.radius-E.yAnchorOffset-(y.y+y.radius-y.yAnchorOffset);Q=Math.sqrt(t*t+v*v);var C=y.radius+E.radius;if(Q<C){H=!0;var L=C-Q+.3;C=t/Q;var F=v/Q;var n=Math.abs(C*L/2);var u=Math.abs(F*L/2);L=y.x>E.x?1:-1;var q=y.y>E.y?1:-1;y.x+=n*L;y.y+=u*q;E.x+=
n*-L;E.y+=u*-q;t=-t;n=y.vx*C+y.vy*F;L=v/Q*y.vx+t/Q*y.vy;q=E.vx*C+E.vy*F;u=v/Q*E.vx+t/Q*E.vy;y.bounce={};y.bounce.x=v/Q*L+q*C;y.bounce.y=t/Q*L+q*F;E.bounce={};E.bounce.x=n*C+v/Q*u;E.bounce.y=n*F+t/Q*u;y.vx=y.bounce.x/y.mass;y.vy=y.bounce.y/y.mass;E.vx=E.bounce.x/E.mass;E.vy=E.bounce.y/E.mass}return H};N.prototype.multipleCircleCollision=function(y,E){for(var Q=0;Q<y.length;Q++)for(var H=y[Q],t=Q+1;t<y.length;t++)this.movingCircleCollision(H,y[t],E)};N.prototype.checkMultipleCollision=function(y,E,
Q){for(var H=0;H<y.length;H++)for(var t=displayObjects[H],v=H+1;v<y.length;)return y=y[v],E?rectangleCollision(t,y,E,Q):hitTestRectangle(t,y,Q)};N.prototype.rectangleCollision=function(y,E,Q,H){!1!==H&&(H=!0);y._bumpPropertiesAdded||this.addCollisionProperties(y);E._bumpPropertiesAdded||this.addCollisionProperties(E);if(H){H=y.gx+Math.abs(y.halfWidth)-y.xAnchorOffset-(E.gx+Math.abs(E.halfWidth)-E.xAnchorOffset);var t=y.gy+Math.abs(y.halfHeight)-y.yAnchorOffset-(E.gy+Math.abs(E.halfHeight)-E.yAnchorOffset)}else H=
y.x+Math.abs(y.halfWidth)-y.xAnchorOffset-(E.x+Math.abs(E.halfWidth)-E.xAnchorOffset),t=y.y+Math.abs(y.halfHeight)-y.yAnchorOffset-(E.y+Math.abs(E.halfHeight)-E.yAnchorOffset);var v=Math.abs(y.halfWidth)+Math.abs(E.halfWidth);E=Math.abs(y.halfHeight)+Math.abs(E.halfHeight);if(Math.abs(H)<v&&Math.abs(t)<E)if(v-=Math.abs(H),E-=Math.abs(t),v>=E){if(0<t){var C="top";y.y+=E}else C="bottom",y.y-=E;Q&&(y.vy*=-1)}else 0<H?(C="left",y.x+=v):(C="right",y.x-=v),Q&&(y.vx*=-1);return C};N.prototype.hitTestRectangle=
function(y,E,Q){y._bumpPropertiesAdded||this.addCollisionProperties(y);E._bumpPropertiesAdded||this.addCollisionProperties(E);if(Q){var H=y.gx+Math.abs(y.halfWidth)-y.xAnchorOffset-(E.gx+Math.abs(E.halfWidth)-E.xAnchorOffset);var t=y.gy+Math.abs(y.halfHeight)-y.yAnchorOffset-(E.gy+Math.abs(E.halfHeight)-E.yAnchorOffset)}else H=y.x+Math.abs(y.halfWidth)-y.xAnchorOffset-(E.x+Math.abs(E.halfWidth)-E.xAnchorOffset),t=y.y+Math.abs(y.halfHeight)-y.yAnchorOffset-(E.y+Math.abs(E.halfHeight)-E.yAnchorOffset);
Q=Math.abs(y.halfWidth)+Math.abs(E.halfWidth);y=Math.abs(y.halfHeight)+Math.abs(E.halfHeight);return Math.abs(H)<Q?Math.abs(t)<y?!0:!1:!1};N.prototype.hitTestCircleRectangle=function(y,E,Q){E._bumpPropertiesAdded||this.addCollisionProperties(E);y._bumpPropertiesAdded||this.addCollisionProperties(y);if(Q){var H=y.gx;var t=y.gy;var v=E.gx;var C=E.gy}else H=y.x,t=y.y,v=E.x,C=E.y;H=t-y.yAnchorOffset<C-Math.abs(E.halfHeight)-E.yAnchorOffset?H-y.xAnchorOffset<v-1-Math.abs(E.halfWidth)-E.xAnchorOffset?"topLeft":
H-y.xAnchorOffset>v+1+Math.abs(E.halfWidth)-E.xAnchorOffset?"topRight":"topMiddle":t-y.yAnchorOffset>C+Math.abs(E.halfHeight)-E.yAnchorOffset?H-y.xAnchorOffset<v-1-Math.abs(E.halfWidth)-E.xAnchorOffset?"bottomLeft":H-y.xAnchorOffset>v+1+Math.abs(E.halfWidth)-E.xAnchorOffset?"bottomRight":"bottomMiddle":H-y.xAnchorOffset<v-Math.abs(E.halfWidth)-E.xAnchorOffset?"leftMiddle":"rightMiddle";if("topMiddle"===H||"bottomMiddle"===H||"leftMiddle"===H||"rightMiddle"===H)y=this.hitTestRectangle(y,E,Q);else{t=
{};switch(H){case "topLeft":t.x=v-E.xAnchorOffset;t.y=C-E.yAnchorOffset;break;case "topRight":t.x=v+E.width-E.xAnchorOffset;t.y=C-E.yAnchorOffset;break;case "bottomLeft":t.x=v-E.xAnchorOffset;t.y=C+E.height-E.yAnchorOffset;break;case "bottomRight":t.x=v+E.width-E.xAnchorOffset,t.y=C+E.height-E.yAnchorOffset}y=this.hitTestCirclePoint(y,t,Q)}return y?H:y};N.prototype.hitTestCirclePoint=function(y,E,Q){y._bumpPropertiesAdded||this.addCollisionProperties(y);E.diameter=1;E.width=E.diameter;E.radius=.5;
E.centerX=E.x;E.centerY=E.y;E.gx=E.x;E.gy=E.y;E.xAnchorOffset=0;E.yAnchorOffset=0;E._bumpPropertiesAdded=!0;return this.hitTestCircle(y,E,Q)};N.prototype.circleRectangleCollision=function(y,E,Q,H){E._bumpPropertiesAdded||this.addCollisionProperties(E);y._bumpPropertiesAdded||this.addCollisionProperties(y);if(H){var t=y.gx;var v=y.gy;var C=E.gx;var L=E.gy}else t=y.x,v=y.y,C=E.x,L=E.y;t=v-y.yAnchorOffset<L-Math.abs(E.halfHeight)-E.yAnchorOffset?t-y.xAnchorOffset<C-1-Math.abs(E.halfWidth)-E.xAnchorOffset?
"topLeft":t-y.xAnchorOffset>C+1+Math.abs(E.halfWidth)-E.xAnchorOffset?"topRight":"topMiddle":v-y.yAnchorOffset>L+Math.abs(E.halfHeight)-E.yAnchorOffset?t-y.xAnchorOffset<C-1-Math.abs(E.halfWidth)-E.xAnchorOffset?"bottomLeft":t-y.xAnchorOffset>C+1+Math.abs(E.halfWidth)-E.xAnchorOffset?"bottomRight":"bottomMiddle":t-y.xAnchorOffset<C-Math.abs(E.halfWidth)-E.xAnchorOffset?"leftMiddle":"rightMiddle";if("topMiddle"===t||"bottomMiddle"===t||"leftMiddle"===t||"rightMiddle"===t)y=this.rectangleCollision(y,
E,Q,H);else{v={};switch(t){case "topLeft":v.x=C-E.xAnchorOffset;v.y=L-E.yAnchorOffset;break;case "topRight":v.x=C+E.width-E.xAnchorOffset;v.y=L-E.yAnchorOffset;break;case "bottomLeft":v.x=C-E.xAnchorOffset;v.y=L+E.height-E.yAnchorOffset;break;case "bottomRight":v.x=C+E.width-E.xAnchorOffset,v.y=L+E.height-E.yAnchorOffset}y=this.circlePointCollision(y,v,Q,H)}return y?t:y};N.prototype.circlePointCollision=function(y,E,Q,H){y._bumpPropertiesAdded||this.addCollisionProperties(y);E.diameter=1;E.width=
E.diameter;E.radius=.5;E.centerX=E.x;E.centerY=E.y;E.gx=E.x;E.gy=E.y;E.xAnchorOffset=0;E.yAnchorOffset=0;E._bumpPropertiesAdded=!0;return this.circleCollision(y,E,Q,H)};N.prototype.bounceOffSurface=function(y,E){y._bumpPropertiesAdded||this.addCollisionProperties(y);var Q=y.mass||1;E.lx=E.y;E.ly=-E.x;E.magnitude=Math.sqrt(E.x*E.x+E.y*E.y);E.dx=E.x/E.magnitude;E.dy=E.y/E.magnitude;var H=y.vx*E.dx+y.vy*E.dy;var t=H*E.dx;H*=E.dy;var v=E.lx/E.magnitude*y.vx+E.ly/E.magnitude*y.vy;var C=E.lx/E.magnitude*
v;E=E.ly/E.magnitude*v;y.vx=(t+-1*C)/Q;y.vy=(H+-1*E)/Q};N.prototype.contain=function(y,E,Q,H){H||(H=void 0);y._bumpPropertiesAdded||this.addCollisionProperties(y);void 0===E.xAnchorOffset&&(E.xAnchorOffset=0);void 0===E.yAnchorOffset&&(E.yAnchorOffset=0);void 0===y.parent.gx&&(y.parent.gx=0);void 0===y.parent.gy&&(y.parent.gy=0);var t=new Set;y.x-y.xAnchorOffset<E.x-y.parent.gx-E.xAnchorOffset&&(Q&&(y.vx*=-1),y.mass&&(y.vx/=y.mass),y.x=E.x-y.parent.gx-E.xAnchorOffset+y.xAnchorOffset,t.add("left"));
y.y-y.yAnchorOffset<E.y-y.parent.gy-E.yAnchorOffset&&(Q&&(y.vy*=-1),y.mass&&(y.vy/=y.mass),y.y=E.y-y.parent.gy-E.yAnchorOffset+y.yAnchorOffset,t.add("top"));y.x-y.xAnchorOffset+y.width>E.width-E.xAnchorOffset&&(Q&&(y.vx*=-1),y.mass&&(y.vx/=y.mass),y.x=E.width-y.width-E.xAnchorOffset+y.xAnchorOffset,t.add("right"));y.y-y.yAnchorOffset+y.height>E.height-E.yAnchorOffset&&(Q&&(y.vy*=-1),y.mass&&(y.vy/=y.mass),y.y=E.height-y.height-E.yAnchorOffset+y.yAnchorOffset,t.add("bottom"));0===t.size&&(t=void 0);
t&&H&&H(t);return t};N.prototype.outsideBounds=function(y,E,Q){var H=E.x,t=E.y,v=E.width;E=E.height;var C=new Set;y.x<H-y.width&&C.add("left");y.y<t-y.height&&C.add("top");y.x>v+y.width&&C.add("right");y.y>E+y.height&&C.add("bottom");0===C.size&&(C=void 0);C&&Q&&Q(C);return C};N.prototype._getCenter=function(y,E,Q){return void 0!==y.anchor?0!==y.anchor[Q]?0:E/2:E};N.prototype.hit=function(y,E,Q,H,t,v){function C(r,l){var J=void 0!==l.parent;if(void 0!==r.parent&&J){if(r.diameter&&l.diameter)return r=
Q?0!==r.vx+r.vy&&0!==l.vx+l.vy?q(r,l,t):z(r,l,H,t):u(r,l),r;if(r.diameter&&!l.diameter)return r=Q?m(r,l,H,t):I(r,l,t),r;r=Q?P(r,l,H,t):n(r,l,t);return r}if(J&&void 0!==r.x&&void 0!==r.y)return F(r,l);throw Error("I'm sorry, "+r+" and "+l+" cannot be use together in a collision test.'");}function L(){if(y instanceof Array){var r=E;E=y;y=r}for(r=E.length-1;0<=r;r--){var l=E[r];(k=C(y,l))&&v&&v(k,l)}}var F=this.hitTestPoint.bind(this),n=this.hitTestRectangle.bind(this),u=this.hitTestCircle.bind(this),
q=this.movingCircleCollision.bind(this),z=this.circleCollision.bind(this),I=this.hitTestCircleRectangle.bind(this),P=this.rectangleCollision.bind(this),m=this.circleRectangleCollision.bind(this),k,h=void 0!==E.parent;void 0!==y.parent&&E instanceof Array||h&&y instanceof Array?L():k=C(y,E);return k};N.prototype.hitTest=function(y,E){for(var Q={top:!1,left:!1,bottom:!1,right:!1},H=E.length-1;0<=H;H--){var t=E[H];y.x<t.x+t.width&&(Q.left=!0);y.x+y.width>t.x&&(Q.right=!0);y.y<t.y+t.height&&(Q.top=!0);
y.height+y.y>t.y&&(Q.bottom=!0)}return Q};N.prototype.hitTestDirections=function(y,E,Q){y=this.hitTest(y,E);for(var H in y)-1===Q.indexOf(H)&&(y[H]=!1);return y};N.prototype.hitTestLeft=function(y,E){for(var Q=E.length-1;0<=Q;Q--){var H=E[Q];if(y.height+y.y>H.y&&y.y<H.y+H.height&&y.x<H.x+H.width)return!0}};N.prototype.hitTestRight=function(y,E){for(var Q=E.length-1;0<=Q;Q--){var H=E[Q];if(y.height+y.y>H.y&&y.y<H.y+H.height&&y.x+y.width>H.x)return!0}};N.prototype.hitTestTop=function(y,E){for(var Q=
E.length-1;0<=Q;Q--){var H=E[Q];if(y.x+y.width>H.x&&y.x<H.x+H.width&&y.y<H.y+H.height)return!0}};N.prototype.hitTestBottom=function(y,E){for(var Q=E.length-1;0<=Q;Q--){var H=E[Q];if(y.x+y.width>H.x&&y.x<H.x+H.width&&y.height+y.y>H.y)return!0}};Ha.exports=N};
shadow$provide[54]=function(ya,pa,Ha,Y){function N(Q,H){for(var t=0;t<H.length;t++){var v=H[t];v.enumerable=v.enumerable||!1;v.configurable=!0;"value"in v&&(v.writable=!0);Object.defineProperty(Q,v.key,v)}}function y(Q,H,t){H&&N(Q.prototype,H);t&&N(Q,t);return Q}Object.defineProperty(Y,"__esModule",{value:!0});Y["default"]=void 0;var E=[];ya=function(){function Q(){if(!(this instanceof Q))throw new TypeError("Cannot call a class as a function");this._bvh_parent=null;this._bvh_branch=!0;this._bvh_right=
this._bvh_left=null;this._bvh_max_y=this._bvh_max_x=this._bvh_min_y=this._bvh_min_x=this._bvh_sort=0}y(Q,null,[{key:"getBranch",value:function(){return E.length?E.pop():new Q}},{key:"releaseBranch",value:function(H){E.push(H)}},{key:"sortBranches",value:function(H,t){return H.sort>t.sort?-1:1}}]);return Q}();Y["default"]=ya};
shadow$provide[55]=function(ya,pa,Ha,Y){function N(Q,H){for(var t=0;t<H.length;t++){var v=H[t];v.enumerable=v.enumerable||!1;v.configurable=!0;"value"in v&&(v.writable=!0);Object.defineProperty(Q,v.key,v)}}function y(Q,H,t){H&&N(Q.prototype,H);t&&N(Q,t);return Q}Object.defineProperty(Y,"__esModule",{value:!0});Y["default"]=void 0;var E=function(Q){return Q&&Q.__esModule?Q:{"default":Q}}(pa(54));ya=function(){function Q(){if(!(this instanceof Q))throw new TypeError("Cannot call a class as a function");
this._hierarchy=null;this._bodies=[];this._dirty_branches=[]}y(Q,[{key:"insert",value:function(H){if(!(1<arguments.length&&void 0!==arguments[1]&&arguments[1])){var t=H._bvh;if(t&&t!==this)throw Error("Body belongs to another collision system");H._bvh=this;this._bodies.push(H)}var v=H._polygon,C=H.x,L=H.y;v&&(H._dirty_coords||H.x!==H._x||H.y!==H._y||H.angle!==H._angle||H.scale_x!==H._scale_x||H.scale_y!==H._scale_y)&&H._calculateCoords();var F=H._bvh_padding,n=v?0:H.radius*H.scale;t=(v?H._min_x:C-
n)-F;var u=(v?H._min_y:L-n)-F;C=(v?H._max_x:C+n)+F;v=(v?H._max_y:L+n)+F;H._bvh_min_x=t;H._bvh_min_y=u;H._bvh_max_x=C;H._bvh_max_y=v;L=this._hierarchy;F=0;if(L)for(;;)if(L._bvh_branch){n=L._bvh_left;var q=n._bvh_min_y,z=n._bvh_max_x,I=n._bvh_max_y,P=t<n._bvh_min_x?t:n._bvh_min_x,m=u<q?u:q,k=C>z?C:z,h=v>I?v:I;q=(k-P)*(h-m)-(z-n._bvh_min_x)*(I-q);z=L._bvh_right;var r=z._bvh_min_x,l=z._bvh_min_y,J=z._bvh_max_x,p=z._bvh_max_y;I=t<r?t:r;var G=u<l?u:l,R=C>J?C:J,aa=v>p?v:p;r=(R-I)*(aa-G)-(J-r)*(p-l);L._bvh_sort=
F++;L._bvh_min_x=P<I?P:I;L._bvh_min_y=m<G?m:G;L._bvh_max_x=k>R?k:R;L._bvh_max_y=h>aa?h:aa;L=q<=r?n:z}else{n=L._bvh_parent;P=L._bvh_min_x;m=L._bvh_min_y;k=L._bvh_max_x;h=L._bvh_max_y;q=L._bvh_parent=H._bvh_parent=E["default"].getBranch();q._bvh_parent=n;q._bvh_left=L;q._bvh_right=H;q._bvh_sort=F++;q._bvh_min_x=t<P?t:P;q._bvh_min_y=u<m?u:m;q._bvh_max_x=C>k?C:k;q._bvh_max_y=v>h?v:h;n?n._bvh_left===L?n._bvh_left=q:n._bvh_right=q:this._hierarchy=q;break}else this._hierarchy=H}},{key:"remove",value:function(H){if(!(1<
arguments.length&&void 0!==arguments[1]&&arguments[1])){var t=H._bvh;if(t&&t!==this)throw Error("Body belongs to another collision system");H._bvh=null;this._bodies.splice(this._bodies.indexOf(H),1)}if(this._hierarchy===H)this._hierarchy=null;else{t=H._bvh_parent;var v=t._bvh_parent,C=t._bvh_left;C=C===H?t._bvh_right:C;C._bvh_parent=v;C._bvh_branch&&(C._bvh_sort=t._bvh_sort);if(v)for(v._bvh_left===t?v._bvh_left=C:v._bvh_right=C;v;){var L=v._bvh_left;C=L._bvh_min_x;var F=L._bvh_min_y,n=L._bvh_max_x;
L=L._bvh_max_y;var u=v._bvh_right,q=u._bvh_min_x,z=u._bvh_min_y,I=u._bvh_max_x;u=u._bvh_max_y;v._bvh_min_x=C<q?C:q;v._bvh_min_y=F<z?F:z;v._bvh_max_x=n>I?n:I;v._bvh_max_y=L>u?L:u;v=v._bvh_parent}else this._hierarchy=C;E["default"].releaseBranch(t)}}},{key:"update",value:function(){for(var H=this._bodies,t=H.length,v=0;v<t;++v){var C=H[v],L=!1;L||C.padding===C._bvh_padding||(C._bvh_padding=C.padding,L=!0);if(!L){(L=C._polygon)&&(C._dirty_coords||C.x!==C._x||C.y!==C._y||C.angle!==C._angle||C.scale_x!==
C._scale_x||C.scale_y!==C._scale_y)&&C._calculateCoords();var F=C.x,n=C.y,u=L?0:C.radius*C.scale,q=L?C._min_y:n-u,z=L?C._max_x:F+u;n=L?C._max_y:n+u;L=(L?C._min_x:F-u)<C._bvh_min_x||q<C._bvh_min_y||z>C._bvh_max_x||n>C._bvh_max_y}L&&(this.remove(C,!0),this.insert(C,!0))}}},{key:"potentials",value:function(H){var t=[],v=H._bvh_min_x,C=H._bvh_min_y,L=H._bvh_max_x,F=H._bvh_max_y,n=this._hierarchy,u=!0;if(!n||!n._bvh_branch)return t;for(;n;){if(u){u=!1;for(var q=n._bvh_branch?n._bvh_left:null;q&&q._bvh_max_x>=
v&&q._bvh_max_y>=C&&q._bvh_min_x<=L&&q._bvh_min_y<=F;)n=q,q=n._bvh_branch?n._bvh_left:null}var z=(q=n._bvh_branch)?n._bvh_right:null;if(z&&z._bvh_max_x>v&&z._bvh_max_y>C&&z._bvh_min_x<L&&z._bvh_min_y<F)n=z,u=!0;else if(q||n===H||t.push(n),q=n._bvh_parent){for(;q&&q._bvh_right===n;)n=q,q=n._bvh_parent;n=q}else break}return t}},{key:"draw",value:function(H){for(var t=this._bodies,v=t.length,C=0;C<v;++C)t[C].draw(H)}},{key:"drawBVH",value:function(H){for(var t=this._hierarchy,v=!0;t;){if(v){v=!1;for(var C=
t._bvh_branch?t._bvh_left:null;C;)t=C,C=t._bvh_branch?t._bvh_left:null}C=t._bvh_min_x;var L=t._bvh_min_y,F=t._bvh_max_x,n=t._bvh_max_y,u=t._bvh_branch?t._bvh_right:null;H.moveTo(C,L);H.lineTo(F,L);H.lineTo(F,n);H.lineTo(C,n);H.lineTo(C,L);if(u)t=u,v=!0;else if(C=t._bvh_parent){for(;C&&C._bvh_right===t;)t=C,C=t._bvh_parent;t=C}else break}}}]);return Q}();Y["default"]=ya};
shadow$provide[56]=function(ya,pa,Ha,Y){Object.defineProperty(Y,"__esModule",{value:!0});Y["default"]=void 0;Y["default"]=function y(){if(!(this instanceof y))throw new TypeError("Cannot call a class as a function");this.collision=!1;this.b=this.a=null;this.a_in_b=!1;this.overlap_y=this.overlap_x=this.overlap=0}};
shadow$provide[57]=function(ya,pa,Ha,Y){function N(H,t){var v=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,C=H._coords.length,L=t._coords.length;if(2===C&&2===L){L=H._coords;var F=t._coords;v&&(v.overlap=0);return L[0]===F[0]&&L[1]===F[1]}F=H._coords;var n=t._coords,u=H._normals,q=t._normals;if(2<C)for(var z=0,I=1;z<C;z+=2,I+=2)if(Q(F,n,u[z],u[I],v))return!1;if(2<L)for(C=0,u=1;C<L;C+=2,u+=2)if(Q(F,n,q[C],q[u],v))return!1;return!0}function y(H,t){var v=2<arguments.length&&void 0!==arguments[2]?
arguments[2]:null,C=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,L=H._coords,F=H._edges,n=H._normals,u=t.x,q=t.y,z=t.radius*t.scale,I=2*z,P=z*z,m=L.length,k=!0,h=!0,r=null,l=0,J=0;if(2===m){F=u-L[0];L=q-L[1];q=F*F+L*L;if(q>P)return!1;v&&(P=Math.sqrt(q),r=z-P,l=F/P,J=L/P,h=!1)}else for(var p=0,G=1;p<m;p+=2,G+=2){var R=u-L[p],aa=q-L[G],ka=F[p],ua=F[G],ea=R*ka+aa*ua,xa=0>ea?-1:ea>ka*ka+ua*ua?1:0;ka=!1;var ba=ea=ua=0;v&&k&&R*R+aa*aa>P&&(k=!1);if(xa){var fa=-1===xa,K=fa?0===p?m-2:p-2:p===
m-2?0:p+2,V=K+1,ca=u-L[K],Z=q-L[V];K=F[K];V=F[V];var ma=ca*K+Z*V;if((0>ma?-1:ma>K*K+V*V?1:0)===-xa){R=fa?R:ca;aa=fa?aa:Z;fa=R*R+aa*aa;if(fa>P)return!1;v&&(h=Math.sqrt(fa),ka=!0,ua=z-h,ea=R/h,ba=aa/h,h=!1)}}else{fa=n[p];Z=n[G];aa=R*fa+aa*Z;R=0>aa?-aa:aa;if(0<aa&&R>z)return!1;v&&(ka=!0,ua=z-aa,ea=fa,ba=Z,h&&0<=aa||ua<I)&&(h=!1)}ka&&(null===r||r>ua)&&(r=ua,l=ea,J=ba)}v&&(v.a_in_b=C?h:k,v.b_in_a=C?k:h,v.overlap=r,v.overlap_x=C?-l:l,v.overlap_y=C?-J:J);return!0}function E(H,t){var v=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:null,C=H.radius*H.scale,L=t.radius*t.scale,F=t.x-H.x,n=t.y-H.y,u=C+L,q=F*F+n*n;if(q>u*u)return!1;v&&(q=Math.sqrt(q),v.a_in_b=C<=L&&q<=L-C,v.b_in_a=L<=C&&q<=C-L,v.overlap=u-q,v.overlap_x=F/q,v.overlap_y=n/q);return!0}function Q(H,t,v,C){var L=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,F=H.length,n=t.length;if(!F||!n)return!0;for(var u=null,q=null,z=null,I=null,P=0,m=1;P<F;P+=2,m+=2){var k=H[P]*v+H[m]*C;if(null===u||u>k)u=k;if(null===q||q<k)q=k}F=
0;for(P=1;F<n;F+=2,P+=2){m=t[F]*v+t[P]*C;if(null===z||z>m)z=m;if(null===I||I<m)I=m}if(u>I||q<z)return!0;L&&(u<z?(L.a_in_b=!1,q<I?(I=q-z,L.b_in_a=!1):(n=q-z,u=I-u,I=n<u?n:-u)):(L.b_in_a=!1,q>I?(I=u-I,L.a_in_b=!1):(n=q-z,u=I-u,I=n<u?n:-u)),n=L.overlap,u=0>I?-I:I,null===n||n>u)&&(I=0>I?-1:1,L.overlap=u,L.overlap_x=v*I,L.overlap_y=C*I);return!1}Object.defineProperty(Y,"__esModule",{value:!0});Y["default"]=function(H,t){var v=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,C=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:!0,L=H._polygon,F=t._polygon,n=!1;v&&(v.a=H,v.b=t,v.a_in_b=!0,v.b_in_a=!0,v.overlap=null,v.overlap_x=0,v.overlap_y=0);L&&(H._dirty_coords||H.x!==H._x||H.y!==H._y||H.angle!==H._angle||H.scale_x!==H._scale_x||H.scale_y!==H._scale_y)&&H._calculateCoords();F&&(t._dirty_coords||t.x!==t._x||t.y!==t._y||t.angle!==t._angle||t.scale_x!==t._scale_x||t.scale_y!==t._scale_y)&&t._calculateCoords();if(!(C=!C)){var u=(C=H._polygon)?0:H.x,q=C?0:H.y,z=C?0:H.radius*H.scale,I=C?H._min_y:
q-z,P=C?H._max_x:u+z;q=C?H._max_y:q+z;var m=t._polygon,k=m?0:t.x,h=m?0:t.y,r=m?0:t.radius*t.scale,l=m?t._min_x:k-r,J=m?t._min_y:h-r;h=m?t._max_y:h+r;C=(C?H._min_x:u-z)<(m?t._max_x:k+r)&&I<h&&P>l&&q>J}C&&(L&&H._dirty_normals&&H._calculateNormals(),F&&t._dirty_normals&&t._calculateNormals(),n=L&&F?N(H,t,v):L?y(H,t,v,!1):F?y(t,H,v,!0):E(H,t,v));v&&(v.collision=n);return n}};
shadow$provide[58]=function(ya,pa,Ha,Y){function N(t){return t&&t.__esModule?t:{"default":t}}function y(t,v){for(var C=0;C<v.length;C++){var L=v[C];L.enumerable=L.enumerable||!1;L.configurable=!0;"value"in L&&(L.writable=!0);Object.defineProperty(t,L.key,L)}}function E(t,v,C){v&&y(t.prototype,v);C&&y(t,C);return t}Object.defineProperty(Y,"__esModule",{value:!0});Y["default"]=void 0;var Q=N(pa(56)),H=N(pa(57));ya=function(){function t(){var v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
0,C=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,L=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.x=v;this.y=C;this.padding=L;this._point=this._polygon=this._circle=!1;this._bvh_parent=this._bvh=null;this._bvh_branch=!1;this._bvh_padding=L;this._bvh_max_y=this._bvh_max_x=this._bvh_min_y=this._bvh_min_x=0}E(t,[{key:"collides",value:function(v){var C=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:null,L=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;return(0,H["default"])(this,v,C,L)}},{key:"potentials",value:function(){var v=this._bvh;if(null===v)throw Error("Body does not belong to a collision system");return v.potentials(this)}},{key:"remove",value:function(){var v=this._bvh;v&&v.remove(this,!1)}},{key:"createResult",value:function(){return new Q["default"]}}],[{key:"createResult",value:function(){return new Q["default"]}}]);return t}();Y["default"]=ya};
shadow$provide[59]=function(ya,pa,Ha,Y){function N(v){N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"===typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};return N(v)}function y(v,C){for(var L=0;L<C.length;L++){var F=C[L];F.enumerable=F.enumerable||!1;F.configurable=!0;"value"in F&&(F.writable=!0);Object.defineProperty(v,F.key,F)}}function E(v,C,L){C&&y(v.prototype,C);L&&y(v,L);return v}function Q(v){Q=
Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)};return Q(v)}function H(v,C){if("function"!==typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(C&&C.prototype,{constructor:{value:v,writable:!0,configurable:!0}});C&&t(v,C)}function t(v,C){t=Object.setPrototypeOf||function(L,F){L.__proto__=F;return L};return t(v,C)}Object.defineProperty(Y,"__esModule",{value:!0});Y["default"]=void 0;
ya=function(v){function C(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;var F=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,q=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");L=Q(C).call(this,L,F,q);if(!L||"object"!==N(L)&&"function"!==typeof L){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
L=this}L.radius=n;L.scale=u;return L}H(C,v);E(C,[{key:"draw",value:function(L){var F=this.x,n=this.y,u=this.radius*this.scale;L.moveTo(F+u,n);L.arc(F,n,u,0,2*Math.PI)}}]);return C}(function(v){return v&&v.__esModule?v:{"default":v}}(pa(58))["default"]);Y["default"]=ya};
shadow$provide[60]=function(ya,pa,Ha,Y){function N(C){N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"===typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L};return N(C)}function y(C,L){for(var F=0;F<L.length;F++){var n=L[F];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(C,n.key,n)}}function E(C,L,F){L&&y(C.prototype,L);F&&y(C,F);return C}function Q(C){Q=
Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)};return Q(C)}function H(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function t(C,L){if("function"!==typeof L&&null!==L)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(L&&L.prototype,{constructor:{value:C,writable:!0,configurable:!0}});L&&v(C,L)}function v(C,L){v=Object.setPrototypeOf||
function(F,n){F.__proto__=n;return F};return v(C,L)}Object.defineProperty(Y,"__esModule",{value:!0});Y["default"]=void 0;ya=function(C){function L(){var F=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],q=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,z=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,I=5<arguments.length&&void 0!==arguments[5]?arguments[5]:
1;var P=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0;if(!(this instanceof L))throw new TypeError("Cannot call a class as a function");P=Q(L).call(this,F,n,P);P=!P||"object"!==N(P)&&"function"!==typeof P?H(this):P;P.angle=q;P.scale_x=z;P.scale_y=I;P._polygon=!0;P._x=F;P._y=n;P._angle=q;P._scale_x=z;P._scale_y=I;P._min_x=0;P._min_y=0;P._max_x=0;P._max_y=0;P._points=null;P._coords=null;P._edges=null;P._normals=null;P._dirty_coords=!0;P._dirty_normals=!0;L.prototype.setPoints.call(H(P),u);
return P}t(L,C);E(L,[{key:"draw",value:function(F){(this._dirty_coords||this.x!==this._x||this.y!==this._y||this.angle!==this._angle||this.scale_x!==this._scale_x||this.scale_y!==this._scale_y)&&this._calculateCoords();var n=this._coords;if(2===n.length)F.moveTo(n[0],n[1]),F.arc(n[0],n[1],1,0,2*Math.PI);else{F.moveTo(n[0],n[1]);for(var u=2;u<n.length;u+=2)F.lineTo(n[u],n[u+1]);4<n.length&&F.lineTo(n[0],n[1])}}},{key:"setPoints",value:function(F){var n=F.length;this._points=new Float64Array(2*n);this._coords=
new Float64Array(2*n);this._edges=new Float64Array(2*n);this._normals=new Float64Array(2*n);for(var u=this._points,q=0,z=0,I=1;q<n;++q,z+=2,I+=2){var P=F[q];u[z]=P[0];u[I]=P[1]}this._dirty_coords=!0}},{key:"_calculateCoords",value:function(){for(var F=this.x,n=this.y,u=this.angle,q=this.scale_x,z=this.scale_y,I=this._points,P=this._coords,m=I.length,k,h,r,l,J=0,p=1;J<m;J+=2,p+=2){var G=I[J]*q,R=I[p]*z;if(u){var aa=Math.cos(u),ka=Math.sin(u),ua=G;G=ua*aa-R*ka;R=ua*ka+R*aa}G+=F;R+=n;P[J]=G;P[p]=R;0===
J?(k=h=G,r=l=R):(G<k?k=G:G>h&&(h=G),R<r?r=R:R>l&&(l=R))}this._x=F;this._y=n;this._angle=u;this._scale_x=q;this._scale_y=z;this._min_x=k;this._min_y=r;this._max_x=h;this._max_y=l;this._dirty_coords=!1;this._dirty_normals=!0}},{key:"_calculateNormals",value:function(){for(var F=this._coords,n=this._edges,u=this._normals,q=F.length,z=0,I=1;z<q;z+=2,I+=2){var P=z+2<q?z+2:0,m=F[P]-F[z];P=F[P+1]-F[I];var k=m||P?Math.sqrt(m*m+P*P):0;n[z]=m;n[I]=P;u[z]=k?P/k:0;u[I]=k?-m/k:0}this._dirty_normals=!1}}]);return L}(function(C){return C&&
C.__esModule?C:{"default":C}}(pa(58))["default"]);Y["default"]=ya};
shadow$provide[61]=function(ya,pa,Ha,Y){function N(H){N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return N(H)}function y(H){y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return y(H)}function E(H,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");
H.prototype=Object.create(t&&t.prototype,{constructor:{value:H,writable:!0,configurable:!0}});t&&Q(H,t)}function Q(H,t){Q=Object.setPrototypeOf||function(v,C){v.__proto__=C;return v};return Q(H,t)}Object.defineProperty(Y,"__esModule",{value:!0});Y["default"]=void 0;ya=function(H){function t(){var v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;var C=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,L=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");
v=y(t).call(this,v,C,[[0,0]],0,1,1,L);if(!v||"object"!==N(v)&&"function"!==typeof v){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");v=this}v._point=!0;return v}E(t,H);return t}(function(H){return H&&H.__esModule?H:{"default":H}}(pa(60))["default"]);Y["default"]=ya;ya.prototype.setPoints=void 0};
shadow$provide[62]=function(ya,pa,Ha,Y){function N(F){return F&&F.__esModule?F:{"default":F}}function y(F,n){for(var u=0;u<n.length;u++){var q=n[u];q.enumerable=q.enumerable||!1;q.configurable=!0;"value"in q&&(q.writable=!0);Object.defineProperty(F,q.key,q)}}function E(F,n,u){n&&y(F.prototype,n);u&&y(F,u);return F}Object.defineProperty(Y,"__esModule",{value:!0});Object.defineProperty(Y,"Circle",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(Y,"Polygon",{enumerable:!0,get:function(){return t["default"]}});
Object.defineProperty(Y,"Point",{enumerable:!0,get:function(){return v["default"]}});Object.defineProperty(Y,"Result",{enumerable:!0,get:function(){return C["default"]}});Y.Collisions=Y["default"]=void 0;var Q=N(pa(55)),H=N(pa(59)),t=N(pa(60)),v=N(pa(61)),C=N(pa(56)),L=N(pa(57));ya=function(){function F(){if(!(this instanceof F))throw new TypeError("Cannot call a class as a function");this._bvh=new Q["default"]}E(F,[{key:"createCircle",value:function(){var n=new H["default"](0<arguments.length&&void 0!==
arguments[0]?arguments[0]:0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,4<arguments.length&&void 0!==arguments[4]?arguments[4]:0);this._bvh.insert(n);return n}},{key:"createPolygon",value:function(){var n=new t["default"](0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,2<arguments.length&&void 0!==arguments[2]?
arguments[2]:[[0,0]],3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,6<arguments.length&&void 0!==arguments[6]?arguments[6]:0);this._bvh.insert(n);return n}},{key:"createPoint",value:function(){var n=new v["default"](0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:
0);this._bvh.insert(n);return n}},{key:"createResult",value:function(){return new C["default"]}},{key:"insert",value:function(){for(var n=arguments.length,u=Array(n),q=0;q<n;q++)u[q]=arguments[q];for(n=0;n<u.length;n++)this._bvh.insert(u[n],!1);return this}},{key:"remove",value:function(){for(var n=arguments.length,u=Array(n),q=0;q<n;q++)u[q]=arguments[q];for(n=0;n<u.length;n++)this._bvh.remove(u[n],!1);return this}},{key:"update",value:function(){this._bvh.update();return this}},{key:"draw",value:function(n){return this._bvh.draw(n)}},
{key:"drawBVH",value:function(n){return this._bvh.drawBVH(n)}},{key:"potentials",value:function(n){return this._bvh.potentials(n)}},{key:"collides",value:function(n,u){var q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,z=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;return(0,L["default"])(n,u,q,z)}}],[{key:"createResult",value:function(){return new C["default"]}}]);return F}();Y.Collisions=Y["default"]=ya};
shadow$provide[63]=function(ya,pa,Ha,Y){(function(N,y){function E(c,g){if(null==g)return null;null==g.__id__&&(g.__id__=Va++);var x;null==c.hx__closures__?c.hx__closures__={}:x=c.hx__closures__[g.__id__];null==x&&(x=function(){return x.method.apply(x.scope,arguments)},x.scope=c,x.method=g,c.hx__closures__[g.__id__]=x);return x}N.wings=N.wings||{};N.wings.jsCanvas=N.wings.jsCanvas||{};N.wings.core=N.wings.core||{};N.hxPixels=N.hxPixels||{};N.hxPixels._Pixels=N.hxPixels._Pixels||{};N.hxDaedalus=N.hxDaedalus||
{};N.hxDaedalus.view=N.hxDaedalus.view||{};N.hxDaedalus.iterators=N.hxDaedalus.iterators||{};N.hxDaedalus.factories=N.hxDaedalus.factories||{};N.hxDaedalus.data=N.hxDaedalus.data||{};N.hxDaedalus.data.math=N.hxDaedalus.data.math||{};N.hxDaedalus.data.graph=N.hxDaedalus.data.graph||{};N.hxDaedalus.ai=N.hxDaedalus.ai||{};N.hxDaedalus.ai.trajectory=N.hxDaedalus.ai.trajectory||{};var Q=function(){return Oa.__string_rec(this,"")},H=function(){};H.__name__=!0;H.cca=function(c,g){c=c.charCodeAt(g);if(c==
c)return c};H.substr=function(c,g,x){if(null==x)x=c.length;else if(0>x)if(0==g)x=c.length+x;else return"";return c.substr(g,x)};Math.__name__=!0;var t=function(){};t.__name__=!0;t.string=function(c){return Oa.__string_rec(c,"")};t.parseInt=function(c){var g=parseInt(c,10);0!=g||120!=H.cca(c,1)&&88!=H.cca(c,1)||(g=parseInt(c));return isNaN(g)?null:g};var v=function(){};v.__name__=!0;v.hex=function(c,g){for(var x="";x="0123456789ABCDEF".charAt(c&15)+x,c>>>=4,0<c;);if(null!=g)for(;x.length<g;)x="0"+
x;return x};var C=function(){};C.__name__=!0;var L=function(){this.h={__keys__:{}}};L.__name__=!0;L.__interfaces__=[C];L.prototype={set:function(c,g){var x=c.__id__||(c.__id__=++L.count);this.h[x]=g;this.h.__keys__[x]=c},__class__:L};var F=function(){this.h={}};F.__name__=!0;F.__interfaces__=[C];F.prototype={setReserved:function(c,g){null==this.rh&&(this.rh={});this.rh["$"+c]=g},getReserved:function(c){return null==this.rh?null:this.rh["$"+c]},__class__:F};var n=function(c){this.length=c.byteLength;
this.b=new kb(c);this.b.bufferValue=c;c.hxBytes=this;c.bytes=this.b};n.__name__=!0;n.prototype={blit:function(c,g,x,O){if(0>c||0>x||0>O||c+O>this.length||x+O>g.length)throw new Ka(u.OutsideBounds);0==x&&O==g.b.byteLength?this.b.set(g.b,c):this.b.set(g.b.subarray(x,x+O),c)},__class__:n};var u={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"],Blocked:["Blocked",0]};u.Blocked.toString=Q;u.Blocked.__enum__=u;u.Overflow=["Overflow",1];u.Overflow.toString=Q;u.Overflow.__enum__=
u;u.OutsideBounds=["OutsideBounds",2];u.OutsideBounds.toString=Q;u.OutsideBounds.__enum__=u;u.Custom=function(c){c=["Custom",3,c];c.__enum__=u;c.toString=Q;return c};var q=N.hxDaedalus.ai.AStar=function(){this.iterEdge=new sa};q.__name__=!0;q.prototype={dispose:function(){this.predecessor=this.scoreH=this.scoreG=this.scoreF=this.entryY=this.entryX=this.entryEdges=this.openedFaces=this.sortedOpenedFaces=this.closedFaces=this._mesh=null},get_radius:function(){return this._radius},set_radius:function(c){this._radius=
c;this.radiusSquared=this._radius*this._radius;this.diameter=2*this._radius;this.diameterSquared=this.diameter*this.diameter;return c},set_mesh:function(c){return this._mesh=c},findPath:function(c,g,x,O,S,T){this.closedFaces=new L;this.sortedOpenedFaces=[];this.openedFaces=new L;this.entryEdges=new L;this.entryX=new L;this.entryY=new L;this.scoreF=new L;this.scoreG=new L;this.scoreH=new L;this.predecessor=new L;var na=ea.locatePosition(c,g,this._mesh);switch(na[1]){case 0:return;case 1:na=na[2];if(na.get_isConstrained())return;
this.fromFace=na.get_leftFace();break;case 2:this.fromFace=na[2]}na=ea.locatePosition(x,O,this._mesh);switch(na[1]){case 0:this.toFace=na[2].get_edge().get_leftFace();break;case 1:this.toFace=na[2].get_leftFace();break;case 2:this.toFace=na[2]}this.sortedOpenedFaces.push(this.fromFace);this.entryEdges.set(this.fromFace,null);this.entryX.set(this.fromFace,c);this.entryY.set(this.fromFace,g);this.scoreG.set(this.fromFace,0);c=Math.sqrt((x-c)*(x-c)+(O-g)*(O-g));this.scoreH.set(this.fromFace,c);this.scoreF.set(this.fromFace,
c);for(var ha,ra,oa=new ua,w=new ua,d=new ua,a;;){if(0==this.sortedOpenedFaces.length){this.curFace=null;break}this.curFace=this.sortedOpenedFaces.pop();if(this.curFace==this.toFace)break;for(this.iterEdge.set_fromFace(this.curFace);;){c=this.iterEdge.next();if(null==c)break;c.get_isConstrained()||(g=c.get_rightFace(),this.closedFaces.h[g.__id__]||this.curFace!=this.fromFace&&0<this._radius&&!this.isWalkableByRadius(this.entryEdges.h[this.curFace.__id__],this.curFace,c)||(oa.x=this.entryX.h[this.curFace.__id__],
oa.y=this.entryY.h[this.curFace.__id__],w.x=(c.get_originVertex().get_pos().x+c.get_destinationVertex().get_pos().x)/2,w.y=(c.get_originVertex().get_pos().y+c.get_destinationVertex().get_pos().y)/2,d.x=w.x-x,d.y=w.y-O,ra=d.get_length(),d.x=oa.x-w.x,d.y=oa.y-w.y,ha=this.scoreG.h[this.curFace.__id__]+d.get_length(),na=ra+ha,a=!1,null!=this.openedFaces.h[g.__id__]&&this.openedFaces.h[g.__id__]?this.scoreF.h[g.__id__]>na&&(a=!0):(this.sortedOpenedFaces.push(g),this.openedFaces.set(g,!0),a=!0),a&&(this.entryEdges.set(g,
c),this.entryX.set(g,w.x),this.entryY.set(g,w.y),this.scoreF.set(g,na),this.scoreG.set(g,ha),this.scoreH.set(g,ra),this.predecessor.set(g,this.curFace))))}this.openedFaces.set(this.curFace,!1);this.closedFaces.set(this.curFace,!0);this.sortedOpenedFaces.sort(E(this,this.sortingFaces))}if(null!=this.curFace)for(S.push(this.curFace);this.curFace!=this.fromFace;)T.unshift(this.entryEdges.h[this.curFace.__id__]),this.curFace=this.predecessor.h[this.curFace.__id__],S.unshift(this.curFace)},sortingFaces:function(c,
g){return this.scoreF.h[c.__id__]==this.scoreF.h[g.__id__]?0:this.scoreF.h[c.__id__]<this.scoreF.h[g.__id__]?1:-1},isWalkableByRadius:function(c,g,x){var O=null,S=null,T=null;c.get_originVertex()==x.get_originVertex()?(O=c.get_destinationVertex(),S=x.get_destinationVertex(),T=c.get_originVertex()):c.get_destinationVertex()==x.get_destinationVertex()?(O=c.get_originVertex(),S=x.get_originVertex(),T=c.get_destinationVertex()):c.get_originVertex()==x.get_destinationVertex()?(O=c.get_destinationVertex(),
S=x.get_originVertex(),T=c.get_originVertex()):c.get_destinationVertex()==x.get_originVertex()&&(O=c.get_originVertex(),S=x.get_destinationVertex(),T=c.get_destinationVertex());var na=(T.get_pos().x-O.get_pos().x)*(S.get_pos().x-O.get_pos().x)+(T.get_pos().y-O.get_pos().y)*(S.get_pos().y-O.get_pos().y);if(0>=na)return T=(T.get_pos().x-O.get_pos().x)*(T.get_pos().x-O.get_pos().x)+(T.get_pos().y-O.get_pos().y)*(T.get_pos().y-O.get_pos().y),T>=this.diameterSquared?!0:!1;na=(T.get_pos().x-S.get_pos().x)*
(O.get_pos().x-S.get_pos().x)+(T.get_pos().y-S.get_pos().y)*(O.get_pos().y-S.get_pos().y);if(0>=na)return T=(T.get_pos().x-S.get_pos().x)*(T.get_pos().x-S.get_pos().x)+(T.get_pos().y-S.get_pos().y)*(T.get_pos().y-S.get_pos().y),T>=this.diameterSquared?!0:!1;x=g.get_edge()!=c&&g.get_edge().get_oppositeEdge()!=c&&g.get_edge()!=x&&g.get_edge().get_oppositeEdge()!=x?g.get_edge():g.get_edge().get_nextLeftEdge()!=c&&g.get_edge().get_nextLeftEdge().get_oppositeEdge()!=c&&g.get_edge().get_nextLeftEdge()!=
x&&g.get_edge().get_nextLeftEdge().get_oppositeEdge()!=x?g.get_edge().get_nextLeftEdge():g.get_edge().get_prevLeftEdge();if(x.get_isConstrained())return g=new ua(T.get_pos().x,T.get_pos().y),ea.projectOrthogonaly(g,x),T=(g.x-T.get_pos().x)*(g.x-T.get_pos().x)+(g.y-T.get_pos().y)*(g.y-T.get_pos().y),T>=this.diameterSquared?!0:!1;O=(T.get_pos().x-O.get_pos().x)*(T.get_pos().x-O.get_pos().x)+(T.get_pos().y-O.get_pos().y)*(T.get_pos().y-O.get_pos().y);S=(T.get_pos().x-S.get_pos().x)*(T.get_pos().x-S.get_pos().x)+
(T.get_pos().y-S.get_pos().y)*(T.get_pos().y-S.get_pos().y);if(O<this.diameterSquared||S<this.diameterSquared)return!1;S=[];O=[];c=new L;O.push(x);x.get_leftFace()==g?(S.push(x.get_rightFace()),c.set(x.get_rightFace(),!0)):(S.push(x.get_leftFace()),c.set(x.get_leftFace(),!0));for(var ha;0<S.length;){g=S.shift();x=O.shift();g.get_edge()==x||g.get_edge()==x.get_oppositeEdge()?(x=g.get_edge().get_nextLeftEdge(),ha=g.get_edge().get_nextLeftEdge().get_nextLeftEdge()):g.get_edge().get_nextLeftEdge()==x||
g.get_edge().get_nextLeftEdge()==x.get_oppositeEdge()?(x=g.get_edge(),ha=g.get_edge().get_nextLeftEdge().get_nextLeftEdge()):(x=g.get_edge(),ha=g.get_edge().get_nextLeftEdge());na=x.get_leftFace()==g?x.get_rightFace():x.get_leftFace();g=ha.get_leftFace()==g?ha.get_rightFace():ha.get_leftFace();if(!c.h[na.__id__]&&ea.distanceSquaredVertexToEdge(T,x)<this.diameterSquared){if(x.get_isConstrained())return!1;S.push(na);O.push(x);c.set(na,!0)}if(!c.h[g.__id__]&&ea.distanceSquaredVertexToEdge(T,ha)<this.diameterSquared){if(ha.get_isConstrained())return!1;
S.push(g);O.push(ha);c.set(g,!0)}}return!0},__class__:q};C=N.hxDaedalus.ai.EntityAI=function(){this._radius=10;this.x=this.y=0;this.dirNormX=1;this.dirNormY=0};C.__name__=!0;C.prototype={buildApproximation:function(){this._approximateObject=new l;this._approximateObject.get_matrix().translate(this.x,this.y);var c=[];this._approximateObject.set_coordinates(c);if(0!=this._radius)for(var g=0;6>g;){var x=g++;c.push(this._radius*Math.cos(2*Math.PI*x/6));c.push(this._radius*Math.sin(2*Math.PI*x/6));c.push(this._radius*
Math.cos(2*Math.PI*(x+1)/6));c.push(this._radius*Math.sin(2*Math.PI*(x+1)/6))}},get_approximateObject:function(){this._approximateObject.get_matrix().identity();this._approximateObject.get_matrix().translate(this.x,this.y);return this._approximateObject},get_radius:function(){return this._radius},get_radiusSquared:function(){return this._radiusSquared},set_radius:function(c){this._radius=c;this._radiusSquared=this._radius*this._radius;return c},__class__:C};var z=N.hxDaedalus.ai.Funnel=function(){this._currPoolPointsIndex=
0;this._poolPointsSize=3E3;this._numSamplesCircle=16;this._radius=this._radiusSquared=0;this._poolPoints=[];for(var c=0,g=this._poolPointsSize;c<g;)c++,this._poolPoints.push(new ua)};z.__name__=!0;z.prototype={dispose:function(){this._sampleCircle=null},getPoint:function(c,g){null==g&&(g=0);null==c&&(c=0);this.__point=this._poolPoints[this._currPoolPointsIndex];this.__point.setXY(c,g);this._currPoolPointsIndex++;this._currPoolPointsIndex==this._poolPointsSize&&(this._poolPoints.push(new ua),this._poolPointsSize++);
return this.__point},getCopyPoint:function(c){return this.getPoint(c.x,c.y)},get_radius:function(){return this._radius},set_radius:function(c){this._radius=Math.max(0,c);this._radiusSquared=this._radius*this._radius;this._sampleCircle=[];if(0==this.get_radius())return 0;c=0;for(var g=this._numSamplesCircle;c<g;){var x=c++;this._sampleCircle.push(new ua(this._radius*Math.cos(-2*Math.PI*x/this._numSamplesCircle),this._radius*Math.sin(-2*Math.PI*x/this._numSamplesCircle)))}this._sampleCircleDistanceSquared=
(this._sampleCircle[0].x-this._sampleCircle[1].x)*(this._sampleCircle[0].x-this._sampleCircle[1].x)+(this._sampleCircle[0].y-this._sampleCircle[1].y)*(this._sampleCircle[0].y-this._sampleCircle[1].y);return this._radius},findPath:function(c,g,x,O,S,T,na){this._currPoolPointsIndex=0;if(0<this._radius){var ha=S[0];var ra=ha.get_edge().get_originVertex().get_pos();var oa=ha.get_edge().get_destinationVertex().get_pos();ha=ha.get_edge().get_nextLeftEdge().get_destinationVertex().get_pos();var w=(ra.x-
c)*(ra.x-c)+(ra.y-g)*(ra.y-g);w<=this._radiusSquared?(w=Math.sqrt(w),c=(c-ra.x)/w*this._radius*1.01+ra.x,g=(g-ra.y)/w*this._radius*1.01+ra.y):(w=(oa.x-c)*(oa.x-c)+(oa.y-g)*(oa.y-g),w<=this._radiusSquared?(w=Math.sqrt(w),c=(c-oa.x)/w*this._radius*1.01+oa.x,g=(g-oa.y)/w*this._radius*1.01+oa.y):(w=(ha.x-c)*(ha.x-c)+(ha.y-g)*(ha.y-g),w<=this._radiusSquared&&(w=Math.sqrt(w),c=(c-ha.x)/w*this._radius*1.01+ha.x,g=(g-ha.y)/w*this._radius*1.01+ha.y)));ha=S[S.length-1];ra=ha.get_edge().get_originVertex().get_pos();
oa=ha.get_edge().get_destinationVertex().get_pos();ha=ha.get_edge().get_nextLeftEdge().get_destinationVertex().get_pos();w=(ra.x-x)*(ra.x-x)+(ra.y-O)*(ra.y-O);w<=this._radiusSquared?(w=Math.sqrt(w),x=(x-ra.x)/w*this._radius*1.01+ra.x,O=(O-ra.y)/w*this._radius*1.01+ra.y):(w=(oa.x-x)*(oa.x-x)+(oa.y-O)*(oa.y-O),w<=this._radiusSquared?(w=Math.sqrt(w),x=(x-oa.x)/w*this._radius*1.01+oa.x,O=(O-oa.y)/w*this._radius*1.01+oa.y):(w=(ha.x-x)*(ha.x-x)+(ha.y-O)*(ha.y-O),w<=this._radiusSquared&&(w=Math.sqrt(w),
x=(x-ha.x)/w*this._radius*1.01+ha.x,O=(O-ha.y)/w*this._radius*1.01+ha.y)))}var d=new ua(c,g);ra=new ua(x,O);if(1==S.length)na.push(d.x),na.push(d.y),na.push(ra.x),na.push(ra.y);else{var a=null;oa=ea.isInFace(c,g,S[0]);1==oa[1]&&T[0]==oa[2]&&(T.shift(),S.shift());ha=[];w=[];ha.push(d);w.push(d);var f=new L,B=[];S=new L;oa=new L;S.set(d,0);var U=T[0];c=ea.getRelativePosition2(c,g,U);var ia=this.getCopyPoint(U.get_destinationVertex().get_pos());var M=this.getCopyPoint(U.get_originVertex().get_pos());
B.push(ia);B.push(M);oa.set(d,ia);oa.set(ia,M);g=M;1==c?(S.set(ia,1),S.set(M,-1),f.set(U.get_destinationVertex(),1),f.set(U.get_originVertex(),-1)):-1==c&&(S.set(ia,-1),S.set(M,1),f.set(U.get_destinationVertex(),-1),f.set(U.get_originVertex(),1));M=T[0].get_originVertex();c=T[0].get_destinationVertex();for(var X=1,ja=T.length;X<ja;)U=X++,U=T[U],U.get_originVertex()==M?a=U.get_destinationVertex():U.get_destinationVertex()==M?a=U.get_originVertex():U.get_originVertex()==c?(a=U.get_destinationVertex(),
M=c):U.get_destinationVertex()==c&&(a=U.get_originVertex(),M=c),ia=this.getCopyPoint(a.get_pos()),B.push(ia),c=-f.h[M.__id__],S.set(ia,c),oa.set(g,ia),f.set(a,c),g=ia,c=M,M=a;oa.set(g,ra);S.set(ra,0);T=[];a=new L;T.push(d);a.set(d,0);f=0;for(g=B.length;f<g;)if(d=f++,U=B[d],-1==S.h[U.__id__]){for(d=ha.length-2;0<=d;){c=ea.getDirection(ha[d].x,ha[d].y,ha[d+1].x,ha[d+1].y,U.x,U.y);if(-1!=c){ha.shift();for(c=0;c<d;)c++,T.push(ha[0]),a.set(ha[0],1),ha.shift();T.push(ha[0]);a.set(ha[0],1);w.splice(0,w.length);
w.push(ha[0]);w.push(U);break}--d}w.push(U);for(d=w.length-3;0<=d;){c=ea.getDirection(w[d].x,w[d].y,w[d+1].x,w[d+1].y,U.x,U.y);if(-1==c)break;else w.splice(d+1,1);--d}}else{for(d=w.length-2;0<=d;){c=ea.getDirection(w[d].x,w[d].y,w[d+1].x,w[d+1].y,U.x,U.y);if(1!=c){w.shift();for(c=0;c<d;)c++,T.push(w[0]),a.set(w[0],-1),w.shift();T.push(w[0]);a.set(w[0],-1);ha.splice(0,ha.length);ha.push(w[0]);ha.push(U);break}--d}ha.push(U);for(d=ha.length-3;0<=d;){c=ea.getDirection(ha[d].x,ha[d].y,ha[d+1].x,ha[d+
1].y,U.x,U.y);if(1==c)break;else ha.splice(d+1,1);--d}}B=!1;for(d=w.length-2;0<=d;){c=ea.getDirection(w[d].x,w[d].y,w[d+1].x,w[d+1].y,x,O);if(1!=c){w.shift();B=0;for(d+=1;B<d;)B++,T.push(w[0]),a.set(w[0],-1),w.shift();T.push(ra);a.set(ra,0);B=!0;break}--d}if(!B)for(d=ha.length-2;0<=d;){c=ea.getDirection(ha[d].x,ha[d].y,ha[d+1].x,ha[d+1].y,x,O);if(-1!=c){ha.shift();x=0;for(O=d+1;x<O;)x++,T.push(ha[0]),a.set(ha[0],1),ha.shift();T.push(ra);a.set(ra,0);B=!0;break}--d}B||(T.push(ra),a.set(ra,0));x=[];
if(0<this.get_radius()){O=[];if(2==T.length)this.adjustWithTangents(T[0],!1,T[1],!1,S,oa,O,x);else if(2<T.length){this.adjustWithTangents(T[0],!1,T[1],!0,S,oa,O,x);if(3<T.length)for(ha=1,w=T.length-3+1;ha<w;)B=ha++,this.adjustWithTangents(T[B],!0,T[B+1],!0,S,oa,O,x);ha=T.length;this.adjustWithTangents(T[ha-2],!0,T[ha-1],!1,S,oa,O,x)}O.push(ra);this.checkAdjustedPath(O,x,S);oa=[];for(ra=O.length-2;1<=ra;){for(this.smoothAngle(x[2*ra-1],O[ra],x[2*ra],S.h[O[ra].__id__],oa);0!=oa.length;)ha=2*ra,x.splice(ha,
0),w=oa.pop(),x.splice(ha,0,w);--ra}}else x=T;S=0;for(ra=x.length;S<ra;)O=S++,na.push(x[O].x),na.push(x[O].y)}},adjustWithTangents:function(c,g,x,O,S,T,na,ha){var ra=[],oa=S.h[c.__id__],w=S.h[x.__id__],d=null,a=null;if(g||O)if(g)if(O)if(1==oa&&1==w)ea.tangentsParalCircleToCircle(this._radius,c.x,c.y,x.x,x.y,ra),d=this.getPoint(ra[2],ra[3]),a=this.getPoint(ra[4],ra[5]);else if(-1==oa&&-1==w)ea.tangentsParalCircleToCircle(this._radius,c.x,c.y,x.x,x.y,ra),d=this.getPoint(ra[0],ra[1]),a=this.getPoint(ra[6],
ra[7]);else if(1==oa&&-1==w)if(ea.tangentsCrossCircleToCircle(this._radius,c.x,c.y,x.x,x.y,ra))d=this.getPoint(ra[2],ra[3]),a=this.getPoint(ra[6],ra[7]);else return;else if(ea.tangentsCrossCircleToCircle(this._radius,c.x,c.y,x.x,x.y,ra))d=this.getPoint(ra[0],ra[1]),a=this.getPoint(ra[4],ra[5]);else return;else if(ea.tangentsPointToCircle(x.x,x.y,c.x,c.y,this._radius,ra))0<ra.length&&(d=1==oa?this.getPoint(ra[0],ra[1]):this.getPoint(ra[2],ra[3]),a=x);else return;else if(ea.tangentsPointToCircle(c.x,
c.y,x.x,x.y,this._radius,ra))1==w?(d=c,a=this.getPoint(ra[2],ra[3])):(d=c,a=this.getPoint(ra[0],ra[1]));else return;else d=c,a=x;for(ra=T.h[c.__id__];ra!=x;){oa=ea.distanceSquaredPointToSegment(ra.x,ra.y,d.x,d.y,a.x,a.y);if(oa<this._radiusSquared){this.adjustWithTangents(c,g,ra,!0,S,T,na,ha);this.adjustWithTangents(ra,!0,x,O,S,T,na,ha);return}ra=T.h[ra.__id__]}ha.push(d);ha.push(a);na.push(c)},checkAdjustedPath:function(c,g,x){for(var O=!0,S,T,na,ha,ra,oa,w,d=[],a=null,f=null;O;){O=!1;for(var B=2;B<
c.length;)ha=c[B],ra=x.h[ha.__id__],S=c[B-1],na=x.h[S.__id__],S=c[B-2],T=x.h[S.__id__],na==ra&&(na=g[2*(B-2)],oa=g[2*(B-1)-1],w=g[2*(B-1)],na=(na.x-oa.x)*(w.x-oa.x)+(na.y-oa.y)*(w.y-oa.y),0<na&&(2==B?(ea.tangentsPointToCircle(S.x,S.y,ha.x,ha.y,this._radius,d),1==ra?(a=S,f=this.getPoint(d[2],d[3])):(a=S,f=this.getPoint(d[0],d[1]))):B==c.length-1?(ea.tangentsPointToCircle(ha.x,ha.y,S.x,S.y,this._radius,d),a=1==T?this.getPoint(d[0],d[1]):this.getPoint(d[2],d[3]),f=ha):1==T&&-1==ra?(ea.tangentsCrossCircleToCircle(this._radius,
S.x,S.y,ha.x,ha.y,d),a=this.getPoint(d[2],d[3]),f=this.getPoint(d[6],d[7])):-1==T&&1==ra?(ea.tangentsCrossCircleToCircle(this._radius,S.x,S.y,ha.x,ha.y,d),a=this.getPoint(d[0],d[1]),f=this.getPoint(d[4],d[5])):1==T&&1==ra?(ea.tangentsParalCircleToCircle(this._radius,S.x,S.y,ha.x,ha.y,d),a=this.getPoint(d[2],d[3]),f=this.getPoint(d[4],d[5])):-1==T&&-1==ra&&(ea.tangentsParalCircleToCircle(this._radius,S.x,S.y,ha.x,ha.y,d),a=this.getPoint(d[0],d[1]),f=this.getPoint(d[6],d[7])),ha=2*(B-2),g.splice(ha,
1),g.splice(ha,0,a),ha=2*B-1,g.splice(ha,1),g.splice(ha,0,f),c.splice(B-1,1),g.splice(2*(B-1)-1,2),d.splice(0,d.length),--B)),++B}},smoothAngle:function(c,g,x,O,S){var T=ea.getDirection(c.x,c.y,g.x,g.y,x.x,x.y);if(!((c.x-x.x)*(c.x-x.x)+(c.y-x.y)*(c.y-x.y)<=this._sampleCircleDistanceSquared)){for(var na=0,ha,ra,oa,w,d,a=0,f=this._numSamplesCircle;a<f;){ha=a++;oa=!1;w=g.x+this._sampleCircle[ha].x;d=g.y+this._sampleCircle[ha].y;ha=ea.getDirection(c.x,c.y,g.x,g.y,w,d);ra=ea.getDirection(g.x,g.y,x.x,x.y,
w,d);if(1==O)if(-1==T)-1==ha&&-1==ra&&(oa=!0);else{if(-1==ha||-1==ra)oa=!0}else if(1==T)1==ha&&1==ra&&(oa=!0);else if(1==ha||1==ra)oa=!0;oa?(S.splice(na,0),oa=new ua(w,d),S.splice(na,0,oa),++na):na=0}-1==O&&S.reverse()}},__class__:z};var I=N.hxDaedalus.ai.PathFinder=function(){this.astar=new q;this.funnel=new z;this.listFaces=[];this.listEdges=[]};I.__name__=!0;I.prototype={dispose:function(){this._mesh=null;this.astar.dispose();this.astar=null;this.funnel.dispose();this.listFaces=this.listEdges=
this.funnel=null},get_mesh:function(){return this._mesh},set_mesh:function(c){this._mesh=c;this.astar.set_mesh(this._mesh);return c},findPath:function(c,g,x){x.splice(0,x.length);ea.isCircleIntersectingAnyConstraint(c,g,this.entity.get_radius(),this._mesh)||(this.astar.set_radius(this.entity.get_radius()),this.funnel.set_radius(this.entity.get_radius()),this.listFaces.splice(0,this.listFaces.length),this.listEdges.splice(0,this.listEdges.length),this.astar.findPath(this.entity.x,this.entity.y,c,g,
this.listFaces,this.listEdges),0!=this.listFaces.length&&this.funnel.findPath(this.entity.x,this.entity.y,c,g,this.listFaces,this.listEdges,x))},__class__:I};I=N.hxDaedalus.ai.trajectory.LinearPathSampler=function(){this._samplingDistance=this._samplingDistanceSquared=1;this._preCompX=[];this._preCompY=[]};I.__name__=!0;I.pythag=function(c,g){return Math.sqrt(c*c+g*g)};I.prototype={dispose:function(){this._preCompY=this._preCompX=this._path=this.entity=null},get_x:function(){return this._currentX},
get_y:function(){return this._currentY},get_hasPrev:function(){return this._hasPrev},get_hasNext:function(){return this._hasNext},get_count:function(){return this._count},set_count:function(c){this._count=c;0>this._count&&(this._count=0);this._count>this.get_countMax()-1&&(this._count=this.get_countMax()-1);this._hasPrev=0==this._count?!1:!0;this._hasNext=this._count==this.get_countMax()-1?!1:!0;this._currentX=this._preCompX[this._count];this._currentY=this._preCompY[this._count];this.updateEntity();
return this._count},get_countMax:function(){return this._preCompX.length-1},get_samplingDistance:function(){return this._samplingDistance},set_samplingDistance:function(c){this._samplingDistance=c;this._samplingDistanceSquared=this._samplingDistance*this._samplingDistance;return c},set_path:function(c){this._path=c;this._preComputed=!1;this.reset();return c},reset:function(){0<this._path.length?(this._currentX=this._path[0],this._currentY=this._path[1],this._iPrev=0,this._iNext=2,this._hasPrev=!1,
this._hasNext=!0,this._count=0,this.updateEntity()):(this._hasNext=this._hasPrev=!1,this._count=0)},preCompute:function(){this._preCompX.splice(0,this._preCompX.length);this._preCompY.splice(0,this._preCompY.length);this._count=0;this._preCompX.push(this._currentX);this._preCompY.push(this._currentY);for(this._preComputed=!1;this.next();)this._preCompX.push(this._currentX),this._preCompY.push(this._currentY);this.reset();this._preComputed=!0},prev:function(){if(!this._hasPrev)return!1;this._hasNext=
!0;if(this._preComputed)return this._count--,0==this._count&&(this._hasPrev=!1),this._currentX=this._preCompX[this._count],this._currentY=this._preCompY[this._count],this.updateEntity(),!0;for(var c=this._samplingDistance,g;;){g=this._currentX-this._path[this._iPrev];var x=this._currentY-this._path[this._iPrev+1];g=Math.sqrt(g*g+x*x);if(g<c){if(c-=g,this._iPrev-=2,this._iNext-=2,0==this._iNext)break}else break}0==this._iNext?(this._currentX=this._path[0],this._currentY=this._path[1],this._hasPrev=
!1,this._iNext=2,this._iPrev=0):(this._currentX+=(this._path[this._iPrev]-this._currentX)*c/g,this._currentY+=(this._path[this._iPrev+1]-this._currentY)*c/g);this.updateEntity();return!0},next:function(){if(!this._hasNext)return!1;this._hasPrev=!0;if(this._preComputed)return this._count++,this._count==this._preCompX.length-1&&(this._hasNext=!1),this._currentX=this._preCompX[this._count],this._currentY=this._preCompY[this._count],this.updateEntity(),!0;for(var c=this._samplingDistance,g;;){g=this._currentX-
this._path[this._iNext];var x=this._currentY-this._path[this._iNext+1];g=Math.sqrt(g*g+x*x);if(g<c){if(c-=g,this._currentX=this._path[this._iNext],this._currentY=this._path[this._iNext+1],this._iPrev+=2,this._iNext+=2,this._iNext==this._path.length)break}else break}this._iNext==this._path.length?(this._currentX=this._path[this._iPrev],this._currentY=this._path[this._iPrev+1],this._hasNext=!1,this._iNext=this._path.length-2,this._iPrev=this._iNext-2):(this._currentX+=(this._path[this._iNext]-this._currentX)*
c/g,this._currentY+=(this._path[this._iNext+1]-this._currentY)*c/g);this.updateEntity();return!0},updateEntity:function(){null!=this.entity&&(isNaN(this._currentX)&&isNaN(this._currentY),this.entity.x=this._currentX,this.entity.y=this._currentY)},__class__:I};I=N.hxDaedalus.ai.trajectory.PathIterator=function(){};I.__name__=!0;I.prototype={get_entity:function(){return this._entity},set_entity:function(c){return this._entity=c},get_x:function(){return this._currentX},get_y:function(){return this._currentY},
get_hasPrev:function(){return this._hasPrev},get_hasNext:function(){return this._hasNext},get_count:function(){return this._count},get_countMax:function(){return this._countMax},set_path:function(c){this._path=c;this._countMax=this._path.length/2|0;this.reset();return c},reset:function(){this._count=0;this._currentX=this._path[this._count];this._currentY=this._path[this._count+1];this.updateEntity();this._hasPrev=!1;this._hasNext=2<this._path.length},prev:function(){if(!this._hasPrev)return!1;this._hasNext=
!0;this._count--;this._currentX=this._path[2*this._count];this._currentY=this._path[2*this._count+1];this.updateEntity();0==this._count&&(this._hasPrev=!1);return!0},next:function(){if(!this._hasNext)return!1;this._hasPrev=!0;this._count++;this._currentX=this._path[2*this._count];this._currentY=this._path[2*this._count+1];this.updateEntity();2*(this._count+1)==this._path.length&&(this._hasNext=!1);return!0},updateEntity:function(){null!=this._entity&&(this._entity.x=this._currentX,this._entity.y=
this._currentY)},__class__:I};I=N.hxDaedalus.data.Constants=function(){};I.__name__=!0;var P=N.hxDaedalus.data.ConstraintSegment=function(){this._id=P.INC;P.INC++;this._edges=[]};P.__name__=!0;P.prototype={get_id:function(){return this._id},addEdge:function(c){-1==this._edges.indexOf(c)&&-1==this._edges.indexOf(c.get_oppositeEdge())&&this._edges.push(c)},removeEdge:function(c){var g=this._edges.indexOf(c);-1==g&&(g=this._edges.indexOf(c.get_oppositeEdge()));-1!=g&&this._edges.splice(g,1)},get_edges:function(){return this._edges},
dispose:function(){this.fromShape=this._edges=null},toString:function(){return"seg_id "+this._id},__class__:P};var m=N.hxDaedalus.data.ConstraintShape=function(){this._id=m.INC;m.INC++;this.segments=[]};m.__name__=!0;m.prototype={get_id:function(){return this._id},dispose:function(){for(;0<this.segments.length;)this.segments.pop().dispose();this.segments=null},__class__:m};var k=N.hxDaedalus.data.Edge=function(){this.colorDebug=-1;this._id=k.INC;k.INC++;this.fromConstraintSegments=[]};k.__name__=
!0;k.prototype={get_id:function(){return this._id},get_isReal:function(){return this._isReal},get_isConstrained:function(){return this._isConstrained},setDatas:function(c,g,x,O,S,T){null==T&&(T=!1);null==S&&(S=!0);this._isConstrained=T;this._isReal=S;this._originVertex=c;this._oppositeEdge=g;this._nextLeftEdge=x;this._leftFace=O},addFromConstraintSegment:function(c){-1==this.fromConstraintSegments.indexOf(c)&&this.fromConstraintSegments.push(c)},removeFromConstraintSegment:function(c){c=this.fromConstraintSegments.indexOf(c);
-1!=c&&this.fromConstraintSegments.splice(c,1)},set_originVertex:function(c){return this._originVertex=c},set_nextLeftEdge:function(c){return this._nextLeftEdge=c},set_leftFace:function(c){return this._leftFace=c},set_isConstrained:function(c){return this._isConstrained=c},dispose:function(){this.fromConstraintSegments=this._leftFace=this._nextLeftEdge=this._oppositeEdge=this._originVertex=null},get_originVertex:function(){return this._originVertex},get_destinationVertex:function(){return this.get_oppositeEdge().get_originVertex()},
get_oppositeEdge:function(){return this._oppositeEdge},get_nextLeftEdge:function(){return this._nextLeftEdge},get_prevLeftEdge:function(){return this._nextLeftEdge.get_nextLeftEdge()},get_nextRightEdge:function(){return this._oppositeEdge.get_nextLeftEdge().get_nextLeftEdge().get_oppositeEdge()},get_prevRightEdge:function(){return this._oppositeEdge.get_nextLeftEdge().get_oppositeEdge()},get_rotLeftEdge:function(){return this._nextLeftEdge.get_nextLeftEdge().get_oppositeEdge()},get_rotRightEdge:function(){return this._oppositeEdge.get_nextLeftEdge()},
get_leftFace:function(){return this._leftFace},get_rightFace:function(){return this._oppositeEdge.get_leftFace()},toString:function(){return"edge "+this.get_originVertex().get_id()+" - "+this.get_destinationVertex().get_id()},__class__:k};var h=N.hxDaedalus.data.Face=function(){this.colorDebug=-1;this._id=h.INC;h.INC++};h.__name__=!0;h.prototype={get_id:function(){return this._id},get_isReal:function(){return this._isReal},set_datas:function(c){this._isReal=!0;this._edge=c},setDatas:function(c,g){null==
g&&(g=!0);this._isReal=g;this._edge=c},dispose:function(){this._edge=null},get_edge:function(){return this._edge},__class__:h};var r=N.hxDaedalus.data.Mesh=function(c,g){this.__objectsUpdateInProgress=!1;this._vertices=this._edges=this._faces=this._constraintShapes=this._objects=this.__centerVertex=this.__edgesToCheck=null;this._clipping=!1;this._width=this._height=0;this._id=r.INC;r.INC++;this._width=c;this._height=g;this._clipping=!0;this._vertices=[];this._edges=[];this._faces=[];this._constraintShapes=
[];this._objects=[];this.__edgesToCheck=[]};r.__name__=!0;r.prototype={get_height:function(){return this._height},get_width:function(){return this._width},get_clipping:function(){return this._clipping},set_clipping:function(c){return this._clipping=c},get_id:function(){return this._id},dispose:function(){for(;0<this._vertices.length;)this._vertices.pop().dispose();for(this._vertices=null;0<this._edges.length;)this._edges.pop().dispose();for(this._edges=null;0<this._faces.length;)this._faces.pop().dispose();
for(this._faces=null;0<this._constraintShapes.length;)this._constraintShapes.pop().dispose();for(this._constraintShapes=null;0<this._objects.length;)this._objects.pop().dispose();this.__centerVertex=this.__edgesToCheck=this._objects=null},get___constraintShapes:function(){return this._constraintShapes},buildFromRecord:function(c){c=c.split(";");for(var g=0;g<c.length;)this.insertConstraintSegment(parseFloat(c[g]),parseFloat(c[g+1]),parseFloat(c[g+2]),parseFloat(c[g+3])),g+=4},insertObject:function(c){null!=
c.get_constraintShape()&&this.deleteObject(c);var g=new m,x=c.get_coordinates(),O=c.get_matrix();c.updateMatrixFromValues();for(var S,T,na,ha,ra=0;ra<x.length;){S=x[ra];T=x[ra+1];na=x[ra+2];ha=x[ra+3];var oa=O.transformX(S,T);S=O.transformY(S,T);T=O.transformX(na,ha);na=O.transformY(na,ha);oa=this.insertConstraintSegment(oa,S,T,na);null!=oa&&(oa.fromShape=g,g.segments.push(oa));ra+=4}this._constraintShapes.push(g);c.set_constraintShape(g);this.__objectsUpdateInProgress||this._objects.push(c)},deleteObject:function(c){null!=
c.get_constraintShape()&&(this.deleteConstraintShape(c.get_constraintShape()),c.set_constraintShape(null),this.__objectsUpdateInProgress||(c=this._objects.indexOf(c),this._objects.splice(c,1)))},updateObjects:function(){this.__objectsUpdateInProgress=!0;for(var c=0,g=this._objects.length;c<g;){var x=c++;this._objects[x].get_hasChanged()&&(this.deleteObject(this._objects[x]),this.insertObject(this._objects[x]),this._objects[x].set_hasChanged(!1))}this.__objectsUpdateInProgress=!1},insertConstraintShape:function(c){for(var g=
new m,x,O=0;O<c.length;)x=this.insertConstraintSegment(c[O],c[O+1],c[O+2],c[O+3]),null!=x&&(x.fromShape=g,g.segments.push(x)),O+=4;this._constraintShapes.push(g);return g},deleteConstraintShape:function(c){for(var g=0,x=c.segments.length;g<x;){var O=g++;this.deleteConstraintSegment(c.segments[O])}c.dispose();this._constraintShapes.splice(this._constraintShapes.indexOf(c),1)},insertConstraintSegment:function(c,g,x,O){var S=this.findPositionFromBounds(c,g),T=this.findPositionFromBounds(x,O),na=c,ha=
g,ra=x,oa=O;if(this._clipping&&(0!=S||0!=T)){var w=new ua;if(0!=S&&0!=T){if(0>=c&&0>=x||c>=this._width&&x>=this._width||0>=g&&0>=O||g>=this._height&&O>=this._height)return null;if(8==S&&4==T||4==S&&8==T)ea.intersections2segments(c,g,x,O,0,0,0,this._height,w),na=w.x,ha=w.y,ea.intersections2segments(c,g,x,O,this._width,0,this._width,this._height,w),ra=w.x,oa=w.y;else if(2==S&&6==T||6==S&&2==T)ea.intersections2segments(c,g,x,O,0,0,this._width,0,w),na=w.x,ha=w.y,ea.intersections2segments(c,g,x,O,0,this._height,
this._width,this._height,w),ra=w.x,oa=w.y;else if(2==S&&8==T||8==S&&2==T)if(ea.intersections2segments(c,g,x,O,0,0,this._width,0,w))na=w.x,ha=w.y,ea.intersections2segments(c,g,x,O,0,0,0,this._height,w),ra=w.x,oa=w.y;else return null;else if(2==S&&4==T||4==S&&2==T)if(ea.intersections2segments(c,g,x,O,0,0,this._width,0,w))na=w.x,ha=w.y,ea.intersections2segments(c,g,x,O,this._width,0,this._width,this._height,w),ra=w.x,oa=w.y;else return null;else if(6==S&&4==T||4==S&&6==T)if(ea.intersections2segments(c,
g,x,O,0,this._height,this._width,this._height,w))na=w.x,ha=w.y,ea.intersections2segments(c,g,x,O,this._width,0,this._width,this._height,w),ra=w.x,oa=w.y;else return null;else if(8==S&&6==T||6==S&&8==T)if(ea.intersections2segments(c,g,x,O,0,this._height,this._width,this._height,w))na=w.x,ha=w.y,ea.intersections2segments(c,g,x,O,0,0,0,this._height,w),ra=w.x,oa=w.y;else return null;else if(T=S=!1,ea.intersections2segments(c,g,x,O,0,0,this._width,0,w)&&(na=w.x,ha=w.y,S=!0),ea.intersections2segments(c,
g,x,O,this._width,0,this._width,this._height,w)&&(S?(ra=w.x,oa=w.y,T=!0):(na=w.x,ha=w.y,S=!0)),!T&&ea.intersections2segments(c,g,x,O,0,this._height,this._width,this._height,w)&&(S?(ra=w.x,oa=w.y,T=!0):(na=w.x,ha=w.y,S=!0)),!T&&ea.intersections2segments(c,g,x,O,0,0,0,this._height,w)&&(ra=w.x,oa=w.y),!S)return null}else 2==S||2==T?ea.intersections2segments(c,g,x,O,0,0,this._width,0,w):4==S||4==T?ea.intersections2segments(c,g,x,O,this._width,0,this._width,this._height,w):6==S||6==T?ea.intersections2segments(c,
g,x,O,0,this._height,this._width,this._height,w):8==S||8==T?ea.intersections2segments(c,g,x,O,0,0,0,this._height,w):ea.intersections2segments(c,g,x,O,0,0,this._width,0,w)||ea.intersections2segments(c,g,x,O,this._width,0,this._width,this._height,w)||ea.intersections2segments(c,g,x,O,0,this._height,this._width,this._height,w)||ea.intersections2segments(c,g,x,O,0,0,0,this._height,w),0==S?(na=c,ha=g):(na=x,ha=O),ra=w.x,oa=w.y}c=this.insertVertex(na,ha);if(null==c)return null;ra=this.insertVertex(ra,oa);
if(null==ra||c==ra)return null;oa=new za;g=new P;x=new k;O=new k;x.setDatas(c,O,null,null,!0,!0);O.setDatas(ra,x,null,null,!0,!0);O=[];na=[];ha=[];var d;w=new ua;for(d=ka.EVertex(c);;){var a=!1;switch(d[1]){case 0:S=d[2];for(oa.set_fromVertex(S);;){T=oa.next();if(null==T)break;if(T.get_destinationVertex()==ra)return T.get_isConstrained()||(T.set_isConstrained(!0),T.get_oppositeEdge().set_isConstrained(!0)),T.addFromConstraintSegment(g),T.get_oppositeEdge().fromConstraintSegments=T.fromConstraintSegments,
c.addFromConstraintSegment(g),ra.addFromConstraintSegment(g),g.addEdge(T),g;if(1E-4>=ea.distanceSquaredVertexToEdge(T.get_destinationVertex(),x)){T.get_isConstrained()||(T.set_isConstrained(!0),T.get_oppositeEdge().set_isConstrained(!0));T.addFromConstraintSegment(g);T.get_oppositeEdge().fromConstraintSegments=T.fromConstraintSegments;c.addFromConstraintSegment(g);g.addEdge(T);c=T.get_destinationVertex();x.set_originVertex(c);d=ka.EVertex(c);a=!0;break}}if(a)continue;for(oa.set_fromVertex(S);;){T=
oa.next();if(null==T)break;T=T.get_nextLeftEdge();if(ea.intersections2edges(T,x,w)){if(T.get_isConstrained()){c=this.splitEdge(T,w.x,w.y);for(oa.set_fromVertex(S);;){T=oa.next();if(null==T)break;if(T.get_destinationVertex()==c){T.set_isConstrained(!0);T.get_oppositeEdge().set_isConstrained(!0);T.addFromConstraintSegment(g);T.get_oppositeEdge().fromConstraintSegments=T.fromConstraintSegments;g.addEdge(T);break}}S.addFromConstraintSegment(g);x.set_originVertex(c);d=ka.EVertex(c)}else O.push(T),na.unshift(T.get_nextLeftEdge()),
ha.push(T.get_prevLeftEdge()),T=T.get_oppositeEdge(),d=ka.EEdge(T);break}}break;case 1:T=d[2];S=T.get_nextLeftEdge();if(S.get_destinationVertex()==ra)return na.unshift(S.get_nextLeftEdge()),ha.push(S),T=new k,d=new k,T.setDatas(c,d,null,null,!0,!0),d.setDatas(ra,T,null,null,!0,!0),na.push(T),ha.push(d),this.insertNewConstrainedEdge(g,T,O,na,ha),g;if(1E-4>=ea.distanceSquaredVertexToEdge(S.get_destinationVertex(),x))na.unshift(S.get_nextLeftEdge()),ha.push(S),T=new k,d=new k,T.setDatas(c,d,null,null,
!0,!0),d.setDatas(S.get_destinationVertex(),T,null,null,!0,!0),na.push(T),ha.push(d),this.insertNewConstrainedEdge(g,T,O,na,ha),O.splice(0,O.length),na.splice(0,na.length),ha.splice(0,ha.length),c=S.get_destinationVertex(),x.set_originVertex(c),d=ka.EVertex(c);else if(ea.intersections2edges(S,x,w))if(S.get_isConstrained()){S=this.splitEdge(S,w.x,w.y);for(oa.set_fromVertex(S);;){T=oa.next();if(null==T)break;T.get_destinationVertex()==na[0].get_originVertex()&&na.unshift(T);T.get_destinationVertex()==
ha[ha.length-1].get_destinationVertex()&&ha.push(T.get_oppositeEdge())}T=new k;d=new k;T.setDatas(c,d,null,null,!0,!0);d.setDatas(S,T,null,null,!0,!0);na.push(T);ha.push(d);this.insertNewConstrainedEdge(g,T,O,na,ha);O.splice(0,O.length);na.splice(0,na.length);ha.splice(0,ha.length);c=S;x.set_originVertex(c);d=ka.EVertex(c)}else O.push(S),na.unshift(S.get_nextLeftEdge()),T=S.get_oppositeEdge(),d=ka.EEdge(T);else if(S=S.get_nextLeftEdge(),ea.intersections2edges(S,x,w),S.get_isConstrained()){S=this.splitEdge(S,
w.x,w.y);for(oa.set_fromVertex(S);;){T=oa.next();if(null==T)break;T.get_destinationVertex()==na[0].get_originVertex()&&na.unshift(T);T.get_destinationVertex()==ha[ha.length-1].get_destinationVertex()&&ha.push(T.get_oppositeEdge())}T=new k;d=new k;T.setDatas(c,d,null,null,!0,!0);d.setDatas(S,T,null,null,!0,!0);na.push(T);ha.push(d);this.insertNewConstrainedEdge(g,T,O,na,ha);O.splice(0,O.length);na.splice(0,na.length);ha.splice(0,ha.length);c=S;x.set_originVertex(c);d=ka.EVertex(c)}else O.push(S),ha.push(S.get_prevLeftEdge()),
T=S.get_oppositeEdge(),d=ka.EEdge(T)}}},insertNewConstrainedEdge:function(c,g,x,O,S){this._edges.push(g);this._edges.push(g.get_oppositeEdge());g.addFromConstraintSegment(c);g.get_oppositeEdge().fromConstraintSegments=g.fromConstraintSegments;c.addEdge(g);g.get_originVertex().addFromConstraintSegment(c);g.get_destinationVertex().addFromConstraintSegment(c);this.untriangulate(x);this.triangulate(O,!0);this.triangulate(S,!0)},deleteConstraintSegment:function(c){for(var g=[],x=null,O,S=0,T=c.get_edges().length;S<
T;)x=S++,x=c.get_edges()[x],x.removeFromConstraintSegment(c),0==x.fromConstraintSegments.length&&(x.set_isConstrained(!1),x.get_oppositeEdge().set_isConstrained(!1)),O=x.get_originVertex(),O.removeFromConstraintSegment(c),g.push(O);O=x.get_destinationVertex();O.removeFromConstraintSegment(c);g.push(O);S=0;for(T=g.length;S<T;)x=S++,this.deleteVertex(g[x]);c.dispose()},check:function(){for(var c=0,g=this._edges.length;c<g;){var x=c++;if(null==this._edges[x].get_nextLeftEdge())break}},insertVertex:function(c,
g){if(0>c||0>g||c>this._width||g>this._height)return null;this.__edgesToCheck.splice(0,this.__edgesToCheck.length);var x=ea.locatePosition(c,g,this),O=null;switch(x[1]){case 0:O=x[2];break;case 1:O=this.splitEdge(x[2],c,g);break;case 2:O=this.splitFace(x[2],c,g)}this.restoreAsDelaunay();return O},flipEdge:function(c){var g=c.get_oppositeEdge(),x=new k,O=new k,S=c.get_nextLeftEdge(),T=S.get_nextLeftEdge(),na=g.get_nextLeftEdge(),ha=na.get_nextLeftEdge(),ra=c.get_originVertex(),oa=g.get_originVertex(),
w=T.get_originVertex(),d=ha.get_originVertex(),a=c.get_leftFace(),f=g.get_leftFace(),B=new h,U=new h;this._edges.push(x);this._edges.push(O);this._faces.push(U);this._faces.push(B);x.setDatas(w,O,ha,U,c.get_isReal(),c.get_isConstrained());O.setDatas(d,x,T,B,c.get_isReal(),c.get_isConstrained());U.setDatas(x);B.setDatas(O);oa.get_edge()==g&&oa.setDatas(S);ra.get_edge()==c&&ra.setDatas(na);S.set_nextLeftEdge(x);S.set_leftFace(U);T.set_nextLeftEdge(na);T.set_leftFace(B);na.set_nextLeftEdge(O);na.set_leftFace(B);
ha.set_nextLeftEdge(S);ha.set_leftFace(U);c.dispose();g.dispose();this._edges.splice(this._edges.indexOf(c),1);this._edges.splice(this._edges.indexOf(g),1);a.dispose();f.dispose();this._faces.splice(this._faces.indexOf(a),1);this._faces.splice(this._faces.indexOf(f),1);return O},splitEdge:function(c,g,x){this.__edgesToCheck.splice(0,this.__edgesToCheck.length);var O=c.get_oppositeEdge(),S=c.get_nextLeftEdge(),T=S.get_nextLeftEdge(),na=O.get_nextLeftEdge(),ha=na.get_nextLeftEdge(),ra=T.get_originVertex(),
oa=c.get_originVertex(),w=ha.get_originVertex(),d=O.get_originVertex(),a=c.get_leftFace(),f=O.get_leftFace();if(1E-4>=(oa.get_pos().x-g)*(oa.get_pos().x-g)+(oa.get_pos().y-x)*(oa.get_pos().y-x))return oa;if(1E-4>=(d.get_pos().x-g)*(d.get_pos().x-g)+(d.get_pos().y-x)*(d.get_pos().y-x))return d;var B=new J,U=new k,ia=new k,M=new k,X=new k,ja=new k,ta=new k,Ea=new k,Ia=new k,Na=new h,Ra=new h,Xa=new h,ab=new h;this._vertices.push(B);this._edges.push(ia);this._edges.push(U);this._edges.push(ta);this._edges.push(ja);
this._edges.push(X);this._edges.push(M);this._edges.push(Ia);this._edges.push(Ea);this._faces.push(ab);this._faces.push(Xa);this._faces.push(Ra);this._faces.push(Na);B.setDatas(a.get_isReal()?ia:X);B.get_pos().x=g;B.get_pos().y=x;ea.projectOrthogonaly(B.get_pos(),c);ia.setDatas(B,U,T,Na,a.get_isReal());U.setDatas(ra,ia,Ia,ab,a.get_isReal());ta.setDatas(B,ja,na,Ra,c.get_isReal(),c.get_isConstrained());ja.setDatas(oa,ta,ia,Na,c.get_isReal(),c.get_isConstrained());X.setDatas(B,M,ha,Xa,f.get_isReal());
M.setDatas(w,X,ta,Ra,f.get_isReal());Ia.setDatas(B,Ea,S,ab,c.get_isReal(),c.get_isConstrained());Ea.setDatas(d,Ia,X,Xa,c.get_isReal(),c.get_isConstrained());Na.setDatas(ia,a.get_isReal());Ra.setDatas(ta,f.get_isReal());Xa.setDatas(X,f.get_isReal());ab.setDatas(Ia,a.get_isReal());oa.get_edge()==c&&oa.setDatas(ja);d.get_edge()==O&&d.setDatas(Ea);T.set_nextLeftEdge(ja);T.set_leftFace(Na);na.set_nextLeftEdge(M);na.set_leftFace(Ra);ha.set_nextLeftEdge(Ea);ha.set_leftFace(Xa);S.set_nextLeftEdge(U);S.set_leftFace(ab);
if(c.get_isConstrained()){g=c.fromConstraintSegments;ja.fromConstraintSegments=g.slice(0);ta.fromConstraintSegments=ja.fromConstraintSegments;Ia.fromConstraintSegments=g.slice(0);Ea.fromConstraintSegments=Ia.fromConstraintSegments;x=0;for(ra=c.fromConstraintSegments.length;x<ra;)oa=x++,oa=c.fromConstraintSegments[oa].get_edges(),w=oa.indexOf(c),-1!=w?(oa.splice(w,1),oa.splice(w,0,ja),oa.splice(w+1,0,Ia)):(w=oa.indexOf(O),oa.splice(w,1),oa.splice(w,0,Ea),oa.splice(w+1,0,ta));B.set_fromConstraintSegments(g.slice(0))}c.dispose();
O.dispose();this._edges.splice(this._edges.indexOf(c),1);this._edges.splice(this._edges.indexOf(O),1);a.dispose();f.dispose();this._faces.splice(this._faces.indexOf(a),1);this._faces.splice(this._faces.indexOf(f),1);this.__centerVertex=B;this.__edgesToCheck.push(T);this.__edgesToCheck.push(na);this.__edgesToCheck.push(ha);this.__edgesToCheck.push(S);return B},splitFace:function(c,g,x){this.__edgesToCheck.splice(0,this.__edgesToCheck.length);var O=c.get_edge(),S=O.get_nextLeftEdge(),T=S.get_nextLeftEdge(),
na=O.get_originVertex(),ha=S.get_originVertex(),ra=T.get_originVertex(),oa=new J,w=new k,d=new k,a=new k,f=new k,B=new k,U=new k,ia=new h,M=new h,X=new h;this._vertices.push(oa);this._edges.push(w);this._edges.push(d);this._edges.push(a);this._edges.push(f);this._edges.push(B);this._edges.push(U);this._faces.push(ia);this._faces.push(M);this._faces.push(X);oa.setDatas(d);oa.get_pos().x=g;oa.get_pos().y=x;w.setDatas(na,d,U,X);d.setDatas(oa,w,O,ia);a.setDatas(ha,f,d,ia);f.setDatas(oa,a,S,M);B.setDatas(ra,
U,f,M);U.setDatas(oa,B,T,X);ia.setDatas(d);M.setDatas(f);X.setDatas(U);O.set_nextLeftEdge(a);O.set_leftFace(ia);S.set_nextLeftEdge(B);S.set_leftFace(M);T.set_nextLeftEdge(w);T.set_leftFace(X);c.dispose();this._faces.splice(this._faces.indexOf(c),1);this.__centerVertex=oa;this.__edgesToCheck.push(O);this.__edgesToCheck.push(S);this.__edgesToCheck.push(T);return oa},restoreAsDelaunay:function(){for(var c;0<this.__edgesToCheck.length;)c=this.__edgesToCheck.shift(),!c.get_isReal()||c.get_isConstrained()||
ea.isDelaunay(c)||(c.get_nextLeftEdge().get_destinationVertex()==this.__centerVertex?(this.__edgesToCheck.push(c.get_nextRightEdge()),this.__edgesToCheck.push(c.get_prevRightEdge())):(this.__edgesToCheck.push(c.get_nextLeftEdge()),this.__edgesToCheck.push(c.get_prevLeftEdge())),this.flipEdge(c))},deleteVertex:function(c){var g=new za;g.set_fromVertex(c);g.realEdgesOnly=!1;var x=[];var O=0==c.get_fromConstraintSegments().length;var S=[],T=!1,na=!1,ha=[],ra=[];if(O)for(;;){var oa=g.next();if(null==
oa)break;x.push(oa);S.push(oa.get_nextLeftEdge())}else{ha=0;for(ra=c.get_fromConstraintSegments().length;ha<ra;)if(T=ha++,oa=c.get_fromConstraintSegments()[T].get_edges(),oa[0].get_originVertex()==c||oa[oa.length-1].get_destinationVertex()==c)return!1;for(ha=0;;){oa=g.next();if(null==oa)break;x.push(oa);if(oa.get_isConstrained()&&(++ha,2<ha))return!1}ha=[];ra=[];var w=g=null,d=new k,a=new k;this._edges.push(d);this._edges.push(a);T=0;for(na=x.length;T<na;)oa=T++,oa=x[oa],oa.get_isConstrained()?null==
g?(a.setDatas(oa.get_destinationVertex(),d,null,null,!0,!0),ha.push(d),ha.push(oa.get_nextLeftEdge()),ra.push(a),g=oa):null==w&&(d.setDatas(oa.get_destinationVertex(),a,null,null,!0,!0),ra.push(oa.get_nextLeftEdge()),w=oa):null==g?ra.push(oa.get_nextLeftEdge()):null==w?ha.push(oa.get_nextLeftEdge()):ra.push(oa.get_nextLeftEdge());T=g.get_leftFace().get_isReal();na=w.get_leftFace().get_isReal();d.fromConstraintSegments=g.fromConstraintSegments.slice(0);a.fromConstraintSegments=d.fromConstraintSegments;
for(var f,B=0,U=c.get_fromConstraintSegments().length;B<U;)oa=B++,oa=c.get_fromConstraintSegments()[oa].get_edges(),f=oa.indexOf(g),-1!=f?(oa.splice(f-1,2),oa.splice(f-1,0,d)):(f=oa.indexOf(w)-1,oa.splice(f,2),oa.splice(f,0,a))}g=0;for(w=x.length;g<w;)d=g++,oa=x[d],d=oa.get_leftFace(),this._faces.splice(this._faces.indexOf(d),1),d.dispose(),oa.get_destinationVertex().set_edge(oa.get_nextLeftEdge()),this._edges.splice(this._edges.indexOf(oa.get_oppositeEdge()),1),oa.get_oppositeEdge().dispose(),this._edges.splice(this._edges.indexOf(oa),
1),oa.dispose();this._vertices.splice(this._vertices.indexOf(c),1);c.dispose();O?this.triangulate(S,!0):(this.triangulate(ha,T),this.triangulate(ra,na));return!0},untriangulate:function(c){for(var g=new L,x,O=0,S=c.length;O<S;){var T=O++;x=c[T];var na=x.get_originVertex();null==g.h[na.__id__]&&(x.get_originVertex().set_edge(x.get_prevLeftEdge().get_oppositeEdge()),g.set(x.get_originVertex(),!0));na=x.get_destinationVertex();null==g.h[na.__id__]&&(x.get_destinationVertex().set_edge(x.get_nextLeftEdge()),
g.set(x.get_destinationVertex(),!0));this._faces.splice(this._faces.indexOf(x.get_leftFace()),1);x.get_leftFace().dispose();T==c.length-1&&(this._faces.splice(this._faces.indexOf(x.get_rightFace()),1),x.get_rightFace().dispose())}g=0;for(O=c.length;g<O;)x=g++,x=c[x],this._edges.splice(this._edges.indexOf(x.get_oppositeEdge()),1),this._edges.splice(this._edges.indexOf(x),1),x.get_oppositeEdge().dispose(),x.dispose()},triangulate:function(c,g){if(!(2>c.length))if(2==c.length)c[0].get_originVertex().get_id(),
c[0].get_destinationVertex().get_id(),c[1].get_originVertex().get_id(),c[1].get_destinationVertex().get_id();else if(3==c.length){var x=new h;x.setDatas(c[0],g);this._faces.push(x);c[0].set_leftFace(x);c[1].set_leftFace(x);c[2].set_leftFace(x);c[0].set_nextLeftEdge(c[1]);c[1].set_nextLeftEdge(c[2]);c[2].set_nextLeftEdge(c[0])}else{x=c[0];for(var O=x.get_originVertex(),S=x.get_destinationVertex(),T,na,ha=new ua,ra=!1,oa=0,w=2,d=c.length;w<d;){var a=w++;T=c[a].get_originVertex();if(1==ea.getRelativePosition2(T.get_pos().x,
T.get_pos().y,x)){oa=a;ra=!0;ea.getCircumcenter(O.get_pos().x,O.get_pos().y,S.get_pos().x,S.get_pos().y,T.get_pos().x,T.get_pos().y,ha);T=(O.get_pos().x-ha.x)*(O.get_pos().x-ha.x)+(O.get_pos().y-ha.y)*(O.get_pos().y-ha.y);T-=1E-4;for(var f=2,B=c.length;f<B;)if(na=f++,na!=a&&(na=c[na].get_originVertex(),na=(na.get_pos().x-ha.x)*(na.get_pos().x-ha.x)+(na.get_pos().y-ha.y)*(na.get_pos().y-ha.y),na<T)){ra=!1;break}if(ra)break}}if(!ra){oa="";S=0;for(ha=c.length;S<ha;)ra=S++,oa+=c[ra].get_originVertex().get_pos().x+
" , ",oa+=c[ra].get_originVertex().get_pos().y+" , ",oa+=c[ra].get_destinationVertex().get_pos().x+" , ",oa+=c[ra].get_destinationVertex().get_pos().y+" , ";oa=2}ha=S=null;oa<c.length-1&&(ra=new k,S=new k,this._edges.push(ra),this._edges.push(S),ra.setDatas(O,S,null,null,g,!1),S.setDatas(c[oa].get_originVertex(),ra,null,null,g,!1),O=c.slice(oa),O.push(ra),this.triangulate(O,g));2<oa&&(ha=new k,O=new k,this._edges.push(ha),this._edges.push(O),ha.setDatas(c[1].get_originVertex(),O,null,null,g,!1),O.setDatas(c[oa].get_originVertex(),
ha,null,null,g,!1),ra=c.slice(1,oa),ra.push(O),this.triangulate(ra,g));this.triangulate(2==oa?[x,c[1],S]:oa==c.length-1?[x,ha,c[oa]]:[x,ha,S],g)}},findPositionFromBounds:function(c,g){return 0>=c?0>=g?1:g>=this._height?7:8:c>=this._width?0>=g?3:g>=this._height?5:4:0>=g?2:g>=this._height?6:0},debug:function(){for(var c=0,g=this._vertices.length;c<g;){var x=c++;this._vertices[x].get_id();this._vertices[x].get_edge().get_id();t.string(this._vertices[x].get_edge());t.string(this._vertices[x].get_edge().get_isReal())}c=
0;for(g=this._edges.length;c<g;)x=c++,t.string(this._edges[x]),this._edges[x].get_id(),t.string(this._edges[x].get_isReal()),t.string(this._edges[x].get_nextLeftEdge()),t.string(this._edges[x].get_oppositeEdge())},getVerticesAndEdges:function(){var c={vertices:[],edges:[]},g=new qa;g.set_fromMesh(this);for(var x=new wa,O=new L;;){var S=g.next();if(null==S)break;O.set(S,!0);if(!(0>S.get_pos().x||S.get_pos().x>this.get_width()||0>S.get_pos().y||S.get_pos().y>this.get_height()))for(c.vertices.push(S),
x.set_fromVertex(S);;){S=x.next();if(null==S)break;var T=S.get_originVertex();O.h[T.__id__]||c.edges.push(S)}}return c},vertexIsInsideAABB:function(c,g){return!(0>c.get_pos().x||c.get_pos().x>g.get_width()||0>c.get_pos().y||c.get_pos().y>g.get_height())},__class__:r};var l=N.hxDaedalus.data.Object=function(){this._id=l.INC;l.INC++;this._pivotY=this._pivotX=0;this._matrix=new xa;this._scaleY=this._scaleX=1;this._y=this._x=this._rotation=0;this._coordinates=[];this._hasChanged=!1};l.__name__=!0;l.prototype=
{get_id:function(){return this._id},dispose:function(){this._constraintShape=this._coordinates=this._matrix=null},updateValuesFromMatrix:function(){},updateMatrixFromValues:function(){this._matrix.identity();this._matrix.translate(-this._pivotX,-this._pivotY);this._matrix.scale(this._scaleX,this._scaleY);this._matrix.rotate(this._rotation);this._matrix.translate(this._x,this._y)},get_pivotX:function(){return this._pivotX},set_pivotX:function(c){this._pivotX=c;this._hasChanged=!0;return c},get_pivotY:function(){return this._pivotY},
set_pivotY:function(c){this._pivotY=c;this._hasChanged=!0;return c},get_scaleX:function(){return this._scaleX},set_scaleX:function(c){this._scaleX!=c&&(this._scaleX=c,this._hasChanged=!0);return c},get_scaleY:function(){return this._scaleY},set_scaleY:function(c){this._scaleY!=c&&(this._scaleY=c,this._hasChanged=!0);return c},get_rotation:function(){return this._rotation},set_rotation:function(c){this._rotation!=c&&(this._rotation=c,this._hasChanged=!0);return c},get_x:function(){return this._x},
set_x:function(c){this._x!=c&&(this._x=c,this._hasChanged=!0);return c},get_y:function(){return this._y},set_y:function(c){this._y!=c&&(this._y=c,this._hasChanged=!0);return c},get_matrix:function(){return this._matrix},set_matrix:function(c){this._matrix=c;this._hasChanged=!0;return c},get_coordinates:function(){return this._coordinates},set_coordinates:function(c){this._coordinates=c;this._hasChanged=!0;return c},get_constraintShape:function(){return this._constraintShape},set_constraintShape:function(c){this._constraintShape=
c;this._hasChanged=!0;return c},get_hasChanged:function(){return this._hasChanged},set_hasChanged:function(c){return this._hasChanged=c},get_edges:function(){for(var c=[],g=this._constraintShape.segments,x=0,O=g.length;x<O;)for(var S=x++,T=0,na=g[S].get_edges().length;T<na;){var ha=T++;c.push(g[S].get_edges()[ha])}return c},__class__:l};var J=N.hxDaedalus.data.Vertex=function(){this.colorDebug=-1;this._id=J.INC;J.INC++;this._pos=new ua;this._fromConstraintSegments=[]};J.__name__=!0;J.prototype={get_id:function(){return this._id},
get_isReal:function(){return this._isReal},get_pos:function(){return this._pos},get_fromConstraintSegments:function(){return this._fromConstraintSegments},set_fromConstraintSegments:function(c){return this._fromConstraintSegments=c},setDatas:function(c,g){null==g&&(g=!0);this._isReal=g;this._edge=c},addFromConstraintSegment:function(c){-1==this._fromConstraintSegments.indexOf(c)&&this._fromConstraintSegments.push(c)},removeFromConstraintSegment:function(c){c=this._fromConstraintSegments.indexOf(c);
-1!=c&&this._fromConstraintSegments.splice(c,1)},dispose:function(){this._fromConstraintSegments=this._edge=this._pos=null},get_edge:function(){return this._edge},set_edge:function(c){return this._edge=c},toString:function(){return"ver_id "+this._id},__class__:J};var p=N.hxDaedalus.data.graph.Graph=function(){this._id=p.INC;p.INC++};p.__name__=!0;p.prototype={get_id:function(){return this._id},get_edge:function(){return this._edge},get_node:function(){return this._node},dispose:function(){for(;null!=
this._node;)this.deleteNode(this._node)},insertNode:function(){var c=new R;null!=this._node&&(c.set_next(this._node),this._node.set_prev(c));return this._node=c},deleteNode:function(c){for(;null!=c.get_outgoingEdge();)null!=c.get_outgoingEdge().get_oppositeEdge()&&this.deleteEdge(c.get_outgoingEdge().get_oppositeEdge()),this.deleteEdge(c.get_outgoingEdge());for(var g=this._node,x;null!=g;)x=g.get_successorNodes().h[c.__id__],null!=x&&this.deleteEdge(x),g=g.get_next();this._node==c?null!=c.get_next()?
(c.get_next().set_prev(null),this._node=c.get_next()):this._node=null:null!=c.get_next()?(c.get_prev().set_next(c.get_next()),c.get_next().set_prev(c.get_prev())):c.get_prev().set_next(null);c.dispose()},insertEdge:function(c,g){if(null!=c.get_successorNodes().h[g.__id__])return null;var x=new G;null!=this._edge&&(this._edge.set_prev(x),x.set_next(this._edge));this._edge=x;x.set_sourceNode(c);x.set_destinationNode(g);c.get_successorNodes().set(g,x);null!=c.get_outgoingEdge()&&(c.get_outgoingEdge().set_rotPrevEdge(x),
x.set_rotNextEdge(c.get_outgoingEdge()));c.set_outgoingEdge(x);c=g.get_successorNodes().h[c.__id__];null!=c&&(x.set_oppositeEdge(c),c.set_oppositeEdge(x));return x},deleteEdge:function(c){this._edge==c?null!=c.get_next()?(c.get_next().set_prev(null),this._edge=c.get_next()):this._edge=null:null!=c.get_next()?(c.get_prev().set_next(c.get_next()),c.get_next().set_prev(c.get_prev())):c.get_prev().set_next(null);c.get_sourceNode().get_outgoingEdge()==c?null!=c.get_rotNextEdge()?(c.get_rotNextEdge().set_rotPrevEdge(null),
c.get_sourceNode().set_outgoingEdge(c.get_rotNextEdge())):c.get_sourceNode().set_outgoingEdge(null):null!=c.get_rotNextEdge()?(c.get_rotPrevEdge().set_rotNextEdge(c.get_rotNextEdge()),c.get_rotNextEdge().set_rotPrevEdge(c.get_rotPrevEdge())):c.get_rotPrevEdge().set_rotNextEdge(null);c.dispose()},__class__:p};var G=N.hxDaedalus.data.graph.GraphEdge=function(){this._id=G.INC;G.INC++};G.__name__=!0;G.prototype={get_id:function(){return this._id},dispose:function(){},get_prev:function(){return this._prev},
set_prev:function(c){return this._prev=c},get_next:function(){return this._next},set_next:function(c){return this._next=c},get_rotPrevEdge:function(){return this._rotPrevEdge},set_rotPrevEdge:function(c){return this._rotPrevEdge=c},get_rotNextEdge:function(){return this._rotNextEdge},set_rotNextEdge:function(c){return this._rotNextEdge=c},get_oppositeEdge:function(){return this._oppositeEdge},set_oppositeEdge:function(c){return this._oppositeEdge=c},get_sourceNode:function(){return this._sourceNode},
set_sourceNode:function(c){return this._sourceNode=c},get_destinationNode:function(){return this._destinationNode},set_destinationNode:function(c){return this._destinationNode=c},get_data:function(){return this._data},set_data:function(c){return this._data=c},__class__:G};var R=N.hxDaedalus.data.graph.GraphNode=function(){this._id=R.INC;R.INC++;this._successorNodes=new L};R.__name__=!0;R.prototype={get_id:function(){return this._id},dispose:function(){this._data=this._successorNodes=this._outgoingEdge=
this._next=this._prev=null},get_prev:function(){return this._prev},set_prev:function(c){return this._prev=c},get_next:function(){return this._next},set_next:function(c){return this._next=c},get_outgoingEdge:function(){return this._outgoingEdge},set_outgoingEdge:function(c){return this._outgoingEdge=c},get_successorNodes:function(){return this._successorNodes},set_successorNodes:function(c){return this._successorNodes=c},get_data:function(){return this._data},set_data:function(c){return this._data=
c},__class__:R};var aa=N.hxDaedalus.data.math.EdgeData=function(){};aa.__name__=!0;aa.prototype={__class__:aa};var ka={__ename__:!0,__constructs__:["EVertex","EEdge","EFace","ENull"],EVertex:function(c){c=["EVertex",0,c];c.__enum__=ka;c.toString=Q;return c},EEdge:function(c){c=["EEdge",1,c];c.__enum__=ka;c.toString=Q;return c},EFace:function(c){c=["EFace",2,c];c.__enum__=ka;c.toString=Q;return c},ENull:["ENull",3]};ka.ENull.toString=Q;ka.ENull.__enum__=ka;var ua=N.hxDaedalus.data.math.Point2D=function(c,
g){null==g&&(g=0);null==c&&(c=0);this.x=c;this.y=g};ua.__name__=!0;ua.prototype={transform:function(c){c.tranform(this)},setXY:function(c,g){this.x=c;this.y=g},clone:function(){return new ua(this.x,this.y)},substract:function(c){this.x-=c.x;this.y-=c.y},get_length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){var c=this.get_length();this.x/=c;this.y/=c},scale:function(c){this.x*=c;this.y*=c},distanceTo:function(c){var g=this.x-c.x;c=this.y-c.y;return Math.sqrt(g*g+
c*c)},__class__:ua};var ea=N.hxDaedalus.data.math.Geom2D=function(){};ea.__name__=!0;ea.locatePosition=function(c,g,x){null==ea._randGen&&(ea._randGen=new K);ea._randGen.set_seed(10*c+4*g|0);ea.__samples.splice(0,ea.__samples.length);var O=Math.pow(x._vertices.length,.3333333333333333)|0;ea._randGen.rangeMin=0;ea._randGen.rangeMax=x._vertices.length-1;for(var S=0;S<O;){S++;var T=ea._randGen.next();ea.__samples.push(x._vertices[T])}S=Infinity;x=null;for(T=0;T<O;){var na=T++;na=ea.__samples[na];var ha=
na.get_pos();ha=(ha.x-c)*(ha.x-c)+(ha.y-g)*(ha.y-g);ha<S&&(S=ha,x=na)}O=new Ca;O.set_fromVertex(x);na=O.next();O=new L;x=new sa;S=ka.ENull;for(T=0;;){O.h[na.__id__]?ha=!0:(S=ea.isInFace(c,g,na),ha=3==S[1]?!0:!1);if(!ha)break;++T;for(x.set_fromFace(na);;){na=x.next();if(null==na)return ka.ENull;ha=ea.getRelativePosition(c,g,na);if(1!=ha&&0!=ha)break}na=na.get_rightFace()}return S};ea.isCircleIntersectingAnyConstraint=function(c,g,x,O){if(0>=c||c>=O.get_width()||0>=g||g>=O.get_height())return!0;O=ea.locatePosition(c,
g,O);switch(O[1]){case 0:var S=O[2].get_edge().get_leftFace();break;case 1:S=O[2].get_leftFace();break;case 2:S=O[2];break;case 3:S=null}O=x*x;var T=S.get_edge().get_originVertex().get_pos();T=(T.x-c)*(T.x-c)+(T.y-g)*(T.y-g);if(T<=O)return!0;T=S.get_edge().get_nextLeftEdge().get_originVertex().get_pos();T=(T.x-c)*(T.x-c)+(T.y-g)*(T.y-g);if(T<=O)return!0;T=S.get_edge().get_nextLeftEdge().get_nextLeftEdge().get_originVertex().get_pos();T=(T.x-c)*(T.x-c)+(T.y-g)*(T.y-g);if(T<=O)return!0;O=[];O.push(S.get_edge());
O.push(S.get_edge().get_nextLeftEdge());O.push(S.get_edge().get_nextLeftEdge().get_nextLeftEdge());for(T=new L;0<O.length;){S=O.pop();T.set(S,!0);var na=S.get_originVertex().get_pos();var ha=S.get_destinationVertex().get_pos();if(na=ea.intersectionsSegmentCircle(na.x,na.y,ha.x,ha.y,c,g,x)){if(S.get_isConstrained())return!0;S=S.get_oppositeEdge().get_nextLeftEdge();T.h[S.__id__]?na=!1:(na=S.get_oppositeEdge(),na=!T.h[na.__id__]);na&&-1==O.indexOf(S)&&-1==O.indexOf(S.get_oppositeEdge())&&O.push(S);
S=S.get_nextLeftEdge();T.h[S.__id__]?na=!1:(na=S.get_oppositeEdge(),na=!T.h[na.__id__]);na&&-1==O.indexOf(S)&&-1==O.indexOf(S.get_oppositeEdge())&&O.push(S)}}return!1};ea.getDirection=function(c,g,x,O,S,T){c=(S-c)*(O-g)+(T-g)*(-x+c);return 0==c?0:0<c?1:-1};ea.getDirection2=function(c,g,x,O,S,T){var na=(S-c)*(O-g)+(T-g)*(-x+c);return 0==na?0:0<na?1E-4>=ea.distanceSquaredPointToLine(S,T,c,g,x,O)?0:1:1E-4>=ea.distanceSquaredPointToLine(S,T,c,g,x,O)?0:-1};ea.getRelativePosition=function(c,g,x){return ea.getDirection(x.get_originVertex().get_pos().x,
x.get_originVertex().get_pos().y,x.get_destinationVertex().get_pos().x,x.get_destinationVertex().get_pos().y,c,g)};ea.getRelativePosition2=function(c,g,x){return ea.getDirection2(x.get_originVertex().get_pos().x,x.get_originVertex().get_pos().y,x.get_destinationVertex().get_pos().x,x.get_destinationVertex().get_pos().y,c,g)};ea.isInFace=function(c,g,x){var O=ka.ENull,S=x.get_edge(),T=S.get_nextLeftEdge(),na=T.get_nextLeftEdge();if(0<=ea.getRelativePosition(c,g,S)&&0<=ea.getRelativePosition(c,g,T)&&
0<=ea.getRelativePosition(c,g,na)){O=S.get_originVertex();var ha=T.get_originVertex(),ra=na.get_originVertex(),oa=O.get_pos().x,w=O.get_pos().y,d=ha.get_pos().x,a=ha.get_pos().y,f=ra.get_pos().x,B=ra.get_pos().y,U=(c-oa)*(d-oa)+(g-w)*(a-w),ia=(c-d)*(f-d)+(g-a)*(B-a),M=(c-f)*(oa-f)+(g-B)*(w-B);ia=1E-4>=(d-c)*(d-c)+(a-g)*(a-g)-ia*ia/((f-d)*(f-d)+(B-a)*(B-a));f=1E-4>=(f-c)*(f-c)+(B-g)*(B-g)-M*M/((oa-f)*(oa-f)+(w-B)*(w-B));O=1E-4>=(oa-c)*(oa-c)+(w-g)*(w-g)-U*U/((d-oa)*(d-oa)+(a-w)*(a-w))?f?ka.EVertex(O):
ia?ka.EVertex(ha):ka.EEdge(S):ia?f?ka.EVertex(ra):ka.EEdge(T):f?ka.EEdge(na):ka.EFace(x)}return O};ea.clipSegmentByTriangle=function(c,g,x,O,S,T,na,ha,ra,oa,w,d){var a=ea.getDirection(S,T,na,ha,c,g);var f=ea.getDirection(S,T,na,ha,x,O);if(0>=a&&0>=f)return!1;var B=ea.getDirection(na,ha,ra,oa,c,g);var U=ea.getDirection(na,ha,ra,oa,x,O);if(0>=B&&0>=U)return!1;var ia=ea.getDirection(ra,oa,S,T,c,g);var M=ea.getDirection(ra,oa,S,T,x,O);if(0>=ia&&0>=M)return!1;if(0<=a&&0<=B&&0<=ia&&0<=f&&0<=U&&0<=M)return w.x=
c,w.y=g,d.x=x,d.y=O,!0;var X=0;ea.intersections2segments(c,g,x,O,S,T,na,ha,w,null)&&++X;0==X?ea.intersections2segments(c,g,x,O,na,ha,ra,oa,w,null)&&++X:ea.intersections2segments(c,g,x,O,na,ha,ra,oa,d,null)&&(-.01>w.x-d.x||.01<w.x-d.x||-.01>w.y-d.y||.01<w.y-d.y)&&++X;0==X?ea.intersections2segments(c,g,x,O,ra,oa,S,T,w,null)&&++X:1==X&&ea.intersections2segments(c,g,x,O,ra,oa,S,T,d,null)&&(-.01>w.x-d.x||.01<w.x-d.x||-.01>w.y-d.y||.01<w.y-d.y)&&++X;1==X&&(0<=a&&0<=B&&0<=ia?(d.x=c,d.y=g):0<=f&&0<=U&&0<=
M?(d.x=x,d.y=O):X=0);return 0<X?!0:!1};ea.isSegmentIntersectingTriangle=function(c,g,x,O,S,T,na,ha,ra,oa){var w=ea.getDirection(S,T,na,ha,c,g);var d=ea.getDirection(S,T,na,ha,x,O);if(0>=w&&0>=d)return!1;var a=ea.getDirection(na,ha,ra,oa,c,g);var f=ea.getDirection(na,ha,ra,oa,x,O);if(0>=a&&0>=f)return!1;var B=ea.getDirection(ra,oa,S,T,c,g);var U=ea.getDirection(ra,oa,S,T,x,O);if(0>=B&&0>=U)return!1;if(1==w&&1==a&&1==B||1==w&&1==a&&1==B)return!0;if(1==w&&0>=d||0>=w&&1==d)if(w=ea.getDirection(c,g,x,
O,S,T),d=ea.getDirection(c,g,x,O,na,ha),1==w&&0>=d||0>=w&&1==d)return!0;if(1==a&&0>=f||0>=a&&1==f)if(w=ea.getDirection(c,g,x,O,na,ha),d=ea.getDirection(c,g,x,O,ra,oa),1==w&&0>=d||0>=w&&1==d)return!0;if(1==B&&0>=U||0>=B&&1==U)if(w=ea.getDirection(c,g,x,O,ra,oa),d=ea.getDirection(c,g,x,O,S,T),1==w&&0>=d||0>=w&&1==d)return!0;return!1};ea.isDelaunay=function(c){var g=c.get_originVertex(),x=c.get_destinationVertex(),O=c.get_nextLeftEdge().get_destinationVertex();c=c.get_nextRightEdge().get_destinationVertex();
ea.getCircumcenter(O.get_pos().x,O.get_pos().y,g.get_pos().x,g.get_pos().y,x.get_pos().x,x.get_pos().y,ea.__circumcenter);g=(O.get_pos().x-ea.__circumcenter.x)*(O.get_pos().x-ea.__circumcenter.x)+(O.get_pos().y-ea.__circumcenter.y)*(O.get_pos().y-ea.__circumcenter.y);return(c.get_pos().x-ea.__circumcenter.x)*(c.get_pos().x-ea.__circumcenter.x)+(c.get_pos().y-ea.__circumcenter.y)*(c.get_pos().y-ea.__circumcenter.y)>=g};ea.getCircumcenter=function(c,g,x,O,S,T,na){null==na&&(na=new ua);var ha=(c+x)/
2,ra=(g+O)/2;S=(ha*(c-S)+(ra-(g+T)/2)*(g-T)+(c+S)/2*(S-c))/(c*(T-O)+x*(g-T)+S*(O-g));na.x=ha+S*(O-g);na.y=ra-S*(x-c);return na};ea.intersections2segments=function(c,g,x,O,S,T,na,ha,ra,oa,w){null==w&&(w=!1);var d=0,a=0,f=(c-x)*(T-ha)+(O-g)*(S-na);if(0==f)var B=!1;else B=!0,w&&null==ra&&null==oa||(d=(c*(T-ha)+g*(na-S)+S*ha-T*na)/f,a=(c*(T-O)+g*(x-S)-x*T+O*S)/f,w||0<=d&&1>=d&&0<=a&&1>=a||(B=!1));B&&(null!=ra&&(ra.x=c+d*(x-c),ra.y=g+d*(O-g)),null!=oa&&(oa.push(d),oa.push(a)));return B};ea.intersections2edges=
function(c,g,x,O,S){null==S&&(S=!1);return ea.intersections2segments(c.get_originVertex().get_pos().x,c.get_originVertex().get_pos().y,c.get_destinationVertex().get_pos().x,c.get_destinationVertex().get_pos().y,g.get_originVertex().get_pos().x,g.get_originVertex().get_pos().y,g.get_destinationVertex().get_pos().x,g.get_destinationVertex().get_pos().y,x,O,S)};ea.isConvex=function(c){var g=!0;var x=c.get_nextLeftEdge().get_oppositeEdge();var O=c.get_nextRightEdge().get_destinationVertex();-1!=ea.getRelativePosition(O.get_pos().x,
O.get_pos().y,x)?g=!1:(x=c.get_prevRightEdge(),O=c.get_prevLeftEdge().get_originVertex(),-1!=ea.getRelativePosition(O.get_pos().x,O.get_pos().y,x)&&(g=!1));return g};ea.projectOrthogonaly=function(c,g){var x=g.get_originVertex().get_pos().x,O=g.get_originVertex().get_pos().y,S=g.get_destinationVertex().get_pos().x;g=g.get_destinationVertex().get_pos().y;var T=c.x,na=c.y;T=(x*x-x*S-x*T+O*O-O*g-O*na+S*T+g*na)/(x*x-2*x*S+O*O-2*O*g+S*S+g*g);c.x=x+T*(S-x);c.y=O+T*(g-O)};ea.intersections2Circles=function(c,
g,x,O,S,T,na){var ha=(O-c)*(O-c)+(S-g)*(S-g);if((c!=O||g!=S)&&ha<=(x+T)*(x+T)&&ha>=(x-T)*(x-T)){var ra=Math.sqrt(((x+T)*(x+T)-ha)*(ha-(T-x)*(T-x))),oa=(c+O)/2+(O-c)*(x*x-T*T)/(2*ha);x=(g+S)/2+(S-g)*(x*x-T*T)/(2*ha);g=(S-g)/(2*ha);O=(O-c)/(2*ha);if(null!=na)for(c=0,ra=[oa+g*ra,x-O*ra,oa-g*ra,x+O*ra];c<ra.length;)oa=ra[c],++c,na.push(oa);return!0}return!1};ea.intersectionsSegmentCircle=function(c,g,x,O,S,T,na,ha){var ra=c*c,oa=g*g,w=O*O-2*O*g+oa+x*x-2*x*c+ra,d=2*g*T-2*ra+2*O*g-2*oa+2*x*c-2*x*S+2*c*
S-2*O*T;S=d*d-4*w*(oa+T*T+S*S-2*g*T-2*c*S+ra-na*na);if(0>S)return!1;if(0==S){S=-d/(2*w);if(0>S||1<S)return!1;if(null!=ha)for(w=0,c=[c+S*(x-c),g+S*(O-g),S];w<c.length;)g=c[w],++w,ha.push(g);return!0}T=Math.sqrt(S);S=(-d+T)/(2*w);w=(-d-T)/(2*w);d=!1;if(0<=S&&1>=S){if(null!=ha)for(d=0,S=[c+S*(x-c),g+S*(O-g),S];d<S.length;)T=S[d],++d,ha.push(T);d=!0}if(0<=w&&1>=w){if(null!=ha)for(d=0,c=[c+w*(x-c),g+w*(O-g),w];d<c.length;)g=c[d],++d,ha.push(g);d=!0}return d};ea.intersectionsLineCircle=function(c,g,x,O,
S,T,na,ha){var ra=c*c,oa=g*g,w=O*O-2*O*g+oa+x*x-2*x*c+ra,d=2*g*T-2*ra+2*O*g-2*oa+2*x*c-2*x*S+2*c*S-2*O*T;S=d*d-4*w*(oa+T*T+S*S-2*g*T-2*c*S+ra-na*na);if(0>S)return!1;if(0==S)for(S=-d/(2*w),w=0,c=[c+S*(x-c),g+S*(O-g),S];w<c.length;)g=c[w],++w,ha.push(g);else if(0<S)for(T=Math.sqrt(S),S=(-d+T)/(2*w),d=(-d-T)/(2*w),w=0,c=[c+S*(x-c),g+S*(O-g),S,c+d*(x-c),g+d*(O-g),d];w<c.length;)g=c[w],++w,ha.push(g);return!0};ea.tangentsPointToCircle=function(c,g,x,O,S,T){return ea.intersections2Circles((c+x)/2,(g+O)/
2,.5*Math.sqrt((c-x)*(c-x)+(g-O)*(g-O)),x,O,S,T)};ea.tangentsCrossCircleToCircle=function(c,g,x,O,S,T){var na=Math.sqrt((g-O)*(g-O)+(x-S)*(x-S));if(ea.intersections2Circles(g,x,c,g+(O-g)/4,x+(S-x)/4,na/4,T)){c=T[0];var ha=T[1],ra=(g+O)/2,oa=(x+S)/2;na=((c-ra)*(S-x)+(ha-oa)*(-O+g))/(na*na);x=2*(ra+na*(S-x))-c;O=2*(oa-na*(O-g))-ha;g=0;for(c=[x+T[2]-c,T[3]+O-ha,x,O];g<c.length;)ha=c[g],++g,T.push(ha);return!0}return!1};ea.tangentsParalCircleToCircle=function(c,g,x,O,S,T){var na=Math.sqrt((g-O)*(g-O)+
(x-S)*(x-S)),ha=g+c*(S-x)/na;na=x+c*(-O+g)/na;var ra=2*g-ha,oa=2*x-na;c=0;for(g=[ha,na,ra,oa,ra+O-g,oa+S-x,ha+O-g,na+S-x];c<g.length;)x=g[c],++c,T.push(x)};ea.distanceSquaredPointToLine=function(c,g,x,O,S,T){var na=(c-x)*(S-x)+(g-O)*(T-O);return(x-c)*(x-c)+(O-g)*(O-g)-na*na/((S-x)*(S-x)+(T-O)*(T-O))};ea.distanceSquaredPointToSegment=function(c,g,x,O,S,T){var na=(S-x)*(S-x)+(T-O)*(T-O),ha=((c-x)*(S-x)+(g-O)*(T-O))/na;return 0>ha?(c-x)*(c-x)+(g-O)*(g-O):1>=ha?(x-c)*(x-c)+(O-g)*(O-g)-ha*ha*na:(c-S)*
(c-S)+(g-T)*(g-T)};ea.distanceSquaredVertexToEdge=function(c,g){return ea.distanceSquaredPointToSegment(c.get_pos().x,c.get_pos().y,g.get_originVertex().get_pos().x,g.get_originVertex().get_pos().y,g.get_destinationVertex().get_pos().x,g.get_destinationVertex().get_pos().y)};ea.pathLength=function(c){for(var g=0,x=c[0],O=c[1],S,T,na=2;na<c.length;)S=c[na],T=c[na+1],x=S-x,O=T-O,O=Math.sqrt(x*x+O*O),g+=O,x=S,O=T,na+=2;return g};ea.prototype={__class__:ea};var xa=N.hxDaedalus.data.math.Matrix2D=function(c,
g,x,O,S,T){null==T&&(T=0);null==S&&(S=0);null==O&&(O=1);null==x&&(x=0);null==g&&(g=0);null==c&&(c=1);this.a=c;this.b=g;this.c=x;this.d=O;this.e=S;this.f=T};xa.__name__=!0;xa.prototype={identity:function(){this.a=1;this.c=this.b=0;this.d=1;this.f=this.e=0},translate:function(c,g){this.e+=c;this.f+=g},scale:function(c,g){this.a*=c;this.b*=g;this.c*=c;this.d*=g;this.e*=c;this.f*=g},rotate:function(c){var g=Math.cos(c);c=Math.sin(c);var x=this.a*c+this.b*g,O=this.c*g+this.d*-c,S=this.c*c+this.d*g,T=this.e*
g+this.f*-c,na=this.e*c+this.f*g;this.a=this.a*g+this.b*-c;this.b=x;this.c=O;this.d=S;this.e=T;this.f=na},clone:function(){return new xa(this.a,this.b,this.c,this.d,this.e,this.f)},tranform:function(c){var g=this.b*c.x+this.d*c.y+this.f;c.x=this.a*c.x+this.c*c.y+this.e;c.y=g},transformX:function(c,g){return this.a*c+this.c*g+this.e},transformY:function(c,g){return this.b*c+this.d*g+this.f},concat:function(c){var g=this.a*c.b+this.b*c.d,x=this.c*c.a+this.d*c.c,O=this.c*c.b+this.d*c.d,S=this.e*c.a+
this.f*c.c+c.e,T=this.e*c.b+this.f*c.d+c.f;this.a=this.a*c.a+this.b*c.c;this.b=g;this.c=x;this.d=O;this.e=S;this.f=T},__class__:xa};var ba=N.hxDaedalus.data.math.NodeData=function(){};ba.__name__=!0;ba.prototype={__class__:ba};var fa=N.hxDaedalus.data.math.Potrace=function(){};fa.__name__=!0;fa.buildShapes=function(c,g,x){for(var O=[],S=new F,T=1,na=c.height-1;T<na;)for(var ha=T++,ra=0,oa=c.width-1;ra<oa;){var w=ra++;if(16777215==Ba.getPixel(c,w,ha)&&16777215>Ba.getPixel(c,w+1,ha)){var d=w+1+"_"+
ha;(null!=gb[d]?S.getReserved(d):S.h[d])||O.push(fa.buildShape(c,ha,w+1,S,g,x))}}return O};fa.buildShape=function(c,g,x,O,S,T){var na=x,ha=g,ra=[na,ha],oa=na+"_"+ha;null!=gb[oa]?O.setReserved(oa,!0):O.h[oa]=!0;oa=new ua(0,1);for(var w=new ua,d,a,f=-1;;){null!=S&&Ba.setPixel32(S,x,g,-65536);d=g+oa.x+oa.y|0;a=x+oa.x-oa.y|0;16777215>Ba.getPixel(c,a,d)?(w.x=-oa.y,w.y=oa.x):(d=g+oa.y|0,a=x+oa.x|0,16777215>Ba.getPixel(c,a,d)?(w.x=oa.x,w.y=oa.y):(d=g,a=x,w.x=oa.y,w.y=-oa.x));na+=oa.x;ha+=oa.y;if(na==ra[0]&&
ha==ra[1])break;else ra.push(na),ra.push(ha),g=na+"_"+ha,null!=gb[g]?O.setReserved(g,!0):O.h[g]=!0,g=d,x=a,oa.x=w.x,oa.y=w.y;--f;if(0==f)break}if(null!=T){T.graphics.lineStyle(.5,65280,1);T.graphics.moveTo(ra[0],ra[1]);for(c=2;c<ra.length;)T.graphics.lineTo(ra[c],ra[c+1]),c+=2;T.graphics.lineTo(ra[0],ra[1])}return ra};fa.buildGraph=function(c){var g,x=new p;for(g=0;g<c.length;){var O=x.insertNode();O.set_data(new ba);O.get_data().index=g;var S=c[g],T=c[g+1];O.get_data().point=new ua(S,T);g+=2}for(c=
x.get_node();null!=c;){for(g=null!=c.get_next()?c.get_next():x.get_node();g!=c;){var na=!0;T=null!=c.get_next()?c.get_next():x.get_node();S=2;for(O=0;T!=g;){var ha=ea.distanceSquaredPointToSegment(T.get_data().point.x,T.get_data().point.y,c.get_data().point.x,c.get_data().point.y,g.get_data().point.x,g.get_data().point.y);0>ha&&(ha=0);if(ha>=fa.maxDistance){na=!1;break}++S;O+=ha;T=null!=T.get_next()?T.get_next():x.get_node()}if(!na)break;T=x.insertEdge(c,g);ha=new aa;ha.sumDistancesSquared=O;ha.length=
c.get_data().point.distanceTo(g.get_data().point);ha.nodesCount=S;T.set_data(ha);g=null!=g.get_next()?g.get_next():x.get_node()}c=c.get_next()}return x};fa.buildPolygon=function(c,g){var x=[],O,S=2147483647,T=null;for(O=c.get_node();O.get_data().index<S;){S=O.get_data().index;x.push(O.get_data().point.x);x.push(O.get_data().point.y);c=0;for(O=O.get_outgoingEdge();null!=O;){var na=O.get_data().nodesCount-O.get_data().length*Math.sqrt(O.get_data().sumDistancesSquared/O.get_data().nodesCount);na>c&&
(c=na,T=O);O=O.get_rotNextEdge()}O=T.get_destinationNode()}0==ea.getDirection(x[x.length-2],x[x.length-1],x[0],x[1],x[2],x[3])&&(x.shift(),x.shift());if(null!=g){g.graphics.lineStyle(.5,255);g.graphics.moveTo(x[0],x[1]);for(S=2;S<x.length;)g.graphics.lineTo(x[S],x[S+1]),S+=2;g.graphics.lineTo(x[0],x[1])}return x};fa.prototype={__class__:fa};var K=N.hxDaedalus.data.math.RandGenerator=function(c,g,x){null==x&&(x=1);null==g&&(g=0);null==c&&(c=1234);this._originalSeed=this._currSeed=c;this.rangeMin=g;
this.rangeMax=x;this._numIter=0};K.__name__=!0;K.prototype={set_seed:function(c){return this._originalSeed=this._currSeed=c},get_seed:function(){return this._originalSeed},reset:function(){this._currSeed=this._originalSeed;this._numIter=0},next:function(){var c=1*this._currSeed;for(this._tempString=t.string(c*c);8>this._tempString.length;)this._tempString="0"+this._tempString;this._currSeed=t.parseInt(H.substr(this._tempString,1,5));c=Math.round(this.rangeMin+this._currSeed/99999*(this.rangeMax-this.rangeMin));
0==this._currSeed&&(this._currSeed=this._originalSeed+this._numIter);this._numIter++;200==this._numIter&&this.reset();return c},nextInRange:function(c,g){this.rangeMin=c;this.rangeMax=g;return this.next()},shuffle:function(c){for(var g=c.length;0<g;){var x=this.nextInRange(0,g-1);--g;var O=c[g];c[g]=c[x];c[x]=O}},__class__:K};var V=N.hxDaedalus.data.math.ShapeSimplifier=function(){};V.__name__=!0;V.simplify=function(c,g){null==g&&(g=1);var x=c.length;if(4>=x||1>g)return[].concat(c);var O=c[0],S=c[1],
T=c[x-2],na=c[x-1],ha=-1,ra=0,oa=1;for(x>>=1;oa<x;){var w=oa++,d=ea.distanceSquaredPointToSegment(c[w<<1],c[(w<<1)+1],O,S,T,na);d>ra&&(ra=d,ha=w)}return ra>g*g?(O=c.slice(0,(ha<<1)+2),c=c.slice(ha<<1),ha=V.simplify(O,g),g=V.simplify(c,g),ha.slice(0,ha.length-2).concat(g)):[O,S,T,na]};var ca=N.hxDaedalus.data.math.Tools=function(){};ca.__name__=!0;ca.extractMeshFromBitmap=function(c,g,x){var O=fa.buildShapes(c);return ca.extractMeshFromShapes(O,c.width,c.height,g,x)};ca.extractMeshFromShapes=function(c,
g,x,O,S,T){null==T&&(T=!1);for(var na=[],ha=0,ra=c.length;ha<ra;){var oa=ha++;na.push(fa.buildGraph(c[oa]))}ha=[];c=0;for(ra=na.length;c<ra;)oa=c++,ha.push(fa.buildPolygon(na[oa]));na=ma.buildRectangle(g,x);c=[];oa=0;for(var w=ha.length;oa<w;){for(var d=oa++,a=0;a<ha[d].length-2;)ra=na.insertConstraintSegment(ha[d][a],ha[d][a+1],ha[d][a+2],ha[d][a+3]),0==a&&(ra.get_edges()[0].get_originVertex().get_pos().x==ha[d][a]&&ra.get_edges()[0].get_originVertex().get_pos().y==ha[d][a+1]?T?c.push(ra.get_edges()[0].get_oppositeEdge()):
c.push(ra.get_edges()[0]):T?c.push(ra.get_edges()[0]):c.push(ra.get_edges()[0].get_oppositeEdge())),a+=2;na.insertConstraintSegment(ha[d][0],ha[d][1],ha[d][a],ha[d][a+1])}T=new L;ha=0;for(ra=na._vertices.length;ha<ra;)oa=ha++,oa=na._vertices[oa],oa.get_isReal()&&0<oa.get_pos().x&&oa.get_pos().x<g&&0<oa.get_pos().y&&oa.get_pos().y<x&&(w=new ua(oa.get_pos().x,oa.get_pos().y),O.push(w),T.set(oa,O.length-1));g=new L;x=[];O=0;for(ha=c.length;O<ha;)ra=O++,x.push(c[ra].get_rightFace());for(;0<x.length;)O=
x.pop(),g.h[O.__id__]||(c=O.get_edge().get_originVertex(),S.push(T.h[c.__id__]),c=O.get_edge().get_nextLeftEdge().get_originVertex(),S.push(T.h[c.__id__]),c=O.get_edge().get_nextLeftEdge().get_destinationVertex(),S.push(T.h[c.__id__]),O.get_edge().get_isConstrained()||x.push(O.get_edge().get_rightFace()),O.get_edge().get_nextLeftEdge().get_isConstrained()||x.push(O.get_edge().get_nextLeftEdge().get_rightFace()),O.get_edge().get_prevLeftEdge().get_isConstrained()||x.push(O.get_edge().get_prevLeftEdge().get_rightFace()),
g.set(O,!0));return na};var Z=N.hxDaedalus.factories.BitmapMesh=function(){};Z.__name__=!0;Z.buildFromBmpData=function(c,g,x){g=fa.buildShapes(c,g,x);for(var O=[],S=0,T=g.length;S<T;){var na=S++;O.push(fa.buildGraph(g[na]))}g=[];S=0;for(T=O.length;S<T;)na=S++,g.push(fa.buildPolygon(O[na],x));x=ma.buildRectangle(c.width,c.height);O=0;for(S=g.length;O<S;){T=O++;for(c=0;c<g[T].length-2;)x.insertConstraintSegment(g[T][c],g[T][c+1],g[T][c+2],g[T][c+3]),c+=2;x.insertConstraintSegment(g[T][0],g[T][1],g[T][c],
g[T][c+1])}return x};Z.prototype={__class__:Z};Z=N.hxDaedalus.factories.BitmapObject=function(){};Z.__name__=!0;Z.buildFromBmpData=function(c,g,x,O){null==g&&(g=1);c=fa.buildShapes(c,x,O);if(1<=g){x=0;for(var S=c.length;x<S;){var T=x++;c[T]=V.simplify(c[T],g)}}g=[];x=0;for(S=c.length;x<S;)T=x++,g.push(fa.buildGraph(c[T]));c=[];x=0;for(S=g.length;x<S;)T=x++,c.push(fa.buildPolygon(g[T],O));g=new l;x=0;for(S=c.length;x<S;){T=x++;for(O=0;O<c[T].length-2;)g.get_coordinates().push(c[T][O]),g.get_coordinates().push(c[T][O+
1]),g.get_coordinates().push(c[T][O+2]),g.get_coordinates().push(c[T][O+3]),O+=2;g.get_coordinates().push(c[T][0]);g.get_coordinates().push(c[T][1]);g.get_coordinates().push(c[T][O]);g.get_coordinates().push(c[T][O+1])}return g};Z.prototype={__class__:Z};var ma=N.hxDaedalus.factories.RectMesh=function(){};ma.__name__=!0;ma.buildRectangle=function(c,g){var x=new J,O=new J,S=new J,T=new J,na=new k,ha=new k,ra=new k,oa=new k,w=new k,d=new k,a=new k,f=new k,B=new k,U=new k,ia=new k,M=new k,X=new h,ja=
new h,ta=new h,Ea=new h,Ia=new m,Na=new P,Ra=new P,Xa=new P,ab=new P,hb=new r(c,g);x.get_pos().setXY(-10,-10);O.get_pos().setXY(c+10,-10);S.get_pos().setXY(c+10,g+10);T.get_pos().setXY(-10,g+10);x.setDatas(na);O.setDatas(ra);S.setDatas(w);T.setDatas(a);na.setDatas(x,ha,ra,Ea,!0,!0);ha.setDatas(O,na,f,X,!0,!0);ra.setDatas(O,oa,M,Ea,!0,!0);oa.setDatas(S,ra,B,ja,!0,!0);w.setDatas(S,d,a,ta,!0,!0);d.setDatas(T,w,oa,ja,!0,!0);a.setDatas(T,f,ia,ta,!0,!0);f.setDatas(x,a,U,X,!0,!0);B.setDatas(O,U,d,ja,!0,
!1);U.setDatas(T,B,ha,X,!0,!1);ia.setDatas(x,M,w,ta,!1,!1);M.setDatas(S,ia,na,Ea,!1,!1);X.setDatas(U);ja.setDatas(B);ta.setDatas(w,!1);Ea.setDatas(ra,!1);x.set_fromConstraintSegments([Na,ab]);O.set_fromConstraintSegments([Na,Ra]);S.set_fromConstraintSegments([Ra,Xa]);T.set_fromConstraintSegments([Xa,ab]);na.fromConstraintSegments.push(Na);ha.fromConstraintSegments.push(Na);ra.fromConstraintSegments.push(Ra);oa.fromConstraintSegments.push(Ra);w.fromConstraintSegments.push(Xa);d.fromConstraintSegments.push(Xa);
a.fromConstraintSegments.push(ab);f.fromConstraintSegments.push(ab);Na.get_edges().push(na);Ra.get_edges().push(ra);Xa.get_edges().push(w);ab.get_edges().push(a);Na.fromShape=Ia;Ra.fromShape=Ia;Xa.fromShape=Ia;ab.fromShape=Ia;var lb=0;for(Na=[Na,Ra,Xa,ab];lb<Na.length;)Ra=Na[lb],++lb,Ia.segments.push(Ra);lb=0;for(x=[x,O,S,T];lb<x.length;)O=x[lb],++lb,hb._vertices.push(O);x=0;for(na=[na,ha,ra,oa,w,d,a,f,B,U,ia,M];x<na.length;)ha=na[x],++x,hb._edges.push(ha);na=0;for(X=[X,ja,ta,Ea];na<X.length;)ja=
X[na],++na,hb._faces.push(ja);hb.get___constraintShapes().push(Ia);Ia=[];X=0;for(ja=[0,0,c,0];X<ja.length;)ta=ja[X],++X,Ia.push(ta);X=0;for(ja=[c,0,c,g];X<ja.length;)ta=ja[X],++X,Ia.push(ta);X=0;for(c=[c,g,0,g];X<c.length;)ja=c[X],++X,Ia.push(ja);c=0;for(g=[0,g,0,0];c<g.length;)X=g[c],++c,Ia.push(X);hb.set_clipping(!1);hb.insertConstraintShape(Ia);hb.set_clipping(!0);return hb};ma.prototype={__class__:ma};Z=N.hxDaedalus.iterators.FromEdgeToRotatedEdges=function(){};Z.__name__=!0;Z.prototype={__class__:Z};
var sa=N.hxDaedalus.iterators.FromFaceToInnerEdges=function(){};sa.__name__=!0;sa.prototype={set_fromFace:function(c){this._fromFace=c;this._nextEdge=this._fromFace.get_edge();return c},next:function(){null!=this._nextEdge?(this._resultEdge=this._nextEdge,this._nextEdge=this._nextEdge.get_nextLeftEdge(),this._nextEdge==this._fromFace.get_edge()&&(this._nextEdge=null)):this._resultEdge=null;return this._resultEdge},__class__:sa};Z=N.hxDaedalus.iterators.FromFaceToInnerVertices=function(){};Z.__name__=
!0;Z.prototype={set_fromFace:function(c){this._fromFace=c;this._nextEdge=this._fromFace.get_edge();return c},next:function(){null!=this._nextEdge?(this._resultVertex=this._nextEdge.get_originVertex(),this._nextEdge=this._nextEdge.get_nextLeftEdge(),this._nextEdge==this._fromFace.get_edge()&&(this._nextEdge=null)):this._resultVertex=null;return this._resultVertex},__class__:Z};Z=N.hxDaedalus.iterators.FromFaceToNeighbourFaces=function(){};Z.__name__=!0;Z.prototype={set_fromFace:function(c){this._fromFace=
c;this._nextEdge=this._fromFace.get_edge();return c},next:function(){if(null!=this._nextEdge)for(;;){this._resultFace=this._nextEdge.get_rightFace();this._nextEdge=this._nextEdge.get_nextLeftEdge();if(this._nextEdge==this._fromFace.get_edge()){this._nextEdge=null;this._resultFace.get_isReal()||(this._resultFace=null);break}if(this._resultFace.get_isReal())break}else this._resultFace=null;return this._resultFace},__class__:Z};Z=N.hxDaedalus.iterators.FromMeshToFaces=function(){};Z.__name__=!0;Z.prototype=
{set_fromMesh:function(c){this._fromMesh=c;this._currIndex=0;return c},next:function(){for(;;){if(this._currIndex<this._fromMesh._faces.length)this._resultFace=this._fromMesh._faces[this._currIndex],this._currIndex++;else{this._resultFace=null;break}if(this._resultFace.get_isReal())break}return this._resultFace},__class__:Z};var qa=N.hxDaedalus.iterators.FromMeshToVertices=function(){};qa.__name__=!0;qa.prototype={set_fromMesh:function(c){this._fromMesh=c;this._currIndex=0;return c},next:function(){for(;;){if(this._currIndex<
this._fromMesh._vertices.length)this._resultVertex=this._fromMesh._vertices[this._currIndex],this._currIndex++;else{this._resultVertex=null;break}if(this._resultVertex.get_isReal())break}return this._resultVertex},__class__:qa};var Ca=N.hxDaedalus.iterators.FromVertexToHoldingFaces=function(){};Ca.__name__=!0;Ca.prototype={set_fromVertex:function(c){this._fromVertex=c;this._nextEdge=this._fromVertex.get_edge();return c},next:function(){if(null!=this._nextEdge)for(;;){this._resultFace=this._nextEdge.get_leftFace();
this._nextEdge=this._nextEdge.get_rotLeftEdge();if(this._nextEdge==this._fromVertex.get_edge()){this._nextEdge=null;this._resultFace.get_isReal()||(this._resultFace=null);break}if(this._resultFace.get_isReal())break}else this._resultFace=null;return this._resultFace},__class__:Ca};var wa=N.hxDaedalus.iterators.FromVertexToIncomingEdges=function(){};wa.__name__=!0;wa.prototype={set_fromVertex:function(c){this._fromVertex=c;for(this._nextEdge=this._fromVertex.get_edge();!this._nextEdge.get_isReal();)this._nextEdge=
this._nextEdge.get_rotLeftEdge();return c},next:function(){if(null!=this._nextEdge)for(this._resultEdge=this._nextEdge.get_oppositeEdge();;){this._nextEdge=this._nextEdge.get_rotLeftEdge();if(this._nextEdge==this._fromVertex.get_edge()){this._nextEdge=null;break}if(this._nextEdge.get_isReal())break}else this._resultEdge=null;return this._resultEdge},__class__:wa};Z=N.hxDaedalus.iterators.FromVertexToNeighbourVertices=function(){};Z.__name__=!0;Z.prototype={set_fromVertex:function(c){this._fromVertex=
c;this._nextEdge=this._fromVertex.get_edge();return c},next:function(){if(null!=this._nextEdge){for(this._resultVertex=this._nextEdge.get_oppositeEdge().get_originVertex();this._nextEdge=this._nextEdge.get_rotLeftEdge(),!this._nextEdge.get_isReal(););this._nextEdge==this._fromVertex.get_edge()&&(this._nextEdge=null)}else this._resultVertex=null;return this._resultVertex},__class__:Z};var za=N.hxDaedalus.iterators.FromVertexToOutgoingEdges=function(){this.realEdgesOnly=!0};za.__name__=!0;za.prototype=
{set_fromVertex:function(c){this._fromVertex=c;for(this._nextEdge=this._fromVertex.get_edge();this.realEdgesOnly&&!this._nextEdge.get_isReal();)this._nextEdge=this._nextEdge.get_rotLeftEdge();return c},next:function(){if(null!=this._nextEdge)for(this._resultEdge=this._nextEdge;;){this._nextEdge=this._nextEdge.get_rotLeftEdge();if(this._nextEdge==this._fromVertex.get_edge()){this._nextEdge=null;break}if(!this.realEdgesOnly||this._nextEdge.get_isReal())break}else this._resultEdge=null;return this._resultEdge},
__class__:za};Z=N.hxDaedalus.view.SimpleView=function(c){this.faceToEdgeIter=new sa;this.faceAlpha=.5;this.faceWidth=1;this.faceColor=16711935;this.entitiesAlpha=.75;this.entitiesWidth=1;this.entitiesColor=65280;this.pathsAlpha=.75;this.pathsWidth=1.5;this.pathsColor=16760848;this.verticesAlpha=.25;this.verticesRadius=.5;this.verticesColor=255;this.constraintsAlpha=1;this.constraintsWidth=2;this.constraintsColor=16711680;this.edgesAlpha=.25;this.edgesWidth=1;this.edgesColor=10066329;this.graphics=
new Ja(c)};Z.__name__=!0;Z.prototype={drawVertex:function(c){this.graphics.graphics.lineStyle(this.verticesRadius,this.verticesColor,this.verticesAlpha);this.graphics.graphics.beginFill(this.verticesColor,this.verticesAlpha);var g=this.graphics,x=c.get_pos().x;c=c.get_pos().y;g.graphics.drawCircle(x,c,this.verticesRadius);this.graphics.graphics.endFill()},drawFace:function(c){this.faceToEdgeIter.set_fromFace(c);this.graphics.graphics.beginFill(this.faceColor,this.faceAlpha);this.graphics.graphics.lineStyle(this.faceWidth,
this.faceColor,this.faceAlpha);c=0;for(var g;;){g=this.faceToEdgeIter.next();if(null==g)break;if(0==c){var x=this.graphics,O=g.get_originVertex().get_pos().x,S=g.get_originVertex().get_pos().y;x.graphics.moveTo(O,S)}x=this.graphics;O=g.get_destinationVertex().get_pos().x;g=g.get_destinationVertex().get_pos().y;x.graphics.lineTo(O,g);++c}this.graphics.graphics.endFill()},drawEdge:function(c){if(c.get_isConstrained()){this.graphics.graphics.lineStyle(this.constraintsWidth,this.constraintsColor,this.constraintsAlpha);
var g=this.graphics,x=c.get_originVertex().get_pos().x,O=c.get_originVertex().get_pos().y;g.graphics.moveTo(x,O);g=this.graphics;x=c.get_destinationVertex().get_pos().x;c=c.get_destinationVertex().get_pos().y;g.graphics.lineTo(x,c)}else this.graphics.graphics.lineStyle(this.edgesWidth,this.edgesColor,this.edgesAlpha),g=this.graphics,x=c.get_originVertex().get_pos().x,O=c.get_originVertex().get_pos().y,g.graphics.moveTo(x,O),g=this.graphics,x=c.get_destinationVertex().get_pos().x,c=c.get_destinationVertex().get_pos().y,
g.graphics.lineTo(x,c)},drawMesh:function(c,g){null==g&&(g=!1);g&&this.graphics.graphics.clear();c=c.getVerticesAndEdges();g=0;for(var x=c.vertices;g<x.length;){var O=x[g];++g;this.drawVertex(O)}g=0;for(c=c.edges;g<c.length;)x=c[g],++g,this.drawEdge(x)},drawEntity:function(c,g){null==g&&(g=!1);g&&this.graphics.graphics.clear();this.graphics.graphics.lineStyle(this.entitiesWidth,this.entitiesColor,this.entitiesAlpha);this.graphics.graphics.beginFill(this.entitiesColor,this.entitiesAlpha);g=this.graphics;
var x=c.x,O=c.y;c=c.get_radius();g.graphics.drawCircle(x,O,c);this.graphics.graphics.endFill()},drawEntities:function(c,g){null==g&&(g=!1);g&&this.graphics.graphics.clear();g=0;for(var x=c.length;g<x;){var O=g++;this.drawEntity(c[O],!1)}},drawPath:function(c,g){null==g&&(g=!1);g&&this.graphics.graphics.clear();if(0!=c.length)for(this.graphics.graphics.lineStyle(this.pathsWidth,this.pathsColor,this.pathsAlpha),this.graphics.graphics.moveTo(c[0],c[1]),g=2;g<c.length;)this.graphics.graphics.lineTo(c[g],
c[g+1]),this.graphics.graphics.moveTo(c[g],c[g+1]),g+=2},__class__:Z};var Ba=N.hxPixels._Pixels.Pixels_Impl_={};Ba.__name__=!0;Ba._new=function(c,g,x){null==x&&(x=!0);return new Ga(c,g,x)};Ba.getByte=function(c,g){return c.bytes.b[(g&-4)+c.format.channelMap[g&3]]};Ba.getPixel=function(c,g,x){g=x*c.width+g<<2;return c.bytes.b[g+c.format.ch1]<<16|c.bytes.b[g+c.format.ch2]<<8|c.bytes.b[g+c.format.ch3]};Ba.getPixel32=function(c,g,x){g=x*c.width+g<<2;return c.bytes.b[g+c.format.ch0]<<24|c.bytes.b[g+c.format.ch1]<<
16|c.bytes.b[g+c.format.ch2]<<8|c.bytes.b[g+c.format.ch3]};Ba.setByte=function(c,g,x){c.bytes.b[(g&-4)+c.format.channelMap[g&3]]=x&255};Ba.setPixel=function(c,g,x,O){g=x*c.width+g<<2;c.bytes.b[g+c.format.ch1]=O>>16&255;c.bytes.b[g+c.format.ch2]=O>>8&255;c.bytes.b[g+c.format.ch3]=O&255};Ba.setPixel32=function(c,g,x,O){g=x*c.width+g<<2;c.bytes.b[g+c.format.ch0]=O>>24&255;c.bytes.b[g+c.format.ch1]=O>>16&255;c.bytes.b[g+c.format.ch2]=O>>8&255;c.bytes.b[g+c.format.ch3]=O&255};Ba.fillRect=function(c,g,
x,O,S,T){g=x*c.width+g<<2;x=new Ga(O,1,!0);x.format=c.format;for(var na=O<<2,ha=0;ha<O;){var ra=ha++;Ba.setPixel32(x,ra,0,T)}for(O=0;O<S;)O++,c.bytes.blit(g,x.bytes,0,na),g+=c.width<<2};Ba.clone=function(c){var g=new Ga(c.width,c.height,!0);g.bytes.blit(0,c.bytes,0,c.bytes.length);g.format=c.format;return g};Ba.fromBytes=function(c,g,x,O){g=new Ga(g,x,!1);g.bytes=c;return g};Ba.convertTo=function(c,g){return Ba.convert(c,g,!0)};Ba.convert=function(c,g,x){null==x&&(x=!1);x=x?c:Ba.clone(c);if(g==c.format)return x;
var O=0,S=0;if(c.format==Da.BGRA&&g==Da.RGBA||c.format==Da.RGBA&&g==Da.BGRA)for(;O<c.count;){var T=S+1,na=S+3;na=c.bytes.b[(na&-4)+c.format.channelMap[na&3]];x.bytes.b[S+g.ch1]=c.bytes.b[(T&-4)+c.format.channelMap[T&3]]&255;x.bytes.b[S+g.ch3]=na&255;++O;S+=4}else for(;O<c.count;){T=S+1;T=c.bytes.b[(T&-4)+c.format.channelMap[T&3]];na=S+2;na=c.bytes.b[(na&-4)+c.format.channelMap[na&3]];var ha=S+3;ha=c.bytes.b[(ha&-4)+c.format.channelMap[ha&3]];x.bytes.b[S+g.ch0]=c.bytes.b[(S&-4)+c.format.channelMap[S&
3]]&255;x.bytes.b[S+g.ch1]=T&255;x.bytes.b[S+g.ch2]=na&255;x.bytes.b[S+g.ch3]=ha&255;++O;S+=4}x.format=g;return x};Ba.fromImageData=function(c){var g=new Ga(c.width,c.height,!0);g.format=Da.ARGB;c=c.data;for(var x=0,O=c.byteLength;x<O;){var S=x++;g.bytes.b[S]=c[S]&255}return g};var Ga=function(c,g,x,O){null==x&&(x=!0);this.count=c*g;x&&(this.bytes=new n(new ib(this.count<<2)));this.width=c;this.height=g;this.format=null!=O?O:Da.ARGB};Ga.__name__=!0;Ga.prototype={__class__:Ga};var Da=N.hxPixels.PixelFormat=
function(c,g,x,O,S){null==S&&(S="PixelFormat");this.channelMap=[c,g,x,O];this.ch0=c;this.ch1=g;this.ch2=x;this.ch3=O;this.name=S};Da.__name__=!0;Da.prototype={get_A:function(){return this.ch0},get_R:function(){return this.ch1},get_G:function(){return this.ch2},get_B:function(){return this.ch3},toString:function(){return this.name},__class__:Da};Z=N.hxPixels._Pixels.Pixel_Impl_={};Z.__name__=!0;Z.get_A=function(c){return c>>24&255};Z.set_A=function(c,g){return g&255};Z.get_R=function(c){return c>>
16&255};Z.set_R=function(c,g){return g&255};Z.get_G=function(c){return c>>8&255};Z.set_G=function(c,g){return g&255};Z.get_B=function(c){return c&255};Z.set_B=function(c,g){return g&255};var Ka=function(c){Error.call(this);this.val=c;this.message=String(c);Error.captureStackTrace&&Error.captureStackTrace(this,Ka)};Ka.__name__=!0;Ka.wrap=function(c){return c instanceof Error?c:new Ka(c)};Ka.__super__=Error;Ka.prototype=function(c,g){function x(){}x.prototype=c;c=new x;for(var O in g)c[O]=g[O];g.toString!==
Object.prototype.toString&&(c.toString=g.toString);return c}(Error.prototype,{__class__:Ka});var Oa=function(){};Oa.__name__=!0;Oa.getClass=function(c){if(c instanceof Array&&null==c.__enum__)return Array;var g=c.__class__;if(null!=g)return g;c=Oa.__nativeClassName(c);return null!=c?Oa.__resolveNativeClass(c):null};Oa.__string_rec=function(c,g){if(null==c)return"null";if(5<=g.length)return"\x3c...\x3e";var x=typeof c;"function"==x&&(c.__name__||c.__ename__)&&(x="object");switch(x){case "function":return"\x3cfunction\x3e";
case "object":if(c instanceof Array){if(c.__enum__){if(2==c.length)return c[0];x=c[0]+"(";g+="\t";for(var O=2,S=c.length;O<S;){var T=O++;x=2!=T?x+(","+Oa.__string_rec(c[T],g)):x+Oa.__string_rec(c[T],g)}return x+")"}x=c.length;O="[";g+="\t";for(S=0;S<x;)T=S++,O+=(0<T?",":"")+Oa.__string_rec(c[T],g);return O+"]"}try{O=c.toString}catch(na){return"???"}if(null!=O&&O!=Object.toString&&"function"==typeof O&&(x=c.toString(),"[object Object]"!=x))return x;x=null;O="{\n";g+="\t";S=null!=c.hasOwnProperty;for(x in c)S&&
!c.hasOwnProperty(x)||"prototype"==x||"__class__"==x||"__super__"==x||"__interfaces__"==x||"__properties__"==x||(2!=O.length&&(O+=", \n"),O+=g+x+" : "+Oa.__string_rec(c[x],g));g=g.substring(1);return O+("\n"+g+"}");case "string":return c;default:return String(c)}};Oa.__interfLoop=function(c,g){if(null==c)return!1;if(c==g)return!0;var x=c.__interfaces__;if(null!=x)for(var O=0,S=x.length;O<S;){var T=O++;T=x[T];if(T==g||Oa.__interfLoop(T,g))return!0}return Oa.__interfLoop(c.__super__,g)};Oa.__instanceof=
function(c,g){if(null==g)return!1;switch(g){case Array:return c instanceof Array?null==c.__enum__:!1;case cb:return"boolean"==typeof c;case eb:return!0;case fb:return"number"==typeof c;case Za:return"number"==typeof c?(c|0)===c:!1;case String:return"string"==typeof c;default:if(null!=c)if("function"==typeof g){if(c instanceof g||Oa.__interfLoop(Oa.getClass(c),g))return!0}else{if("object"==typeof g&&Oa.__isNativeObj(g)&&c instanceof g)return!0}else return!1;return g==$a&&null!=c.__name__||g==Ua&&null!=
c.__ename__?!0:c.__enum__==g}};Oa.__nativeClassName=function(c){c=Oa.__toStr.call(c).slice(8,-1);return"Object"==c||"Function"==c||"Math"==c||"JSON"==c?null:c};Oa.__isNativeObj=function(c){return null!=Oa.__nativeClassName(c)};Oa.__resolveNativeClass=function(c){return y[c]};var Pa=function(c){if(c instanceof Array&&null==c.__enum__)this.a=c,this.byteLength=c.length;else{this.a=[];for(var g=0;g<c;){var x=g++;this.a[x]=0}this.byteLength=c}};Pa.__name__=!0;Pa.sliceImpl=function(c,g){c=new kb(this,c,
null==g?null:g-c);g=new ib(c.byteLength);(new kb(g)).set(c);return g};Pa.prototype={slice:function(c,g){return new Pa(this.a.slice(c,g))},__class__:Pa};var Fa=function(){};Fa.__name__=!0;Fa._new=function(c,g,x){if("number"==typeof c){x=[];for(g=0;g<c;){var O=g++;x[O]=0}x.byteLength=x.length;x.byteOffset=0;x.buffer=new Pa(x)}else if(Oa.__instanceof(c,Pa))null==g&&(g=0),null==x&&(x=c.byteLength-g),x=0==g?c.a:c.a.slice(g,g+x),x.byteLength=x.length,x.byteOffset=g,x.buffer=c;else if(c instanceof Array&&
null==c.__enum__)x=c.slice(),x.byteLength=x.length,x.byteOffset=0,x.buffer=new Pa(x);else throw new Ka("TODO "+t.string(c));x.subarray=Fa._subarray;x.set=Fa._set;return x};Fa._set=function(c,g){if(Oa.__instanceof(c.buffer,Pa)){if(c.byteLength+g>this.byteLength)throw new Ka("set() outside of range");for(var x=0,O=c.byteLength;x<O;){var S=x++;this[S+g]=c[S]}}else if(c instanceof Array&&null==c.__enum__){if(c.length+g>this.byteLength)throw new Ka("set() outside of range");x=0;for(O=c.length;x<O;)S=x++,
this[S+g]=c[S]}else throw new Ka("TODO");};Fa._subarray=function(c,g){g=Fa._new(this.slice(c,g));g.byteOffset=c;return g};Z=N.wings.core.ISimpleDrawingContext=function(){};Z.__name__=!0;Z.prototype={__class__:Z};var Ma=N.wings.jsCanvas.BasicCanvas=function(){this.dom=this.canvas=window.document.createElement("canvas");this.body=window.document.body;this.surface=this.canvas.getContext("2d",null);this.style=this.dom.style;this.header=new Wa;this.canvas.width=this.header.width;this.canvas.height=this.header.height;
this.style.paddingLeft="0px";this.style.paddingTop="0px";this.style.left=t.string("0px");this.style.top=t.string("0px");this.style.position="absolute";this.style.backgroundColor=this.header.bgColor;this.surface.fillStyle=this.header.bgColor;this.image=this.dom;var c=window.document.createElement("style");c.innerHTML="@keyframes spin { from { transform:rotate( 0deg ); } to { transform:rotate( 360deg ); } }";window.document.getElementsByTagName("head")[0].appendChild(c);c.animation="spin 1s linear infinite";
this.loop(this.header.frameRate);window.document.body.appendChild(this.dom)};Ma.__name__=!0;Ma.prototype={loop:function(c){window.requestAnimationFrame(E(this,this.loop));if(null!=this.onEnterFrame)this.onEnterFrame();return!0},clear:function(){this.surface.clearRect(0,0,this.header.width,this.header.height)},drawCircle:function(c,g,x){this.surface.beginPath();this.surface.arc(c,g,x,0,2*Math.PI,!1);this.surface.stroke();this.surface.closePath()},drawRect:function(c,g,x,O){this.surface.beginPath();
this.surface.moveTo(c,g);this.surface.lineTo(c+x,g);this.surface.lineTo(c+x,g+O);this.surface.lineTo(c,g+O);this.surface.stroke();this.surface.closePath()},drawTri:function(c){this.surface.beginPath();for(var g=0;g<c.length;)0==g?this.surface.moveTo(c[g],c[g+1]):this.surface.lineTo(c[g],c[g+1]),g+=2;this.surface.stroke();this.surface.closePath()},lineStyle:function(c,g,x){this.surface.lineWidth=c;null!=x&&1!=x?this.surface.strokeStyle="rgba("+(g>>16&255)+","+(g>>8&255)+","+(g&255)+","+x+")":(c=v.hex(g,
6),this.surface.strokeStyle="#"+c)},moveTo:function(c,g){this.surface.beginPath();this.surface.moveTo(c,g)},lineTo:function(c,g){this.surface.lineTo(c,g);this.surface.closePath();this.surface.stroke()},quadTo:function(c,g,x,O){this.surface.quadraticCurveTo(c,g,x,O);this.surface.stroke()},beginFill:function(c,g){null!=g&&1!=g?this.surface.fillStyle="rgba("+(c>>16&255)+","+(c>>8&255)+","+(c&255)+","+g+")":(c=v.hex(c,6),this.surface.fillStyle="#"+c);this.surface.beginPath()},endFill:function(){this.surface.stroke();
this.surface.closePath();this.surface.fill()},__class__:Ma};var Wa=function(){var c=null.split(":");this.width=t.parseInt(c[0]);this.height=t.parseInt(c[1]);this.frameRate=t.parseInt(c[2]);this.bgColor="#"+c[3]};Wa.__name__=!0;Wa.prototype={parseInt:function(c){return t.parseInt(c)},toHashColor:function(c){return"#"+c},__class__:Wa};var bb=N.wings.jsCanvas.CanvasPixelMatrix=function(c,g,x){this.data=c;this.width=g;this.height=x;this.lookup=[];g=c=0;for(x=this.height;g<x;){var O=g++;this.lookup[O]=
[];for(var S=0,T=this.width;S<T;){var na=S++;this.lookup[O][na]=4*c|0;++c}}};bb.__name__=!0;bb.createCanvasPixelMatrixFromContext=function(c,g,x){c=c.getImageData(0,0,g,x).data;return new bb(c,g,x)};bb.prototype={getPixel32:function(c,g){c=this.lookup[g][c];return this.data[c+3]<<24|this.data[c]<<16|this.data[c+1]<<8|this.data[c+2]},setPixel32:function(c,g,x){c=this.lookup[g][c];this.data[c+3]=x>>24&255;this.data[c]=x>>16&255;this.data[c+1]=x>>8&255;this.data[c+2]=x&255},setPixel:function(c,g,x){c=
this.lookup[g][c];this.data[c]=x>>16&255;this.data[c+1]=x>>8&255;this.data[c+2]=x&255},getPixel:function(c,g){c=this.lookup[g][c];return this.data[c]<<16|this.data[c+1]<<8|this.data[c+2]},__class__:bb};Ma=N.wings.jsCanvas.ImageLoader=function(c,g){this.images=new F;this.loaded=g;this.count=c.length;for(g=0;g<c.length;){var x=c[g];++g;this.load(x)}};Ma.__name__=!0;Ma.prototype={load:function(c){var g=window.document.createElement("img"),x=g.style;x.left="0px";x.top="0px";x.paddingLeft="0px";x.paddingTop=
"0px";var O=E(this,this.store),S=c.split("/").pop();g.onload=function(T){O(g,S,T)};x.position="absolute";g.src=c},store:function(c,g,x){this.count--;x=this.images;null!=gb[g]?x.setReserved(g,c):x.h[g]=c;0==this.count&&this.loaded()},__class__:Ma};var Ja=N.wings.jsCanvas.SimpleDrawingContext=function(c){this.graphics=c};Ja.__name__=!0;Ja.__interfaces__=[Z];Ja.prototype={clear:function(){this.graphics.clear()},lineStyle:function(c,g,x){null==x&&(x=1);this.graphics.lineStyle(c,g,x)},beginFill:function(c,
g){null==g&&(g=1);this.graphics.beginFill(c,g)},endFill:function(){this.graphics.endFill()},moveTo:function(c,g){this.graphics.moveTo(c,g)},lineTo:function(c,g){this.graphics.lineTo(c,g)},quadTo:function(c,g,x,O){this.graphics.quadTo(c,g,x,O)},drawCircle:function(c,g,x){this.graphics.drawCircle(c,g,x)},drawRect:function(c,g,x,O){this.graphics.drawRect(c,g,x,O)},drawEquilaterialTri:function(c,g,x,O){for(var S=2*Math.PI/3,T=[],na,ha,ra=0;3>ra;)ha=ra++,na=c+x*Math.cos(O+ha*S),ha=g+x*Math.sin(O+ha*S),
T.push(na),T.push(ha);this.graphics.drawTri(T)},drawTri:function(c){this.graphics.drawTri(c)},__class__:Ja};var Va=0;String.prototype.__class__=String;String.__name__=!0;Array.__name__=!0;var Za={__name__:["Int"]},eb={__name__:["Dynamic"]},fb=Number;fb.__name__=["Float"];var cb=Boolean;cb.__ename__=["Bool"];var $a={__name__:["Class"]},Ua={},gb={};Da.ARGB=new Da(0,1,2,3,"ARGB");Da.RGBA=new Da(3,0,1,2,"RGBA");Da.BGRA=new Da(3,2,1,0,"BGRA");var ib=y.ArrayBuffer||Pa;null==ib.prototype.slice&&(ib.prototype.slice=
Pa.sliceImpl);var kb=y.Uint8Array||Fa._new;L.count=0;C.NUM_SEGMENTS=6;I.EPSILON=.01;I.EPSILON_SQUARED=1E-4;P.INC=0;m.INC=0;k.INC=0;h.INC=0;r.INC=0;l.INC=0;J.INC=0;p.INC=0;G.INC=0;R.INC=0;ea.__samples=[];ea.__circumcenter=new ua;fa.MAX_INT=2147483647;fa.maxDistance=1;Ba.CHANNEL_MASK=3;Ga.BYTES_PER_PIXEL=4;Oa.__toStr={}.toString;Fa.BYTES_PER_ELEMENT=1;Wa.__meta__={fields:{parseInt:{"static":null},toHashColor:{"static":null}}}})("undefined"!=typeof Y?Y:"undefined"!=typeof window?window:"undefined"!=
typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof ya?ya:"undefined"!=typeof self?self:this)};
shadow$provide[64]=function(ya,pa,Ha,Y){!function(N,y){"object"==typeof Y&&"undefined"!=typeof Ha?y(Y):"function"==typeof define&&define.amd?define(["exports"],y):y((N=N||self).inkjs={})}(this,function(N){function y(w){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(w)}function E(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function");
}function Q(w,d){for(var a=0;a<d.length;a++){var f=d[a];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(w,f.key,f)}}function H(w,d,a){return d&&Q(w.prototype,d),a&&Q(w,a),w}function t(w,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(d&&d.prototype,{constructor:{value:w,writable:!0,configurable:!0}});d&&C(w,d)}function v(w){return(v=Object.setPrototypeOf?Object.getPrototypeOf:
function(d){return d.__proto__||Object.getPrototypeOf(d)})(w)}function C(w,d){return(C=Object.setPrototypeOf||function(a,f){return a.__proto__=f,a})(w,d)}function L(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}function F(w,d,a){return(F=L()?Reflect.construct:function(f,B,U){var ia=[null];ia.push.apply(ia,B);f=new (Function.bind.apply(f,
ia));return U&&C(f,U.prototype),f}).apply(null,arguments)}function n(w){var d="function"==typeof Map?new Map:void 0;return(n=function(a){function f(){return F(a,arguments,v(this).constructor)}if(null===a||(B=a,-1===Function.toString.call(B).indexOf("[native code]")))return a;var B;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if(void 0!==d){if(d.has(a))return d.get(a);d.set(a,f)}return f.prototype=Object.create(a.prototype,{constructor:{value:f,
enumerable:!1,writable:!0,configurable:!0}}),C(f,a)})(w)}function u(w,d){if(!d||"object"!=typeof d&&"function"!=typeof d){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}else w=d;return w}function q(w){var d=L();return function(){var a,f=v(w);return u(this,d?(a=v(this).constructor,Reflect.construct(f,arguments,a)):f.apply(this,arguments))}}function z(w,d){if(!(w=function(a){if(Array.isArray(a))return a}(w)||function(a,f){if("undefined"!=typeof Symbol&&
Symbol.iterator in Object(a)){var B=[],U=!0,ia=!1,M=void 0;try{for(var X,ja=a[Symbol.iterator]();!(U=(X=ja.next()).done)&&(B.push(X.value),!f||B.length!==f);U=!0);}catch(ta){ia=!0,M=ta}finally{try{U||null==ja.return||ja.return()}finally{if(ia)throw M;}}return B}}(w,d)||I(w,d)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return w}function I(w,d){if(w){if("string"==typeof w)return P(w,
d);var a=Object.prototype.toString.call(w).slice(8,-1);return"Object"===a&&w.constructor&&(a=w.constructor.name),"Map"===a||"Set"===a?Array.from(w):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?P(w,d):void 0}}function P(w,d){(null==d||d>w.length)&&(d=w.length);for(var a=0,f=Array(d);a<d;a++)f[a]=w[a];return f}function m(w,d){var a;if("undefined"==typeof Symbol||null==w[Symbol.iterator]){if(Array.isArray(w)||(a=I(w))||d&&w&&"number"==typeof w.length){a&&(w=a);var f=0;d=function(){};
return{s:d,n:function(){return f>=w.length?{done:!0}:{done:!1,value:w[f++]}},e:function(M){throw M;},f:d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var B,U=!0,ia=!1;return{s:function(){a=w[Symbol.iterator]()},n:function(){var M=a.next();return U=M.done,M},e:function(M){ia=!0;B=M},f:function(){try{U||null==a.return||a.return()}finally{if(ia)throw B;}}}}function k(w,d){if(!w)throw void 0!==
d&&console.warn(d),console.trace&&console.trace(),Error("");}function h(w,d){return w instanceof d?w:null}function r(w,d){if(w instanceof d)return w;throw Error("".concat(w," is not of type ").concat(d));}function l(w){return w.hasValidName&&w.name?w:null}function J(w){return void 0===w?null:w}function p(w){return"object"===y(w)&&"function"==typeof w.Equals}function G(w){throw new xa("".concat(w," is null or undefined"));}function R(w,d,a){if(null===w)return{result:a,exists:!1};w=w.get(d);return void 0===
w?{result:a,exists:!1}:{result:w,exists:!0}}var aa,ka=function(){function w(d,a){var f;E(this,w);this._components=[];this._componentsString=null;this._isRelative=!1;"string"==typeof d?this.componentsString=d:d instanceof w.Component&&a instanceof w?(this._components.push(d),this._components=this._components.concat(a._components)):d instanceof Array&&(f=!!a,this._components=this._components.concat(d),this._isRelative=f)}return H(w,[{key:"GetComponent",value:function(d){return this._components[d]}},
{key:"PathByAppendingPath",value:function(d){for(var a=new w,f=0,B=0;B<d._components.length&&d._components[B].isParent;++B)f++;for(B=0;B<this._components.length-f;++B)a._components.push(this._components[B]);for(;f<d._components.length;++f)a._components.push(d._components[f]);return a}},{key:"toString",value:function(){return this.componentsString}},{key:"Equals",value:function(d){if(null==d||d._components.length!=this._components.length||d.isRelative!=this.isRelative)return!1;for(var a=0,f=d._components.length;a<
f;a++)if(!d._components[a].Equals(this._components[a]))return!1;return!0}},{key:"PathByAppendingComponent",value:function(d){var a=new w;return a._components.push.apply(a._components,this._components),a._components.push(d),a}},{key:"isRelative",get:function(){return this._isRelative}},{key:"componentCount",get:function(){return this._components.length}},{key:"head",get:function(){return 0<this._components.length?this._components[0]:null}},{key:"tail",get:function(){return 2<=this._components.length?
new w(this._components.slice(1,this._components.length)):w.self}},{key:"length",get:function(){return this._components.length}},{key:"lastComponent",get:function(){var d=this._components.length-1;return 0<=d?this._components[d]:null}},{key:"containsNamedComponent",get:function(){for(var d=0,a=this._components.length;d<a;d++)if(!this._components[d].isIndex)return!0;return!1}},{key:"componentsString",get:function(){return null==this._componentsString&&(this._componentsString=this._components.join("."),
this.isRelative&&(this._componentsString="."+this._componentsString)),this._componentsString},set:function(d){if(this._components.length=0,this._componentsString=d,null!=this._componentsString&&""!=this._componentsString){"."==this._componentsString[0]&&(this._isRelative=!0,this._componentsString=this._componentsString.substring(1));var a;d=m(this._componentsString.split("."));try{for(d.s();!(a=d.n()).done;){var f=a.value;/^(\-|\+)?([0-9]+|Infinity)$/.test(f)?this._components.push(new w.Component(parseInt(f))):
this._components.push(new w.Component(f))}}catch(B){d.e(B)}finally{d.f()}}}}],[{key:"self",get:function(){var d=new w;return d._isRelative=!0,d}}]),w}();ka.parentId="^";var ua=ka=ka||{};var ea=function(){function w(d){E(this,w);this.index=-1;this.name=null;"string"==typeof d?this.name=d:this.index=d}return H(w,[{key:"toString",value:function(){return this.isIndex?this.index.toString():this.name}},{key:"Equals",value:function(d){return null!=d&&d.isIndex==this.isIndex&&(this.isIndex?this.index==d.index:
this.name==d.name)}},{key:"isIndex",get:function(){return 0<=this.index}},{key:"isParent",get:function(){return this.name==ua.parentId}}],[{key:"ToParent",value:function(){return new w(ua.parentId)}}]),w}();ua.Component=ea;(ea=aa=aa||{}).AssertType=function(w,d,a){k(w instanceof d,a)};ea.Assert=k;var xa=function(){function w(){return E(this,w),d.apply(this,arguments)}t(w,n(Error));var d=q(w);return w}(),ba=function(){function w(){E(this,w);this._path=this._debugMetadata=this.parent=null}return H(w,
[{key:"DebugLineNumberOfPath",value:function(d){if(null===d)return null;var a=this.rootContentContainer;return a&&(d=a.ContentAtPath(d).obj)&&(d=d.debugMetadata,null!==d)?d.startLineNumber:null}},{key:"ResolvePath",value:function(d){if(null===d)return G("path");if(d.isRelative){var a=h(this,Pa);return null===a&&(aa.Assert(null!==this.parent,"Can't resolve relative path because we don't have a parent"),a=h(this.parent,Pa),aa.Assert(null!==a,"Expected parent to be a container"),aa.Assert(d.GetComponent(0).isParent),
d=d.tail),null===a?G("nearestContainer"):a.ContentAtPath(d)}a=this.rootContentContainer;return null===a?G("contentContainer"):a.ContentAtPath(d)}},{key:"ConvertPathToRelative",value:function(d){for(var a=this.path,f=Math.min(d.length,a.length),B=-1,U=0;U<f;++U){var ia=a.GetComponent(U),M=d.GetComponent(U);if(!ia.Equals(M))break;B=U}if(-1==B)return d;f=a.componentCount-1-B;a=[];for(U=0;U<f;++U)a.push(ka.Component.ToParent());for(B+=1;B<d.componentCount;++B)a.push(d.GetComponent(B));return new ka(a,
!0)}},{key:"CompactPathString",value:function(d){var a=null,f=null;return a=d.isRelative?(f=d.componentsString,this.path.PathByAppendingPath(d).componentsString):(f=this.ConvertPathToRelative(d).componentsString,d.componentsString),f.length<a.length?f:a}},{key:"Copy",value:function(){throw Error("Not Implemented: Doesn't support copying");}},{key:"SetChild",value:function(d,a,f){d[a]&&(d[a]=null);d[a]=f;d[a]&&(d[a].parent=this)}},{key:"debugMetadata",get:function(){return null===this._debugMetadata&&
this.parent?this.parent.debugMetadata:this._debugMetadata},set:function(d){this._debugMetadata=d}},{key:"ownDebugMetadata",get:function(){return this._debugMetadata}},{key:"path",get:function(){if(null==this._path)if(null==this.parent)this._path=new ka;else{for(var d=[],a=this,f=h(a.parent,Pa);null!==f;){var B=l(a);null!=B&&B.hasValidName?d.unshift(new ka.Component(B.name)):d.unshift(new ka.Component(f.content.indexOf(a)));f=h((a=f).parent,Pa)}this._path=new ka(d)}return this._path}},{key:"rootContentContainer",
get:function(){for(var d=this;d.parent;)d=d.parent;return h(d,Pa)}}]),w}(),fa=function(){function w(d){E(this,w);this.string=d=void 0!==d?d.toString():""}return H(w,[{key:"Append",value:function(d){null!==d&&(this.string+=d)}},{key:"AppendLine",value:function(d){void 0!==d&&this.Append(d);this.string+="\n"}},{key:"AppendFormat",value:function(d){for(var a=arguments.length,f=Array(1<a?a-1:0),B=1;B<a;B++)f[B-1]=arguments[B];this.string+=d.replace(/{(\d+)}/g,function(U,ia){return void 0!==f[ia]?f[ia]:
U})}},{key:"toString",value:function(){return this.string}},{key:"Length",get:function(){return this.string.length}}]),w}(),K=function(){function w(d,a){var f;E(this,w);this.itemName=this.originName=null;void 0!==a?(this.originName=d,this.itemName=a):d&&(f=d.toString().split("."),this.originName=f[0],this.itemName=f[1])}return H(w,[{key:"toString",value:function(){return this.fullName}},{key:"Equals",value:function(d){return d instanceof w&&d.itemName==this.itemName&&d.originName==this.originName}},
{key:"copy",value:function(){return new w(this.originName,this.itemName)}},{key:"serialized",value:function(){return JSON.stringify({originName:this.originName,itemName:this.itemName})}},{key:"isNull",get:function(){return null==this.originName&&null==this.itemName}},{key:"fullName",get:function(){return(null!==this.originName?this.originName:"?")+"."+this.itemName}}],[{key:"fromSerializedKey",value:function(d){d=JSON.parse(d);return w.isLikeInkListItem(d)?new w(d.originName,d.itemName):w.Null}},
{key:"isLikeInkListItem",value:function(d){return"object"===y(d)&&!(!d.hasOwnProperty("originName")||!d.hasOwnProperty("itemName"))&&("string"==typeof d.originName||!1)&&("string"==typeof d.itemName||!1)}},{key:"Null",get:function(){return new w(null,null)}}]),w}(),V=function(){function w(){var a,f=arguments;if(E(this,w),(a=d.call(this,f[0]instanceof w?f[0]:[])).origins=null,a._originNames=[],arguments[0]instanceof w){var B=arguments[0];B._originNames&&(a._originNames=B._originNames.slice())}else if("string"==
typeof arguments[0]){B=arguments[0];f=arguments[1];a.SetInitialOriginName(B);f=f.listDefinitions.TryListGetDefinition(B,null);if(!f.exists)throw Error("InkList origin could not be found in story when constructing new list: "+B);a.origins=[f.result]}else"object"===y(arguments[0])&&arguments[0].hasOwnProperty("Key")&&arguments[0].hasOwnProperty("Value")&&(B=arguments[0],a.Add(B.Key,B.Value));return a}t(w,n(Map));var d=q(w);return H(w,[{key:"AddItem",value:function(a){if(a instanceof K){if(null==a.originName)return void this.AddItem(a.itemName);
if(null===this.origins)return G("this.origins");var f,B=m(this.origins);try{for(B.s();!(f=B.n()).done;){var U=f.value;if(U.name==a.originName){var ia=U.TryGetValueForItem(a,0);if(ia.exists)return void this.Add(a,ia.result);throw Error("Could not add the item "+a+" to this list because it doesn't exist in the original list definition in ink.");}}}catch(X){B.e(X)}finally{B.f()}throw Error("Failed to add item to list because the item was from a new list definition that wasn't previously known to this list. Only items from previously known lists can be used, so that the int value can be found.");
}f=null;if(null===this.origins)return G("this.origins");U=m(this.origins);try{for(U.s();!(B=U.n()).done;){var M=B.value;if(null===a)return G("itemName");if(M.ContainsItemWithName(a)){if(null!=f)throw Error("Could not add the item "+a+" to this list because it could come from either "+M.name+" or "+f.name);f=M}}}catch(X){U.e(X)}finally{U.f()}if(null==f)throw Error("Could not add the item "+a+" to this list because it isn't known to any list definitions previously associated with this list.");a=new K(f.name,
a);B=f.ValueForItem(a);this.Add(a,B)}},{key:"ContainsItemNamed",value:function(a){var f,B=m(this);try{for(B.s();!(f=B.n()).done;){var U=z(f.value,1)[0];if(K.fromSerializedKey(U).itemName==a)return!0}}catch(ia){B.e(ia)}finally{B.f()}return!1}},{key:"ContainsKey",value:function(a){return this.has(a.serialized())}},{key:"Add",value:function(a,f){var B=a.serialized();if(this.has(B))throw Error("The Map already contains an entry for ".concat(a));this.set(B,f)}},{key:"Remove",value:function(a){return this.delete(a.serialized())}},
{key:"SetInitialOriginName",value:function(a){this._originNames=[a]}},{key:"SetInitialOriginNames",value:function(a){this._originNames=null==a?null:a.slice()}},{key:"Union",value:function(a){var f,B=new w(this);a=m(a);try{for(a.s();!(f=a.n()).done;){var U=z(f.value,2);B.set(U[0],U[1])}}catch(ia){a.e(ia)}finally{a.f()}return B}},{key:"Intersect",value:function(a){var f,B=new w,U=m(this);try{for(U.s();!(f=U.n()).done;){var ia=z(f.value,2),M=ia[0],X=ia[1];a.has(M)&&B.set(M,X)}}catch(ja){U.e(ja)}finally{U.f()}return B}},
{key:"Without",value:function(a){var f,B=new w(this);a=m(a);try{for(a.s();!(f=a.n()).done;){var U=z(f.value,1)[0];B.delete(U)}}catch(ia){a.e(ia)}finally{a.f()}return B}},{key:"Contains",value:function(a){var f;a=m(a);try{for(a.s();!(f=a.n()).done;){var B=z(f.value,1)[0];if(!this.has(B))return!1}}catch(U){a.e(U)}finally{a.f()}return!0}},{key:"GreaterThan",value:function(a){return 0!=this.Count&&(0==a.Count||this.minItem.Value>a.maxItem.Value)}},{key:"GreaterThanOrEquals",value:function(a){return 0!=
this.Count&&(0==a.Count||this.minItem.Value>=a.minItem.Value&&this.maxItem.Value>=a.maxItem.Value)}},{key:"LessThan",value:function(a){return 0!=a.Count&&(0==this.Count||this.maxItem.Value<a.minItem.Value)}},{key:"LessThanOrEquals",value:function(a){return 0!=a.Count&&(0==this.Count||this.maxItem.Value<=a.maxItem.Value&&this.minItem.Value<=a.minItem.Value)}},{key:"MaxAsList",value:function(){return 0<this.Count?new w(this.maxItem):new w}},{key:"MinAsList",value:function(){return 0<this.Count?new w(this.minItem):
new w}},{key:"ListWithSubRange",value:function(a,f){if(0==this.Count)return new w;var B=this.orderedItems,U=0,ia=Number.MAX_SAFE_INTEGER;Number.isInteger(a)?U=a:a instanceof w&&0<a.Count&&(U=a.minItem.Value);Number.isInteger(f)?ia=f:a instanceof w&&0<a.Count&&(ia=f.maxItem.Value);a=new w;a.SetInitialOriginNames(this.originNames);var M;B=m(B);try{for(B.s();!(M=B.n()).done;){var X=M.value;X.Value>=U&&X.Value<=ia&&a.Add(X.Key,X.Value)}}catch(ja){B.e(ja)}finally{B.f()}return a}},{key:"Equals",value:function(a){if(0==
a instanceof w||a.Count!=this.Count)return!1;var f,B=m(this);try{for(B.s();!(f=B.n()).done;){var U=z(f.value,1)[0];if(!a.has(U))return!1}}catch(ia){B.e(ia)}finally{B.f()}return!0}},{key:"toString",value:function(){for(var a=this.orderedItems,f=new fa,B=0;B<a.length;B++){0<B&&f.Append(", ");var U=a[B].Key;if(null===U.itemName)return G("item.itemName");f.Append(U.itemName)}return f.toString()}},{key:"valueOf",value:function(){return NaN}},{key:"Count",get:function(){return this.size}},{key:"originOfMaxItem",
get:function(){if(null==this.origins)return null;var a=this.maxItem.Key.originName,f=null;return this.origins.every(function(B){return B.name!=a||(f=B,!1)}),f}},{key:"originNames",get:function(){if(0<this.Count){null==this._originNames&&0<this.Count?this._originNames=[]:(this._originNames||(this._originNames=[]),this._originNames.length=0);var a,f=m(this);try{for(f.s();!(a=f.n()).done;){var B=z(a.value,1)[0],U=K.fromSerializedKey(B);if(null===U.originName)return G("item.originName");this._originNames.push(U.originName)}}catch(ia){f.e(ia)}finally{f.f()}}return this._originNames}},
{key:"maxItem",get:function(){var a,f={Key:K.Null,Value:0},B=m(this);try{for(B.s();!(a=B.n()).done;){var U=z(a.value,2),ia=U[1],M=K.fromSerializedKey(U[0]);(f.Key.isNull||ia>f.Value)&&(f={Key:M,Value:ia})}}catch(X){B.e(X)}finally{B.f()}return f}},{key:"minItem",get:function(){var a,f={Key:K.Null,Value:0},B=m(this);try{for(B.s();!(a=B.n()).done;){var U=z(a.value,2),ia=U[1],M=K.fromSerializedKey(U[0]);(f.Key.isNull||ia<f.Value)&&(f={Key:M,Value:ia})}}catch(X){B.e(X)}finally{B.f()}return f}},{key:"inverse",
get:function(){var a=new w;if(null!=this.origins){var f,B=m(this.origins);try{for(B.s();!(f=B.n()).done;){var U,ia=m(f.value.items);try{for(ia.s();!(U=ia.n()).done;){var M=z(U.value,2),X=M[1],ja=K.fromSerializedKey(M[0]);this.ContainsKey(ja)||a.Add(ja,X)}}catch(ta){ia.e(ta)}finally{ia.f()}}}catch(ta){B.e(ta)}finally{B.f()}}return a}},{key:"all",get:function(){var a=new w;if(null!=this.origins){var f,B=m(this.origins);try{for(B.s();!(f=B.n()).done;){var U,ia=m(f.value.items);try{for(ia.s();!(U=ia.n()).done;){var M=
z(U.value,2),X=M[1],ja=K.fromSerializedKey(M[0]);a.set(ja.serialized(),X)}}catch(ta){ia.e(ta)}finally{ia.f()}}}catch(ta){B.e(ta)}finally{B.f()}}return a}},{key:"orderedItems",get:function(){var a,f=[],B=m(this);try{for(B.s();!(a=B.n()).done;){var U=z(a.value,2),ia=U[1],M=K.fromSerializedKey(U[0]);f.push({Key:M,Value:ia})}}catch(X){B.e(X)}finally{B.f()}return f.sort(function(X,ja){return null===X.Key.originName?G("x.Key.originName"):null===ja.Key.originName?G("y.Key.originName"):X.Value==ja.Value?
X.Key.originName.localeCompare(ja.Key.originName):X.Value<ja.Value?-1:X.Value>ja.Value?1:0}),f}}]),w}(),ca=function(){function w(a){var f;return E(this,w),(f=d.call(this,a)).useEndLineNumber=!1,f.message=a,f.name="StoryException",f}t(w,n(Error));var d=q(w);return w}(),Z,ma,sa=function(){function w(){return E(this,w),d.apply(this,arguments)}t(w,ba);var d=q(w);return H(w,[{key:"Copy",value:function(){return r(w.Create(this),ba)}},{key:"BadCastException",value:function(a){return new ca("Can't cast "+
this.valueObject+" from "+this.valueType+" to "+a)}}],[{key:"Create",value:function(a,f){if(f){if(f===Z.Int&&Number.isInteger(Number(a)))return new Ca(Number(a));if(f===Z.Float&&!isNaN(a))return new wa(Number(a))}return"boolean"==typeof a&&(a=a?1:0),"string"==typeof a?new za(String(a)):Number.isInteger(Number(a))?new Ca(Number(a)):isNaN(a)?a instanceof ka?new Ba(r(a,ka)):a instanceof V?new Da(r(a,V)):null:new wa(Number(a))}}]),w}(),qa=function(){function w(a){var f;return E(this,w),(f=d.call(this)).value=
a,f}t(w,sa);var d=q(w);return H(w,[{key:"toString",value:function(){return null===this.value?G("Value.value"):this.value.toString()}},{key:"valueObject",get:function(){return this.value}}]),w}(),Ca=function(){function w(a){return E(this,w),d.call(this,a||0)}t(w,qa);var d=q(w);return H(w,[{key:"Cast",value:function(a){if(null===this.value)return G("Value.value");if(a==this.valueType)return this;if(a==Z.Float)return new wa(this.value);if(a==Z.String)return new za(""+this.value);throw this.BadCastException(a);
}},{key:"isTruthy",get:function(){return 0!=this.value}},{key:"valueType",get:function(){return Z.Int}}]),w}(),wa=function(){function w(a){return E(this,w),d.call(this,a||0)}t(w,qa);var d=q(w);return H(w,[{key:"Cast",value:function(a){if(null===this.value)return G("Value.value");if(a==this.valueType)return this;if(a==Z.Int)return new Ca(this.value);if(a==Z.String)return new za(""+this.value);throw this.BadCastException(a);}},{key:"isTruthy",get:function(){return 0!=this.value}},{key:"valueType",get:function(){return Z.Float}}]),
w}(),za=function(){function w(a){var f;return E(this,w),(f=d.call(this,a||""))._isNewline="\n"==f.value,f._isInlineWhitespace=!0,null===f.value?u(f,G("Value.value")):(0<f.value.length&&f.value.split("").every(function(B){return" "==B||"\t"==B||(f._isInlineWhitespace=!1)}),f)}t(w,qa);var d=q(w);return H(w,[{key:"Cast",value:function(a){if(a==this.valueType)return this;if(a==Z.Int){var f=function(B,U){var ia=1<arguments.length&&void 0!==U?U:0,M=parseInt(B);return Number.isNaN(M)?{result:ia,exists:!1}:
{result:M,exists:!0}}(this.value);if(f.exists)return new Ca(f.result);throw this.BadCastException(a);}if(a!=Z.Float)throw this.BadCastException(a);f=function(B,U){var ia=1<arguments.length&&void 0!==U?U:0,M=parseFloat(B);return Number.isNaN(M)?{result:ia,exists:!1}:{result:M,exists:!0}}(this.value);if(f.exists)return new wa(f.result);throw this.BadCastException(a);}},{key:"valueType",get:function(){return Z.String}},{key:"isTruthy",get:function(){return null===this.value?G("Value.value"):0<this.value.length}},
{key:"isNewline",get:function(){return this._isNewline}},{key:"isInlineWhitespace",get:function(){return this._isInlineWhitespace}},{key:"isNonWhitespace",get:function(){return!this.isNewline&&!this.isInlineWhitespace}}]),w}(),Ba=function(){function w(a){return E(this,w),d.call(this,a)}t(w,qa);var d=q(w);return H(w,[{key:"Cast",value:function(a){if(a==this.valueType)return this;throw this.BadCastException(a);}},{key:"toString",value:function(){return"DivertTargetValue("+this.targetPath+")"}},{key:"valueType",
get:function(){return Z.DivertTarget}},{key:"targetPath",get:function(){return null===this.value?G("Value.value"):this.value},set:function(a){this.value=a}},{key:"isTruthy",get:function(){throw Error("Shouldn't be checking the truthiness of a divert target");}}]),w}(),Ga=function(){function w(a){var f,B=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1;return E(this,w),(f=d.call(this,a))._contextIndex=B,f}t(w,qa);var d=q(w);return H(w,[{key:"Cast",value:function(a){if(a==this.valueType)return this;
throw this.BadCastException(a);}},{key:"toString",value:function(){return"VariablePointerValue("+this.variableName+")"}},{key:"Copy",value:function(){return new w(this.variableName,this.contextIndex)}},{key:"contextIndex",get:function(){return this._contextIndex},set:function(a){this._contextIndex=a}},{key:"variableName",get:function(){return null===this.value?G("Value.value"):this.value},set:function(a){this.value=a}},{key:"valueType",get:function(){return Z.VariablePointer}},{key:"isTruthy",get:function(){throw Error("Shouldn't be checking the truthiness of a variable pointer");
}}]),w}(),Da=function(){function w(a,f){var B;return E(this,w),B=d.call(this,null),a||f?a instanceof V?B.value=new V(a):a instanceof K&&"number"==typeof f&&(B.value=new V({Key:a,Value:f})):B.value=new V,B}t(w,qa);var d=q(w);return H(w,[{key:"Cast",value:function(a){if(null===this.value)return G("Value.value");if(a==Z.Int)return a=this.value.maxItem,a.Key.isNull?new Ca(0):new Ca(a.Value);if(a==Z.Float)return a=this.value.maxItem,a.Key.isNull?new wa(0):new wa(a.Value);if(a==Z.String)return a=this.value.maxItem,
a.Key.isNull?new za(""):new za(a.Key.toString());if(a==this.valueType)return this;throw this.BadCastException(a);}},{key:"isTruthy",get:function(){return null===this.value?G("this.value"):0<this.value.Count}},{key:"valueType",get:function(){return Z.List}}]),H(w,null,[{key:"RetainListOriginsForAssignment",value:function(a,f){a=h(a,w);return(f=h(f,w))&&null===f.value?G("newList.value"):a&&null===a.value?G("oldList.value"):void(a&&f&&0==f.value.Count&&f.value.SetInitialOriginNames(a.value.originNames))}}]),
w}();(ma=Z=Z||{})[ma.Int=0]="Int";ma[ma.Float=1]="Float";ma[ma.List=2]="List";ma[ma.String=3]="String";ma[ma.DivertTarget=4]="DivertTarget";ma[ma.VariablePointer=5]="VariablePointer";var Ka,Oa=function(){function w(){E(this,w);this.obj=null;this.approximate=!1}return H(w,[{key:"copy",value:function(){var d=new w;return d.obj=this.obj,d.approximate=this.approximate,d}},{key:"correctObj",get:function(){return this.approximate?null:this.obj}},{key:"container",get:function(){return this.obj instanceof
Pa?this.obj:null}}]),w}(),Pa=function(){function w(){var a;return E(this,w),(a=d.apply(this,arguments)).name="",a._content=[],a.namedContent=new Map,a.visitsShouldBeCounted=!1,a.turnIndexShouldBeCounted=!1,a.countingAtStartOnly=!1,a._pathToFirstLeafContent=null,a}t(w,ba);var d=q(w);return H(w,[{key:"AddContent",value:function(a){if(a instanceof Array){var f;a=m(a);try{for(a.s();!(f=a.n()).done;)this.AddContent(f.value)}catch(B){a.e(B)}finally{a.f()}}else{if(this._content.push(a),a.parent)throw Error("content is already in "+
a.parent);(a.parent=this).TryAddNamedContent(a)}}},{key:"TryAddNamedContent",value:function(a){a=l(a);null!=a&&a.hasValidName&&this.AddToNamedContentOnly(a)}},{key:"AddToNamedContentOnly",value:function(a){aa.AssertType(a,ba,"Can only add Runtime.Objects to a Runtime.Container");(r(a,ba).parent=this).namedContent.set(a.name,a)}},{key:"ContentAtPath",value:function(a,f,B){var U=1<arguments.length&&void 0!==f?f:0,ia=2<arguments.length&&void 0!==B?B:-1;-1==ia&&(ia=a.length);var M=new Oa;M.approximate=
!1;for(var X=this,ja=this;U<ia;++U){var ta=a.GetComponent(U);if(null==X){M.approximate=!0;break}X=X.ContentWithPathComponent(ta);if(null==X){M.approximate=!0;break}X=h(ja=X,w)}return M.obj=ja,M}},{key:"InsertContent",value:function(a,f){if((this.content[f]=a).parent)throw Error("content is already in "+a.parent);(a.parent=this).TryAddNamedContent(a)}},{key:"AddContentsOfContainer",value:function(a){this.content=this.content.concat(a.content);var f;a=m(a.content);try{for(a.s();!(f=a.n()).done;){var B=
f.value;(B.parent=this).TryAddNamedContent(B)}}catch(U){a.e(U)}finally{a.f()}}},{key:"ContentWithPathComponent",value:function(a){if(a.isIndex)return 0<=a.index&&a.index<this.content.length?this.content[a.index]:null;if(a.isParent)return this.parent;if(null===a.name)return G("component.name");a=R(this.namedContent,a.name,null);return a.exists?r(a.result,ba):null}},{key:"BuildStringOfHierarchy",value:function(a,f,B){function U(){for(var ab=0;ab<4*M;++ab)ia.Append(" ")}var ia;if(0==arguments.length)return ia=
new fa,this.BuildStringOfHierarchy(ia,0,null),ia.toString();ia=a;var M=f;U();ia.Append("[");this.hasValidName&&ia.AppendFormat(" ({0})",this.name);this==B&&ia.Append("  \x3c---");ia.AppendLine();M++;for(var X=0;X<this.content.length;++X){var ja=this.content[X];ja instanceof w?ja.BuildStringOfHierarchy(ia,M,B):(U(),ja instanceof za?(ia.Append('"'),ia.Append(ja.toString().replace("\n","\\n")),ia.Append('"')):ia.Append(ja.toString()));X!=this.content.length-1&&ia.Append(",");ja instanceof w||ja!=B||
ia.Append("  \x3c---");ia.AppendLine()}var ta;X=new Map;ja=m(this.namedContent);try{for(ja.s();!(ta=ja.n()).done;){var Ea=z(ta.value,2),Ia=Ea[0],Na=Ea[1];0<=this.content.indexOf(r(Na,ba))||X.set(Ia,Na)}}catch(ab){ja.e(ab)}finally{ja.f()}if(0<X.size){U();ia.AppendLine("-- named: --");var Ra;ta=m(X);try{for(ta.s();!(Ra=ta.n()).done;){var Xa=z(Ra.value,2)[1];aa.AssertType(Xa,w,"Can only print out named Containers");Xa.BuildStringOfHierarchy(ia,M,B);ia.AppendLine()}}catch(ab){ta.e(ab)}finally{ta.f()}}M--;
U();ia.Append("]")}},{key:"hasValidName",get:function(){return null!=this.name&&0<this.name.length}},{key:"content",get:function(){return this._content},set:function(a){this.AddContent(a)}},{key:"namedOnlyContent",get:function(){var a,f=new Map,B=m(this.namedContent);try{for(B.s();!(a=B.n()).done;){var U=z(a.value,2),ia=U[0],M=r(U[1],ba);f.set(ia,M)}}catch(ta){B.e(ta)}finally{B.f()}var X;a=m(this.content);try{for(a.s();!(X=a.n()).done;){var ja=l(X.value);null!=ja&&ja.hasValidName&&f.delete(ja.name)}}catch(ta){a.e(ta)}finally{a.f()}return 0==
f.size&&(f=null),f},set:function(a){var f=this.namedOnlyContent;if(null!=f){var B;f=m(f);try{for(f.s();!(B=f.n()).done;){var U=z(B.value,1)[0];this.namedContent.delete(U)}}catch(X){f.e(X)}finally{f.f()}}if(null!=a){var ia;a=m(a);try{for(a.s();!(ia=a.n()).done;){var M=l(z(ia.value,2)[1]);null!=M&&this.AddToNamedContentOnly(M)}}catch(X){a.e(X)}finally{a.f()}}}},{key:"countFlags",get:function(){var a=0;return this.visitsShouldBeCounted&&(a|=w.CountFlags.Visits),this.turnIndexShouldBeCounted&&(a|=w.CountFlags.Turns),
this.countingAtStartOnly&&(a|=w.CountFlags.CountStartOnly),a==w.CountFlags.CountStartOnly&&(a=0),a},set:function(a){0<(a&w.CountFlags.Visits)&&(this.visitsShouldBeCounted=!0);0<(a&w.CountFlags.Turns)&&(this.turnIndexShouldBeCounted=!0);0<(a&w.CountFlags.CountStartOnly)&&(this.countingAtStartOnly=!0)}},{key:"pathToFirstLeafContent",get:function(){return null==this._pathToFirstLeafContent&&(this._pathToFirstLeafContent=this.path.PathByAppendingPath(this.internalPathToFirstLeafContent)),this._pathToFirstLeafContent}},
{key:"internalPathToFirstLeafContent",get:function(){for(var a=[],f=this;f instanceof w;)0<f.content.length&&(a.push(new ka.Component(0)),f=f.content[0]);return new ka(a)}}]),w}();ma=Pa=Pa||{};(Ka=ma.CountFlags||(ma.CountFlags={}))[Ka.Visits=1]="Visits";Ka[Ka.Turns=2]="Turns";Ka[Ka.CountStartOnly=4]="CountStartOnly";var Fa,Ma,Wa,bb=function(){function w(){return E(this,w),d.apply(this,arguments)}t(w,ba);var d=q(w);return H(w,[{key:"toString",value:function(){return"Glue"}}]),w}(),Ja=function(){function w(){var a,
f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:w.CommandType.NotSet;return E(this,w),(a=d.call(this))._commandType=f,a}t(w,ba);var d=q(w);return H(w,[{key:"Copy",value:function(){return new w(this.commandType)}},{key:"toString",value:function(){return this.commandType.toString()}},{key:"commandType",get:function(){return this._commandType}}],[{key:"EvalStart",value:function(){return new w(w.CommandType.EvalStart)}},{key:"EvalOutput",value:function(){return new w(w.CommandType.EvalOutput)}},
{key:"EvalEnd",value:function(){return new w(w.CommandType.EvalEnd)}},{key:"Duplicate",value:function(){return new w(w.CommandType.Duplicate)}},{key:"PopEvaluatedValue",value:function(){return new w(w.CommandType.PopEvaluatedValue)}},{key:"PopFunction",value:function(){return new w(w.CommandType.PopFunction)}},{key:"PopTunnel",value:function(){return new w(w.CommandType.PopTunnel)}},{key:"BeginString",value:function(){return new w(w.CommandType.BeginString)}},{key:"EndString",value:function(){return new w(w.CommandType.EndString)}},
{key:"NoOp",value:function(){return new w(w.CommandType.NoOp)}},{key:"ChoiceCount",value:function(){return new w(w.CommandType.ChoiceCount)}},{key:"Turns",value:function(){return new w(w.CommandType.Turns)}},{key:"TurnsSince",value:function(){return new w(w.CommandType.TurnsSince)}},{key:"ReadCount",value:function(){return new w(w.CommandType.ReadCount)}},{key:"Random",value:function(){return new w(w.CommandType.Random)}},{key:"SeedRandom",value:function(){return new w(w.CommandType.SeedRandom)}},
{key:"VisitIndex",value:function(){return new w(w.CommandType.VisitIndex)}},{key:"SequenceShuffleIndex",value:function(){return new w(w.CommandType.SequenceShuffleIndex)}},{key:"StartThread",value:function(){return new w(w.CommandType.StartThread)}},{key:"Done",value:function(){return new w(w.CommandType.Done)}},{key:"End",value:function(){return new w(w.CommandType.End)}},{key:"ListFromInt",value:function(){return new w(w.CommandType.ListFromInt)}},{key:"ListRange",value:function(){return new w(w.CommandType.ListRange)}},
{key:"ListRandom",value:function(){return new w(w.CommandType.ListRandom)}}]),w}();Ka=Ja=Ja||{};(Fa=Ka.CommandType||(Ka.CommandType={}))[Fa.NotSet=-1]="NotSet";Fa[Fa.EvalStart=0]="EvalStart";Fa[Fa.EvalOutput=1]="EvalOutput";Fa[Fa.EvalEnd=2]="EvalEnd";Fa[Fa.Duplicate=3]="Duplicate";Fa[Fa.PopEvaluatedValue=4]="PopEvaluatedValue";Fa[Fa.PopFunction=5]="PopFunction";Fa[Fa.PopTunnel=6]="PopTunnel";Fa[Fa.BeginString=7]="BeginString";Fa[Fa.EndString=8]="EndString";Fa[Fa.NoOp=9]="NoOp";Fa[Fa.ChoiceCount=10]=
"ChoiceCount";Fa[Fa.Turns=11]="Turns";Fa[Fa.TurnsSince=12]="TurnsSince";Fa[Fa.Random=13]="Random";Fa[Fa.SeedRandom=14]="SeedRandom";Fa[Fa.VisitIndex=15]="VisitIndex";Fa[Fa.SequenceShuffleIndex=16]="SequenceShuffleIndex";Fa[Fa.StartThread=17]="StartThread";Fa[Fa.Done=18]="Done";Fa[Fa.End=19]="End";Fa[Fa.ListFromInt=20]="ListFromInt";Fa[Fa.ListRange=21]="ListRange";Fa[Fa.ListRandom=22]="ListRandom";Fa[Fa.ReadCount=23]="ReadCount";Fa[Fa.TOTAL_VALUES=24]="TOTAL_VALUES";(Wa=Ma=Ma||{})[Wa.Tunnel=0]="Tunnel";
Wa[Wa.Function=1]="Function";Wa[Wa.FunctionEvaluationFromGame=2]="FunctionEvaluationFromGame";var Va=function(){function w(){E(this,w);this.container=null;this.index=-1;2===arguments.length&&(this.container=arguments[0],this.index=arguments[1])}return H(w,[{key:"Resolve",value:function(){return 0>this.index?this.container:null==this.container?null:0==this.container.content.length?this.container:this.index>=this.container.content.length?null:this.container.content[this.index]}},{key:"toString",value:function(){return this.container?
"Ink Pointer -\x3e "+this.container.path.toString()+" -- index "+this.index:"Ink Pointer (null)"}},{key:"copy",value:function(){return new w(this.container,this.index)}},{key:"isNull",get:function(){return null==this.container}},{key:"path",get:function(){return this.isNull?null:0<=this.index?this.container.path.PathByAppendingComponent(new ka.Component(this.index)):this.container.path}}],[{key:"StartOf",value:function(d){return new w(d,0)}},{key:"Null",get:function(){return new w(null,-1)}}]),w}(),
Za=function(){function w(a){var f;return E(this,w),(f=d.call(this))._targetPath=null,f._targetPointer=Va.Null,f.variableDivertName=null,f.stackPushType=0,f.isExternal=!1,f.externalArgs=0,f.isConditional=!1,f.pushesToStack=!1,void 0!==a&&(f.pushesToStack=!0,f.stackPushType=a),f}t(w,ba);var d=q(w);return H(w,[{key:"Equals",value:function(a){return a instanceof w&&this.hasVariableTarget==a.hasVariableTarget&&(this.hasVariableTarget?this.variableDivertName==a.variableDivertName:null===this.targetPath?
G("this.targetPath"):this.targetPath.Equals(a.targetPath))}},{key:"toString",value:function(){if(this.hasVariableTarget)return"Divert(variable: "+this.variableDivertName+")";if(null==this.targetPath)return"Divert(null)";var a=new fa,f=this.targetPath.toString();return a.Append("Divert"),this.isConditional&&a.Append("?"),this.pushesToStack&&(this.stackPushType==Ma.Function?a.Append(" function"):a.Append(" tunnel")),a.Append(" -\x3e "),a.Append(this.targetPathString),a.Append(" ("),a.Append(f),a.Append(")"),
a.toString()}},{key:"targetPath",get:function(){var a;return null==this._targetPath||!this._targetPath.isRelative||(a=this.targetPointer.Resolve())&&(this._targetPath=a.path),this._targetPath},set:function(a){this._targetPath=a;this._targetPointer=Va.Null}},{key:"targetPointer",get:function(){if(this._targetPointer.isNull){var a=this.ResolvePath(this._targetPath).obj;if(null===this._targetPath)return G("this._targetPath");if(null===this._targetPath.lastComponent)return G("this._targetPath.lastComponent");
if(this._targetPath.lastComponent.isIndex){if(null===a)return G("targetObj");this._targetPointer.container=a.parent instanceof Pa?a.parent:null;this._targetPointer.index=this._targetPath.lastComponent.index}else this._targetPointer=Va.StartOf(a instanceof Pa?a:null)}return this._targetPointer.copy()}},{key:"targetPathString",get:function(){return null==this.targetPath?null:this.CompactPathString(this.targetPath)},set:function(a){this.targetPath=null==a?null:new ka(a)}},{key:"hasVariableTarget",get:function(){return null!=
this.variableDivertName}}]),w}(),eb=function(){function w(){var a,f=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return E(this,w),(a=d.call(this))._pathOnChoice=null,a.hasCondition=!1,a.hasStartContent=!1,a.hasChoiceOnlyContent=!1,a.isInvisibleDefault=!1,a.onceOnly=f,a}t(w,ba);var d=q(w);return H(w,[{key:"toString",value:function(){return null===this.pathOnChoice?G("ChoicePoint.pathOnChoice"):"Choice: -\x3e "+this.pathOnChoice.toString()}},{key:"pathOnChoice",get:function(){var a;return null==
this._pathOnChoice||!this._pathOnChoice.isRelative||(a=this.choiceTarget)&&(this._pathOnChoice=a.path),this._pathOnChoice},set:function(a){this._pathOnChoice=a}},{key:"choiceTarget",get:function(){return null===this._pathOnChoice?G("ChoicePoint._pathOnChoice"):this.ResolvePath(this._pathOnChoice).container}},{key:"pathStringOnChoice",get:function(){return null===this.pathOnChoice?G("ChoicePoint.pathOnChoice"):this.CompactPathString(this.pathOnChoice)},set:function(a){this.pathOnChoice=new ka(a)}},
{key:"flags",get:function(){var a=0;return this.hasCondition&&(a|=1),this.hasStartContent&&(a|=2),this.hasChoiceOnlyContent&&(a|=4),this.isInvisibleDefault&&(a|=8),this.onceOnly&&(a|=16),a},set:function(a){this.hasCondition=0<(1&a);this.hasStartContent=0<(2&a);this.hasChoiceOnlyContent=0<(4&a);this.isInvisibleDefault=0<(8&a);this.onceOnly=0<(16&a)}}]),w}(),fb=function(){function w(){var a,f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return E(this,w),(a=d.call(this)).pathForCount=
null,a.name=f,a}t(w,ba);var d=q(w);return H(w,[{key:"toString",value:function(){return null!=this.name?"var("+this.name+")":"read_count("+this.pathStringForCount+")"}},{key:"containerForCount",get:function(){return null===this.pathForCount?null:this.ResolvePath(this.pathForCount).container}},{key:"pathStringForCount",get:function(){return null===this.pathForCount?null:this.CompactPathString(this.pathForCount)},set:function(a){this.pathForCount=null===a?null:new ka(a)}}]),w}(),cb=function(){function w(a,
f){var B;return E(this,w),(B=d.call(this)).variableName=a||null,B.isNewDeclaration=!!f,B.isGlobal=!1,B}t(w,ba);var d=q(w);return H(w,[{key:"toString",value:function(){return"VarAssign to "+this.variableName}}]),w}(),$a=function(){function w(){return E(this,w),d.apply(this,arguments)}t(w,ba);var d=q(w);return w}(),Ua=function(){function w(){var a,f,B,U;return E(this,w),(a=d.call(this))._name=null,a._numberOfParameters=0,a._prototype=null,a._isPrototype=!1,a._operationFuncs=null,0===arguments.length?
w.GenerateNativeFunctionsIfNecessary():1===arguments.length?(f=arguments[0],w.GenerateNativeFunctionsIfNecessary(),a.name=f):2===arguments.length&&(B=arguments[0],U=arguments[1],a._isPrototype=!0,a.name=B,a.numberOfParameters=U),a}t(w,ba);var d=q(w);return H(w,[{key:"Call",value:function(a){if(this._prototype)return this._prototype.Call(a);if(this.numberOfParameters!=a.length)throw Error("Unexpected number of parameters");var f,B=!1,U=m(a);try{for(U.s();!(f=U.n()).done;){var ia=f.value;if(ia instanceof
$a)throw new ca('Attempting to perform operation on a void value. Did you forget to "return" a value from a function you called here?');ia instanceof Da&&(B=!0)}}catch(M){U.e(M)}finally{U.f()}if(2==a.length&&B)return this.CallBinaryListOperation(a);a=this.CoerceValuesToSingleType(a);f=a[0].valueType;return f==Z.Int||f==Z.Float||f==Z.String||f==Z.DivertTarget||f==Z.List?this.CallType(a):null}},{key:"CallType",value:function(a){var f=r(a[0],qa),B=f.valueType,U=a.length;if(2!=U&&1!=U)throw Error("Unexpected number of parameters to NativeFunctionCall: "+
a.length);if(null===this._operationFuncs)return G("NativeFunctionCall._operationFuncs");var ia=this._operationFuncs.get(B);if(!ia)throw new ca("Cannot perform operation "+this.name+" on "+Z[B]);if(2==U){a=r(a[1],qa);if(null===f.value||null===a.value)return G("NativeFunctionCall.Call BinaryOp values");f=ia(f.value,a.value);return qa.Create(f)}if(null===f.value)return G("NativeFunctionCall.Call UnaryOp value");ia=ia(f.value);return this.name===w.Int?qa.Create(ia,Z.Int):this.name===w.Float?qa.Create(ia,
Z.Float):qa.Create(ia,f.valueType)}},{key:"CallBinaryListOperation",value:function(a){if(("+"==this.name||"-"==this.name)&&a[0]instanceof Da&&a[1]instanceof Ca)return this.CallListIncrementOperation(a);var f=r(a[0],qa);a=r(a[1],qa);if(!("\x26\x26"!=this.name&&"||"!=this.name||f.valueType==Z.List&&a.valueType==Z.List)){if(null===this._operationFuncs)return G("NativeFunctionCall._operationFuncs");var B=this._operationFuncs.get(Z.Int);if(null===B)return G("NativeFunctionCall.CallBinaryListOperation op");
f=B(f.isTruthy?1:0,a.isTruthy?1:0);return new Ca(f)}if(f.valueType==Z.List&&a.valueType==Z.List)return this.CallType([f,a]);throw new ca("Can not call use "+this.name+" operation on "+Z[f.valueType]+" and "+Z[a.valueType]);}},{key:"CallListIncrementOperation",value:function(a){var f=r(a[0],Da);a=r(a[1],Ca);var B=new V;if(null===f.value)return G("NativeFunctionCall.CallListIncrementOperation listVal.value");var U,ia=m(f.value);try{for(ia.s();!(U=ia.n()).done;){var M=z(U.value,2),X=M[1],ja=K.fromSerializedKey(M[0]);
if(null===this._operationFuncs)return G("NativeFunctionCall._operationFuncs");var ta=this._operationFuncs.get(Z.Int);if(null===a.value)return G("NativeFunctionCall.CallListIncrementOperation intVal.value");var Ea=ta(X,a.value),Ia=null;if(null===f.value.origins)return G("NativeFunctionCall.CallListIncrementOperation listVal.value.origins");var Na,Ra,Xa=m(f.value.origins);try{for(Xa.s();!(Na=Xa.n()).done;){var ab=Na.value;if(ab.name==ja.originName){Ia=ab;break}}}catch(hb){Xa.e(hb)}finally{Xa.f()}null==
Ia||(Ra=Ia.TryGetItemWithValue(Ea,K.Null)).exists&&B.Add(Ra.result,Ea)}}catch(hb){ia.e(hb)}finally{ia.f()}return new Da(B)}},{key:"CoerceValuesToSingleType",value:function(a){var f,B=Z.Int,U=null,ia=m(a);try{for(ia.s();!(f=ia.n()).done;){var M=r(f.value,qa);M.valueType>B&&(B=M.valueType);M.valueType==Z.List&&(U=h(M,Da))}}catch(ab){ia.e(ab)}finally{ia.f()}f=[];if(Z[B]==Z[Z.List]){var X;B=m(a);try{for(B.s();!(X=B.n()).done;){var ja=r(X.value,qa);if(ja.valueType==Z.List)f.push(ja);else{if(ja.valueType!=
Z.Int)throw new ca("Cannot mix Lists and "+Z[ja.valueType]+" values in this operation");var ta=parseInt(ja.valueObject);if(null===(U=r(U,Da)).value)return G("NativeFunctionCall.CoerceValuesToSingleType specialCaseList.value");var Ea=U.value.originOfMaxItem;if(null===Ea)return G("NativeFunctionCall.CoerceValuesToSingleType list");var Ia=Ea.TryGetItemWithValue(ta,K.Null);if(!Ia.exists)throw new ca("Could not find List item with the value "+ta+" in "+Ea.name);var Na=new Da(Ia.result,ta);f.push(Na)}}}catch(ab){B.e(ab)}finally{B.f()}}else{var Ra;
U=m(a);try{for(U.s();!(Ra=U.n()).done;){var Xa=r(Ra.value,qa).Cast(B);f.push(Xa)}}catch(ab){U.e(ab)}finally{U.f()}}return f}},{key:"AddOpFuncForType",value:function(a,f){null==this._operationFuncs&&(this._operationFuncs=new Map);this._operationFuncs.set(a,f)}},{key:"toString",value:function(){return'Native "'+this.name+'"'}},{key:"name",get:function(){return null===this._name?G("NativeFunctionCall._name"):this._name},set:function(a){this._name=a;this._isPrototype||(null===w._nativeFunctions?G("NativeFunctionCall._nativeFunctions"):
this._prototype=w._nativeFunctions.get(this._name)||null)}},{key:"numberOfParameters",get:function(){return this._prototype?this._prototype.numberOfParameters:this._numberOfParameters},set:function(a){this._numberOfParameters=a}}],[{key:"CallWithName",value:function(a){return new w(a)}},{key:"CallExistsWithName",value:function(a){return this.GenerateNativeFunctionsIfNecessary(),this._nativeFunctions.get(a)}},{key:"Identity",value:function(a){return a}},{key:"GenerateNativeFunctionsIfNecessary",value:function(){null==
this._nativeFunctions&&(this._nativeFunctions=new Map,this.AddIntBinaryOp(this.Add,function(a,f){return a+f}),this.AddIntBinaryOp(this.Subtract,function(a,f){return a-f}),this.AddIntBinaryOp(this.Multiply,function(a,f){return a*f}),this.AddIntBinaryOp(this.Divide,function(a,f){return Math.floor(a/f)}),this.AddIntBinaryOp(this.Mod,function(a,f){return a%f}),this.AddIntUnaryOp(this.Negate,function(a){return-a}),this.AddIntBinaryOp(this.Equal,function(a,f){return a==f?1:0}),this.AddIntBinaryOp(this.Greater,
function(a,f){return f<a?1:0}),this.AddIntBinaryOp(this.Less,function(a,f){return a<f?1:0}),this.AddIntBinaryOp(this.GreaterThanOrEquals,function(a,f){return f<=a?1:0}),this.AddIntBinaryOp(this.LessThanOrEquals,function(a,f){return a<=f?1:0}),this.AddIntBinaryOp(this.NotEquals,function(a,f){return a!=f?1:0}),this.AddIntUnaryOp(this.Not,function(a){return 0==a?1:0}),this.AddIntBinaryOp(this.And,function(a,f){return 0!=a&&0!=f?1:0}),this.AddIntBinaryOp(this.Or,function(a,f){return 0!=a||0!=f?1:0}),
this.AddIntBinaryOp(this.Max,function(a,f){return Math.max(a,f)}),this.AddIntBinaryOp(this.Min,function(a,f){return Math.min(a,f)}),this.AddIntBinaryOp(this.Pow,function(a,f){return Math.pow(a,f)}),this.AddIntUnaryOp(this.Floor,w.Identity),this.AddIntUnaryOp(this.Ceiling,w.Identity),this.AddIntUnaryOp(this.Int,w.Identity),this.AddIntUnaryOp(this.Float,function(a){return a}),this.AddFloatBinaryOp(this.Add,function(a,f){return a+f}),this.AddFloatBinaryOp(this.Subtract,function(a,f){return a-f}),this.AddFloatBinaryOp(this.Multiply,
function(a,f){return a*f}),this.AddFloatBinaryOp(this.Divide,function(a,f){return a/f}),this.AddFloatBinaryOp(this.Mod,function(a,f){return a%f}),this.AddFloatUnaryOp(this.Negate,function(a){return-a}),this.AddFloatBinaryOp(this.Equal,function(a,f){return a==f?1:0}),this.AddFloatBinaryOp(this.Greater,function(a,f){return f<a?1:0}),this.AddFloatBinaryOp(this.Less,function(a,f){return a<f?1:0}),this.AddFloatBinaryOp(this.GreaterThanOrEquals,function(a,f){return f<=a?1:0}),this.AddFloatBinaryOp(this.LessThanOrEquals,
function(a,f){return a<=f?1:0}),this.AddFloatBinaryOp(this.NotEquals,function(a,f){return a!=f?1:0}),this.AddFloatUnaryOp(this.Not,function(a){return 0==a?1:0}),this.AddFloatBinaryOp(this.And,function(a,f){return 0!=a&&0!=f?1:0}),this.AddFloatBinaryOp(this.Or,function(a,f){return 0!=a||0!=f?1:0}),this.AddFloatBinaryOp(this.Max,function(a,f){return Math.max(a,f)}),this.AddFloatBinaryOp(this.Min,function(a,f){return Math.min(a,f)}),this.AddFloatBinaryOp(this.Pow,function(a,f){return Math.pow(a,f)}),
this.AddFloatUnaryOp(this.Floor,function(a){return Math.floor(a)}),this.AddFloatUnaryOp(this.Ceiling,function(a){return Math.ceil(a)}),this.AddFloatUnaryOp(this.Int,function(a){return Math.floor(a)}),this.AddFloatUnaryOp(this.Float,w.Identity),this.AddStringBinaryOp(this.Add,function(a,f){return a+f}),this.AddStringBinaryOp(this.Equal,function(a,f){return a===f?1:0}),this.AddStringBinaryOp(this.NotEquals,function(a,f){return a!==f?1:0}),this.AddStringBinaryOp(this.Has,function(a,f){return a.includes(f)?
1:0}),this.AddStringBinaryOp(this.Hasnt,function(a,f){return a.includes(f)?0:1}),this.AddListBinaryOp(this.Add,function(a,f){return a.Union(f)}),this.AddListBinaryOp(this.Subtract,function(a,f){return a.Without(f)}),this.AddListBinaryOp(this.Has,function(a,f){return a.Contains(f)?1:0}),this.AddListBinaryOp(this.Hasnt,function(a,f){return a.Contains(f)?0:1}),this.AddListBinaryOp(this.Intersect,function(a,f){return a.Intersect(f)}),this.AddListBinaryOp(this.Equal,function(a,f){return a.Equals(f)?1:
0}),this.AddListBinaryOp(this.Greater,function(a,f){return a.GreaterThan(f)?1:0}),this.AddListBinaryOp(this.Less,function(a,f){return a.LessThan(f)?1:0}),this.AddListBinaryOp(this.GreaterThanOrEquals,function(a,f){return a.GreaterThanOrEquals(f)?1:0}),this.AddListBinaryOp(this.LessThanOrEquals,function(a,f){return a.LessThanOrEquals(f)?1:0}),this.AddListBinaryOp(this.NotEquals,function(a,f){return a.Equals(f)?0:1}),this.AddListBinaryOp(this.And,function(a,f){return 0<a.Count&&0<f.Count?1:0}),this.AddListBinaryOp(this.Or,
function(a,f){return 0<a.Count||0<f.Count?1:0}),this.AddListUnaryOp(this.Not,function(a){return 0==a.Count?1:0}),this.AddListUnaryOp(this.Invert,function(a){return a.inverse}),this.AddListUnaryOp(this.All,function(a){return a.all}),this.AddListUnaryOp(this.ListMin,function(a){return a.MinAsList()}),this.AddListUnaryOp(this.ListMax,function(a){return a.MaxAsList()}),this.AddListUnaryOp(this.Count,function(a){return a.Count}),this.AddListUnaryOp(this.ValueOfList,function(a){return a.maxItem.Value}),
this.AddOpToNativeFunc(this.Equal,2,Z.DivertTarget,function(a,f){return a.Equals(f)?1:0}),this.AddOpToNativeFunc(this.NotEquals,2,Z.DivertTarget,function(a,f){return a.Equals(f)?0:1}))}},{key:"AddOpToNativeFunc",value:function(a,f,B,U){if(null===this._nativeFunctions)return G("NativeFunctionCall._nativeFunctions");var ia=this._nativeFunctions.get(a);ia||(ia=new w(a,f),this._nativeFunctions.set(a,ia));ia.AddOpFuncForType(B,U)}},{key:"AddIntBinaryOp",value:function(a,f){this.AddOpToNativeFunc(a,2,Z.Int,
f)}},{key:"AddIntUnaryOp",value:function(a,f){this.AddOpToNativeFunc(a,1,Z.Int,f)}},{key:"AddFloatBinaryOp",value:function(a,f){this.AddOpToNativeFunc(a,2,Z.Float,f)}},{key:"AddFloatUnaryOp",value:function(a,f){this.AddOpToNativeFunc(a,1,Z.Float,f)}},{key:"AddStringBinaryOp",value:function(a,f){this.AddOpToNativeFunc(a,2,Z.String,f)}},{key:"AddListBinaryOp",value:function(a,f){this.AddOpToNativeFunc(a,2,Z.List,f)}},{key:"AddListUnaryOp",value:function(a,f){this.AddOpToNativeFunc(a,1,Z.List,f)}}]),
w}();Ua.Add="+";Ua.Subtract="-";Ua.Divide="/";Ua.Multiply="*";Ua.Mod="%";Ua.Negate="_";Ua.Equal="\x3d\x3d";Ua.Greater="\x3e";Ua.Less="\x3c";Ua.GreaterThanOrEquals="\x3e\x3d";Ua.LessThanOrEquals="\x3c\x3d";Ua.NotEquals="!\x3d";Ua.Not="!";Ua.And="\x26\x26";Ua.Or="||";Ua.Min="MIN";Ua.Max="MAX";Ua.Pow="POW";Ua.Floor="FLOOR";Ua.Ceiling="CEILING";Ua.Int="INT";Ua.Float="FLOAT";Ua.Has="?";Ua.Hasnt="!?";Ua.Intersect="^";Ua.ListMin="LIST_MIN";Ua.ListMax="LIST_MAX";Ua.All="LIST_ALL";Ua.Count="LIST_COUNT";Ua.ValueOfList=
"LIST_VALUE";Ua.Invert="LIST_INVERT";Ua._nativeFunctions=null;var gb=function(){function w(a){var f;return E(this,w),(f=d.call(this)).text=a.toString()||"",f}t(w,ba);var d=q(w);return H(w,[{key:"toString",value:function(){return"# "+this.text}}]),w}(),ib=function(){function w(){var a;return E(this,w),(a=d.apply(this,arguments)).text="",a.index=0,a.threadAtGeneration=null,a.sourcePath="",a.targetPath=null,a.isInvisibleDefault=!1,a.originalThreadIndex=0,a}t(w,ba);var d=q(w);return H(w,[{key:"pathStringOnChoice",
get:function(){return null===this.targetPath?G("Choice.targetPath"):this.targetPath.toString()},set:function(a){this.targetPath=new ka(a)}}]),w}(),kb=function(){function w(d,a){E(this,w);this._name=d||"";this._items=null;this._itemNameToValues=a||new Map}return H(w,[{key:"ValueForItem",value:function(d){if(!d.itemName)return 0;d=this._itemNameToValues.get(d.itemName);return void 0!==d?d:0}},{key:"ContainsItem",value:function(d){return!!d.itemName&&d.originName==this.name&&this._itemNameToValues.has(d.itemName)}},
{key:"ContainsItemWithName",value:function(d){return this._itemNameToValues.has(d)}},{key:"TryGetItemWithValue",value:function(d){var a,f=m(this._itemNameToValues);try{for(f.s();!(a=f.n()).done;){var B=z(a.value,2),U=B[0];if(B[1]==d)return{result:new K(this.name,U),exists:!0}}}catch(ia){f.e(ia)}finally{f.f()}return{result:K.Null,exists:!1}}},{key:"TryGetValueForItem",value:function(d){return d.itemName?(d=this._itemNameToValues.get(d.itemName))?{result:d,exists:!0}:{result:0,exists:!1}:{result:0,
exists:!1}}},{key:"name",get:function(){return this._name}},{key:"items",get:function(){if(null==this._items){this._items=new Map;var d,a=m(this._itemNameToValues);try{for(a.s();!(d=a.n()).done;){var f=z(d.value,2),B=f[1],U=new K(this.name,f[0]);this._items.set(U.serialized(),B)}}catch(ia){a.e(ia)}finally{a.f()}}return this._items}}]),w}(),c=function(){function w(d){E(this,w);this._lists=new Map;this._allUnambiguousListValueCache=new Map;var a;d=m(d);try{for(d.s();!(a=d.n()).done;){var f=a.value;
this._lists.set(f.name,f);var B,U=m(f.items);try{for(U.s();!(B=U.n()).done;){var ia=z(B.value,2),M=ia[1],X=K.fromSerializedKey(ia[0]),ja=new Da(X,M);if(!X.itemName)throw Error("item.itemName is null or undefined.");this._allUnambiguousListValueCache.set(X.itemName,ja);this._allUnambiguousListValueCache.set(X.fullName,ja)}}catch(ta){U.e(ta)}finally{U.f()}}}catch(ta){d.e(ta)}finally{d.f()}}return H(w,[{key:"TryListGetDefinition",value:function(d,a){return null===d?{result:a,exists:!1}:(d=this._lists.get(d))?
{result:d,exists:!0}:{result:a,exists:!1}}},{key:"FindSingleItemListWithName",value:function(d){if(null===d)return G("name");d=this._allUnambiguousListValueCache.get(d);return void 0!==d?d:null}},{key:"lists",get:function(){var d,a=[],f=m(this._lists);try{for(f.s();!(d=f.n()).done;){var B=z(d.value,2)[1];a.push(B)}}catch(U){f.e(U)}finally{f.f()}return a}}]),w}(),g=function(){function w(){E(this,w)}return H(w,null,[{key:"JArrayToRuntimeObjList",value:function(d,a){var f=d.length;1<arguments.length&&
void 0!==a&&a&&f--;for(var B=[],U=0;U<f;U++){var ia=this.JTokenToRuntimeObject(d[U]);if(null===ia)return G("runtimeObj");B.push(ia)}return B}},{key:"WriteDictionaryRuntimeObjs",value:function(d,a){d.WriteObjectStart();var f;a=m(a);try{for(a.s();!(f=a.n()).done;){var B=z(f.value,2),U=B[1];d.WritePropertyStart(B[0]);this.WriteRuntimeObject(d,U);d.WritePropertyEnd()}}catch(ia){a.e(ia)}finally{a.f()}d.WriteObjectEnd()}},{key:"WriteListRuntimeObjs",value:function(d,a){d.WriteArrayStart();var f;a=m(a);
try{for(a.s();!(f=a.n()).done;)this.WriteRuntimeObject(d,f.value)}catch(B){a.e(B)}finally{a.f()}d.WriteArrayEnd()}},{key:"WriteIntDictionary",value:function(d,a){d.WriteObjectStart();var f;a=m(a);try{for(a.s();!(f=a.n()).done;){var B=z(f.value,2);d.WriteIntProperty(B[0],B[1])}}catch(U){a.e(U)}finally{a.f()}d.WriteObjectEnd()}},{key:"WriteRuntimeObject",value:function(d,a){var f=h(a,Pa);if(f)this.WriteRuntimeContainer(d,f);else{if(f=h(a,Za)){var B;a="-\x3e";return f.isExternal?a="x()":f.pushesToStack&&
(f.stackPushType==Ma.Function?a="f()":f.stackPushType==Ma.Tunnel&&(a="-\x3et-\x3e")),B=f.hasVariableTarget?f.variableDivertName:f.targetPathString,d.WriteObjectStart(),d.WriteProperty(a,B),f.hasVariableTarget&&d.WriteProperty("var",!0),f.isConditional&&d.WriteProperty("c",!0),0<f.externalArgs&&d.WriteIntProperty("exArgs",f.externalArgs),void d.WriteObjectEnd()}if(B=h(a,eb))return d.WriteObjectStart(),d.WriteProperty("*",B.pathStringOnChoice),d.WriteIntProperty("flg",B.flags),void d.WriteObjectEnd();
if(B=h(a,Ca))d.WriteInt(B.value);else if(B=h(a,wa))d.WriteFloat(B.value);else if(B=h(a,za))B.isNewline?d.Write("\n",!1):(d.WriteStringStart(),d.WriteStringInner("^"),d.WriteStringInner(B.value),d.WriteStringEnd());else if(B=h(a,Da))this.WriteInkList(d,B);else{if(B=h(a,Ba))return d.WriteObjectStart(),null===B.value?G("divTargetVal.value"):(d.WriteProperty("^-\x3e",B.value.componentsString),void d.WriteObjectEnd());if(B=h(a,Ga))return d.WriteObjectStart(),d.WriteProperty("^var",B.value),d.WriteIntProperty("ci",
B.contextIndex),void d.WriteObjectEnd();if(h(a,bb))d.Write("\x3c\x3e");else if(B=h(a,Ja))d.Write(w._controlCommandNames[B.commandType]);else{if(B=h(a,Ua))return a=B.name,"^"==a&&(a="L^"),void d.Write(a);if(B=h(a,fb))return d.WriteObjectStart(),a=B.pathStringForCount,null!=a?d.WriteProperty("CNT?",a):d.WriteProperty("VAR?",B.name),void d.WriteObjectEnd();if(B=h(a,cb))return d.WriteObjectStart(),d.WriteProperty(B.isGlobal?"VAR\x3d":"temp\x3d",B.variableName),B.isNewDeclaration||d.WriteProperty("re",
!0),void d.WriteObjectEnd();if(h(a,$a))d.Write("void");else{if(B=h(a,gb))return d.WriteObjectStart(),d.WriteProperty("#",B.text),void d.WriteObjectEnd();B=h(a,ib);if(!B)throw Error("Failed to convert runtime object to Json token: "+a);this.WriteChoice(d,B)}}}}}},{key:"JObjectToDictionaryRuntimeObjs",value:function(d){var a=new Map,f;for(f in d)if(d.hasOwnProperty(f)){var B=this.JTokenToRuntimeObject(d[f]);if(null===B)return G("inkObject");a.set(f,B)}return a}},{key:"JObjectToIntDictionary",value:function(d){var a=
new Map,f;for(f in d)d.hasOwnProperty(f)&&a.set(f,parseInt(d[f]));return a}},{key:"JTokenToRuntimeObject",value:function(d){if("number"==typeof d&&!isNaN(d))return qa.Create(d);if("string"==typeof d){var a=d.toString(),f=a[0];if("^"==f)return new za(a.substring(1));if("\n"==f&&1==a.length)return new za("\n");if("\x3c\x3e"==a)return new bb;for(f=0;f<w._controlCommandNames.length;++f)if(a==w._controlCommandNames[f])return new Ja(f);if("L^"==a&&(a="^"),Ua.CallExistsWithName(a))return Ua.CallWithName(a);
if("-\x3e-\x3e"==a)return Ja.PopTunnel();if("~ret"==a)return Ja.PopFunction();if("void"==a)return new $a}if("object"===y(d)&&!Array.isArray(d)){var B;if(d["^-\x3e"])return B=d["^-\x3e"],new Ba(new ka(B.toString()));if(d["^var"]){B=d["^var"];var U=new Ga(B.toString());return"ci"in d&&(B=d.ci,U.contextIndex=parseInt(B)),U}var ia=!1;f=!1;var M=Ma.Function;a=!1;if((B=d["-\x3e"])?ia=!0:(B=d["f()"])?(f=ia=!0,M=Ma.Function):(B=d["-\x3et-\x3e"])?(f=ia=!0,M=Ma.Tunnel):(B=d["x()"])&&(f=!(a=ia=!0),M=Ma.Function),
ia){U=new Za;U.pushesToStack=f;U.stackPushType=M;U.isExternal=a;var X=B.toString();return(B=d.var)?U.variableDivertName=X:U.targetPathString=X,U.isConditional=!!d.c,a&&(B=d.exArgs)&&(U.externalArgs=parseInt(B)),U}if(B=d["*"])return U=new eb,U.pathStringOnChoice=B.toString(),(B=d.flg)&&(U.flags=parseInt(B)),U;if(B=d["VAR?"])return new fb(B.toString());if(B=d["CNT?"])return d=new fb,d.pathStringForCount=B.toString(),d;a=f=!1;if((B=d["VAR\x3d"])?a=f=!0:(B=d["temp\x3d"])&&(a=!(f=!0)),f)return B=new cb(B.toString(),
!d.re),B.isGlobal=a,B;if(void 0!==d["#"])return B=d["#"],new gb(B.toString());if(B=d.list){var ja;a=B;f=new V;for(var ta in(B=d.origins)&&f.SetInitialOriginNames(B),a)a.hasOwnProperty(ta)&&(U=a[ta],X=new K(ta),ja=parseInt(U),f.Add(X,ja));return new Da(f)}if(null!=d.originalChoicePath)return this.JObjectToChoice(d)}if(Array.isArray(d))return this.JArrayToContainer(d);if(null==d)return null;throw Error("Failed to convert token to runtime object: "+JSON.stringify(d));}},{key:"WriteRuntimeContainer",
value:function(d,a,f){var B=2<arguments.length&&void 0!==f&&f;if(d.WriteArrayStart(),null===a)return G("container");var U,ia=m(a.content);try{for(ia.s();!(U=ia.n()).done;)this.WriteRuntimeObject(d,U.value)}catch(Ea){ia.e(Ea)}finally{ia.f()}U=a.namedOnlyContent;ia=a.countFlags;B=null!=a.name&&!B;ia=null!=U||0<ia||B;if(ia&&d.WriteObjectStart(),null!=U){var M;U=m(U);try{for(U.s();!(M=U.n()).done;){var X=z(M.value,2),ja=X[0],ta=h(X[1],Pa);d.WritePropertyStart(ja);this.WriteRuntimeContainer(d,ta,!0);d.WritePropertyEnd()}}catch(Ea){U.e(Ea)}finally{U.f()}}B&&
d.WriteProperty("#n",a.name);ia?d.WriteObjectEnd():d.WriteNull();d.WriteArrayEnd()}},{key:"JArrayToContainer",value:function(d){var a=new Pa;a.content=this.JArrayToRuntimeObjList(d,!0);d=d[d.length-1];if(null!=d){var f,B,U=new Map,ia;for(ia in d)"#f"==ia?a.countFlags=parseInt(d[ia]):"#n"==ia?a.name=d[ia].toString():((B=h(f=this.JTokenToRuntimeObject(d[ia]),Pa))&&(B.name=ia),U.set(ia,f));a.namedOnlyContent=U}return a}},{key:"JObjectToChoice",value:function(d){var a=new ib;return a.text=d.text.toString(),
a.index=parseInt(d.index),a.sourcePath=d.originalChoicePath.toString(),a.originalThreadIndex=parseInt(d.originalThreadIndex),a.pathStringOnChoice=d.targetPath.toString(),a}},{key:"WriteChoice",value:function(d,a){d.WriteObjectStart();d.WriteProperty("text",a.text);d.WriteIntProperty("index",a.index);d.WriteProperty("originalChoicePath",a.sourcePath);d.WriteIntProperty("originalThreadIndex",a.originalThreadIndex);d.WriteProperty("targetPath",a.pathStringOnChoice);d.WriteObjectEnd()}},{key:"WriteInkList",
value:function(d,a){a=a.value;if(null===a)return G("rawList");d.WriteObjectStart();d.WritePropertyStart("list");d.WriteObjectStart();var f,B=m(a);try{for(B.s();!(f=B.n()).done;){var U=z(f.value,2),ia=U[1],M=K.fromSerializedKey(U[0]),X=ia;if(null===M.itemName)return G("item.itemName");d.WritePropertyNameStart();d.WritePropertyNameInner(M.originName?M.originName:"?");d.WritePropertyNameInner(".");d.WritePropertyNameInner(M.itemName);d.WritePropertyNameEnd();d.Write(X);d.WritePropertyEnd()}}catch(ta){B.e(ta)}finally{B.f()}if(d.WriteObjectEnd(),
d.WritePropertyEnd(),0==a.Count&&null!=a.originNames&&0<a.originNames.length){d.WritePropertyStart("origins");d.WriteArrayStart();var ja;f=m(a.originNames);try{for(f.s();!(ja=f.n()).done;)d.Write(ja.value)}catch(ta){f.e(ta)}finally{f.f()}d.WriteArrayEnd();d.WritePropertyEnd()}d.WriteObjectEnd()}},{key:"ListDefinitionsToJToken",value:function(d){var a,f={};d=m(d.lists);try{for(d.s();!(a=d.n()).done;){var B,U=a.value,ia={},M=m(U.items);try{for(M.s();!(B=M.n()).done;){var X=z(B.value,2),ja=X[1],ta=K.fromSerializedKey(X[0]);
if(null===ta.itemName)return G("item.itemName");ia[ta.itemName]=ja}}catch(Ea){M.e(Ea)}finally{M.f()}f[U.name]=ia}}catch(Ea){d.e(Ea)}finally{d.f()}return f}},{key:"JTokenToListDefinitions",value:function(d){var a=[],f;for(f in d)if(d.hasOwnProperty(f)){var B,U=f.toString(),ia=d[f],M=new Map,X;for(X in ia)d.hasOwnProperty(f)&&(B=ia[X],M.set(X,parseInt(B)));U=new kb(U,M);a.push(U)}return new c(a)}}]),w}();g._controlCommandNames=function(){var w=[];w[Ja.CommandType.EvalStart]="ev";w[Ja.CommandType.EvalOutput]=
"out";w[Ja.CommandType.EvalEnd]="/ev";w[Ja.CommandType.Duplicate]="du";w[Ja.CommandType.PopEvaluatedValue]="pop";w[Ja.CommandType.PopFunction]="~ret";w[Ja.CommandType.PopTunnel]="-\x3e-\x3e";w[Ja.CommandType.BeginString]="str";w[Ja.CommandType.EndString]="/str";w[Ja.CommandType.NoOp]="nop";w[Ja.CommandType.ChoiceCount]="choiceCnt";w[Ja.CommandType.Turns]="turn";w[Ja.CommandType.TurnsSince]="turns";w[Ja.CommandType.ReadCount]="readc";w[Ja.CommandType.Random]="rnd";w[Ja.CommandType.SeedRandom]="srnd";
w[Ja.CommandType.VisitIndex]="visit";w[Ja.CommandType.SequenceShuffleIndex]="seq";w[Ja.CommandType.StartThread]="thread";w[Ja.CommandType.Done]="done";w[Ja.CommandType.End]="end";w[Ja.CommandType.ListFromInt]="listInt";w[Ja.CommandType.ListRange]="range";w[Ja.CommandType.ListRandom]="lrnd";for(var d=0;d<Ja.CommandType.TOTAL_VALUES;++d)if(null==w[d])throw Error("Control command not accounted for in serialisation");return w}();var x=function(){function w(d){if(E(this,w),this._threadCounter=0,this._startOfRoot=
Va.Null,d instanceof N.Story)this._startOfRoot=Va.StartOf(d.rootContentContainer),this.Reset();else{this._threads=[];var a,f=m(d._threads);try{for(f.s();!(a=f.n()).done;)this._threads.push(a.value.Copy())}catch(B){f.e(B)}finally{f.f()}this._threadCounter=d._threadCounter;this._startOfRoot=d._startOfRoot}}return H(w,[{key:"Reset",value:function(){this._threads=[];this._threads.push(new w.Thread);this._threads[0].callstack.push(new w.Element(Ma.Tunnel,this._startOfRoot))}},{key:"SetJsonToken",value:function(d,
a){this._threads.length=0;var f,B=m(d.threads);try{for(B.s();!(f=B.n()).done;){var U=new w.Thread(f.value,a);this._threads.push(U)}}catch(ia){B.e(ia)}finally{B.f()}this._threadCounter=parseInt(d.threadCounter);this._startOfRoot=Va.StartOf(a.rootContentContainer)}},{key:"WriteJson",value:function(d){var a=this;d.WriteObject(function(f){f.WritePropertyStart("threads");f.WriteArrayStart();var B,U=m(a._threads);try{for(U.s();!(B=U.n()).done;)B.value.WriteJson(f)}catch(ia){U.e(ia)}finally{U.f()}f.WriteArrayEnd();
f.WritePropertyEnd();f.WritePropertyStart("threadCounter");f.WriteInt(a._threadCounter);f.WritePropertyEnd()})}},{key:"PushThread",value:function(){var d=this.currentThread.Copy();this._threadCounter++;d.threadIndex=this._threadCounter;this._threads.push(d)}},{key:"ForkThread",value:function(){var d=this.currentThread.Copy();return this._threadCounter++,d.threadIndex=this._threadCounter,d}},{key:"PopThread",value:function(){if(!this.canPopThread)throw Error("Can't pop thread");this._threads.splice(this._threads.indexOf(this.currentThread),
1)}},{key:"Push",value:function(d,a,f){var B=1<arguments.length&&void 0!==a?a:0,U=2<arguments.length&&void 0!==f?f:0,ia=new w.Element(d,this.currentElement.currentPointer,!1);ia.evaluationStackHeightWhenPushed=B;ia.functionStartInOutputStream=U;this.callStack.push(ia)}},{key:"CanPop",value:function(d){var a=0<arguments.length&&void 0!==d?d:null;return!!this.canPop&&(null==a||this.currentElement.type==a)}},{key:"Pop",value:function(d){if(!this.CanPop(0<arguments.length&&void 0!==d?d:null))throw Error("Mismatched push/pop in Callstack");
this.callStack.pop()}},{key:"GetTemporaryVariableWithName",value:function(d,a){var f=1<arguments.length&&void 0!==a?a:-1;-1==f&&(f=this.currentElementIndex+1);f=R(this.callStack[f-1].temporaryVariables,d,null);return f.exists?f.result:null}},{key:"SetTemporaryVariable",value:function(d,a,f,B){var U=3<arguments.length&&void 0!==B?B:-1;-1==U&&(U=this.currentElementIndex+1);U=this.callStack[U-1];if(!f&&!U.temporaryVariables.get(d))throw new ca("Could not find temporary variable to set: "+d);var ia=R(U.temporaryVariables,
d,null);ia.exists&&Da.RetainListOriginsForAssignment(ia.result,a);U.temporaryVariables.set(d,a)}},{key:"ContextForVariableNamed",value:function(d){return this.currentElement.temporaryVariables.get(d)?this.currentElementIndex+1:0}},{key:"ThreadWithIndex",value:function(d){var a=this._threads.filter(function(f){if(f.threadIndex==d)return f});return 0<a.length?a[0]:null}},{key:"elements",get:function(){return this.callStack}},{key:"depth",get:function(){return this.elements.length}},{key:"currentElement",
get:function(){var d=this._threads[this._threads.length-1].callstack;return d[d.length-1]}},{key:"currentElementIndex",get:function(){return this.callStack.length-1}},{key:"currentThread",get:function(){return this._threads[this._threads.length-1]},set:function(d){aa.Assert(1==this._threads.length,"Shouldn't be directly setting the current thread when we have a stack of them");this._threads.length=0;this._threads.push(d)}},{key:"canPop",get:function(){return 1<this.callStack.length}},{key:"canPopThread",
get:function(){return 1<this._threads.length&&!this.elementIsEvaluateFromGame}},{key:"elementIsEvaluateFromGame",get:function(){return this.currentElement.type==Ma.FunctionEvaluationFromGame}},{key:"callStack",get:function(){return this.currentThread.callstack}},{key:"callStackTrace",get:function(){for(var d=new fa,a=0;a<this._threads.length;a++){var f=this._threads[a];d.AppendFormat("\x3d\x3d\x3d THREAD {0}/{1} {2}\x3d\x3d\x3d\n",a+1,this._threads.length,a==this._threads.length-1?"(current) ":"");
for(var B=0;B<f.callstack.length;B++){f.callstack[B].type==Ma.Function?d.Append("  [FUNCTION] "):d.Append("  [TUNNEL] ");var U=f.callstack[B].currentPointer;if(!U.isNull){if(d.Append("\x3cSOMEWHERE IN "),null===U.container)return G("pointer.container");d.Append(U.container.path.toString());d.AppendLine("\x3e")}}}return d.toString()}}]),w}();!function(w){var d=function(){function f(B,U){var ia=2<arguments.length&&void 0!==arguments[2]&&arguments[2];E(this,f);this.functionStartInOutputStream=this.evaluationStackHeightWhenPushed=
0;this.currentPointer=U.copy();this.inExpressionEvaluation=ia;this.temporaryVariables=new Map;this.type=B}return H(f,[{key:"Copy",value:function(){var B=new f(this.type,this.currentPointer,this.inExpressionEvaluation);return B.temporaryVariables=new Map(this.temporaryVariables),B.evaluationStackHeightWhenPushed=this.evaluationStackHeightWhenPushed,B.functionStartInOutputStream=this.functionStartInOutputStream,B}}]),f}();w.Element=d;var a=function(){function f(B,U){if(E(this,f),this.threadIndex=0,
this.previousPointer=Va.Null,this.callstack=[],B&&U){this.threadIndex=parseInt(B.threadIndex);var ia,M=m(B.callstack);try{for(M.s();!(ia=M.n()).done;){var X=ia.value,ja=parseInt(X.type),ta=Va.Null,Ea=void 0,Ia=X.cPath;if(void 0!==Ia){Ea=Ia.toString();var Na=U.ContentAtPath(new ka(Ea));if(ta.container=Na.container,ta.index=parseInt(X.idx),null==Na.obj)throw Error("When loading state, internal story location couldn't be found: "+Ea+". Has the story changed since this save data was created?");if(Na.approximate){if(null===
ta.container)return G("pointer.container");U.Warning("When loading state, exact internal story location couldn't be found: '"+Ea+"', so it was approximated to '"+ta.container.path.toString()+"' to recover. Has the story changed since this save data was created?")}}var Ra=new d(ja,ta,!!X.exp),Xa=X.temp;void 0!==Xa?Ra.temporaryVariables=g.JObjectToDictionaryRuntimeObjs(Xa):Ra.temporaryVariables.clear();this.callstack.push(Ra)}}catch(hb){M.e(hb)}finally{M.f()}var ab;B=B.previousContentObject;void 0!==
B&&(ab=new ka(B.toString()),this.previousPointer=U.PointerAtPath(ab))}}return H(f,[{key:"Copy",value:function(){var B=new f;B.threadIndex=this.threadIndex;var U,ia=m(this.callstack);try{for(ia.s();!(U=ia.n()).done;)B.callstack.push(U.value.Copy())}catch(M){ia.e(M)}finally{ia.f()}return B.previousPointer=this.previousPointer.copy(),B}},{key:"WriteJson",value:function(B){B.WriteObjectStart();B.WritePropertyStart("callstack");B.WriteArrayStart();var U,ia=m(this.callstack);try{for(ia.s();!(U=ia.n()).done;){var M=
U.value;if(B.WriteObjectStart(),!M.currentPointer.isNull){if(null===M.currentPointer.container)return G("el.currentPointer.container");B.WriteProperty("cPath",M.currentPointer.container.path.componentsString);B.WriteIntProperty("idx",M.currentPointer.index)}B.WriteProperty("exp",M.inExpressionEvaluation);B.WriteIntProperty("type",M.type);0<M.temporaryVariables.size&&(B.WritePropertyStart("temp"),g.WriteDictionaryRuntimeObjs(B,M.temporaryVariables),B.WritePropertyEnd());B.WriteObjectEnd()}}catch(X){ia.e(X)}finally{ia.f()}if(B.WriteArrayEnd(),
B.WritePropertyEnd(),B.WriteIntProperty("threadIndex",this.threadIndex),!this.previousPointer.isNull){U=this.previousPointer.Resolve();if(null===U)return G("this.previousPointer.Resolve()");B.WriteProperty("previousContentObject",U.path.toString())}B.WriteObjectEnd()}}]),f}();w.Thread=a}(x=x||{});var O=function(){function w(d,a){E(this,w);this.variableChangedEventCallbacks=[];this.patch=null;this._batchObservingVariableChanges=!1;this._defaultGlobalVariables=new Map;this._changedVariablesForBatchObs=
new Set;this._globalVariables=new Map;this._callStack=d;this._listDefsOrigin=a;try{return new Proxy(this,{get:function(f,B){return B in f?f[B]:f.$(B)},set:function(f,B,U){return B in f?f[B]=U:f.$(B,U),!0}})}catch(f){}}return H(w,[{key:"variableChangedEvent",value:function(d,a){var f,B=m(this.variableChangedEventCallbacks);try{for(B.s();!(f=B.n()).done;)(0,f.value)(d,a)}catch(U){B.e(U)}finally{B.f()}}},{key:"$",value:function(d,a){if(void 0===a)return a=null,null!==this.patch&&(a=this.patch.TryGetGlobal(d,
null)).exists?a.result.valueObject:(void 0===(a=this._globalVariables.get(d))&&(a=this._defaultGlobalVariables.get(d)),void 0!==a?a.valueObject:null);if(void 0===this._defaultGlobalVariables.get(d))throw new ca("Cannot assign to a variable ("+d+") that hasn't been declared in the story");var f=qa.Create(a);if(null==f)throw new ca(null==a?"Cannot pass null to VariableState":"Invalid value passed to VariableState: "+a.toString());this.SetGlobal(d,f)}},{key:"ApplyPatch",value:function(){if(null===this.patch)return G("this.patch");
var d,a=m(this.patch.globals);try{for(a.s();!(d=a.n()).done;){var f=z(d.value,2);this._globalVariables.set(f[0],f[1])}}catch(U){a.e(U)}finally{a.f()}if(null!==this._changedVariablesForBatchObs){var B;d=m(this.patch.changedVariables);try{for(d.s();!(B=d.n()).done;)this._changedVariablesForBatchObs.add(B.value)}catch(U){d.e(U)}finally{d.f()}}this.patch=null}},{key:"SetJsonToken",value:function(d){this._globalVariables.clear();var a,f=m(this._defaultGlobalVariables);try{for(f.s();!(a=f.n()).done;){var B=
z(a.value,2),U=B[0],ia=B[1],M=d[U];if(void 0!==M){var X=g.JTokenToRuntimeObject(M);if(null===X)return G("tokenInkObject");this._globalVariables.set(U,X)}else this._globalVariables.set(U,ia)}}catch(ja){f.e(ja)}finally{f.f()}}},{key:"WriteJson",value:function(d){d.WriteObjectStart();var a,f=m(this._globalVariables);try{for(f.s();!(a=f.n()).done;){var B=z(a.value,2),U=B[0],ia=B[1];if(w.dontSaveDefaultValues&&this._defaultGlobalVariables.has(U)){var M=this._defaultGlobalVariables.get(U);if(this.RuntimeObjectsEqual(ia,
M))continue}d.WritePropertyStart(U);g.WriteRuntimeObject(d,ia);d.WritePropertyEnd()}}catch(X){f.e(X)}finally{f.f()}d.WriteObjectEnd()}},{key:"RuntimeObjectsEqual",value:function(d,a){if(null===d)return G("obj1");if(null===a)return G("obj2");if(d.constructor!==a.constructor)return!1;var f=h(d,Ca);if(null!==f)return f.value===r(a,Ca).value;f=h(d,wa);if(null!==f)return f.value===r(a,wa).value;f=h(d,qa);a=h(a,qa);if(null!==f&&null!==a)return p(f.valueObject)&&p(a.valueObject)?f.valueObject.Equals(a.valueObject):
f.valueObject===a.valueObject;throw Error("FastRoughDefinitelyEquals: Unsupported runtime object type: "+d.constructor.name);}},{key:"GetVariableWithName",value:function(d,a){var f=this.GetRawVariableWithName(d,1<arguments.length&&void 0!==a?a:-1),B=h(f,Ga);return null!==B&&(f=this.ValueAtVariablePointer(B)),f}},{key:"TryGetDefaultVariableValue",value:function(d){d=R(this._defaultGlobalVariables,d,null);return d.exists?d.result:null}},{key:"GlobalVariableExistsWithName",value:function(d){return this._globalVariables.has(d)||
null!==this._defaultGlobalVariables&&this._defaultGlobalVariables.has(d)}},{key:"GetRawVariableWithName",value:function(d,a){if(0==a||-1==a){var f=null;if(null!==this.patch&&(f=this.patch.TryGetGlobal(d,null)).exists||(f=R(this._globalVariables,d,null)).exists||null!==this._defaultGlobalVariables&&(f=R(this._defaultGlobalVariables,d,null)).exists)return f.result;if(null===this._listDefsOrigin)return G("VariablesState._listDefsOrigin");if(f=this._listDefsOrigin.FindSingleItemListWithName(d))return f}return this._callStack.GetTemporaryVariableWithName(d,
a)}},{key:"ValueAtVariablePointer",value:function(d){return this.GetVariableWithName(d.variableName,d.contextIndex)}},{key:"Assign",value:function(d,a){var f=d.variableName;if(null===f)return G("name");var B=-1;var U=d.isNewDeclaration?d.isGlobal:this.GlobalVariableExistsWithName(f);if(d.isNewDeclaration){var ia=h(a,Ga);null!==ia&&(a=this.ResolveVariablePointer(ia))}else for(ia=null;null!=(ia=h(this.GetRawVariableWithName(f,B),Ga))&&(f=ia.variableName,U=0==(B=ia.contextIndex)),null!=ia;);U?this.SetGlobal(f,
a):this._callStack.SetTemporaryVariable(f,a,d.isNewDeclaration,B)}},{key:"SnapshotDefaultGlobals",value:function(){this._defaultGlobalVariables=new Map(this._globalVariables)}},{key:"RetainListOriginsForAssignment",value:function(d,a){d=r(d,Da);a=r(a,Da);d.value&&a.value&&0==a.value.Count&&a.value.SetInitialOriginNames(d.value.originNames)}},{key:"SetGlobal",value:function(d,a){var f=null;if(null===this.patch&&(f=R(this._globalVariables,d,null)),null!==this.patch&&((f=this.patch.TryGetGlobal(d,null)).exists||
(f=R(this._globalVariables,d,null))),Da.RetainListOriginsForAssignment(f.result,a),null===d)return G("variableName");if(null!==this.patch?this.patch.SetGlobal(d,a):this._globalVariables.set(d,a),null!==this.variableChangedEvent&&null!==f&&a!==f.result)if(this.batchObservingVariableChanges){if(null===this._changedVariablesForBatchObs)return G("this._changedVariablesForBatchObs");null!==this.patch?this.patch.AddChangedVariable(d):null!==this._changedVariablesForBatchObs&&this._changedVariablesForBatchObs.add(d)}else this.variableChangedEvent(d,
a)}},{key:"ResolveVariablePointer",value:function(d){var a=d.contextIndex;-1==a&&(a=this.GetContextIndexOfVariableNamed(d.variableName));var f=h(this.GetRawVariableWithName(d.variableName,a),Ga);return null!=f?f:new Ga(d.variableName,a)}},{key:"GetContextIndexOfVariableNamed",value:function(d){return this.GlobalVariableExistsWithName(d)?0:this._callStack.currentElementIndex}},{key:"ObserveVariableChange",value:function(d){this.variableChangedEventCallbacks.push(d)}},{key:"batchObservingVariableChanges",
get:function(){return this._batchObservingVariableChanges},set:function(d){if(this._batchObservingVariableChanges=d)this._changedVariablesForBatchObs=new Set;else if(null!=this._changedVariablesForBatchObs){var a;d=m(this._changedVariablesForBatchObs);try{for(d.s();!(a=d.n()).done;){var f=a.value,B=this._globalVariables.get(f);B?this.variableChangedEvent(f,B):G("currentValue")}}catch(U){d.e(U)}finally{d.f()}this._changedVariablesForBatchObs=null}}},{key:"callStack",get:function(){return this._callStack},
set:function(d){this._callStack=d}}]),w}();O.dontSaveDefaultValues=!0;var S=function(){function w(d){E(this,w);this.seed=d%2147483647;0>=this.seed&&(this.seed+=2147483646)}return H(w,[{key:"next",value:function(){return this.seed=16807*this.seed%2147483647}},{key:"nextFloat",value:function(){return(this.next()-1)/2147483646}}]),w}(),T=function(){function w(){var d;E(this,w);this._changedVariables=new Set;this._visitCounts=new Map;this._turnIndices=new Map;1===arguments.length&&null!==arguments[0]?
(d=arguments[0],this._globals=new Map(d._globals),this._changedVariables=new Set(d._changedVariables),this._visitCounts=new Map(d._visitCounts),this._turnIndices=new Map(d._turnIndices)):(this._globals=new Map,this._changedVariables=new Set,this._visitCounts=new Map,this._turnIndices=new Map)}return H(w,[{key:"TryGetGlobal",value:function(d,a){return null!==d&&this._globals.has(d)?{result:this._globals.get(d),exists:!0}:{result:a,exists:!1}}},{key:"SetGlobal",value:function(d,a){this._globals.set(d,
a)}},{key:"AddChangedVariable",value:function(d){return this._changedVariables.add(d)}},{key:"TryGetVisitCount",value:function(d,a){return this._visitCounts.has(d)?{result:this._visitCounts.get(d),exists:!0}:{result:a,exists:!1}}},{key:"SetVisitCount",value:function(d,a){this._visitCounts.set(d,a)}},{key:"SetTurnIndex",value:function(d,a){this._turnIndices.set(d,a)}},{key:"TryGetTurnIndex",value:function(d,a){return this._turnIndices.has(d)?{result:this._turnIndices.get(d),exists:!0}:{result:a,exists:!1}}},
{key:"globals",get:function(){return this._globals}},{key:"changedVariables",get:function(){return this._changedVariables}},{key:"visitCounts",get:function(){return this._visitCounts}},{key:"turnIndices",get:function(){return this._turnIndices}}]),w}(),na=function(){function w(){E(this,w)}return H(w,null,[{key:"TextToDictionary",value:function(d){return(new w.Reader(d)).ToDictionary()}},{key:"TextToArray",value:function(d){return(new w.Reader(d)).ToArray()}}]),w}();!function(w){var d=function(){function a(f){E(this,
a);this._rootObject=JSON.parse(f)}return H(a,[{key:"ToDictionary",value:function(){return this._rootObject}},{key:"ToArray",value:function(){return this._rootObject}}]),a}();w.Reader=d;d=function(){function a(){E(this,a);this._currentString=this._currentPropertyName=null;this._stateStack=[];this._collectionStack=[];this._propertyNameStack=[];this._jsonObject=null}return H(a,[{key:"WriteObject",value:function(f){this.WriteObjectStart();f(this);this.WriteObjectEnd()}},{key:"WriteObjectStart",value:function(){this.StartNewObject(!0);
var f,B={};this.state===w.Writer.State.Property?(this.Assert(null!==this.currentCollection),this.Assert(null!==this.currentPropertyName),f=this._propertyNameStack.pop(),this.currentCollection[f]=B):this.state===w.Writer.State.Array?(this.Assert(null!==this.currentCollection),this.currentCollection.push(B)):(this.Assert(this.state===w.Writer.State.None),this._jsonObject=B);this._collectionStack.push(B);this._stateStack.push(new w.Writer.StateElement(w.Writer.State.Object))}},{key:"WriteObjectEnd",
value:function(){this.Assert(this.state===w.Writer.State.Object);this._collectionStack.pop();this._stateStack.pop()}},{key:"WriteProperty",value:function(f,B){this.WritePropertyStart(f);B instanceof Function?B(this):this.Write(B);this.WritePropertyEnd()}},{key:"WriteIntProperty",value:function(f,B){this.WritePropertyStart(f);this.WriteInt(B);this.WritePropertyEnd()}},{key:"WriteFloatProperty",value:function(f,B){this.WritePropertyStart(f);this.WriteFloat(B);this.WritePropertyEnd()}},{key:"WritePropertyStart",
value:function(f){this.Assert(this.state===w.Writer.State.Object);this._propertyNameStack.push(f);this.IncrementChildCount();this._stateStack.push(new w.Writer.StateElement(w.Writer.State.Property))}},{key:"WritePropertyEnd",value:function(){this.Assert(this.state===w.Writer.State.Property);this.Assert(1===this.childCount);this._stateStack.pop()}},{key:"WritePropertyNameStart",value:function(){this.Assert(this.state===w.Writer.State.Object);this.IncrementChildCount();this._currentPropertyName="";
this._stateStack.push(new w.Writer.StateElement(w.Writer.State.Property));this._stateStack.push(new w.Writer.StateElement(w.Writer.State.PropertyName))}},{key:"WritePropertyNameEnd",value:function(){this.Assert(this.state===w.Writer.State.PropertyName);this.Assert(null!==this._currentPropertyName);this._propertyNameStack.push(this._currentPropertyName);this._currentPropertyName=null;this._stateStack.pop()}},{key:"WritePropertyNameInner",value:function(f){this.Assert(this.state===w.Writer.State.PropertyName);
this.Assert(null!==this._currentPropertyName);this._currentPropertyName+=f}},{key:"WriteArrayStart",value:function(){this.StartNewObject(!0);var f,B=[];this.state===w.Writer.State.Property?(this.Assert(null!==this.currentCollection),this.Assert(null!==this.currentPropertyName),f=this._propertyNameStack.pop(),this.currentCollection[f]=B):this.state===w.Writer.State.Array?(this.Assert(null!==this.currentCollection),this.currentCollection.push(B)):(this.Assert(this.state===w.Writer.State.None),this._jsonObject=
B);this._collectionStack.push(B);this._stateStack.push(new w.Writer.StateElement(w.Writer.State.Array))}},{key:"WriteArrayEnd",value:function(){this.Assert(this.state===w.Writer.State.Array);this._collectionStack.pop();this._stateStack.pop()}},{key:"Write",value:function(f){null!==f?(this.StartNewObject(!1),this._addToCurrentObject(f)):console.error("Warning: trying to write a null string")}},{key:"WriteInt",value:function(f){null!==f&&(this.StartNewObject(!1),this._addToCurrentObject(Math.floor(f)))}},
{key:"WriteFloat",value:function(f){null!==f&&(this.StartNewObject(!1),f==Number.POSITIVE_INFINITY?this._addToCurrentObject(3.4E38):f==Number.NEGATIVE_INFINITY?this._addToCurrentObject(-3.4E38):isNaN(f)?this._addToCurrentObject(0):this._addToCurrentObject(f))}},{key:"WriteNull",value:function(){this.StartNewObject(!1);this._addToCurrentObject(null)}},{key:"WriteStringStart",value:function(){this.StartNewObject(!1);this._currentString="";this._stateStack.push(new w.Writer.StateElement(w.Writer.State.String))}},
{key:"WriteStringEnd",value:function(){this.Assert(this.state==w.Writer.State.String);this._stateStack.pop();this._addToCurrentObject(this._currentString);this._currentString=null}},{key:"WriteStringInner",value:function(f){this.Assert(this.state===w.Writer.State.String);null!==f?this._currentString+=f:console.error("Warning: trying to write a null string")}},{key:"ToString",value:function(){return null===this._jsonObject?"":JSON.stringify(this._jsonObject)}},{key:"StartNewObject",value:function(f){f?
this.Assert(this.state===w.Writer.State.None||this.state===w.Writer.State.Property||this.state===w.Writer.State.Array):this.Assert(this.state===w.Writer.State.Property||this.state===w.Writer.State.Array);this.state===w.Writer.State.Property&&this.Assert(0===this.childCount);this.state!==w.Writer.State.Array&&this.state!==w.Writer.State.Property||this.IncrementChildCount()}},{key:"IncrementChildCount",value:function(){this.Assert(0<this._stateStack.length);var f=this._stateStack.pop();f.childCount++;
this._stateStack.push(f)}},{key:"Assert",value:function(f){if(!f)throw Error("Assert failed while writing JSON");}},{key:"_addToCurrentObject",value:function(f){this.Assert(null!==this.currentCollection);this.state===w.Writer.State.Array?(this.Assert(Array.isArray(this.currentCollection)),this.currentCollection.push(f)):this.state===w.Writer.State.Property&&(this.Assert(!Array.isArray(this.currentCollection)),this.Assert(null!==this.currentPropertyName),this.currentCollection[this.currentPropertyName]=
f,this._propertyNameStack.pop())}},{key:"state",get:function(){return 0<this._stateStack.length?this._stateStack[this._stateStack.length-1].type:w.Writer.State.None}},{key:"childCount",get:function(){return 0<this._stateStack.length?this._stateStack[this._stateStack.length-1].childCount:0}},{key:"currentCollection",get:function(){return 0<this._collectionStack.length?this._collectionStack[this._collectionStack.length-1]:null}},{key:"currentPropertyName",get:function(){return 0<this._propertyNameStack.length?
this._propertyNameStack[this._propertyNameStack.length-1]:null}}]),a}();w.Writer=d;(function(a){var f;(f=a.State||(a.State={}))[f.None=0]="None";f[f.Object=1]="Object";f[f.Array=2]="Array";f[f.Property=3]="Property";f[f.PropertyName=4]="PropertyName";f[f.String=5]="String";a.StateElement=function ia(U){E(this,ia);this.type=w.Writer.State.None;this.childCount=0;this.type=U}})(d=w.Writer||(w.Writer={}))}(na=na||{});var ha,ra=function(){function w(d){E(this,w);this.kMinCompatibleLoadVersion=this.kInkSaveStateVersion=
8;this._currentWarnings=this._currentErrors=null;this.divertedPointer=Va.Null;this.previousRandom=this.storySeed=this._currentTurnIndex=0;this.didSafeExit=!1;this._currentTags=this._currentText=null;this._outputStreamTagsDirty=this._outputStreamTextDirty=!0;this._patch=null;this.story=d;this._outputStream=[];this.OutputStreamDirty();this._evaluationStack=[];this.callStack=new x(d);this._variablesState=new O(this.callStack,d.listDefinitions);this._visitCounts=new Map;this._turnIndices=new Map;this.currentTurnIndex=
-1;d=(new Date).getTime();this.storySeed=(new S(d)).next()%100;this.previousRandom=0;this._currentChoices=[];this.GoToStart()}return H(w,[{key:"ToJson",value:function(){var d=new na.Writer;return this.WriteJson(d),d.ToString()}},{key:"toJson",value:function(d){return this.ToJson(0<arguments.length&&void 0!==d&&d)}},{key:"LoadJson",value:function(d){d=na.TextToDictionary(d);this.LoadJsonObj(d)}},{key:"VisitCountAtPathString",value:function(d){if(null!==this._patch){var a=this.story.ContentAtPath(new ka(d)).container;
if(null===a)throw Error("Content at path not found: "+d);if((a=this._patch.TryGetVisitCount(a,0)).exists)return a.result}return(a=R(this._visitCounts,d,null)).exists?a.result:0}},{key:"VisitCountForContainer",value:function(d){if(null===d)return G("container");if(!d.visitsShouldBeCounted)return this.story.Error("Read count for target ("+d.name+" - on "+d.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),0;if(null!==this._patch){var a=this._patch.TryGetVisitCount(d,
0);if(a.exists)return a.result}d=R(this._visitCounts,d.path.toString(),null);return d.exists?d.result:0}},{key:"IncrementVisitCountForContainer",value:function(d){if(null!==this._patch){var a=this.VisitCountForContainer(d);return a++,void this._patch.SetVisitCount(d,a)}d=d.path.toString();a=R(this._visitCounts,d,null);a.exists?this._visitCounts.set(d,a.result+1):this._visitCounts.set(d,1)}},{key:"RecordTurnIndexVisitToContainer",value:function(d){var a;null===this._patch?(a=d.path.toString(),this._turnIndices.set(a,
this.currentTurnIndex)):this._patch.SetTurnIndex(d,this.currentTurnIndex)}},{key:"TurnsSinceForContainer",value:function(d){if(d.turnIndexShouldBeCounted||this.story.Error("TURNS_SINCE() for target ("+d.name+" - on "+d.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),null!==this._patch){var a=this._patch.TryGetTurnIndex(d,0);if(a.exists)return this.currentTurnIndex-a.result}d=R(this._turnIndices,d.path.toString(),0);return d.exists?this.currentTurnIndex-
d.result:-1}},{key:"CleanOutputWhitespace",value:function(d){for(var a=new fa,f=-1,B=0,U=0;U<d.length;U++){var ia=d.charAt(U),M=" "==ia||"\t"==ia;M&&-1==f&&(f=U);M||("\n"!=ia&&0<f&&f!=B&&a.Append(" "),f=-1);"\n"==ia&&(B=U+1);M||a.Append(ia)}return a.toString()}},{key:"GoToStart",value:function(){this.callStack.currentElement.currentPointer=Va.StartOf(this.story.mainContentContainer)}},{key:"CopyAndStartPatching",value:function(){var d=new w(this.story);return d._patch=new T(this._patch),d.outputStream.push.apply(d.outputStream,
this._outputStream),d.OutputStreamDirty(),d._currentChoices.push.apply(d._currentChoices,this._currentChoices),this.hasError&&(d._currentErrors=[],d._currentErrors.push.apply(d._currentErrors,this.currentErrors||[])),this.hasWarning&&(d._currentWarnings=[],d._currentWarnings.push.apply(d._currentWarnings,this.currentWarnings||[])),d.callStack=new x(this.callStack),d.variablesState=this.variablesState,d.variablesState.callStack=d.callStack,d.variablesState.patch=d._patch,d.evaluationStack.push.apply(d.evaluationStack,
this.evaluationStack),this.divertedPointer.isNull||(d.divertedPointer=this.divertedPointer.copy()),d.previousPointer=this.previousPointer.copy(),d._visitCounts=this._visitCounts,d._turnIndices=this._turnIndices,d.currentTurnIndex=this.currentTurnIndex,d.storySeed=this.storySeed,d.previousRandom=this.previousRandom,d.didSafeExit=this.didSafeExit,d}},{key:"RestoreAfterPatch",value:function(){this.variablesState.callStack=this.callStack;this.variablesState.patch=this._patch}},{key:"ApplyAnyPatch",value:function(){if(null!==
this._patch){this.variablesState.ApplyPatch();var d,a=m(this._patch.visitCounts);try{for(a.s();!(d=a.n()).done;){var f=z(d.value,2);this.ApplyCountChanges(f[0],f[1],!0)}}catch(ia){a.e(ia)}finally{a.f()}var B;d=m(this._patch.turnIndices);try{for(d.s();!(B=d.n()).done;){var U=z(B.value,2);this.ApplyCountChanges(U[0],U[1],!1)}}catch(ia){d.e(ia)}finally{d.f()}this._patch=null}}},{key:"ApplyCountChanges",value:function(d,a,f){(f?this._visitCounts:this._turnIndices).set(d.path.toString(),a)}},{key:"WriteJson",
value:function(d){var a=this;d.WriteObjectStart();var f,B=!1,U=m(this._currentChoices);try{for(U.s();!(f=U.n()).done;){var ia=f.value;if(null===ia.threadAtGeneration)return G("c.threadAtGeneration");ia.originalThreadIndex=ia.threadAtGeneration.threadIndex;null===this.callStack.ThreadWithIndex(ia.originalThreadIndex)&&(B||(B=!0,d.WritePropertyStart("choiceThreads"),d.WriteObjectStart()),d.WritePropertyStart(ia.originalThreadIndex),ia.threadAtGeneration.WriteJson(d),d.WritePropertyEnd())}}catch(M){U.e(M)}finally{U.f()}if(B&&
(d.WriteObjectEnd(),d.WritePropertyEnd()),d.WriteProperty("callstackThreads",function(M){return a.callStack.WriteJson(M)}),d.WriteProperty("variablesState",function(M){return a.variablesState.WriteJson(M)}),d.WriteProperty("evalStack",function(M){return g.WriteListRuntimeObjs(M,a.evaluationStack)}),d.WriteProperty("outputStream",function(M){return g.WriteListRuntimeObjs(M,a._outputStream)}),d.WriteProperty("currentChoices",function(M){M.WriteArrayStart();var X,ja=m(a._currentChoices);try{for(ja.s();!(X=
ja.n()).done;)g.WriteChoice(M,X.value)}catch(ta){ja.e(ta)}finally{ja.f()}M.WriteArrayEnd()}),!this.divertedPointer.isNull){if(null===this.divertedPointer.path)return G("divertedPointer");d.WriteProperty("currentDivertTarget",this.divertedPointer.path.componentsString)}d.WriteProperty("visitCounts",function(M){return g.WriteIntDictionary(M,a._visitCounts)});d.WriteProperty("turnIndices",function(M){return g.WriteIntDictionary(M,a._turnIndices)});d.WriteIntProperty("turnIdx",this.currentTurnIndex);
d.WriteIntProperty("storySeed",this.storySeed);d.WriteIntProperty("previousRandom",this.previousRandom);d.WriteIntProperty("inkSaveVersion",this.kInkSaveStateVersion);d.WriteIntProperty("inkFormatVersion",N.Story.inkVersionCurrent);d.WriteObjectEnd()}},{key:"LoadJsonObj",value:function(d){var a=d.inkSaveVersion;if(null==a)throw new ca("ink save format incorrect, can't load.");if(parseInt(a)<this.kMinCompatibleLoadVersion)throw new ca("Ink save format isn't compatible with the current version (saw '"+
a+"', but minimum is "+this.kMinCompatibleLoadVersion+"), so can't load.");this.callStack.SetJsonToken(d.callstackThreads,this.story);this.variablesState.SetJsonToken(d.variablesState);this._evaluationStack=g.JArrayToRuntimeObjList(d.evalStack);this._outputStream=g.JArrayToRuntimeObjList(d.outputStream);this.OutputStreamDirty();this._currentChoices=g.JArrayToRuntimeObjList(d.currentChoices);var f;a=d.currentDivertTarget;null!=a&&(f=new ka(a.toString()),this.divertedPointer=this.story.PointerAtPath(f));
this._visitCounts=g.JObjectToIntDictionary(d.visitCounts);this._turnIndices=g.JObjectToIntDictionary(d.turnIndices);this.currentTurnIndex=parseInt(d.turnIdx);this.storySeed=parseInt(d.storySeed);this.previousRandom=parseInt(d.previousRandom);var B;d=d.choiceThreads;f=m(this._currentChoices);try{for(f.s();!(B=f.n()).done;){var U,ia=B.value,M=this.callStack.ThreadWithIndex(ia.originalThreadIndex);null!=M?ia.threadAtGeneration=M.Copy():(U=d[ia.originalThreadIndex.toString()],ia.threadAtGeneration=new x.Thread(U,
this.story))}}catch(X){f.e(X)}finally{f.f()}}},{key:"ResetErrors",value:function(){this._currentWarnings=this._currentErrors=null}},{key:"ResetOutput",value:function(d){var a=0<arguments.length&&void 0!==d?d:null;this._outputStream.length=0;null!==a&&this._outputStream.push.apply(this._outputStream,a);this.OutputStreamDirty()}},{key:"PushToOutputStream",value:function(d){var a=h(d,za);if(null!==a&&(a=this.TrySplittingHeadTailWhitespace(a),null!==a)){var f;d=m(a);try{for(d.s();!(f=d.n()).done;)this.PushToOutputStreamIndividual(f.value)}catch(B){d.e(B)}finally{d.f()}return void this.OutputStreamDirty()}this.PushToOutputStreamIndividual(d);
this.OutputStreamDirty()}},{key:"PopFromOutputStream",value:function(d){this.outputStream.splice(this.outputStream.length-d,d);this.OutputStreamDirty()}},{key:"TrySplittingHeadTailWhitespace",value:function(d){d=d.value;if(null===d)return G("single.value");for(var a=-1,f=-1,B=0;B<d.length;++B){var U=d[B];if("\n"!=U){if(" "==U||"\t"==U)continue;break}-1==a&&(a=B);f=B}U=B=-1;for(var ia=0;ia<d.length;++ia){var M=d[ia];if("\n"!=M){if(" "==M||"\t"==M)continue;break}-1==B&&(B=ia);U=ia}if(-1==a&&-1==B)return null;
var X,ja,ta,Ea;ia=[];M=0;var Ia=d.length;return-1!=a&&(0<a&&(X=new za(d.substring(0,a)),ia.push(X)),ia.push(new za("\n")),M=f+1),-1!=B&&(Ia=U),M<Ia&&(ja=d.substring(M,Ia-M),ia.push(new za(ja))),-1!=B&&f<U&&(ia.push(new za("\n")),B<d.length-1&&(ta=d.length-B-1,Ea=new za(d.substring(B+1,ta)),ia.push(Ea))),ia}},{key:"PushToOutputStreamIndividual",value:function(d){var a=h(d,bb),f=h(d,za),B=!0;if(a)this.TrimNewlinesFromOutputStream(),B=!0;else if(f){a=-1;var U=this.callStack.currentElement;U.type==Ma.Function&&
(a=U.functionStartInOutputStream);U=-1;for(var ia=this._outputStream.length-1;0<=ia;ia--){var M=this._outputStream[ia],X=M instanceof Ja?M:null;if(null!=(M instanceof bb?M:null)){U=ia;break}if(null!=X&&X.commandType==Ja.CommandType.BeginString){a<=ia&&(a=-1);break}}if(-1!=(-1!=U&&-1!=a?Math.min(a,U):-1!=U?U:a))if(f.isNewline)B=!1;else{if(f.isNonWhitespace&&(-1<U&&this.RemoveExistingGlue(),-1<a))for(f=this.callStack.elements,a=f.length-1;0<=a;a--){U=f[a];if(U.type!=Ma.Function)break;U.functionStartInOutputStream=
-1}}else f.isNewline&&(!this.outputStreamEndsInNewline&&this.outputStreamContainsContent||(B=!1))}if(B){if(null===d)return G("obj");this._outputStream.push(d);this.OutputStreamDirty()}}},{key:"TrimNewlinesFromOutputStream",value:function(){for(var d=-1,a=this._outputStream.length-1;0<=a;){var f=this._outputStream[a],B=h(f,Ja);f=h(f,za);if(null!=B||null!=f&&f.isNonWhitespace)break;null!=f&&f.isNewline&&(d=a);a--}if(0<=d)for(a=d;a<this._outputStream.length;)h(this._outputStream[a],za)?this._outputStream.splice(a,
1):a++;this.OutputStreamDirty()}},{key:"RemoveExistingGlue",value:function(){for(var d=this._outputStream.length-1;0<=d;d--){var a=this._outputStream[d];if(a instanceof bb)this._outputStream.splice(d,1);else if(a instanceof Ja)break}this.OutputStreamDirty()}},{key:"PushEvaluationStack",value:function(d){var a=h(d,Da);if(a){a=a.value;if(null===a)return G("rawList");if(null!=a.originNames){a.origins||(a.origins=[]);a.origins.length=0;var f,B=m(a.originNames);try{for(B.s();!(f=B.n()).done;){var U=f.value;
if(null===this.story.listDefinitions)return G("StoryState.story.listDefinitions");var ia=this.story.listDefinitions.TryListGetDefinition(U,null);if(null===ia.result)return G("StoryState def.result");0>a.origins.indexOf(ia.result)&&a.origins.push(ia.result)}}catch(M){B.e(M)}finally{B.f()}}}if(null===d)return G("obj");this.evaluationStack.push(d)}},{key:"PopEvaluationStack",value:function(d){if(void 0===d)return J(this.evaluationStack.pop());if(d>this.evaluationStack.length)throw Error("trying to pop too many objects");
return J(this.evaluationStack.splice(this.evaluationStack.length-d,d))}},{key:"PeekEvaluationStack",value:function(){return this.evaluationStack[this.evaluationStack.length-1]}},{key:"ForceEnd",value:function(){this.callStack.Reset();this._currentChoices.length=0;this.previousPointer=this.currentPointer=Va.Null;this.didSafeExit=!0}},{key:"TrimWhitespaceFromFunctionEnd",value:function(){aa.Assert(this.callStack.currentElement.type==Ma.Function);var d=this.callStack.currentElement.functionStartInOutputStream;
-1==d&&(d=0);for(var a=this._outputStream.length-1;d<=a;a--){var f=this._outputStream[a],B=h(f,za);f=h(f,Ja);if(null!=B){if(f)break;if(!B.isNewline&&!B.isInlineWhitespace)break;this._outputStream.splice(a,1);this.OutputStreamDirty()}}}},{key:"PopCallStack",value:function(d){var a=0<arguments.length&&void 0!==d?d:null;this.callStack.currentElement.type==Ma.Function&&this.TrimWhitespaceFromFunctionEnd();this.callStack.Pop(a)}},{key:"SetChosenPath",value:function(d,a){this._currentChoices.length=0;d=
this.story.PointerAtPath(d);d.isNull||-1!=d.index||(d.index=0);this.currentPointer=d;a&&this.currentTurnIndex++}},{key:"StartFunctionEvaluationFromGame",value:function(d,a){this.callStack.Push(Ma.FunctionEvaluationFromGame,this.evaluationStack.length);this.callStack.currentElement.currentPointer=Va.StartOf(d);this.PassArgumentsToEvaluationStack(a)}},{key:"PassArgumentsToEvaluationStack",value:function(d){if(null!=d)for(var a=0;a<d.length;a++){if("number"!=typeof d[a]&&"string"!=typeof d[a])throw Error("ink arguments when calling EvaluateFunction / ChoosePathStringWithParameters  must be int, float or string");
this.PushEvaluationStack(qa.Create(d[a]))}}},{key:"TryExitFunctionEvaluationFromGame",value:function(){return this.callStack.currentElement.type==Ma.FunctionEvaluationFromGame&&(this.currentPointer=Va.Null,this.didSafeExit=!0)}},{key:"CompleteFunctionEvaluationFromGame",value:function(){if(this.callStack.currentElement.type!=Ma.FunctionEvaluationFromGame)throw new ca("Expected external function evaluation to be complete. Stack trace: "+this.callStack.callStackTrace);for(var d=this.callStack.currentElement.evaluationStackHeightWhenPushed,
a=null;this.evaluationStack.length>d;){var f=this.PopEvaluationStack();null===a&&(a=f)}if(this.PopCallStack(Ma.FunctionEvaluationFromGame),a){if(a instanceof $a)return null;d=r(a,qa);return d.valueType==Z.DivertTarget?d.valueObject.toString():d.valueObject}return null}},{key:"AddError",value:function(d,a){a?(null==this._currentWarnings&&(this._currentWarnings=[]),this._currentWarnings.push(d)):(null==this._currentErrors&&(this._currentErrors=[]),this._currentErrors.push(d))}},{key:"OutputStreamDirty",
value:function(){this._outputStreamTagsDirty=this._outputStreamTextDirty=!0}},{key:"callstackDepth",get:function(){return this.callStack.depth}},{key:"outputStream",get:function(){return this._outputStream}},{key:"currentChoices",get:function(){return this.canContinue?[]:this._currentChoices}},{key:"generatedChoices",get:function(){return this._currentChoices}},{key:"currentErrors",get:function(){return this._currentErrors}},{key:"currentWarnings",get:function(){return this._currentWarnings}},{key:"variablesState",
get:function(){return this._variablesState},set:function(d){this._variablesState=d}},{key:"evaluationStack",get:function(){return this._evaluationStack}},{key:"visitCounts",get:function(){return this._visitCounts}},{key:"turnIndices",get:function(){return this._turnIndices}},{key:"currentTurnIndex",get:function(){return this._currentTurnIndex},set:function(d){this._currentTurnIndex=d}},{key:"currentPathString",get:function(){var d=this.currentPointer;return d.isNull?null:null===d.path?G("pointer.path"):
d.path.toString()}},{key:"currentPointer",get:function(){return this.callStack.currentElement.currentPointer.copy()},set:function(d){this.callStack.currentElement.currentPointer=d.copy()}},{key:"previousPointer",get:function(){return this.callStack.currentThread.previousPointer.copy()},set:function(d){this.callStack.currentThread.previousPointer=d.copy()}},{key:"canContinue",get:function(){return!this.currentPointer.isNull&&!this.hasError}},{key:"hasError",get:function(){return null!=this.currentErrors&&
0<this.currentErrors.length}},{key:"hasWarning",get:function(){return null!=this.currentWarnings&&0<this.currentWarnings.length}},{key:"currentText",get:function(){if(this._outputStreamTextDirty){var d,a=new fa,f=m(this._outputStream);try{for(f.s();!(d=f.n()).done;){var B=h(d.value,za);null!==B&&a.Append(B.value)}}catch(U){f.e(U)}finally{f.f()}this._currentText=this.CleanOutputWhitespace(a.toString());this._outputStreamTextDirty=!1}return this._currentText}},{key:"currentTags",get:function(){if(this._outputStreamTagsDirty){this._currentTags=
[];var d,a=m(this._outputStream);try{for(a.s();!(d=a.n()).done;){var f=h(d.value,gb);null!==f&&this._currentTags.push(f.text)}}catch(B){a.e(B)}finally{a.f()}this._outputStreamTagsDirty=!1}return this._currentTags}},{key:"inExpressionEvaluation",get:function(){return this.callStack.currentElement.inExpressionEvaluation},set:function(d){this.callStack.currentElement.inExpressionEvaluation=d}},{key:"outputStreamEndsInNewline",get:function(){if(0<this._outputStream.length)for(var d=this._outputStream.length-
1;0<=d&&!(this._outputStream[d]instanceof Ja);d--){var a=this._outputStream[d];if(a instanceof za){if(a.isNewline)return!0;if(a.isNonWhitespace)break}}return!1}},{key:"outputStreamContainsContent",get:function(){for(var d=0;d<this._outputStream.length;d++)if(this._outputStream[d]instanceof za)return!0;return!1}},{key:"inStringEvaluation",get:function(){for(var d=this._outputStream.length-1;0<=d;d--){var a=h(this._outputStream[d],Ja);if(a instanceof Ja&&a.commandType==Ja.CommandType.BeginString)return!0}return!1}}]),
w}(),oa=function(){function w(){E(this,w);this.startTime=void 0}return H(w,[{key:"Start",value:function(){this.startTime=(new Date).getTime()}},{key:"Stop",value:function(){this.startTime=void 0}},{key:"ElapsedMilliseconds",get:function(){return void 0===this.startTime?0:(new Date).getTime()-this.startTime}}]),w}();Number.isInteger||(Number.isInteger=function(w){return"number"==typeof w&&isFinite(w)&&-9007199254740992<w&&9007199254740992>w&&Math.floor(w)===w});N.Story=function(){function w(a,f){var B;
E(this,w);(B=d.call(this)).inkVersionMinimumCompatible=18;B._prevContainers=[];B.allowExternalFunctionFallbacks=!1;B._listDefinitions=null;B._variableObservers=null;B._hasValidatedExternals=!1;B._temporaryEvaluationContainer=null;B._asyncContinueActive=!1;B._stateSnapshotAtLastNewline=null;B._recursiveContinueCount=0;B._asyncSaving=!1;var U=B._profiler=null,ia=null;if(a instanceof Pa?(void 0!==f&&(U=f),B._mainContentContainer=a):ia="string"==typeof a?na.TextToDictionary(a):a,null!=U&&(B._listDefinitions=
new c(U)),B._externals=new Map,null!==ia){a=ia;f=a.inkVersion;if(null==f)throw Error("ink version number not found. Are you sure it's a valid .ink.json file?");f=parseInt(f);if(w.inkVersionCurrent<f)throw Error("Version of ink used to build story was newer than the current version of the engine");if(f<B.inkVersionMinimumCompatible)throw Error("Version of ink used to build story is too old to be loaded by this version of the engine");f!=w.inkVersionCurrent&&console.warn("WARNING: Version of ink used to build story doesn't match current version of engine. Non-critical, but recommend synchronising.");
var M;f=a.root;if(null==f)throw Error("Root node for ink not found. Are you sure it's a valid .ink.json file?");(M=a.listDefs)&&(B._listDefinitions=g.JTokenToListDefinitions(M));B._mainContentContainer=r(g.JTokenToRuntimeObject(f),Pa);B.ResetState()}return B}t(w,ba);var d=q(w);return H(w,[{key:"StartProfiling",value:function(){}},{key:"EndProfiling",value:function(){}},{key:"ToJson",value:function(a){var f=this,B=!1;if(a||(B=!0,a=new na.Writer),a.WriteObjectStart(),a.WriteIntProperty("inkVersion",
w.inkVersionCurrent),a.WriteProperty("root",function(Na){return g.WriteRuntimeContainer(Na,f._mainContentContainer)}),null!=this._listDefinitions){a.WritePropertyStart("listDefs");a.WriteObjectStart();var U,ia=m(this._listDefinitions.lists);try{for(ia.s();!(U=ia.n()).done;){var M=U.value;a.WritePropertyStart(M.name);a.WriteObjectStart();var X,ja=m(M.items);try{for(ja.s();!(X=ja.n()).done;){var ta=z(X.value,2),Ea=ta[1],Ia=K.fromSerializedKey(ta[0]);a.WriteIntProperty(Ia.itemName,Ea)}}catch(Na){ja.e(Na)}finally{ja.f()}a.WriteObjectEnd();
a.WritePropertyEnd()}}catch(Na){ia.e(Na)}finally{ia.f()}a.WriteObjectEnd();a.WritePropertyEnd()}if(a.WriteObjectEnd(),B)return a.ToString()}},{key:"ResetState",value:function(){this.IfAsyncWeCant("ResetState");this._state=new ra(this);this._state.variablesState.ObserveVariableChange(this.VariableStateDidChangeEvent.bind(this));this.ResetGlobals()}},{key:"ResetErrors",value:function(){if(null===this._state)return G("this._state");this._state.ResetErrors()}},{key:"ResetCallstack",value:function(){if(this.IfAsyncWeCant("ResetCallstack"),
null===this._state)return G("this._state");this._state.ForceEnd()}},{key:"ResetGlobals",value:function(){var a;this._mainContentContainer.namedContent.get("global decl")&&(a=this.state.currentPointer.copy(),this.ChoosePath(new ka("global decl"),!1),this.ContinueInternal(),this.state.currentPointer=a);this.state.variablesState.SnapshotDefaultGlobals()}},{key:"Continue",value:function(){return this.ContinueAsync(0),this.currentText}},{key:"ContinueAsync",value:function(a){this._hasValidatedExternals||
this.ValidateExternalBindings();this.ContinueInternal(a)}},{key:"ContinueInternal",value:function(a){var f=0<arguments.length&&void 0!==a?a:0;null!=this._profiler&&this._profiler.PreContinue();var B=0<f;if(this._recursiveContinueCount++,!this._asyncContinueActive){if(this._asyncContinueActive=B,!this.canContinue)throw new ca("Can't continue - should check canContinue before calling Continue");this._state.didSafeExit=!1;this._state.ResetOutput();1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=
!0)}B=new oa;B.Start();var U=!1;do{try{U=this.ContinueSingleStep()}catch(ia){if(!(ia instanceof ca))throw ia;this.AddError(ia.message,void 0,ia.useEndLineNumber);break}if(U)break;if(this._asyncContinueActive&&B.ElapsedMilliseconds>f)break}while(this.canContinue);B.Stop();!U&&this.canContinue||(null!==this._stateSnapshotAtLastNewline&&this.RestoreStateSnapshot(),this.canContinue||(this.state.callStack.canPopThread&&this.AddError("Thread available to pop, threads should always be flat by the end of evaluation?"),
0!=this.state.generatedChoices.length||this.state.didSafeExit||null!=this._temporaryEvaluationContainer||(this.state.callStack.CanPop(Ma.Tunnel)?this.AddError("unexpectedly reached end of content. Do you need a '-\x3e-\x3e' to return from a tunnel?"):this.state.callStack.CanPop(Ma.Function)?this.AddError("unexpectedly reached end of content. Do you need a '~ return'?"):this.state.callStack.canPop?this.AddError("unexpectedly reached end of content for unknown reason. Please debug compiler!"):this.AddError("ran out of content. Do you need a '-\x3e DONE' or '-\x3e END'?"))),
this.state.didSafeExit=!1,1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!1),this._asyncContinueActive=!1);this._recursiveContinueCount--;null!=this._profiler&&this._profiler.PostContinue()}},{key:"ContinueSingleStep",value:function(){if(null!=this._profiler&&this._profiler.PreStep(),this.Step(),null!=this._profiler&&this._profiler.PostStep(),this.canContinue||this.state.callStack.elementIsEvaluateFromGame||this.TryFollowDefaultInvisibleChoice(),null!=this._profiler&&
this._profiler.PreSnapshot(),!this.state.inStringEvaluation){if(null!==this._stateSnapshotAtLastNewline){if(null===this._stateSnapshotAtLastNewline.currentTags)return G("this._stateAtLastNewline.currentTags");if(null===this.state.currentTags)return G("this.state.currentTags");var a=this.CalculateNewlineOutputStateChange(this._stateSnapshotAtLastNewline.currentText,this.state.currentText,this._stateSnapshotAtLastNewline.currentTags.length,this.state.currentTags.length);if(a==w.OutputStateChange.ExtendedBeyondNewline)return this.RestoreStateSnapshot(),
!0;a==w.OutputStateChange.NewlineRemoved&&this.DiscardSnapshot()}this.state.outputStreamEndsInNewline&&(this.canContinue?null==this._stateSnapshotAtLastNewline&&this.StateSnapshot():this.DiscardSnapshot())}return null!=this._profiler&&this._profiler.PostSnapshot(),!1}},{key:"CalculateNewlineOutputStateChange",value:function(a,f,B,U){if(null===a)return G("prevText");if(null===f)return G("currText");var ia=f.length>=a.length&&"\n"==f.charAt(a.length-1);if(B==U&&a.length==f.length&&ia)return w.OutputStateChange.NoChange;
if(!ia)return w.OutputStateChange.NewlineRemoved;if(B<U)return w.OutputStateChange.ExtendedBeyondNewline;for(a=a.length;a<f.length;a++)if(B=f.charAt(a)," "!=B&&"\t"!=B)return w.OutputStateChange.ExtendedBeyondNewline;return w.OutputStateChange.NoChange}},{key:"ContinueMaximally",value:function(){this.IfAsyncWeCant("ContinueMaximally");for(var a=new fa;this.canContinue;)a.Append(this.Continue());return a.toString()}},{key:"ContentAtPath",value:function(a){return this.mainContentContainer.ContentAtPath(a)}},
{key:"KnotContainerWithName",value:function(a){a=this.mainContentContainer.namedContent.get(a);return a instanceof Pa?a:null}},{key:"PointerAtPath",value:function(a){if(0==a.length)return Va.Null;var f=new Va,B=a.length,U=null;return null===a.lastComponent?G("path.lastComponent"):(a.lastComponent.isIndex?(B=a.length-1,U=this.mainContentContainer.ContentAtPath(a,void 0,B),f.container=U.container,f.index=a.lastComponent.index):(U=this.mainContentContainer.ContentAtPath(a),f.container=U.container,f.index=
-1),null==U.obj||U.obj==this.mainContentContainer&&0<B?this.Error("Failed to find content at path '"+a+"', and no approximation of it was possible."):U.approximate&&this.Warning("Failed to find content at path '"+a+"', so it was approximated to: '"+U.obj.path+"'."),f)}},{key:"StateSnapshot",value:function(){this._stateSnapshotAtLastNewline=this._state;this._state=this._state.CopyAndStartPatching()}},{key:"RestoreStateSnapshot",value:function(){null===this._stateSnapshotAtLastNewline&&G("_stateSnapshotAtLastNewline");
this._stateSnapshotAtLastNewline.RestoreAfterPatch();this._state=this._stateSnapshotAtLastNewline;this._stateSnapshotAtLastNewline=null;this._asyncSaving||this._state.ApplyAnyPatch()}},{key:"DiscardSnapshot",value:function(){this._asyncSaving||this._state.ApplyAnyPatch();this._stateSnapshotAtLastNewline=null}},{key:"CopyStateForBackgroundThreadSave",value:function(){if(this.IfAsyncWeCant("start saving on a background thread"),this._asyncSaving)throw Error("Story is already in background saving mode, can't call CopyStateForBackgroundThreadSave again!");
var a=this._state;return this._state=this._state.CopyAndStartPatching(),this._asyncSaving=!0,a}},{key:"BackgroundSaveComplete",value:function(){null===this._stateSnapshotAtLastNewline&&this._state.ApplyAnyPatch();this._asyncSaving=!1}},{key:"Step",value:function(){var a=!0,f=this.state.currentPointer.copy();if(!f.isNull){for(var B=h(f.Resolve(),Pa);B&&(this.VisitContainer(B,!0),0!=B.content.length);)B=h((f=Va.StartOf(B)).Resolve(),Pa);this.state.currentPointer=f.copy();null!=this._profiler&&this._profiler.Step(this.state.callStack);
var U,ia,M,X,ja;f=f.Resolve();B=this.PerformLogicAndFlowControl(f);this.state.currentPointer.isNull||(B&&(a=!1),(U=h(f,eb))&&((ia=this.ProcessChoice(U))&&this.state.generatedChoices.push(ia),f=null,a=!1),f instanceof Pa&&(a=!1),a&&((M=h(f,Ga))&&-1==M.contextIndex&&(X=this.state.callStack.ContextForVariableNamed(M.variableName),f=new Ga(M.variableName,X)),this.state.inExpressionEvaluation?this.state.PushEvaluationStack(f):this.state.PushToOutputStream(f)),this.NextContent(),(ja=h(f,Ja))&&ja.commandType==
Ja.CommandType.StartThread&&this.state.callStack.PushThread())}}},{key:"VisitContainer",value:function(a,f){a.countingAtStartOnly&&!f||(a.visitsShouldBeCounted&&this.state.IncrementVisitCountForContainer(a),a.turnIndexShouldBeCounted&&this.state.RecordTurnIndexVisitToContainer(a))}},{key:"VisitChangedContainersDueToDivert",value:function(){var a=this.state.previousPointer.copy(),f=this.state.currentPointer.copy();if(!f.isNull&&-1!=f.index){if(this._prevContainers.length=0,!a.isNull)for(a=h(a.Resolve(),
Pa)||h(a.container,Pa);a;)this._prevContainers.push(a),a=h(a.parent,Pa);f=f.Resolve();if(null!=f)for(a=h(f.parent,Pa);a&&(0>this._prevContainers.indexOf(a)||a.countingAtStartOnly);)this.VisitContainer(a,0<a.content.length&&f==a.content[0]),a=h((f=a).parent,Pa)}}},{key:"ProcessChoice",value:function(a){var f,B=!0;a.hasCondition&&(f=this.state.PopEvaluationStack(),this.IsTruthy(f)||(B=!1));var U=f="";if(a.hasChoiceOnlyContent&&(U=r(this.state.PopEvaluationStack(),za).value||""),a.hasStartContent&&(f=
r(this.state.PopEvaluationStack(),za).value||""),a.onceOnly&&0<this.state.VisitCountForContainer(a.choiceTarget)&&(B=!1),!B)return null;B=new ib;return B.targetPath=a.pathOnChoice,B.sourcePath=a.path.toString(),B.isInvisibleDefault=a.isInvisibleDefault,B.threadAtGeneration=this.state.callStack.ForkThread(),B.text=(f+U).replace(/^[ \t]+|[ \t]+$/g,""),B}},{key:"IsTruthy",value:function(a){return a instanceof qa?a instanceof Ba?(this.Error("Shouldn't use a divert target (to "+a.targetPath+") as a conditional value. Did you intend a function call 'likeThis()' or a read count check 'likeThis'? (no arrows)"),
!1):a.isTruthy:!1}},{key:"PerformLogicAndFlowControl",value:function(a){if(null==a)return!1;if(a instanceof Za){if(a.isConditional){var f=this.state.PopEvaluationStack();if(!this.IsTruthy(f))return!0}if(a.hasVariableTarget){var B,U;f=a.variableDivertName;var ia=this.state.variablesState.GetVariableWithName(f);null==ia?this.Error("Tried to divert using a target from a variable that could not be found ("+f+")"):ia instanceof Ba||(U="Tried to divert to a target from a variable, but the variable ("+f+
") didn't contain a divert target, it ",(B=h(ia,Ca))instanceof Ca&&0==B.value?U+="was empty/null (the value 0).":U+="contained '"+ia+"'.",this.Error(U));f=r(ia,Ba);this.state.divertedPointer=this.PointerAtPath(f.targetPath)}else{if(a.isExternal)return this.CallExternalFunction(a.targetPathString,a.externalArgs),!0;this.state.divertedPointer=a.targetPointer.copy()}return a.pushesToStack&&this.state.callStack.Push(a.stackPushType,void 0,this.state.outputStream.length),this.state.divertedPointer.isNull&&
!a.isExternal&&(a&&a.debugMetadata&&null!=a.debugMetadata.sourceName?this.Error("Divert target doesn't exist: "+a.debugMetadata.sourceName):this.Error("Divert resolution failed: "+a)),!0}if(a instanceof Ja){var M,X;switch(a.commandType){case Ja.CommandType.EvalStart:this.Assert(!1===this.state.inExpressionEvaluation,"Already in expression evaluation?");this.state.inExpressionEvaluation=!0;break;case Ja.CommandType.EvalEnd:this.Assert(!0===this.state.inExpressionEvaluation,"Not in expression evaluation mode");
this.state.inExpressionEvaluation=!1;break;case Ja.CommandType.EvalOutput:0<this.state.evaluationStack.length&&((M=this.state.PopEvaluationStack())instanceof $a||(X=new za(M.toString()),this.state.PushToOutputStream(X)));break;case Ja.CommandType.NoOp:break;case Ja.CommandType.Duplicate:this.state.PushEvaluationStack(this.state.PeekEvaluationStack());break;case Ja.CommandType.PopEvaluatedValue:this.state.PopEvaluationStack();break;case Ja.CommandType.PopFunction:case Ja.CommandType.PopTunnel:var ja,
ta,Ea,Ia;a=a.commandType==Ja.CommandType.PopFunction?Ma.Function:Ma.Tunnel;f=null;if(a!=Ma.Tunnel||null===(f=h(ja=this.state.PopEvaluationStack(),Ba))&&this.Assert(ja instanceof $a,"Expected void if -\x3e-\x3e doesn't override target"),this.state.TryExitFunctionEvaluationFromGame())break;this.state.callStack.currentElement.type==a&&this.state.callStack.canPop?(this.state.PopCallStack(),f&&(this.state.divertedPointer=this.PointerAtPath(f.targetPath))):((ta=new Map).set(Ma.Function,"function return statement (~ return)"),
ta.set(Ma.Tunnel,"tunnel onwards statement (-\x3e-\x3e)"),Ea=ta.get(this.state.callStack.currentElement.type),this.state.callStack.canPop||(Ea="end of flow (-\x3e END or choice)"),Ia="Found "+ta.get(a)+", when expected "+Ea,this.Error(Ia));break;case Ja.CommandType.BeginString:this.state.PushToOutputStream(a);this.Assert(!0===this.state.inExpressionEvaluation,"Expected to be in an expression when evaluating a string");this.state.inExpressionEvaluation=!1;break;case Ja.CommandType.EndString:a=[];B=
0;for(U=this.state.outputStream.length-1;0<=U;--U){ia=this.state.outputStream[U];B++;if((ja=h(ia,Ja))&&ja.commandType==Ja.CommandType.BeginString)break;ia instanceof za&&a.push(ia)}this.state.PopFromOutputStream(B);a=a.reverse();B=new fa;a=m(a);try{for(a.s();!(f=a.n()).done;)B.Append(f.value.toString())}catch(Xa){a.e(Xa)}finally{a.f()}this.state.inExpressionEvaluation=!0;this.state.PushEvaluationStack(new za(B.toString()));break;case Ja.CommandType.ChoiceCount:this.state.PushEvaluationStack(new Ca(this.state.generatedChoices.length));
break;case Ja.CommandType.Turns:this.state.PushEvaluationStack(new Ca(this.state.currentTurnIndex+1));break;case Ja.CommandType.TurnsSince:case Ja.CommandType.ReadCount:f=this.state.PopEvaluationStack();if(!(f instanceof Ba)){this.Error("TURNS_SINCE / READ_COUNT expected a divert target (knot, stitch, label name), but saw "+f+(f instanceof Ca?". Did you accidentally pass a read count ('knot_name') instead of a target ('-\x3e knot_name')?":""));break}f=r(f,Ba);B=h(this.ContentAtPath(f.targetPath).correctObj,
Pa);null!=B?ia=a.commandType==Ja.CommandType.TurnsSince?this.state.TurnsSinceForContainer(B):this.state.VisitCountForContainer(B):(ia=a.commandType==Ja.CommandType.TurnsSince?-1:0,this.Warning("Failed to find container for "+a.toString()+" lookup at "+f.targetPath.toString()));this.state.PushEvaluationStack(new Ca(ia));break;case Ja.CommandType.Random:B=h(this.state.PopEvaluationStack(),Ca);a=h(this.state.PopEvaluationStack(),Ca);if(null==a||0==a instanceof Ca)return this.Error("Invalid value for minimum parameter of RANDOM(min, max)");
if(null==B||0==a instanceof Ca)return this.Error("Invalid value for maximum parameter of RANDOM(min, max)");if(null===B.value)return G("maxInt.value");if(null===a.value)return G("minInt.value");f=B.value-a.value+1;0>=f&&this.Error("RANDOM was called with minimum as "+a.value+" and maximum as "+B.value+". The maximum must be larger");B=(new S(this.state.storySeed+this.state.previousRandom)).next();this.state.PushEvaluationStack(new Ca(B%f+a.value));this.state.previousRandom=B;break;case Ja.CommandType.SeedRandom:a=
h(this.state.PopEvaluationStack(),Ca);if(null==a||0==a instanceof Ca)return this.Error("Invalid value passed to SEED_RANDOM");if(null===a.value)return G("minInt.value");this.state.storySeed=a.value;this.state.previousRandom=0;this.state.PushEvaluationStack(new $a);break;case Ja.CommandType.VisitIndex:a=this.state.VisitCountForContainer(this.state.currentPointer.container)-1;this.state.PushEvaluationStack(new Ca(a));break;case Ja.CommandType.SequenceShuffleIndex:a=this.NextSequenceShuffleIndex();this.state.PushEvaluationStack(new Ca(a));
break;case Ja.CommandType.StartThread:break;case Ja.CommandType.Done:this.state.callStack.canPopThread?this.state.callStack.PopThread():(this.state.didSafeExit=!0,this.state.currentPointer=Va.Null);break;case Ja.CommandType.End:this.state.ForceEnd();break;case Ja.CommandType.ListFromInt:a=h(this.state.PopEvaluationStack(),Ca);B=r(this.state.PopEvaluationStack(),za);if(null===a)throw new ca("Passed non-integer when creating a list element from a numerical value.");f=null;if(null===this.listDefinitions)return G("this.listDefinitions");
U=this.listDefinitions.TryListGetDefinition(B.value,null);if(!U.exists)throw new ca("Failed to find LIST called "+B.value);if(null===a.value)return G("minInt.value");B=U.result.TryGetItemWithValue(a.value,K.Null);B.exists&&(f=new Da(B.result,a.value));null==f&&(f=new Da);this.state.PushEvaluationStack(f);break;case Ja.CommandType.ListRange:a=h(this.state.PopEvaluationStack(),qa);f=h(this.state.PopEvaluationStack(),qa);B=h(this.state.PopEvaluationStack(),Da);if(null===B||null===f||null===a)throw new ca("Expected list, minimum and maximum for LIST_RANGE");
if(null===B.value)return G("targetList.value");a=B.value.ListWithSubRange(f.valueObject,a.valueObject);this.state.PushEvaluationStack(new Da(a));break;case Ja.CommandType.ListRandom:a=this.state.PopEvaluationStack();if(null===a)throw new ca("Expected list for LIST_RANDOM");B=a.value;if(null===B)throw G("list");if(0==B.Count)B=new V;else{a=(new S(this.state.storySeed+this.state.previousRandom)).next();f=a%B.Count;B=B.entries();for(U=0;U<=f-1;U++)B.next();B=B.next().value;f=K.fromSerializedKey(B[0]);
U=B[1];if(null===f.originName)return G("randomItem.Key.originName");(B=new V(f.originName,this)).Add(f,U);this.state.previousRandom=a}this.state.PushEvaluationStack(new Da(B));break;default:this.Error("unhandled ControlCommand: "+a)}return!0}if(a instanceof cb)return f=this.state.PopEvaluationStack(),this.state.variablesState.Assign(a,f),!0;if(a instanceof fb){var Na,Ra;f=null;return null!=a.pathForCount?(Na=a.containerForCount,Ra=this.state.VisitCountForContainer(Na),f=new Ca(Ra)):null==(f=this.state.variablesState.GetVariableWithName(a.name))&&
(this.Warning("Variable not found: '"+a.name+"'. Using default value of 0 (false). This can happen with temporary variables if the declaration hasn't yet been hit. Globals are always given a default value on load if a value doesn't exist in the save state."),f=new Ca(0)),this.state.PushEvaluationStack(f),!0}return a instanceof Ua?(f=this.state.PopEvaluationStack(a.numberOfParameters),a=a.Call(f),this.state.PushEvaluationStack(a),!0):!1}},{key:"ChoosePathString",value:function(a,f,B){var U=!(1<arguments.length&&
void 0!==f)||f,ia=2<arguments.length&&void 0!==B?B:[];if(this.IfAsyncWeCant("call ChoosePathString right now"),U)this.ResetCallstack();else if(this.state.callStack.currentElement.type==Ma.Function)throw U="",ia=this.state.callStack.currentElement.currentPointer.container,null!=ia&&(U="("+ia.path.toString()+") "),Error("Story was running a function "+U+"when you called ChoosePathString("+a+") - this is almost certainly not not what you want! Full stack trace: \n"+this.state.callStack.callStackTrace);
this.state.PassArgumentsToEvaluationStack(ia);this.ChoosePath(new ka(a))}},{key:"IfAsyncWeCant",value:function(a){if(this._asyncContinueActive)throw Error("Can't "+a+". Story is in the middle of a ContinueAsync(). Make more ContinueAsync() calls or a single Continue() call beforehand.");}},{key:"ChoosePath",value:function(a,f){this.state.SetChosenPath(a,!(1<arguments.length&&void 0!==f)||f);this.VisitChangedContainersDueToDivert()}},{key:"ChooseChoiceIndex",value:function(a){var f=this.currentChoices;
this.Assert(0<=a&&a<f.length,"choice out of range");a=f[a];return null===a.threadAtGeneration?G("choiceToChoose.threadAtGeneration"):null===a.targetPath?G("choiceToChoose.targetPath"):(this.state.callStack.currentThread=a.threadAtGeneration,void this.ChoosePath(a.targetPath))}},{key:"HasFunction",value:function(a){try{return null!=this.KnotContainerWithName(a)}catch(f){return!1}}},{key:"EvaluateFunction",value:function(a,f,B){var U=1<arguments.length&&void 0!==f?f:[],ia=2<arguments.length&&void 0!==
B&&B;if(this.IfAsyncWeCant("evaluate a function"),null==a)throw Error("Function is null");if(""==a||""==a.trim())throw Error("Function is empty or white space.");var M=this.KnotContainerWithName(a);if(null==M)throw Error("Function doesn't exist: '"+a+"'");var X=[];X.push.apply(X,this.state.outputStream);this._state.ResetOutput();this.state.StartFunctionEvaluationFromGame(M,U);for(U=new fa;this.canContinue;)U.Append(this.Continue());U=U.toString();this._state.ResetOutput(X);X=this.state.CompleteFunctionEvaluationFromGame();
return ia?{returned:X,output:U}:X}},{key:"EvaluateExpression",value:function(a){var f=this.state.callStack.elements.length;this.state.callStack.Push(Ma.Tunnel);this._temporaryEvaluationContainer=a;this.state.GoToStart();a=this.state.evaluationStack.length;return this.Continue(),this._temporaryEvaluationContainer=null,this.state.callStack.elements.length>f&&this.state.PopCallStack(),a<this.state.evaluationStack.length?this.state.PopEvaluationStack():null}},{key:"CallExternalFunction",value:function(a,
f){if(null===a)return G("funcName");var B=this._externals.get(a),U=null;if(void 0===B){if(this.allowExternalFunctionFallbacks)return U=this.KnotContainerWithName(a),this.Assert(null!==U,"Trying to call EXTERNAL function '"+a+"' which has not been bound, and fallback ink function could not be found."),this.state.callStack.Push(Ma.Function,void 0,this.state.outputStream.length),void(this.state.divertedPointer=Va.StartOf(U));this.Assert(!1,"Trying to call EXTERNAL function '"+a+"' which has not been bound (and ink fallbacks disabled).")}a=
[];for(U=0;U<f;++U){var ia=r(this.state.PopEvaluationStack(),qa).valueObject;a.push(ia)}a.reverse();f=B(a);B=null;null!=f?(B=qa.Create(f),this.Assert(null!==B,"Could not create ink value from returned object of type "+y(f))):B=new $a;this.state.PushEvaluationStack(B)}},{key:"BindExternalFunctionGeneral",value:function(a,f){this.IfAsyncWeCant("bind an external function");this.Assert(!this._externals.has(a),"Function '"+a+"' has already been bound.");this._externals.set(a,f)}},{key:"TryCoerce",value:function(a){return a}},
{key:"BindExternalFunction",value:function(a,f){var B=this;this.Assert(null!=f,"Can't bind a null function");this.BindExternalFunctionGeneral(a,function(U){B.Assert(U.length>=f.length,"External function expected "+f.length+" arguments");for(var ia=[],M=0,X=U.length;M<X;M++)ia[M]=B.TryCoerce(U[M]);return f.apply(null,ia)})}},{key:"UnbindExternalFunction",value:function(a){this.IfAsyncWeCant("unbind an external a function");this.Assert(this._externals.has(a),"Function '"+a+"' has not been bound.");
this._externals.delete(a)}},{key:"ValidateExternalBindings",value:function(a,f){var B,U=null,ia=null;f=f||new Set;if(a instanceof Pa&&(U=a),a instanceof ba&&(ia=a),null===U&&null===ia)this.ValidateExternalBindings(this._mainContentContainer,f),this._hasValidatedExternals=!0,0==f.size?this._hasValidatedExternals=!0:(B="Error: Missing function binding for external",B+=1<f.size?"s":"",B+=": '",B+=Array.from(f).join("', '"),B+="' ",B+=this.allowExternalFunctionFallbacks?", and no fallback ink function found.":
" (ink fallbacks disabled)",this.Error(B));else if(null!=U){var M;a=m(U.content);try{for(a.s();!(M=a.n()).done;){var X=M.value;null!=X&&X.hasValidName||this.ValidateExternalBindings(X,f)}}catch(Ea){a.e(Ea)}finally{a.f()}var ja;U=m(U.namedContent);try{for(U.s();!(ja=U.n()).done;){var ta=z(ja.value,2)[1];this.ValidateExternalBindings(h(ta,ba),f)}}catch(Ea){U.e(Ea)}finally{U.f()}}else if(null!=ia&&(ja=h(ia,Za))&&ja.isExternal){ja=ja.targetPathString;if(null===ja)return G("name");this._externals.has(ja)||
this.allowExternalFunctionFallbacks&&this.mainContentContainer.namedContent.has(ja)||f.add(ja)}}},{key:"ObserveVariable",value:function(a,f){if(this.IfAsyncWeCant("observe a new variable"),null===this._variableObservers&&(this._variableObservers=new Map),!this.state.variablesState.GlobalVariableExistsWithName(a))throw new ca("Cannot observe variable '"+a+"' because it wasn't declared in the ink story.");this._variableObservers.has(a)?this._variableObservers.get(a).push(f):this._variableObservers.set(a,
[f])}},{key:"ObserveVariables",value:function(a,f){for(var B=0,U=a.length;B<U;B++)this.ObserveVariable(a[B],f[B])}},{key:"RemoveVariableObserver",value:function(a,f){var B;if(this.IfAsyncWeCant("remove a variable observer"),null!==this._variableObservers)if(void 0!==f)this._variableObservers.has(f)&&(B=this._variableObservers.get(f),null!==a?B.splice(B.indexOf(a),1):this._variableObservers.delete(f));else if(null!==a){var U;f=m(this._variableObservers.keys());try{for(f.s();!(U=f.n()).done;){var ia=
this._variableObservers.get(U.value);ia.splice(ia.indexOf(a),1)}}catch(M){f.e(M)}finally{f.f()}}}},{key:"VariableStateDidChangeEvent",value:function(a,f){if(null!==this._variableObservers){var B=this._variableObservers.get(a);if(void 0!==B){if(!(f instanceof qa))throw Error("Tried to get the value of a variable that isn't a standard type");var U;f=r(f,qa);B=m(B);try{for(B.s();!(U=B.n()).done;)(0,U.value)(a,f.valueObject)}catch(ia){B.e(ia)}finally{B.f()}}}}},{key:"TagsForContentAtPath",value:function(a){return this.TagsAtStartOfFlowContainerWithPathString(a)}},
{key:"TagsAtStartOfFlowContainerWithPathString",value:function(a){a=new ka(a);a=this.ContentAtPath(a).container;if(null===a)return G("flowContainer");for(;;){var f=a.content[0];if(!(f instanceof Pa))break;a=f}var B;f=null;a=m(a.content);try{for(a.s();!(B=a.n()).done;){var U=h(B.value,gb);if(!U)break;null==f&&(f=[]);f.push(U.text)}}catch(ia){a.e(ia)}finally{a.f()}return f}},{key:"BuildStringOfHierarchy",value:function(){var a=new fa;return this.mainContentContainer.BuildStringOfHierarchy(a,0,this.state.currentPointer.Resolve()),
a.toString()}},{key:"BuildStringOfContainer",value:function(a){var f=new fa;return a.BuildStringOfHierarchy(f,0,this.state.currentPointer.Resolve()),f.toString()}},{key:"NextContent",value:function(){var a;this.state.previousPointer=this.state.currentPointer.copy();(this.state.divertedPointer.isNull||(this.state.currentPointer=this.state.divertedPointer.copy(),this.state.divertedPointer=Va.Null,this.VisitChangedContainersDueToDivert(),this.state.currentPointer.isNull))&&(this.IncrementContentPointer()||
(a=!1,this.state.callStack.CanPop(Ma.Function)?(this.state.PopCallStack(Ma.Function),this.state.inExpressionEvaluation&&this.state.PushEvaluationStack(new $a),a=!0):this.state.callStack.canPopThread?(this.state.callStack.PopThread(),a=!0):this.state.TryExitFunctionEvaluationFromGame(),a&&!this.state.currentPointer.isNull&&this.NextContent()))}},{key:"IncrementContentPointer",value:function(){var a=!0,f=this.state.callStack.currentElement.currentPointer.copy();if(f.index++,null===f.container)return G("pointer.container");
for(;f.index>=f.container.content.length;){a=!1;var B=h(f.container.parent,Pa);if(0==B instanceof Pa)break;var U=B.content.indexOf(f.container);if(-1==U)break;if((f=new Va(B,U)).index++,a=!0,null===f.container)return G("pointer.container")}return a||(f=Va.Null),this.state.callStack.currentElement.currentPointer=f.copy(),a}},{key:"TryFollowDefaultInvisibleChoice",value:function(){var a=this._state.currentChoices,f=a.filter(function(B){return B.isInvisibleDefault});if(0==f.length||a.length>f.length)return!1;
a=f[0];return null===a.targetPath?G("choice.targetPath"):null===a.threadAtGeneration?G("choice.threadAtGeneration"):(this.state.callStack.currentThread=a.threadAtGeneration,this.ChoosePath(a.targetPath,!1),!0)}},{key:"NextSequenceShuffleIndex",value:function(){var a=h(this.state.PopEvaluationStack(),Ca);if(!(a instanceof Ca))return this.Error("expected number of elements in sequence for shuffle index"),0;var f=this.state.currentPointer.container;if(null===f)return G("seqContainer");if(null===a.value)return G("numElementsIntVal.value");
var B=a.value;a=r(this.state.PopEvaluationStack(),Ca).value;if(null===a)return G("seqCount");var U=a/B;a%=B;f=f.path.toString();for(var ia=0,M=0,X=f.length;M<X;M++)ia+=f.charCodeAt(M)||0;U=new S(Math.floor(ia+U+this.state.storySeed));f=[];for(ia=0;ia<B;++ia)f.push(ia);for(B=0;B<=a;++B)if(ia=U.next()%f.length,M=f[ia],f.splice(ia,1),B==a)return M;throw Error("Should never reach here");}},{key:"Error",value:function(a,f){var B=1<arguments.length&&void 0!==f&&f,U=new ca(a);throw U.useEndLineNumber=B,
U;}},{key:"Warning",value:function(a){this.AddError(a,!0)}},{key:"AddError",value:function(a,f,B){var U,ia=1<arguments.length&&void 0!==f&&f,M=2<arguments.length&&void 0!==B&&B,X=this.currentDebugMetadata,ja=ia?"WARNING":"ERROR";a=null!=X?(U=M?X.endLineNumber:X.startLineNumber,"RUNTIME "+ja+": '"+X.fileName+"' line "+U+": "+a):this.state.currentPointer.isNull?"RUNTIME "+ja+": "+a:"RUNTIME "+ja+": ("+this.state.currentPointer+"): "+a;this.state.AddError(a,ia);ia||this.state.ForceEnd()}},{key:"Assert",
value:function(a,f){var B=1<arguments.length&&void 0!==f?f:null;if(0==a)throw null==B&&(B="Story assert"),Error(B+" "+this.currentDebugMetadata);}},{key:"currentChoices",get:function(){var a=[];if(null===this._state)return G("this._state");var f,B=m(this._state.currentChoices);try{for(B.s();!(f=B.n()).done;){var U=f.value;U.isInvisibleDefault||(U.index=a.length,a.push(U))}}catch(ia){B.e(ia)}finally{B.f()}return a}},{key:"currentText",get:function(){return this.IfAsyncWeCant("call currentText since it's a work in progress"),
this.state.currentText}},{key:"currentTags",get:function(){return this.IfAsyncWeCant("call currentTags since it's a work in progress"),this.state.currentTags}},{key:"currentErrors",get:function(){return this.state.currentErrors}},{key:"currentWarnings",get:function(){return this.state.currentWarnings}},{key:"hasError",get:function(){return this.state.hasError}},{key:"hasWarning",get:function(){return this.state.hasWarning}},{key:"variablesState",get:function(){return this.state.variablesState}},{key:"listDefinitions",
get:function(){return this._listDefinitions}},{key:"state",get:function(){return this._state}},{key:"canContinue",get:function(){return this.state.canContinue}},{key:"asyncContinueComplete",get:function(){return!this._asyncContinueActive}},{key:"globalTags",get:function(){return this.TagsAtStartOfFlowContainerWithPathString("")}},{key:"currentDebugMetadata",get:function(){var a=this.state.currentPointer;if(!a.isNull&&null!==a.Resolve()&&null!==(B=a.Resolve().debugMetadata))return B;for(var f=this.state.callStack.elements.length-
1;0<=f;--f)if(!(a=this.state.callStack.elements[f].currentPointer).isNull&&null!==a.Resolve()&&null!==(B=a.Resolve().debugMetadata))return B;var B;for(a=this.state.outputStream.length-1;0<=a;--a)if(null!==(B=this.state.outputStream[a].debugMetadata))return B;return null}},{key:"mainContentContainer",get:function(){return this._temporaryEvaluationContainer?this._temporaryEvaluationContainer:this._mainContentContainer}}]),w}();N.Story.inkVersionCurrent=19;Fa=N.Story||(N.Story={});(ha=Fa.OutputStateChange||
(Fa.OutputStateChange={}))[ha.NoChange=0]="NoChange";ha[ha.ExtendedBeyondNewline=1]="ExtendedBeyondNewline";ha[ha.NewlineRemoved=2]="NewlineRemoved";N.InkList=V;Object.defineProperty(N,"__esModule",{value:!0})})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var ba="cljs.core",da="cljs.pprint",fa="lambdaisland.glogi.print",ja="spel.engine",ka="spel.invasie",la="spel.svg",l,ma=ma||{},na=this||self;function pa(){}function qa(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ra(a){return Object.prototype.hasOwnProperty.call(a,ta)&&a[ta]||(a[ta]=++ua)}var ta="closure_uid_"+(1E9*Math.random()>>>0),ua=0;function wa(a,b,c){return a.call.apply(a.bind,arguments)}
function xa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function ya(a,b,c){ya=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wa:xa;return ya.apply(null,arguments)}
function za(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}}function Aa(a,b){function c(){}c.prototype=b.prototype;a.mf=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ic=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}};var Ba={};function Ca(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Ca);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}Aa(Ca,Error);Ca.prototype.name="CustomError";function Da(a,b){var c=Ea;Object.prototype.hasOwnProperty.call(c,a)||(c[a]=b(a))};function Fa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ga(a,b){return null!==a&&b in a?a[b]:void 0};function Ia(a){return/^[\s\xa0]*$/.test(a)}var Ka=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function La(a,b){return a<b?-1:a>b?1:0};var Pa;a:{var Qa=na.navigator;if(Qa){var Ra=Qa.userAgent;if(Ra){Pa=Ra;break a}}Pa=""}function Sa(a){return-1!=Pa.indexOf(a)};function Ta(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"�">=a}function Ua(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};function Wa(a,b){null!=a&&this.append.apply(this,arguments)}l=Wa.prototype;l.Fb="";l.set=function(a){this.Fb=""+a};l.append=function(a,b,c){this.Fb+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.Fb+=arguments[d];return this};l.clear=function(){this.Fb=""};l.getLength=function(){return this.Fb.length};l.toString=function(){return this.Fb};var Xa={},Ya={},Za,$a={},ab=null,cb=null,db=!0,eb=!0,fb=null,gb=null;function hb(){return new n(null,5,[ib,!0,jb,eb,kb,!1,lb,!1,mb,fb],null)}function nb(){db=!1;cb=function(){var a=console.log,b=a.apply,c=console;var d=arguments;var e=d.length;if(0<e){for(var f=Array(e),g=0;g<e;g++)f[g]=d[g];d=f}else d=[];return b.call(a,c,d)}}function q(a){return null!=a&&!1!==a}function ob(a){return a instanceof Array}function pb(a){return null==a?!0:!1===a?!0:!1}
function qb(a,b){return a[qa(null==b?null:b)]?!0:a._?!0:!1}function rb(a){return null==a?null:a.constructor}function sb(a,b){var c=rb(b);c=q(q(c)?c.vb:c)?c.hb:qa(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function tb(a){var b=a.hb;return q(b)?b:t.g(a)}var ub="undefined"!==typeof Symbol&&"function"===qa(Symbol)?Symbol.iterator:"@@iterator";function wb(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}
function xb(a){function b(d,e){d.push(e);return d}var c=[];return yb?yb(b,c,a):zb.call(null,b,c,a)}function Ab(a){return"symbol"===qa(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Bb(){}function Db(){}function Eb(a){if(null!=a&&null!=a.da)a=a.da(a);else{var b=Eb[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Eb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("ICounted.-count",a);}return a}function Fb(){}
function Kb(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Kb[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Kb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IEmptyableCollection.-empty",a);}return a}function Lb(){}function Mb(a,b){if(null!=a&&null!=a.ga)a=a.ga(a,b);else{var c=Mb[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Mb._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("ICollection.-conj",a);}return a}function Ob(){}
var Sb=function(){function a(d,e,f){var g=Pb[qa(null==d?null:d)];if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);g=Pb._;if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);throw sb("IIndexed.-nth",d);}function b(d,e){var f=Pb[qa(null==d?null:d)];if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);f=Pb._;if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);throw sb("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.h=b;c.j=a;return c}(),Pb=function Pb(a){switch(arguments.length){case 2:return Pb.h(arguments[0],arguments[1]);case 3:return Pb.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}};Pb.h=function(a,b){return null!=a&&null!=a.P?a.P(a,b):Sb(a,b)};Pb.j=function(a,b,c){return null!=a&&null!=a.Ca?a.Ca(a,b,c):Sb(a,b,c)};Pb.H=3;function Tb(){}
function Vb(a){if(null!=a&&null!=a.ra)a=a.ra(a);else{var b=Vb[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Vb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("ISeq.-first",a);}return a}function Wb(a){if(null!=a&&null!=a.sa)a=a.sa(a);else{var b=Wb[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Wb._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("ISeq.-rest",a);}return a}function Xb(){}
function ac(a){if(null!=a&&null!=a.oa)a=a.oa(a);else{var b=ac[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=ac._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("INext.-next",a);}return a}function bc(){}
var hc=function(){function a(d,e,f){var g=cc[qa(null==d?null:d)];if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);g=cc._;if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);throw sb("ILookup.-lookup",d);}function b(d,e){var f=cc[qa(null==d?null:d)];if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);f=cc._;if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);throw sb("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.h=b;c.j=a;return c}(),cc=function cc(a){switch(arguments.length){case 2:return cc.h(arguments[0],arguments[1]);case 3:return cc.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}};cc.h=function(a,b){return null!=a&&null!=a.ha?a.ha(a,b):hc(a,b)};cc.j=function(a,b,c){return null!=a&&null!=a.X?a.X(a,b,c):hc(a,b,c)};cc.H=3;
function ic(a,b,c){if(null!=a&&null!=a.ja)a=a.ja(a,b,c);else{var d=ic[qa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=ic._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw sb("IAssociative.-assoc",a);}return a}function jc(a,b){if(null!=a&&null!=a.ac)a=a.ac(a,b);else{var c=jc[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=jc._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("IFind.-find",a);}return a}function kc(){}
function lc(a,b){if(null!=a&&null!=a.gb)a=a.gb(a,b);else{var c=lc[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=lc._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("IMap.-dissoc",a);}return a}function mc(a){if(null!=a&&null!=a.Xd)a=a.key;else{var b=mc[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=mc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IMapEntry.-key",a);}return a}
function nc(a){if(null!=a&&null!=a.Yd)a=a.val;else{var b=nc[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=nc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IMapEntry.-val",a);}return a}function oc(){}function pc(a,b){if(null!=a&&null!=a.wd)a=a.wd(a,b);else{var c=pc[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=pc._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("ISet.-disjoin",a);}return a}
function tc(a){if(null!=a&&null!=a.Pb)a=a.Pb(a);else{var b=tc[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=tc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IStack.-peek",a);}return a}function uc(a){if(null!=a&&null!=a.Qb)a=a.Qb(a);else{var b=uc[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=uc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IStack.-pop",a);}return a}function vc(){}
function wc(a,b,c){if(null!=a&&null!=a.Rb)a=a.Rb(a,b,c);else{var d=wc[qa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=wc._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw sb("IVector.-assoc-n",a);}return a}function xc(){}function u(a){if(null!=a&&null!=a.Ob)a=a.Ob(a);else{var b=u[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=u._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IDeref.-deref",a);}return a}function yc(){}
function zc(a){if(null!=a&&null!=a.Z)a=a.Z(a);else{var b=zc[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=zc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IMeta.-meta",a);}return a}function Ac(a,b){if(null!=a&&null!=a.$)a=a.$(a,b);else{var c=Ac[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Ac._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("IWithMeta.-with-meta",a);}return a}function Bc(){}
var Fc=function(){function a(d,e,f){var g=Ec[qa(null==d?null:d)];if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);g=Ec._;if(null!=g)return g.j?g.j(d,e,f):g.call(null,d,e,f);throw sb("IReduce.-reduce",d);}function b(d,e){var f=Ec[qa(null==d?null:d)];if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);f=Ec._;if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);throw sb("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.h=b;c.j=a;return c}(),Ec=function Ec(a){switch(arguments.length){case 2:return Ec.h(arguments[0],arguments[1]);case 3:return Ec.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}};Ec.h=function(a,b){return null!=a&&null!=a.wa?a.wa(a,b):Fc(a,b)};Ec.j=function(a,b,c){return null!=a&&null!=a.xa?a.xa(a,b,c):Fc(a,b,c)};Ec.H=3;function Gc(){}
function Hc(a,b,c){if(null!=a&&null!=a.$a)a=a.$a(a,b,c);else{var d=Hc[qa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Hc._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw sb("IKVReduce.-kv-reduce",a);}return a}function Ic(a,b){if(null!=a&&null!=a.K)a=a.K(a,b);else{var c=Ic[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Ic._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("IEquiv.-equiv",a);}return a}
function Kc(a){if(null!=a&&null!=a.ca)a=a.ca(a);else{var b=Kc[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Kc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IHash.-hash",a);}return a}function Lc(){}function Mc(a){if(null!=a&&null!=a.ba)a=a.ba(a);else{var b=Mc[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Mc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("ISeqable.-seq",a);}return a}function Nc(){}function Oc(){}function Qc(){}
function Rc(){}function Sc(a){if(null!=a&&null!=a.qc)a=a.qc(a);else{var b=Sc[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Sc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IReversible.-rseq",a);}return a}function w(a,b){if(null!=a&&null!=a.Ib)a=a.Ib(a,b);else{var c=w[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=w._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("IWriter.-write",a);}return a}
function Tc(a){if(null!=a&&null!=a.ub)a=a.ub(a);else{var b=Tc[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Tc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IWriter.-flush",a);}return a}function Uc(){}function Vc(a,b,c){if(null!=a&&null!=a.aa)a=a.aa(a,b,c);else{var d=Vc[qa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Vc._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw sb("IPrintWithWriter.-pr-writer",a);}return a}function Wc(){}
function Xc(a){if(null!=a&&null!=a.ed)a=a.ed(a);else{var b=Xc[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Xc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IPending.-realized?",a);}return a}function Yc(a,b,c){if(null!=a&&null!=a.xd)a.xd(a,b,c);else{var d=Yc[qa(null==a?null:a)];if(null!=d)d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Yc._,null!=d)d.j?d.j(a,b,c):d.call(null,a,b,c);else throw sb("IWatchable.-add-watch",a);}}
function Zc(a){if(null!=a&&null!=a.$b)a=a.$b(a);else{var b=Zc[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Zc._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IEditableCollection.-as-transient",a);}return a}function $c(a,b){if(null!=a&&null!=a.kb)a=a.kb(a,b);else{var c=$c[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=$c._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("ITransientCollection.-conj!",a);}return a}
function ad(a){if(null!=a&&null!=a.rc)a=a.rc(a);else{var b=ad[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=ad._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("ITransientCollection.-persistent!",a);}return a}function bd(a,b,c){if(null!=a&&null!=a.zb)a=a.zb(a,b,c);else{var d=bd[qa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=bd._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw sb("ITransientAssociative.-assoc!",a);}return a}
function cd(a,b){if(null!=a&&null!=a.sc)a=a.sc(a,b);else{var c=cd[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=cd._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("ITransientMap.-dissoc!",a);}return a}function dd(a,b){if(null!=a&&null!=a.Nc)a=a.Nc(a,b);else{var c=dd[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=dd._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("ITransientSet.-disjoin!",a);}return a}
function ed(a){if(null!=a&&null!=a.bd)a=a.bd(a);else{var b=ed[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=ed._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IChunk.-drop-first",a);}return a}function fd(a){if(null!=a&&null!=a.lc)a=a.lc(a);else{var b=fd[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=fd._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IChunkedSeq.-chunked-first",a);}return a}
function gd(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=gd[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=gd._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IChunkedSeq.-chunked-rest",a);}return a}function hd(a){if(null!=a&&null!=a.nc)a=a.nc(a);else{var b=hd[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=hd._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("INamed.-name",a);}return a}
function id(a){if(null!=a&&null!=a.oc)a=a.oc(a);else{var b=id[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=id._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("INamed.-namespace",a);}return a}function jd(){}function kd(a,b){if(null!=a&&null!=a.ae)a=a.ae(a,b);else{var c=kd[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=kd._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("IReset.-reset!",a);}return a}
var md=function(){function a(f,g,h,k,m){var p=ld[qa(null==f?null:f)];if(null!=p)return p.ea?p.ea(f,g,h,k,m):p.call(null,f,g,h,k,m);p=ld._;if(null!=p)return p.ea?p.ea(f,g,h,k,m):p.call(null,f,g,h,k,m);throw sb("ISwap.-swap!",f);}function b(f,g,h,k){var m=ld[qa(null==f?null:f)];if(null!=m)return m.F?m.F(f,g,h,k):m.call(null,f,g,h,k);m=ld._;if(null!=m)return m.F?m.F(f,g,h,k):m.call(null,f,g,h,k);throw sb("ISwap.-swap!",f);}function c(f,g,h){var k=ld[qa(null==f?null:f)];if(null!=k)return k.j?k.j(f,g,
h):k.call(null,f,g,h);k=ld._;if(null!=k)return k.j?k.j(f,g,h):k.call(null,f,g,h);throw sb("ISwap.-swap!",f);}function d(f,g){var h=ld[qa(null==f?null:f)];if(null!=h)return h.h?h.h(f,g):h.call(null,f,g);h=ld._;if(null!=h)return h.h?h.h(f,g):h.call(null,f,g);throw sb("ISwap.-swap!",f);}var e=null;e=function(f,g,h,k,m){switch(arguments.length){case 2:return d.call(this,f,g);case 3:return c.call(this,f,g,h);case 4:return b.call(this,f,g,h,k);case 5:return a.call(this,f,g,h,k,m)}throw Error("Invalid arity: "+
arguments.length);};e.h=d;e.j=c;e.F=b;e.ea=a;return e}(),ld=function ld(a){switch(arguments.length){case 2:return ld.h(arguments[0],arguments[1]);case 3:return ld.j(arguments[0],arguments[1],arguments[2]);case 4:return ld.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ld.ea(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}};ld.h=function(a,b){return null!=a&&null!=a.be?a.be(a,b):md(a,b)};
ld.j=function(a,b,c){return null!=a&&null!=a.ce?a.ce(a,b,c):md(a,b,c)};ld.F=function(a,b,c,d){return null!=a&&null!=a.de?a.de(a,b,c,d):md(a,b,c,d)};ld.ea=function(a,b,c,d,e){return null!=a&&null!=a.ee?a.ee(a,b,c,d,e):md(a,b,c,d,e)};ld.H=5;function nd(){}function pd(a){if(null!=a&&null!=a.qa)a=a.qa(a);else{var b=pd[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=pd._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IIterable.-iterator",a);}return a}
function qd(a){this.Ge=a;this.A=1073741824;this.J=0}qd.prototype.Ib=function(a,b){return this.Ge.append(b)};qd.prototype.ub=function(){return null};function rd(a){var b=new Wa,c=new qd(b);a.aa(null,c,hb());c.ub(null);return t.g(b)}var sd="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};
function td(a){a=sd(a|0,-862048943);return sd(a<<15|a>>>-15,461845907)}function ud(a,b){a=(a|0)^(b|0);return sd(a<<13|a>>>-13,5)+-430675100|0}function vd(a,b){a=(a|0)^b;a=sd(a^a>>>16,-2048144789);a=sd(a^a>>>13,-1028477387);return a^a>>>16}var wd={},xd=0;
function yd(a){255<xd&&(wd={},xd=0);if(null==a)return 0;var b=wd[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=sd(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;wd[a]=b;xd+=1;a=b}return a}
function zd(a){if(null!=a&&(a.A&4194304||$a===a.We))return a.ca(null)^0;if("number"===typeof a){if(q(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=yd(a),a=0===a?a:vd(ud(0,td(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Kc(a)^0,a}
function Ad(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=ud(d,td(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=vd(1===(b.length&1)?c^td(b.charCodeAt(b.length-1)):c,sd(2,b.length));a=yd(a.Dc);return b^a+2654435769+(b<<6)+(b>>2)}function y(a,b,c,d,e){this.Dc=a;this.name=b;this.Lb=c;this.Yb=d;this.fb=e;this.A=2154168321;this.J=4096}l=y.prototype;l.toString=function(){return this.Lb};l.equiv=function(a){return this.K(null,a)};
l.K=function(a,b){return b instanceof y?this.Lb===b.Lb:!1};l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.g=function(a){return A.h?A.h(a,this):A.call(null,a,this)};l.h=function(a,b){return A.j?A.j(a,this,b):A.call(null,a,this,b)};l.Z=function(){return this.fb};
l.$=function(a,b){return new y(this.Dc,this.name,this.Lb,this.Yb,b)};l.ca=function(){var a=this.Yb;return null!=a?a:this.Yb=a=Ad(this)};l.nc=function(){return this.name};l.oc=function(){return this.Dc};l.aa=function(a,b){return w(b,this.Lb)};var Bd=function Bd(a){switch(arguments.length){case 1:return Bd.g(arguments[0]);case 2:return Bd.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}};
Bd.g=function(a){for(;;){if(a instanceof y)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Bd.h(null,a):Bd.h(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Cd)return a.Xb;if(a instanceof B)a=a.ma;else throw Error("no conversion to symbol");}};Bd.h=function(a,b){var c=null!=a?[t.g(a),"/",t.g(b)].join(""):b;return new y(a,b,c,null,null)};Bd.H=2;function Cd(a,b,c){this.val=a;this.Xb=b;this.fb=c;this.A=6717441;this.J=0}l=Cd.prototype;l.toString=function(){return["#'",t.g(this.Xb)].join("")};
l.Ob=function(){return this.val.v?this.val.v():this.val.call(null)};l.Z=function(){return this.fb};l.$=function(a,b){return new Cd(this.val,this.Xb,b)};l.K=function(a,b){return b instanceof Cd?(a=this.Xb,b=b.Xb,E.h?E.h(a,b):E.call(null,a,b)):!1};l.ca=function(){return Ad(this.Xb)};l.sd=$a;
l.call=function(a){switch(arguments.length-1){case 0:return this.v();case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);case 3:return this.j(arguments[1],arguments[2],arguments[3]);case 4:return this.F(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.va(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ra(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Oa(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Qa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.v=function(){var a=this.val.v?this.val.v():this.val.call(null);return a.v?a.v():a.call(null)};l.g=function(a){var b=this.val.v?this.val.v():this.val.call(null);return b.g?b.g(a):b.call(null,a)};
l.h=function(a,b){var c=this.val.v?this.val.v():this.val.call(null);return c.h?c.h(a,b):c.call(null,a,b)};l.j=function(a,b,c){var d=this.val.v?this.val.v():this.val.call(null);return d.j?d.j(a,b,c):d.call(null,a,b,c)};l.F=function(a,b,c,d){var e=this.val.v?this.val.v():this.val.call(null);return e.F?e.F(a,b,c,d):e.call(null,a,b,c,d)};l.ea=function(a,b,c,d,e){var f=this.val.v?this.val.v():this.val.call(null);return f.ea?f.ea(a,b,c,d,e):f.call(null,a,b,c,d,e)};
l.va=function(a,b,c,d,e,f){var g=this.val.v?this.val.v():this.val.call(null);return g.va?g.va(a,b,c,d,e,f):g.call(null,a,b,c,d,e,f)};l.Ra=function(a,b,c,d,e,f,g){var h=this.val.v?this.val.v():this.val.call(null);return h.Ra?h.Ra(a,b,c,d,e,f,g):h.call(null,a,b,c,d,e,f,g)};l.Ba=function(a,b,c,d,e,f,g,h){var k=this.val.v?this.val.v():this.val.call(null);return k.Ba?k.Ba(a,b,c,d,e,f,g,h):k.call(null,a,b,c,d,e,f,g,h)};
l.Sa=function(a,b,c,d,e,f,g,h,k){var m=this.val.v?this.val.v():this.val.call(null);return m.Sa?m.Sa(a,b,c,d,e,f,g,h,k):m.call(null,a,b,c,d,e,f,g,h,k)};l.Ga=function(a,b,c,d,e,f,g,h,k,m){var p=this.val.v?this.val.v():this.val.call(null);return p.Ga?p.Ga(a,b,c,d,e,f,g,h,k,m):p.call(null,a,b,c,d,e,f,g,h,k,m)};l.Ha=function(a,b,c,d,e,f,g,h,k,m,p){var r=this.val.v?this.val.v():this.val.call(null);return r.Ha?r.Ha(a,b,c,d,e,f,g,h,k,m,p):r.call(null,a,b,c,d,e,f,g,h,k,m,p)};
l.Ia=function(a,b,c,d,e,f,g,h,k,m,p,r){var v=this.val.v?this.val.v():this.val.call(null);return v.Ia?v.Ia(a,b,c,d,e,f,g,h,k,m,p,r):v.call(null,a,b,c,d,e,f,g,h,k,m,p,r)};l.Ja=function(a,b,c,d,e,f,g,h,k,m,p,r,v){var x=this.val.v?this.val.v():this.val.call(null);return x.Ja?x.Ja(a,b,c,d,e,f,g,h,k,m,p,r,v):x.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v)};
l.Ka=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x){var z=this.val.v?this.val.v():this.val.call(null);return z.Ka?z.Ka(a,b,c,d,e,f,g,h,k,m,p,r,v,x):z.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x)};l.La=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z){var C=this.val.v?this.val.v():this.val.call(null);return C.La?C.La(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z):C.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z)};
l.Ma=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C){var D=this.val.v?this.val.v():this.val.call(null);return D.Ma?D.Ma(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C):D.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C)};l.Na=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D){var J=this.val.v?this.val.v():this.val.call(null);return J.Na?J.Na(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D):J.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D)};
l.Oa=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J){var K=this.val.v?this.val.v():this.val.call(null);return K.Oa?K.Oa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J):K.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J)};l.Pa=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K){var R=this.val.v?this.val.v():this.val.call(null);return R.Pa?R.Pa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K):R.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K)};
l.Qa=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R){var W=this.val.v?this.val.v():this.val.call(null);return W.Qa?W.Qa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R):W.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R)};l.mc=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W){var Z=this.val.v?this.val.v():this.val.call(null);return Dd.dd?Dd.dd(Z,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W):Dd.call(null,Z,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W)};
function Ed(a){return null!=a?a.J&131072||$a===a.Xe?!0:a.J?!1:qb(nd,a):qb(nd,a)}function F(a){if(null==a)return null;if(null!=a&&(a.A&8388608||$a===a.fd))return a.ba(null);if(ob(a)||"string"===typeof a)return 0===a.length?null:new Fd(a,0,null);if(null!=a&&null!=a[ub])return a=Ga(a,ub).call(a),Gd.g?Gd.g(a):Gd.call(null,a);if(qb(Lc,a))return Mc(a);throw Error([t.g(a)," is not ISeqable"].join(""));}
function G(a){if(null==a)return null;if(null!=a&&(a.A&64||$a===a.bc))return a.ra(null);a=F(a);return null==a?null:Vb(a)}function Hd(a){return null!=a?null!=a&&(a.A&64||$a===a.bc)?a.sa(null):(a=F(a))?a.sa(null):Jd:Jd}function H(a){return null==a?null:null!=a&&(a.A&128||$a===a.pc)?a.oa(null):F(Hd(a))}
var E=function E(a){switch(arguments.length){case 1:return E.g(arguments[0]);case 2:return E.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(2),0,null);return E.o(arguments[0],arguments[1],c)}};E.g=function(){return!0};E.h=function(a,b){return null==a?null==b:a===b||Ic(a,b)};E.o=function(a,b,c){for(;;)if(E.h(a,b))if(H(c))a=b,b=G(c),c=H(c);else return E.h(b,G(c));else return!1};
E.G=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.o(b,a,c)};E.H=2;function Kd(a){this.s=a}Kd.prototype.next=function(){if(null!=this.s){var a=G(this.s);this.s=H(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Ld(a){return new Kd(F(a))}function Md(a,b){this.value=a;this.ec=b;this.Wc=null;this.A=8388672;this.J=0}Md.prototype.ba=function(){return this};Md.prototype.ra=function(){return this.value};
Md.prototype.sa=function(){null==this.Wc&&(this.Wc=Gd.g?Gd.g(this.ec):Gd.call(null,this.ec));return this.Wc};function Gd(a){var b=a.next();return q(b.done)?null:new Md(b.value,a)}function Nd(a){var b=0,c=1;for(a=F(a);;)if(null!=a)b+=1,c=sd(31,c)+zd(G(a))|0,a=H(a);else return vd(ud(0,td(c)),b)}var Od=vd(ud(0,td(1)),0);function Pd(a){var b=0,c=0;for(a=F(a);;)if(null!=a)b+=1,c=c+zd(G(a))|0,a=H(a);else return vd(ud(0,td(c)),b)}var Qd=vd(ud(0,td(0)),0);Db["null"]=!0;Eb["null"]=function(){return 0};
Date.prototype.K=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Ic.number=function(a,b){return a===b};Bb["function"]=!0;yc["function"]=!0;zc["function"]=function(){return null};Kc._=function(a){return ra(a)};function Rd(a){return a+1}function Sd(a){this.val=a;this.A=32768;this.J=0}Sd.prototype.Ob=function(){return this.val};function Td(a){return a instanceof Sd}function Vd(a){return u(a)}
function Wd(a,b){var c=a.da(null);if(0===c)return b.v?b.v():b.call(null);for(var d=a.P(null,0),e=1;;)if(e<c){var f=a.P(null,e);d=b.h?b.h(d,f):b.call(null,d,f);if(Td(d))return u(d);e+=1}else return d}function Xd(a,b,c){var d=a.da(null),e=c;for(c=0;;)if(c<d){var f=a.P(null,c);e=b.h?b.h(e,f):b.call(null,e,f);if(Td(e))return u(e);c+=1}else return e}
function Yd(a,b){var c=a.length;if(0===a.length)return b.v?b.v():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.h?b.h(d,f):b.call(null,d,f);if(Td(d))return u(d);e+=1}else return d}function Zd(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.h?b.h(e,f):b.call(null,e,f);if(Td(e))return u(e);c+=1}else return e}function $d(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.h?b.h(c,f):b.call(null,c,f);if(Td(c))return u(c);d+=1}else return c}
function ae(a){return null!=a?a.A&2||$a===a.Sd?!0:a.A?!1:qb(Db,a):qb(Db,a)}function be(a){return null!=a?a.A&16||$a===a.td?!0:a.A?!1:qb(Ob,a):qb(Ob,a)}function ce(a,b,c){var d=I.g?I.g(a):I.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(E.h(de?de(a,c):ee.call(null,a,c),b))return c;c+=1}else return-1}
function fe(a,b,c){var d=I.g?I.g(a):I.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(E.h(de?de(a,c):ee.call(null,a,c),b))return c;--c}else return-1}function ge(a,b){this.l=a;this.i=b}ge.prototype.pa=function(){return this.i<this.l.length};ge.prototype.next=function(){var a=this.l[this.i];this.i+=1;return a};function Fd(a,b,c){this.l=a;this.i=b;this.D=c;this.A=166592766;this.J=139264}l=Fd.prototype;l.toString=function(){return rd(this)};
l.equiv=function(a){return this.K(null,a)};l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I.g?I.g(this):I.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.P=function(a,b){a=b+this.i;if(0<=a&&a<this.l.length)return this.l[a];throw Error("Index out of bounds");};l.Ca=function(a,b,c){a=b+this.i;return 0<=a&&a<this.l.length?this.l[a]:c};
l.qa=function(){return new ge(this.l,this.i)};l.Z=function(){return this.D};l.oa=function(){return this.i+1<this.l.length?new Fd(this.l,this.i+1,null):null};l.da=function(){var a=this.l.length-this.i;return 0>a?0:a};l.qc=function(){var a=this.da(null);return 0<a?new he(this,a-1,null):null};l.ca=function(){return Nd(this)};l.K=function(a,b){return ie.h?ie.h(this,b):ie.call(null,this,b)};l.la=function(){return Jd};l.wa=function(a,b){return $d(this.l,b,this.l[this.i],this.i+1)};
l.xa=function(a,b,c){return $d(this.l,b,c,this.i)};l.ra=function(){return this.l[this.i]};l.sa=function(){return this.i+1<this.l.length?new Fd(this.l,this.i+1,null):Jd};l.ba=function(){return this.i<this.l.length?this:null};l.$=function(a,b){return b===this.D?this:new Fd(this.l,this.i,b)};l.ga=function(a,b){return je.h?je.h(b,this):je.call(null,b,this)};Fd.prototype[ub]=function(){return Ld(this)};function M(a){return 0<a.length?new Fd(a,0,null):null}
function he(a,b,c){this.Kc=a;this.i=b;this.D=c;this.A=32374990;this.J=8192}l=he.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I.g?I.g(this):I.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.D};l.oa=function(){return 0<this.i?new he(this.Kc,this.i-1,null):null};l.da=function(){return this.i+1};l.ca=function(){return Nd(this)};
l.K=function(a,b){return ie.h?ie.h(this,b):ie.call(null,this,b)};l.la=function(){return Jd};l.wa=function(a,b){return ke?ke(b,this):le.call(null,b,this)};l.xa=function(a,b,c){return me?me(b,c,this):le.call(null,b,c,this)};l.ra=function(){return Pb(this.Kc,this.i)};l.sa=function(){return 0<this.i?new he(this.Kc,this.i-1,null):Jd};l.ba=function(){return this};l.$=function(a,b){return b===this.D?this:new he(this.Kc,this.i,b)};l.ga=function(a,b){return je.h?je.h(b,this):je.call(null,b,this)};
he.prototype[ub]=function(){return Ld(this)};function ne(a){return G(H(a))}function oe(a){for(;;){var b=H(a);if(null!=b)a=b;else return G(a)}}Ic._=function(a,b){return a===b};var pe=function pe(a){switch(arguments.length){case 0:return pe.v();case 1:return pe.g(arguments[0]);case 2:return pe.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(2),0,null);return pe.o(arguments[0],arguments[1],c)}};pe.v=function(){return qe};
pe.g=function(a){return a};pe.h=function(a,b){return null!=a?Mb(a,b):new re(null,b,null,1,null)};pe.o=function(a,b,c){for(;;)if(q(c))a=pe.h(a,b),b=G(c),c=H(c);else return pe.h(a,b)};pe.G=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.o(b,a,c)};pe.H=2;function se(a){return null==a?null:null!=a&&(a.A&4||$a===a.Ud)?a.la(null):(null!=a?a.A&4||$a===a.Ud||(a.A?0:qb(Fb,a)):qb(Fb,a))?Kb(a):null}
function I(a){if(null!=a)if(null!=a&&(a.A&2||$a===a.Sd))a=a.da(null);else if(ob(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.A&8388608||$a===a.fd))a:{a=F(a);for(var b=0;;){if(ae(a)){a=b+Eb(a);break a}a=H(a);b+=1}}else a=Eb(a);else a=0;return a}function te(a,b,c){for(;;){if(null==a)return c;if(0===b)return F(a)?G(a):c;if(be(a))return Pb(a,b,c);if(F(a))a=H(a),--b;else return c}}
function ee(a){switch(arguments.length){case 2:return de(arguments[0],arguments[1]);case 3:return N(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}}
function de(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.A&16||$a===a.td))return a.P(null,b);if(ob(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.A&64||$a===a.bc)||null!=a&&(a.A&16777216||$a===a.vd)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(F(a)){a=G(a);break a}throw Error("Index out of bounds");}if(be(a)){a=Pb(a,b);break a}if(F(a))a=H(a),--b;else throw Error("Index out of bounds");}return a}if(qb(Ob,a))return Pb(a,b);throw Error(["nth not supported on this type ",t.g(tb(rb(a)))].join(""));}
function N(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.A&16||$a===a.td))return a.Ca(null,b,c);if(ob(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.A&64||$a===a.bc)||null!=a&&(a.A&16777216||$a===a.vd))return 0>b?c:te(a,b,c);if(qb(Ob,a))return Pb(a,b,c);throw Error(["nth not supported on this type ",t.g(tb(rb(a)))].join(""));}
var A=function A(a){switch(arguments.length){case 2:return A.h(arguments[0],arguments[1]);case 3:return A.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}};A.h=function(a,b){return null==a?null:null!=a&&(a.A&256||$a===a.Mc)?a.ha(null,b):ob(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:qb(bc,a)?cc(a,b):null};
A.j=function(a,b,c){return null!=a?null!=a&&(a.A&256||$a===a.Mc)?a.X(null,b,c):ob(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:qb(bc,a)?cc(a,b,c):c:c};A.H=3;var O=function O(a){switch(arguments.length){case 3:return O.j(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(3),0,null);return O.o(arguments[0],arguments[1],arguments[2],c)}};
O.j=function(a,b,c){return null!=a&&(a.A&512||$a===a.ad)?a.ja(null,b,c):null!=a?ic(a,b,c):ue([b,c])};O.o=function(a,b,c,d){for(;;)if(a=O.j(a,b,c),q(d))b=G(d),c=ne(d),d=H(H(d));else return a};O.G=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);d=H(d);return this.o(b,a,c,d)};O.H=3;
var ve=function ve(a){switch(arguments.length){case 1:return ve.g(arguments[0]);case 2:return ve.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(2),0,null);return ve.o(arguments[0],arguments[1],c)}};ve.g=function(a){return a};ve.h=function(a,b){return null==a?null:lc(a,b)};ve.o=function(a,b,c){for(;;){if(null==a)return null;a=ve.h(a,b);if(q(c))b=G(c),c=H(c);else return a}};
ve.G=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.o(b,a,c)};ve.H=2;function we(a){var b="function"===typeof a;return b?b:null!=a?$a===a.sd?!0:a.yd?!1:qb(Bb,a):qb(Bb,a)}function xe(a,b){this.M=a;this.D=b;this.A=393217;this.J=0}l=xe.prototype;l.Z=function(){return this.D};l.$=function(a,b){return new xe(this.M,b)};l.sd=$a;
l.call=function(a){switch(arguments.length-1){case 0:return this.v();case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);case 3:return this.j(arguments[1],arguments[2],arguments[3]);case 4:return this.F(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.va(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ra(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Oa(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Qa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.v=function(){return this.M.v?this.M.v():this.M.call(null)};l.g=function(a){return this.M.g?this.M.g(a):this.M.call(null,a)};l.h=function(a,b){return this.M.h?this.M.h(a,b):this.M.call(null,a,b)};l.j=function(a,b,c){return this.M.j?this.M.j(a,b,c):this.M.call(null,a,b,c)};
l.F=function(a,b,c,d){return this.M.F?this.M.F(a,b,c,d):this.M.call(null,a,b,c,d)};l.ea=function(a,b,c,d,e){return this.M.ea?this.M.ea(a,b,c,d,e):this.M.call(null,a,b,c,d,e)};l.va=function(a,b,c,d,e,f){return this.M.va?this.M.va(a,b,c,d,e,f):this.M.call(null,a,b,c,d,e,f)};l.Ra=function(a,b,c,d,e,f,g){return this.M.Ra?this.M.Ra(a,b,c,d,e,f,g):this.M.call(null,a,b,c,d,e,f,g)};l.Ba=function(a,b,c,d,e,f,g,h){return this.M.Ba?this.M.Ba(a,b,c,d,e,f,g,h):this.M.call(null,a,b,c,d,e,f,g,h)};
l.Sa=function(a,b,c,d,e,f,g,h,k){return this.M.Sa?this.M.Sa(a,b,c,d,e,f,g,h,k):this.M.call(null,a,b,c,d,e,f,g,h,k)};l.Ga=function(a,b,c,d,e,f,g,h,k,m){return this.M.Ga?this.M.Ga(a,b,c,d,e,f,g,h,k,m):this.M.call(null,a,b,c,d,e,f,g,h,k,m)};l.Ha=function(a,b,c,d,e,f,g,h,k,m,p){return this.M.Ha?this.M.Ha(a,b,c,d,e,f,g,h,k,m,p):this.M.call(null,a,b,c,d,e,f,g,h,k,m,p)};l.Ia=function(a,b,c,d,e,f,g,h,k,m,p,r){return this.M.Ia?this.M.Ia(a,b,c,d,e,f,g,h,k,m,p,r):this.M.call(null,a,b,c,d,e,f,g,h,k,m,p,r)};
l.Ja=function(a,b,c,d,e,f,g,h,k,m,p,r,v){return this.M.Ja?this.M.Ja(a,b,c,d,e,f,g,h,k,m,p,r,v):this.M.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v)};l.Ka=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x){return this.M.Ka?this.M.Ka(a,b,c,d,e,f,g,h,k,m,p,r,v,x):this.M.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x)};l.La=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z){return this.M.La?this.M.La(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z):this.M.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z)};
l.Ma=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C){return this.M.Ma?this.M.Ma(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C):this.M.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C)};l.Na=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D){return this.M.Na?this.M.Na(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D):this.M.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D)};l.Oa=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J){return this.M.Oa?this.M.Oa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J):this.M.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J)};
l.Pa=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K){return this.M.Pa?this.M.Pa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K):this.M.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K)};l.Qa=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R){return this.M.Qa?this.M.Qa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R):this.M.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R)};
l.mc=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W){return Dd.dd?Dd.dd(this.M,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W):Dd.call(null,this.M,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W)};function ye(a,b){return"function"===typeof a?new xe(a,b):null==a?null:Ac(a,b)}function ze(a){return null!=a&&(null!=a?a.A&131072||$a===a.ud||(a.A?0:qb(yc,a)):qb(yc,a))?zc(a):null}
var Ae=function Ae(a){switch(arguments.length){case 1:return Ae.g(arguments[0]);case 2:return Ae.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(2),0,null);return Ae.o(arguments[0],arguments[1],c)}};Ae.g=function(a){return a};Ae.h=function(a,b){return null==a?null:pc(a,b)};Ae.o=function(a,b,c){for(;;){if(null==a)return null;a=Ae.h(a,b);if(q(c))b=G(c),c=H(c);else return a}};
Ae.G=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.o(b,a,c)};Ae.H=2;function Be(a){return null==a||pb(F(a))}function Ce(a){return null==a?!1:null!=a?a.A&8||$a===a.Ve?!0:a.A?!1:qb(Lb,a):qb(Lb,a)}function De(a){return null==a?!1:null!=a?a.A&4096||$a===a.ef?!0:a.A?!1:qb(oc,a):qb(oc,a)}function He(a){return null!=a?a.A&16777216||$a===a.vd?!0:a.A?!1:qb(Nc,a):qb(Nc,a)}function Ie(a){return null==a?!1:null!=a?a.A&1024||$a===a.$e?!0:a.A?!1:qb(kc,a):qb(kc,a)}
function Je(a){return null!=a?a.A&67108864||$a===a.cf?!0:a.A?!1:qb(Qc,a):qb(Qc,a)}function Ke(a){return null!=a?a.A&16384||$a===a.ff?!0:a.A?!1:qb(vc,a):qb(vc,a)}function Le(a){return null!=a?a.J&512||$a===a.Ue?!0:!1:!1}function Me(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Ne={};function Oe(a){return null==a?!1:null!=a?a.A&64||$a===a.bc?!0:a.A?!1:qb(Tb,a):qb(Tb,a)}function Pe(a){return null==a?!1:!1===a?!1:!0}
function Qe(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Re(a,b){return A.j(a,b,Ne)===Ne?!1:!0}function le(a){switch(arguments.length){case 2:return ke(arguments[0],arguments[1]);case 3:return me(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}}function ke(a,b){var c=F(b);return c?(b=G(c),c=H(c),yb?yb(a,b,c):zb.call(null,a,b,c)):a.v?a.v():a.call(null)}
function me(a,b,c){for(c=F(c);;)if(c){var d=G(c);b=a.h?a.h(b,d):a.call(null,b,d);if(Td(b))return u(b);c=H(c)}else return b}function Se(a,b){a=pd(a);if(q(a.pa()))for(var c=a.next();;)if(a.pa()){var d=a.next();c=b.h?b.h(c,d):b.call(null,c,d);if(Td(c))return u(c)}else return c;else return b.v?b.v():b.call(null)}function Te(a,b,c){for(a=pd(a);;)if(a.pa()){var d=a.next();c=b.h?b.h(c,d):b.call(null,c,d);if(Td(c))return u(c)}else return c}
function zb(a){switch(arguments.length){case 2:return Ue(arguments[0],arguments[1]);case 3:return yb(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}}function Ue(a,b){return null!=b&&(b.A&524288||$a===b.$d)?b.wa(null,a):ob(b)?Yd(b,a):"string"===typeof b?Yd(b,a):qb(Bc,b)?Ec(b,a):Ed(b)?Se(b,a):ke(a,b)}
function yb(a,b,c){return null!=c&&(c.A&524288||$a===c.$d)?c.xa(null,a,b):ob(c)?Zd(c,a,b):"string"===typeof c?Zd(c,a,b):qb(Bc,c)?Ec(c,a,b):Ed(c)?Te(c,a,b):me(a,b,c)}function Ve(a,b,c){return null!=c?Hc(c,a,b):b}function We(a){return a}function Xe(a,b,c,d){a=a.g?a.g(b):a.call(null,b);c=yb(a,c,d);return a.g?a.g(c):a.call(null,c)}
var Ye=function Ye(a){switch(arguments.length){case 0:return Ye.v();case 1:return Ye.g(arguments[0]);case 2:return Ye.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(2),0,null);return Ye.o(arguments[0],arguments[1],c)}};Ye.v=function(){return 0};Ye.g=function(a){return a};Ye.h=function(a,b){return a+b};Ye.o=function(a,b,c){return yb(Ye,a+b,c)};
Ye.G=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.o(b,a,c)};Ye.H=2;var Ze=function Ze(a){switch(arguments.length){case 1:return Ze.g(arguments[0]);case 2:return Ze.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(2),0,null);return Ze.o(arguments[0],arguments[1],c)}};Ze.g=function(a){return-a};Ze.h=function(a,b){return a-b};Ze.o=function(a,b,c){return yb(Ze,a-b,c)};
Ze.G=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.o(b,a,c)};Ze.H=2;var $e=function $e(a){switch(arguments.length){case 1:return $e.g(arguments[0]);case 2:return $e.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(2),0,null);return $e.o(arguments[0],arguments[1],c)}};$e.g=function(){return!0};$e.h=function(a,b){return a<=b};
$e.o=function(a,b,c){for(;;)if(a<=b)if(H(c))a=b,b=G(c),c=H(c);else return b<=G(c);else return!1};$e.G=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.o(b,a,c)};$e.H=2;var af=function af(a){switch(arguments.length){case 1:return af.g(arguments[0]);case 2:return af.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(2),0,null);return af.o(arguments[0],arguments[1],c)}};af.g=function(a){return a};
af.h=function(a,b){return a<b?a:b};af.o=function(a,b,c){return yb(af,a<b?a:b,c)};af.G=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.o(b,a,c)};af.H=2;function bf(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function cf(a,b){return(a%b+b)%b}function df(a,b){a=(a-a%b)/b;return 0<=a?Math.floor(a):Math.ceil(a)}function ef(a,b){return a-b*df(a,b)}
function ff(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}function gf(a){switch(arguments.length){case 1:return!0;case 2:return Ic(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=new Fd(b.slice(2),0,null);a:for(b=arguments[0],c=arguments[1];;)if(b===c)if(H(d))b=c,c=G(d),d=H(d);else{b=c===G(d);break a}else{b=!1;break a}return b}}function hf(a,b){return Ic(a,b)}
var t=function t(a){switch(arguments.length){case 0:return t.v();case 1:return t.g(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(1),0,null);return t.o(arguments[0],c)}};t.v=function(){return""};t.g=function(a){return null==a?"":[a].join("")};t.o=function(a,b){for(a=new Wa(t.g(a));;)if(q(b))a=a.append(t.g(G(b))),b=H(b);else return a.toString()};t.G=function(a){var b=G(a);a=H(a);return this.o(b,a)};t.H=1;
function ie(a,b){if(He(b))if(ae(a)&&ae(b)&&I(a)!==I(b))a=!1;else a:for(a=F(a),b=F(b);;){if(null==a){a=null==b;break a}if(null!=b&&E.h(G(a),G(b)))a=H(a),b=H(b);else{a=!1;break a}}else a=null;return Pe(a)}function re(a,b,c,d,e){this.D=a;this.first=b;this.Aa=c;this.count=d;this.C=e;this.A=65937646;this.J=8192}l=re.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.D};l.oa=function(){return 1===this.count?null:this.Aa};l.da=function(){return this.count};l.Pb=function(){return this.first};l.Qb=function(){return this.sa(null)};
l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){return ie(this,b)};l.la=function(){return Ac(Jd,this.D)};l.wa=function(a,b){return ke(b,this)};l.xa=function(a,b,c){return me(b,c,this)};l.ra=function(){return this.first};l.sa=function(){return 1===this.count?Jd:this.Aa};l.ba=function(){return this};l.$=function(a,b){return b===this.D?this:new re(b,this.first,this.Aa,this.count,this.C)};l.ga=function(a,b){return new re(this.D,b,this,this.count+1,null)};
function jf(a){return null!=a?a.A&33554432||$a===a.Ze?!0:a.A?!1:qb(Oc,a):qb(Oc,a)}re.prototype[ub]=function(){return Ld(this)};function kf(a){this.D=a;this.A=65937614;this.J=8192}l=kf.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.D};l.oa=function(){return null};l.da=function(){return 0};l.Pb=function(){return null};l.Qb=function(){throw Error("Can't pop empty list");};l.ca=function(){return Od};
l.K=function(a,b){return jf(b)||He(b)?null==F(b):!1};l.la=function(){return this};l.wa=function(a,b){return ke(b,this)};l.xa=function(a,b,c){return me(b,c,this)};l.ra=function(){return null};l.sa=function(){return Jd};l.ba=function(){return null};l.$=function(a,b){return b===this.D?this:new kf(b)};l.ga=function(a,b){return new re(this.D,b,null,1,null)};var Jd=new kf(null);kf.prototype[ub]=function(){return Ld(this)};
function lf(a){return(null!=a?a.A&134217728||$a===a.df||(a.A?0:qb(Rc,a)):qb(Rc,a))?(a=Sc(a))?a:Jd:yb(pe,Jd,a)}var mf=function mf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Fd(c.slice(0),0,null):null;return mf.o(c)};mf.o=function(a){if(a instanceof Fd&&0===a.i)var b=a.l;else a:for(b=[];;)if(null!=a)b.push(Vb(a)),a=ac(a);else break a;a=b.length;for(var c=Jd;;)if(0<a){var d=a-1;c=Mb(c,b[a-1]);a=d}else return c};mf.H=0;mf.G=function(a){return this.o(F(a))};
function nf(a,b,c,d){this.D=a;this.first=b;this.Aa=c;this.C=d;this.A=65929452;this.J=8192}l=nf.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.D};l.oa=function(){return null==this.Aa?null:F(this.Aa)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){return ie(this,b)};l.la=function(){return Jd};
l.wa=function(a,b){return ke(b,this)};l.xa=function(a,b,c){return me(b,c,this)};l.ra=function(){return this.first};l.sa=function(){return null==this.Aa?Jd:this.Aa};l.ba=function(){return this};l.$=function(a,b){return b===this.D?this:new nf(b,this.first,this.Aa,this.C)};l.ga=function(a,b){return new nf(null,b,this,null)};nf.prototype[ub]=function(){return Ld(this)};
function je(a,b){return null==b?new re(null,a,null,1,null):null!=b&&(b.A&64||$a===b.bc)?new nf(null,a,b,null):new nf(null,a,F(b),null)}function B(a,b,c,d){this.Dc=a;this.name=b;this.ma=c;this.Yb=d;this.A=2153775105;this.J=4096}l=B.prototype;l.toString=function(){return[":",t.g(this.ma)].join("")};l.equiv=function(a){return this.K(null,a)};l.K=function(a,b){return b instanceof B?this.ma===b.ma:!1};
l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.g=function(a){return A.h(a,this)};l.h=function(a,b){return A.j(a,this,b)};l.ca=function(){var a=this.Yb;return null!=a?a:this.Yb=a=Ad(this)+2654435769|0};l.nc=function(){return this.name};l.oc=function(){return this.Dc};
l.aa=function(a,b){return w(b,[":",t.g(this.ma)].join(""))};function Q(a,b){return a===b?!0:a instanceof B&&b instanceof B?a.ma===b.ma:!1}function of(a){if(null!=a&&(a.J&4096||$a===a.Zd))return a.oc(null);throw Error(["Doesn't support namespace: ",t.g(a)].join(""));}function pf(a){a instanceof B?(a=of(a),a=q(a)?!0:a):a=!1;return Pe(a)}
var qf=function qf(a){switch(arguments.length){case 1:return qf.g(arguments[0]);case 2:return qf.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}};qf.g=function(a){if(a instanceof B)return a;if(a instanceof y)return new B(of(a),rf.g?rf.g(a):rf.call(null,a),a.Lb,null);if(E.h("/",a))return new B(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new B(b[0],b[1],a,null):new B(null,b[0],a,null)}return null};
qf.h=function(a,b){a=a instanceof B?rf.g?rf.g(a):rf.call(null,a):a instanceof y?rf.g?rf.g(a):rf.call(null,a):a;b=b instanceof B?rf.g?rf.g(b):rf.call(null,b):b instanceof y?rf.g?rf.g(b):rf.call(null,b):b;return new B(a,b,[q(a)?[t.g(a),"/"].join(""):null,t.g(b)].join(""),null)};qf.H=2;function sf(a,b,c,d){this.D=a;this.fn=b;this.s=c;this.C=d;this.A=32374988;this.J=1}l=sf.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
function tf(a){null!=a.fn&&(a.s=a.fn.v?a.fn.v():a.fn.call(null),a.fn=null);return a.s}l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.D};l.oa=function(){this.ba(null);return null==this.s?null:H(this.s)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){return ie(this,b)};
l.la=function(){return Ac(Jd,this.D)};l.ed=function(){return pb(this.fn)};l.wa=function(a,b){return ke(b,this)};l.xa=function(a,b,c){return me(b,c,this)};l.ra=function(){this.ba(null);return null==this.s?null:G(this.s)};l.sa=function(){this.ba(null);return null!=this.s?Hd(this.s):Jd};l.ba=function(){tf(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof sf)a=tf(a);else return this.s=a,F(this.s)};
l.$=function(a,b){var c=this;return b===this.D?c:new sf(b,function(){return c.ba(null)},null,this.C)};l.ga=function(a,b){return je(b,this)};sf.prototype[ub]=function(){return Ld(this)};function vf(a){this.Mb=a;this.end=0;this.A=2;this.J=0}vf.prototype.add=function(a){this.Mb[this.end]=a;return this.end+=1};vf.prototype.ua=function(){var a=new wf(this.Mb,0,this.end);this.Mb=null;return a};vf.prototype.da=function(){return this.end};function xf(a){return new vf(Array(a))}
function wf(a,b,c){this.l=a;this.off=b;this.end=c;this.A=524306;this.J=0}l=wf.prototype;l.da=function(){return this.end-this.off};l.P=function(a,b){return this.l[this.off+b]};l.Ca=function(a,b,c){return 0<=b&&b<this.end-this.off?this.l[this.off+b]:c};l.bd=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new wf(this.l,this.off+1,this.end)};l.wa=function(a,b){return $d(this.l,b,this.l[this.off],this.off+1)};l.xa=function(a,b,c){return $d(this.l,b,c,this.off)};
function yf(a,b,c,d){this.ua=a;this.qb=b;this.D=c;this.C=d;this.A=31850732;this.J=1536}l=yf.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.D};l.oa=function(){return 1<Eb(this.ua)?new yf(ed(this.ua),this.qb,null,null):null==this.qb?null:Mc(this.qb)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};
l.K=function(a,b){return ie(this,b)};l.la=function(){return Jd};l.ra=function(){return Pb(this.ua,0)};l.sa=function(){return 1<Eb(this.ua)?new yf(ed(this.ua),this.qb,null,null):null==this.qb?Jd:this.qb};l.ba=function(){return this};l.lc=function(){return this.ua};l.Hb=function(){return null==this.qb?Jd:this.qb};l.$=function(a,b){return b===this.D?this:new yf(this.ua,this.qb,b,this.C)};l.ga=function(a,b){return je(b,this)};l.Lc=function(){return null==this.qb?null:this.qb};yf.prototype[ub]=function(){return Ld(this)};
function zf(a,b){return 0===Eb(a)?b:new yf(a,b,null,null)}function Af(a,b){a.add(b)}function Bf(a){return a.ua()}function Cf(a){var b=[];for(a=F(a);;)if(null!=a)b.push(G(a)),a=H(a);else return b}function Df(a,b){if(ae(b))return I(b);var c=0;for(b=F(b);;)if(null!=b&&c<a)c+=1,b=H(b);else return c}
var Ef=function Ef(a){if(null==a)return null;var c=H(a);return null==c?F(G(a)):je(G(a),Ef.g?Ef.g(c):Ef.call(null,c))},Ff=function Ff(a){switch(arguments.length){case 0:return Ff.v();case 1:return Ff.g(arguments[0]);case 2:return Ff.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(2),0,null);return Ff.o(arguments[0],arguments[1],c)}};Ff.v=function(){return new sf(null,function(){return null},null,null)};
Ff.g=function(a){return new sf(null,function(){return a},null,null)};Ff.h=function(a,b){return new sf(null,function(){var c=F(a);return c?Le(c)?zf(fd(c),Ff.h(gd(c),b)):je(G(c),Ff.h(Hd(c),b)):b},null,null)};Ff.o=function(a,b,c){return function g(e,f){return new sf(null,function(){var h=F(e);return h?Le(h)?zf(fd(h),g(gd(h),f)):je(G(h),g(Hd(h),f)):q(f)?g(G(f),H(f)):null},null,null)}(Ff.h(a,b),c)};Ff.G=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.o(b,a,c)};Ff.H=2;
var Gf=function Gf(a){switch(arguments.length){case 0:return Gf.v();case 1:return Gf.g(arguments[0]);case 2:return Gf.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(2),0,null);return Gf.o(arguments[0],arguments[1],c)}};Gf.v=function(){return Zc(qe)};Gf.g=function(a){return a};Gf.h=function(a,b){return $c(a,b)};Gf.o=function(a,b,c){for(;;)if(a=$c(a,b),q(c))b=G(c),c=H(c);else return a};
Gf.G=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.o(b,a,c)};Gf.H=2;function Hf(a,b,c){return bd(a,b,c)}
function If(a,b,c){var d=F(c);if(0===b)return a.v?a.v():a.call(null);c=Vb(d);var e=Wb(d);if(1===b)return a.g?a.g(c):a.call(null,c);d=Vb(e);var f=Wb(e);if(2===b)return a.h?a.h(c,d):a.call(null,c,d);e=Vb(f);var g=Wb(f);if(3===b)return a.j?a.j(c,d,e):a.call(null,c,d,e);f=Vb(g);var h=Wb(g);if(4===b)return a.F?a.F(c,d,e,f):a.call(null,c,d,e,f);g=Vb(h);var k=Wb(h);if(5===b)return a.ea?a.ea(c,d,e,f,g):a.call(null,c,d,e,f,g);h=Vb(k);var m=Wb(k);if(6===b)return a.va?a.va(c,d,e,f,g,h):a.call(null,c,d,e,f,g,
h);k=Vb(m);var p=Wb(m);if(7===b)return a.Ra?a.Ra(c,d,e,f,g,h,k):a.call(null,c,d,e,f,g,h,k);m=Vb(p);var r=Wb(p);if(8===b)return a.Ba?a.Ba(c,d,e,f,g,h,k,m):a.call(null,c,d,e,f,g,h,k,m);p=Vb(r);var v=Wb(r);if(9===b)return a.Sa?a.Sa(c,d,e,f,g,h,k,m,p):a.call(null,c,d,e,f,g,h,k,m,p);r=Vb(v);var x=Wb(v);if(10===b)return a.Ga?a.Ga(c,d,e,f,g,h,k,m,p,r):a.call(null,c,d,e,f,g,h,k,m,p,r);v=Vb(x);var z=Wb(x);if(11===b)return a.Ha?a.Ha(c,d,e,f,g,h,k,m,p,r,v):a.call(null,c,d,e,f,g,h,k,m,p,r,v);x=Vb(z);var C=Wb(z);
if(12===b)return a.Ia?a.Ia(c,d,e,f,g,h,k,m,p,r,v,x):a.call(null,c,d,e,f,g,h,k,m,p,r,v,x);z=Vb(C);var D=Wb(C);if(13===b)return a.Ja?a.Ja(c,d,e,f,g,h,k,m,p,r,v,x,z):a.call(null,c,d,e,f,g,h,k,m,p,r,v,x,z);C=Vb(D);var J=Wb(D);if(14===b)return a.Ka?a.Ka(c,d,e,f,g,h,k,m,p,r,v,x,z,C):a.call(null,c,d,e,f,g,h,k,m,p,r,v,x,z,C);D=Vb(J);var K=Wb(J);if(15===b)return a.La?a.La(c,d,e,f,g,h,k,m,p,r,v,x,z,C,D):a.call(null,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D);J=Vb(K);var R=Wb(K);if(16===b)return a.Ma?a.Ma(c,d,e,f,g,h,k,
m,p,r,v,x,z,C,D,J):a.call(null,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J);K=Vb(R);var W=Wb(R);if(17===b)return a.Na?a.Na(c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K):a.call(null,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K);R=Vb(W);var Z=Wb(W);if(18===b)return a.Oa?a.Oa(c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R):a.call(null,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R);W=Vb(Z);Z=Wb(Z);if(19===b)return a.Pa?a.Pa(c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W):a.call(null,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W);var ia=Vb(Z);Wb(Z);if(20===b)return a.Qa?a.Qa(c,
d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W,ia):a.call(null,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W,ia);throw Error("Only up to 20 arguments supported on functions");}function Jf(a){return null!=a&&(a.A&128||$a===a.pc)?a.oa(null):F(Hd(a))}function Kf(a,b,c){return null==c?a.g?a.g(b):a.call(a,b):Lf(a,b,Vb(c),Jf(c))}function Lf(a,b,c,d){return null==d?a.h?a.h(b,c):a.call(a,b,c):Mf(a,b,c,Vb(d),Jf(d))}function Mf(a,b,c,d,e){return null==e?a.j?a.j(b,c,d):a.call(a,b,c,d):Nf(a,b,c,d,Vb(e),Jf(e))}
function Nf(a,b,c,d,e,f){if(null==f)return a.F?a.F(b,c,d,e):a.call(a,b,c,d,e);var g=Vb(f),h=H(f);if(null==h)return a.ea?a.ea(b,c,d,e,g):a.call(a,b,c,d,e,g);f=Vb(h);var k=H(h);if(null==k)return a.va?a.va(b,c,d,e,g,f):a.call(a,b,c,d,e,g,f);h=Vb(k);var m=H(k);if(null==m)return a.Ra?a.Ra(b,c,d,e,g,f,h):a.call(a,b,c,d,e,g,f,h);k=Vb(m);var p=H(m);if(null==p)return a.Ba?a.Ba(b,c,d,e,g,f,h,k):a.call(a,b,c,d,e,g,f,h,k);m=Vb(p);var r=H(p);if(null==r)return a.Sa?a.Sa(b,c,d,e,g,f,h,k,m):a.call(a,b,c,d,e,g,f,
h,k,m);p=Vb(r);var v=H(r);if(null==v)return a.Ga?a.Ga(b,c,d,e,g,f,h,k,m,p):a.call(a,b,c,d,e,g,f,h,k,m,p);r=Vb(v);var x=H(v);if(null==x)return a.Ha?a.Ha(b,c,d,e,g,f,h,k,m,p,r):a.call(a,b,c,d,e,g,f,h,k,m,p,r);v=Vb(x);var z=H(x);if(null==z)return a.Ia?a.Ia(b,c,d,e,g,f,h,k,m,p,r,v):a.call(a,b,c,d,e,g,f,h,k,m,p,r,v);x=Vb(z);var C=H(z);if(null==C)return a.Ja?a.Ja(b,c,d,e,g,f,h,k,m,p,r,v,x):a.call(a,b,c,d,e,g,f,h,k,m,p,r,v,x);z=Vb(C);var D=H(C);if(null==D)return a.Ka?a.Ka(b,c,d,e,g,f,h,k,m,p,r,v,x,z):a.call(a,
b,c,d,e,g,f,h,k,m,p,r,v,x,z);C=Vb(D);var J=H(D);if(null==J)return a.La?a.La(b,c,d,e,g,f,h,k,m,p,r,v,x,z,C):a.call(a,b,c,d,e,g,f,h,k,m,p,r,v,x,z,C);D=Vb(J);var K=H(J);if(null==K)return a.Ma?a.Ma(b,c,d,e,g,f,h,k,m,p,r,v,x,z,C,D):a.call(a,b,c,d,e,g,f,h,k,m,p,r,v,x,z,C,D);J=Vb(K);var R=H(K);if(null==R)return a.Na?a.Na(b,c,d,e,g,f,h,k,m,p,r,v,x,z,C,D,J):a.call(a,b,c,d,e,g,f,h,k,m,p,r,v,x,z,C,D,J);K=Vb(R);var W=H(R);if(null==W)return a.Oa?a.Oa(b,c,d,e,g,f,h,k,m,p,r,v,x,z,C,D,J,K):a.call(a,b,c,d,e,g,f,h,
k,m,p,r,v,x,z,C,D,J,K);R=Vb(W);var Z=H(W);if(null==Z)return a.Pa?a.Pa(b,c,d,e,g,f,h,k,m,p,r,v,x,z,C,D,J,K,R):a.call(a,b,c,d,e,g,f,h,k,m,p,r,v,x,z,C,D,J,K,R);W=Vb(Z);Z=H(Z);if(null==Z)return a.Qa?a.Qa(b,c,d,e,g,f,h,k,m,p,r,v,x,z,C,D,J,K,R,W):a.call(a,b,c,d,e,g,f,h,k,m,p,r,v,x,z,C,D,J,K,R,W);b=[b,c,d,e,g,f,h,k,m,p,r,v,x,z,C,D,J,K,R,W];for(c=Z;;)if(c)b.push(Vb(c)),c=H(c);else break;return a.apply(a,b)}
function Dd(a){switch(arguments.length){case 2:return Of(arguments[0],arguments[1]);case 3:return Pf(arguments[0],arguments[1],arguments[2]);case 4:return Qf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new Fd(b.slice(5),0,null);return Sf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Of(a,b){if(a.G){var c=a.H,d=Df(c+1,b);return d<=c?If(a,d,b):a.G(b)}b=F(b);return null==b?a.v?a.v():a.call(a):Kf(a,Vb(b),Jf(b))}function Pf(a,b,c){if(a.G){b=je(b,c);var d=a.H;c=Df(d,c)+1;return c<=d?If(a,c,b):a.G(b)}return Kf(a,b,F(c))}function Qf(a,b,c,d){return a.G?(b=je(b,je(c,d)),c=a.H,d=2+Df(c-1,d),d<=c?If(a,d,b):a.G(b)):Lf(a,b,c,F(d))}function Rf(a,b,c,d,e){return a.G?(b=je(b,je(c,je(d,e))),c=a.H,e=3+Df(c-2,e),e<=c?If(a,e,b):a.G(b)):Mf(a,b,c,d,F(e))}
function Sf(a,b,c,d,e,f){return a.G?(f=Ef(f),b=je(b,je(c,je(d,je(e,f)))),c=a.H,f=4+Df(c-3,f),f<=c?If(a,f,b):a.G(b)):Nf(a,b,c,d,e,Ef(f))}function S(a){return null!=a&&(a.A&64||$a===a.bc)?Of(Tf,a):a}function Uf(a,b){return!E.h(a,b)}function Wf(a){return F(a)?a:null}
function Xf(){if("undefined"===typeof Xa||"undefined"===typeof Ya||"undefined"===typeof Za)Za=function(a){this.qe=a;this.A=393216;this.J=0},Za.prototype.$=function(a,b){return new Za(b)},Za.prototype.Z=function(){return this.qe},Za.prototype.pa=function(){return!1},Za.prototype.next=function(){return Error("No such element")},Za.prototype.remove=function(){return Error("Unsupported operation")},Za.vb=!0,Za.hb="cljs.core/t_cljs$core18827",Za.Ab=function(a){return w(a,"cljs.core/t_cljs$core18827")};
return new Za(T)}var Yf={},Zf={};function $f(a){this.jc=Yf;this._next=a}$f.prototype.pa=function(){this.jc===Yf?(this.jc=Zf,this._next=F(this._next)):this.jc===this._next&&(this._next=H(this.jc));return null!=this._next};$f.prototype.next=function(){if(this.pa())return this.jc=this._next,G(this._next);throw Error("No such element");};$f.prototype.remove=function(){return Error("Unsupported operation")};
function ag(a,b){for(;;){if(null==F(b))return!0;var c=G(b);c=a.g?a.g(c):a.call(null,c);if(q(c))b=H(b);else return!1}}function bg(a,b){for(;;)if(b=F(b)){var c=G(b);c=a.g?a.g(c):a.call(null,c);if(q(c))return c;b=H(b)}else return null}function cg(a){if(Qe(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.g(a)].join(""));}
function dg(a){return function(){function b(g,h){return pb(a.h?a.h(g,h):a.call(null,g,h))}function c(g){return pb(a.g?a.g(g):a.call(null,g))}function d(){return pb(a.v?a.v():a.call(null))}var e=null,f=function(){function g(k,m,p){var r=null;if(2<arguments.length){r=0;for(var v=Array(arguments.length-2);r<v.length;)v[r]=arguments[r+2],++r;r=new Fd(v,0,null)}return h.call(this,k,m,r)}function h(k,m,p){return pb(Qf(a,k,m,p))}g.H=2;g.G=function(k){var m=G(k);k=H(k);var p=G(k);k=Hd(k);return h(m,p,k)};
g.o=h;return g}();e=function(g,h,k){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,g);case 2:return b.call(this,g,h);default:var m=null;if(2<arguments.length){m=0;for(var p=Array(arguments.length-2);m<p.length;)p[m]=arguments[m+2],++m;m=new Fd(p,0,null)}return f.o(g,h,m)}throw Error("Invalid arity: "+arguments.length);};e.H=2;e.G=f.G;e.v=d;e.g=c;e.h=b;e.o=f.o;return e}()}
var eg=function eg(a){switch(arguments.length){case 0:return eg.v();case 1:return eg.g(arguments[0]);case 2:return eg.h(arguments[0],arguments[1]);case 3:return eg.j(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(3),0,null);return eg.o(arguments[0],arguments[1],arguments[2],c)}};eg.v=function(){return We};eg.g=function(a){return a};
eg.h=function(a,b){return function(){function c(k,m,p){k=b.j?b.j(k,m,p):b.call(null,k,m,p);return a.g?a.g(k):a.call(null,k)}function d(k,m){k=b.h?b.h(k,m):b.call(null,k,m);return a.g?a.g(k):a.call(null,k)}function e(k){k=b.g?b.g(k):b.call(null,k);return a.g?a.g(k):a.call(null,k)}function f(){var k=b.v?b.v():b.call(null);return a.g?a.g(k):a.call(null,k)}var g=null,h=function(){function k(p,r,v,x){var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+
3],++z;z=new Fd(C,0,null)}return m.call(this,p,r,v,z)}function m(p,r,v,x){p=Rf(b,p,r,v,x);return a.g?a.g(p):a.call(null,p)}k.H=3;k.G=function(p){var r=G(p);p=H(p);var v=G(p);p=H(p);var x=G(p);p=Hd(p);return m(r,v,x,p)};k.o=m;return k}();g=function(k,m,p,r){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,p);default:var v=null;if(3<arguments.length){v=0;for(var x=Array(arguments.length-3);v<x.length;)x[v]=
arguments[v+3],++v;v=new Fd(x,0,null)}return h.o(k,m,p,v)}throw Error("Invalid arity: "+arguments.length);};g.H=3;g.G=h.G;g.v=f;g.g=e;g.h=d;g.j=c;g.o=h.o;return g}()};
eg.j=function(a,b,c){return function(){function d(m,p,r){m=c.j?c.j(m,p,r):c.call(null,m,p,r);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function e(m,p){m=c.h?c.h(m,p):c.call(null,m,p);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function f(m){m=c.g?c.g(m):c.call(null,m);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}function g(){var m=c.v?c.v():c.call(null);m=b.g?b.g(m):b.call(null,m);return a.g?a.g(m):a.call(null,m)}var h=null,k=function(){function m(r,
v,x,z){var C=null;if(3<arguments.length){C=0;for(var D=Array(arguments.length-3);C<D.length;)D[C]=arguments[C+3],++C;C=new Fd(D,0,null)}return p.call(this,r,v,x,C)}function p(r,v,x,z){r=Rf(c,r,v,x,z);r=b.g?b.g(r):b.call(null,r);return a.g?a.g(r):a.call(null,r)}m.H=3;m.G=function(r){var v=G(r);r=H(r);var x=G(r);r=H(r);var z=G(r);r=Hd(r);return p(v,x,z,r)};m.o=p;return m}();h=function(m,p,r,v){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,p);case 3:return d.call(this,m,p,r);default:var x=null;if(3<arguments.length){x=0;for(var z=Array(arguments.length-3);x<z.length;)z[x]=arguments[x+3],++x;x=new Fd(z,0,null)}return k.o(m,p,r,x)}throw Error("Invalid arity: "+arguments.length);};h.H=3;h.G=k.G;h.v=g;h.g=f;h.h=e;h.j=d;h.o=k.o;return h}()};
eg.o=function(a,b,c,d){var e=lf(je(a,je(b,je(c,d))));return function(){function f(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new Fd(m,0,null)}return g.call(this,k)}function g(h){h=Of(G(e),h);for(var k=H(e);;)if(k){var m=G(k);h=m.g?m.g(h):m.call(null,h);k=H(k)}else return h}f.H=0;f.G=function(h){h=F(h);return g(h)};f.o=g;return f}()};eg.G=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);d=H(d);return this.o(b,a,c,d)};
eg.H=3;
function fg(a,b){return function(){function c(k,m,p){return a.F?a.F(b,k,m,p):a.call(null,b,k,m,p)}function d(k,m){return a.j?a.j(b,k,m):a.call(null,b,k,m)}function e(k){return a.h?a.h(b,k):a.call(null,b,k)}function f(){return a.g?a.g(b):a.call(null,b)}var g=null,h=function(){function k(p,r,v,x){var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new Fd(C,0,null)}return m.call(this,p,r,v,z)}function m(p,r,v,x){return Sf(a,b,p,r,v,M([x]))}k.H=
3;k.G=function(p){var r=G(p);p=H(p);var v=G(p);p=H(p);var x=G(p);p=Hd(p);return m(r,v,x,p)};k.o=m;return k}();g=function(k,m,p,r){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,p);default:var v=null;if(3<arguments.length){v=0;for(var x=Array(arguments.length-3);v<x.length;)x[v]=arguments[v+3],++v;v=new Fd(x,0,null)}return h.o(k,m,p,v)}throw Error("Invalid arity: "+arguments.length);};g.H=3;g.G=h.G;g.v=f;
g.g=e;g.h=d;g.j=c;g.o=h.o;return g}()}
function gg(){var a=hg;return function(){function b(g,h,k){g=null==g?a:g;return pe.j?pe.j(g,h,k):pe.call(null,g,h,k)}function c(g,h){g=null==g?a:g;return pe.h?pe.h(g,h):pe.call(null,g,h)}function d(g){g=null==g?a:g;return pe.g?pe.g(g):pe.call(null,g)}var e=null,f=function(){function g(k,m,p,r){var v=null;if(3<arguments.length){v=0;for(var x=Array(arguments.length-3);v<x.length;)x[v]=arguments[v+3],++v;v=new Fd(x,0,null)}return h.call(this,k,m,p,v)}function h(k,m,p,r){return Rf(pe,null==k?a:k,m,p,
r)}g.H=3;g.G=function(k){var m=G(k);k=H(k);var p=G(k);k=H(k);var r=G(k);k=Hd(k);return h(m,p,r,k)};g.o=h;return g}();e=function(g,h,k,m){switch(arguments.length){case 1:return d.call(this,g);case 2:return c.call(this,g,h);case 3:return b.call(this,g,h,k);default:var p=null;if(3<arguments.length){p=0;for(var r=Array(arguments.length-3);p<r.length;)r[p]=arguments[p+3],++p;p=new Fd(r,0,null)}return f.o(g,h,k,p)}throw Error("Invalid arity: "+arguments.length);};e.H=3;e.G=f.G;e.g=d;e.h=c;e.j=b;e.o=f.o;
return e}()}function ig(a,b){return new sf(null,function(){var c=F(b);if(c){if(Le(c)){for(var d=fd(c),e=I(d),f=xf(e),g=0;;)if(g<e){var h=function(){var k=Pb(d,g);return a.g?a.g(k):a.call(null,k)}();null!=h&&f.add(h);g+=1}else break;return zf(Bf(f),ig(a,gd(c)))}e=function(){var k=G(c);return a.g?a.g(k):a.call(null,k)}();return null==e?ig(a,Hd(c)):je(e,ig(a,Hd(c)))}return null},null,null)}function jg(a){this.state=a;this.Uc=this.Le=this.D=null;this.J=16386;this.A=6455296}l=jg.prototype;
l.equiv=function(a){return this.K(null,a)};l.K=function(a,b){return this===b};l.Ob=function(){return this.state};l.Z=function(){return this.D};l.xd=function(a,b,c){this.Uc=O.j(this.Uc,b,c);return this};l.ca=function(){return ra(this)};function kg(a){return new jg(a)}
function lg(a,b){if(a instanceof jg){var c=a.Le;if(null!=c&&!q(c.g?c.g(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.Uc)a:for(var d=F(a.Uc),e=null,f=0,g=0;;)if(g<f){var h=e.P(null,g),k=N(h,0,null);h=N(h,1,null);h.F?h.F(k,a,c,b):h.call(null,k,a,c,b);g+=1}else if(d=F(d))Le(d)?(e=fd(d),d=gd(d),k=e,f=I(e),e=k):(e=G(d),k=N(e,0,null),h=N(e,1,null),h.F?h.F(k,a,c,b):h.call(null,k,a,c,b),d=H(d),e=null,f=0),g=0;else break a;return b}return kd(a,b)}
var mg=function mg(a){switch(arguments.length){case 2:return mg.h(arguments[0],arguments[1]);case 3:return mg.j(arguments[0],arguments[1],arguments[2]);case 4:return mg.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(4),0,null);return mg.o(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
mg.h=function(a,b){if(a instanceof jg){var c=a.state;b=b.g?b.g(c):b.call(null,c);a=lg(a,b)}else a=ld(a,b);return a};mg.j=function(a,b,c){if(a instanceof jg){var d=a.state;b=b.h?b.h(d,c):b.call(null,d,c);a=lg(a,b)}else a=ld(a,b,c);return a};mg.F=function(a,b,c,d){if(a instanceof jg){var e=a.state;b=b.j?b.j(e,c,d):b.call(null,e,c,d);a=lg(a,b)}else a=ld(a,b,c,d);return a};mg.o=function(a,b,c,d,e){return a instanceof jg?lg(a,Rf(b,a.state,c,d,e)):ld(a,b,c,d,e)};
mg.G=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);var e=H(d);d=G(e);e=H(e);return this.o(b,a,c,d,e)};mg.H=4;
var ng=function ng(a){switch(arguments.length){case 1:return ng.g(arguments[0]);case 2:return ng.h(arguments[0],arguments[1]);case 3:return ng.j(arguments[0],arguments[1],arguments[2]);case 4:return ng.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(4),0,null);return ng.o(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ng.g=function(a){return function(b){return function(){function c(h,k){k=a.g?a.g(k):a.call(null,k);return b.h?b.h(h,k):b.call(null,h,k)}function d(h){return b.g?b.g(h):b.call(null,h)}function e(){return b.v?b.v():b.call(null)}var f=null,g=function(){function h(m,p,r){var v=null;if(2<arguments.length){v=0;for(var x=Array(arguments.length-2);v<x.length;)x[v]=arguments[v+2],++v;v=new Fd(x,0,null)}return k.call(this,m,p,v)}function k(m,p,r){p=Pf(a,p,r);return b.h?b.h(m,p):b.call(null,m,p)}h.H=2;h.G=function(m){var p=
G(m);m=H(m);var r=G(m);m=Hd(m);return k(p,r,m)};h.o=k;return h}();f=function(h,k,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k);default:var p=null;if(2<arguments.length){p=0;for(var r=Array(arguments.length-2);p<r.length;)r[p]=arguments[p+2],++p;p=new Fd(r,0,null)}return g.o(h,k,p)}throw Error("Invalid arity: "+arguments.length);};f.H=2;f.G=g.G;f.v=e;f.g=d;f.h=c;f.o=g.o;return f}()}};
ng.h=function(a,b){return new sf(null,function(){var c=F(b);if(c){if(Le(c)){for(var d=fd(c),e=I(d),f=xf(e),g=0;;)if(g<e)Af(f,function(){var h=Pb(d,g);return a.g?a.g(h):a.call(null,h)}()),g+=1;else break;return zf(Bf(f),ng.h(a,gd(c)))}return je(function(){var h=G(c);return a.g?a.g(h):a.call(null,h)}(),ng.h(a,Hd(c)))}return null},null,null)};
ng.j=function(a,b,c){return new sf(null,function(){var d=F(b),e=F(c);if(d&&e){var f=G(d);var g=G(e);f=a.h?a.h(f,g):a.call(null,f,g);d=je(f,ng.j(a,Hd(d),Hd(e)))}else d=null;return d},null,null)};ng.F=function(a,b,c,d){return new sf(null,function(){var e=F(b),f=F(c),g=F(d);if(e&&f&&g){var h=G(e);var k=G(f),m=G(g);h=a.j?a.j(h,k,m):a.call(null,h,k,m);e=je(h,ng.F(a,Hd(e),Hd(f),Hd(g)))}else e=null;return e},null,null)};
ng.o=function(a,b,c,d,e){return ng.h(function(f){return Of(a,f)},function h(g){return new sf(null,function(){var k=ng.h(F,g);return ag(We,k)?je(ng.h(G,k),h(ng.h(Hd,k))):null},null,null)}(pe.o(e,d,M([c,b]))))};ng.G=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);var e=H(d);d=G(e);e=H(e);return this.o(b,a,c,d,e)};ng.H=4;function og(a,b){return new sf(null,function(){if(0<a){var c=F(b);return c?je(G(c),og(a-1,Hd(c))):null}return null},null,null)}
function pg(a,b){return new sf(null,function(){a:for(var c=a,d=b;;)if(d=F(d),0<c&&d)--c,d=Hd(d);else break a;return d},null,null)}function qg(a){return ng.j(function(b){return b},a,pg(1,a))}function rg(a,b,c,d){this.D=a;this.count=b;this.val=c;this.next=d;this.C=null;this.A=32374988;this.J=1}l=rg.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.D};l.oa=function(){return null==this.next?1<this.count?this.next=new rg(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){return ie(this,b)};l.la=function(){return Jd};l.ed=function(){return!1};l.wa=function(a,b){if(-1===this.count)for(var c=b.h?b.h(this.val,this.val):b.call(null,this.val,this.val);;){if(Td(c))return u(c);c=b.h?b.h(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.h?b.h(c,this.val):b.call(null,c,this.val);if(Td(c))return u(c);a+=1}else return c};
l.xa=function(a,b,c){if(-1===this.count)for(c=b.h?b.h(c,this.val):b.call(null,c,this.val);;){if(Td(c))return u(c);c=b.h?b.h(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.h?b.h(c,this.val):b.call(null,c,this.val);if(Td(c))return u(c);a+=1}else return c};l.ra=function(){return this.val};l.sa=function(){return null==this.next?1<this.count?this.next=new rg(null,this.count-1,this.val,null):-1===this.count?this:Jd:this.next};l.ba=function(){return this};
l.$=function(a,b){return b===this.D?this:new rg(b,this.count,this.val,this.next)};l.ga=function(a,b){return je(b,this)};function sg(a,b){return 0<a?new rg(null,a,b,null):Jd}var tg=function tg(a){switch(arguments.length){case 0:return tg.v();case 1:return tg.g(arguments[0]);case 2:return tg.h(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(2),0,null);return tg.o(arguments[0],arguments[1],c)}};tg.v=function(){return Jd};
tg.g=function(a){return new sf(null,function(){return a},null,null)};tg.h=function(a,b){return new sf(null,function(){var c=F(a),d=F(b);return c&&d?je(G(c),je(G(d),tg.h(Hd(c),Hd(d)))):null},null,null)};tg.o=function(a,b,c){return new sf(null,function(){var d=ng.h(F,pe.o(c,b,M([a])));return ag(We,d)?Ff.h(ng.h(G,d),Of(tg,ng.h(Hd,d))):null},null,null)};tg.G=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.o(b,a,c)};tg.H=2;function ug(a,b){return pg(1,tg.h(new rg(null,-1,a,null),b))}
function vg(a,b){return Of(Ff,Pf(ng,a,b))}function wg(a,b){return new sf(null,function(){var c=F(b);if(c){if(Le(c)){for(var d=fd(c),e=I(d),f=xf(e),g=0;;)if(g<e){var h=Pb(d,g);h=a.g?a.g(h):a.call(null,h);q(h)&&(h=Pb(d,g),f.add(h));g+=1}else break;return zf(Bf(f),wg(a,gd(c)))}d=G(c);c=Hd(c);return q(a.g?a.g(d):a.call(null,d))?je(d,wg(a,c)):wg(a,c)}return null},null,null)}function xg(a,b){return wg(dg(a),b)}
function yg(a){return function d(c){return new sf(null,function(){return je(c,q(He.g?He.g(c):He.call(null,c))?vg(d,M([F.g?F.g(c):F.call(null,c)])):null)},null,null)}(a)}function zg(a){return wg(function(b){return!He(b)},Hd(yg(a)))}
var Ag=function Ag(a){switch(arguments.length){case 0:return Ag.v();case 1:return Ag.g(arguments[0]);case 2:return Ag.h(arguments[0],arguments[1]);case 3:return Ag.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}};Ag.v=function(){return qe};Ag.g=function(a){return a};Ag.h=function(a,b){return null!=a?null!=a&&(a.J&4||$a===a.Td)?Ac(ad(yb($c,Zc(a),b)),ze(a)):yb(Mb,a,b):yb(pe,a,b)};
Ag.j=function(a,b,c){return null!=a&&(a.J&4||$a===a.Td)?Ac(ad(Xe(b,Gf,Zc(a),c)),ze(a)):Xe(b,pe,a,c)};Ag.H=3;function Bg(a,b){return ad(yb(function(c,d){return Gf.h(c,a.g?a.g(d):a.call(null,d))},Zc(qe),b))}function Cg(a,b,c){return new sf(null,function(){var d=F(c);if(d){var e=og(a,d);return a===I(e)?je(e,Cg(a,b,pg(b,d))):null}return null},null,null)}function Dg(a,b){return yb(A,a,b)}
var Eg=function Eg(a,b,c){var e=F(b);b=G(e);var f=H(e);if(f){e=O.j;var g=A.h(a,b);c=Eg.j?Eg.j(g,f,c):Eg.call(null,g,f,c);a=e.call(O,a,b,c)}else a=O.j(a,b,c);return a},Fg=function Fg(a){switch(arguments.length){case 3:return Fg.j(arguments[0],arguments[1],arguments[2]);case 4:return Fg.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Fg.ea(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Fg.va(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(6),0,null);return Fg.o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};Fg.j=function(a,b,c){var d=F(b);b=G(d);if(d=H(d))a=O.j(a,b,Fg.j(A.h(a,b),d,c));else{d=O.j;var e=A.h(a,b);c=c.g?c.g(e):c.call(null,e);a=d.call(O,a,b,c)}return a};
Fg.F=function(a,b,c,d){var e=F(b);b=G(e);if(e=H(e))a=O.j(a,b,Fg.F(A.h(a,b),e,c,d));else{e=O.j;var f=A.h(a,b);c=c.h?c.h(f,d):c.call(null,f,d);a=e.call(O,a,b,c)}return a};Fg.ea=function(a,b,c,d,e){var f=F(b);b=G(f);if(f=H(f))a=O.j(a,b,Fg.ea(A.h(a,b),f,c,d,e));else{f=O.j;var g=A.h(a,b);c=c.j?c.j(g,d,e):c.call(null,g,d,e);a=f.call(O,a,b,c)}return a};
Fg.va=function(a,b,c,d,e,f){var g=F(b);b=G(g);if(g=H(g))a=O.j(a,b,Fg.va(A.h(a,b),g,c,d,e,f));else{g=O.j;var h=A.h(a,b);c=c.F?c.F(h,d,e,f):c.call(null,h,d,e,f);a=g.call(O,a,b,c)}return a};Fg.o=function(a,b,c,d,e,f,g){var h=F(b);b=G(h);return(h=H(h))?O.j(a,b,Sf(Fg,A.h(a,b),h,c,d,M([e,f,g]))):O.j(a,b,Sf(c,A.h(a,b),d,e,f,M([g])))};Fg.G=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);var e=H(d);d=G(e);var f=H(e);e=G(f);var g=H(f);f=G(g);g=H(g);return this.o(b,a,c,d,e,f,g)};Fg.H=6;
var Gg=function Gg(a){switch(arguments.length){case 3:return Gg.j(arguments[0],arguments[1],arguments[2]);case 4:return Gg.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Gg.ea(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Gg.va(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Fd(c.slice(6),0,null);return Gg.o(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};Gg.j=function(a,b,c){var d=O.j,e=A.h(a,b);c=c.g?c.g(e):c.call(null,e);return d.call(O,a,b,c)};Gg.F=function(a,b,c,d){var e=O.j,f=A.h(a,b);c=c.h?c.h(f,d):c.call(null,f,d);return e.call(O,a,b,c)};Gg.ea=function(a,b,c,d,e){var f=O.j,g=A.h(a,b);c=c.j?c.j(g,d,e):c.call(null,g,d,e);return f.call(O,a,b,c)};Gg.va=function(a,b,c,d,e,f){var g=O.j,h=A.h(a,b);c=c.F?c.F(h,d,e,f):c.call(null,h,d,e,f);return g.call(O,a,b,c)};
Gg.o=function(a,b,c,d,e,f,g){return O.j(a,b,Sf(c,A.h(a,b),d,e,f,M([g])))};Gg.G=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);var e=H(d);d=G(e);var f=H(e);e=G(f);var g=H(f);f=G(g);g=H(g);return this.o(b,a,c,d,e,f,g)};Gg.H=6;function Hg(a,b){this.ia=a;this.l=b}function Ig(a){return new Hg(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function Jg(a){return new Hg(a.ia,wb(a.l))}function Kg(a){a=a.B;return 32>a?0:a-1>>>5<<5}function Lg(a,b,c){for(;;){if(0===b)return c;var d=Ig(a);d.l[0]=c;c=d;b-=5}}var Mg=function Mg(a,b,c,d){var f=Jg(c),g=a.B-1>>>b&31;5===b?f.l[g]=d:(c=c.l[g],null!=c?(b-=5,a=Mg.F?Mg.F(a,b,c,d):Mg.call(null,a,b,c,d)):a=Lg(null,b-5,d),f.l[g]=a);return f};function Ng(a,b){throw Error(["No item ",t.g(a)," in vector of length ",t.g(b)].join(""));}
function Og(a,b){if(b>=Kg(a))return a.Fa;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.l[b>>>a&31];a=d}else return c.l}function Rg(a,b){return 0<=b&&b<a.B?Og(a,b):Ng(b,a.B)}
var Tg=function Tg(a,b,c,d,e){var g=Jg(c);if(0===b)g.l[d&31]=e;else{var h=d>>>b&31;b-=5;c=c.l[h];a=Tg.ea?Tg.ea(a,b,c,d,e):Tg.call(null,a,b,c,d,e);g.l[h]=a}return g},Ug=function Ug(a,b,c){var e=a.B-2>>>b&31;if(5<b){b-=5;var f=c.l[e];a=Ug.j?Ug.j(a,b,f):Ug.call(null,a,b,f);if(null==a&&0===e)return null;c=Jg(c);c.l[e]=a;return c}if(0===e)return null;c=Jg(c);c.l[e]=null;return c};function Vg(a,b,c,d,e,f){this.i=a;this.Ic=b;this.l=c;this.ta=d;this.start=e;this.end=f}
Vg.prototype.pa=function(){return this.i<this.end};Vg.prototype.next=function(){32===this.i-this.Ic&&(this.l=Og(this.ta,this.i),this.Ic+=32);var a=this.l[this.i&31];this.i+=1;return a};function Wg(a,b,c){return new Vg(b,b-b%32,b<I(a)?Og(a,b):null,a,b,c)}function Xg(a,b,c,d){return c<d?Yg(a,b,de(a,c),c+1,d):b.v?b.v():b.call(null)}function Yg(a,b,c,d,e){var f=c;c=d;for(d=Og(a,d);;)if(c<e){var g=c&31;d=0===g?Og(a,c):d;g=d[g];f=b.h?b.h(f,g):b.call(null,f,g);if(Td(f))return u(f);c+=1}else return f}
function V(a,b,c,d,e,f){this.D=a;this.B=b;this.shift=c;this.root=d;this.Fa=e;this.C=f;this.A=167666463;this.J=139268}l=V.prototype;l.ac=function(a,b){return 0<=b&&b<this.B?new Zg(b,Og(this,b)[b&31]):null};l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){return"number"===typeof b?this.Ca(null,b,c):c};
l.$a=function(a,b,c){a=0;for(var d=c;;)if(a<this.B){var e=Og(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=f+a,h=e[f];d=b.j?b.j(d,g,h):b.call(null,d,g,h);if(Td(d)){e=d;break a}f+=1}else{e=d;break a}if(Td(e))return u(e);a+=c;d=e}else return d};l.$c=$a;l.P=function(a,b){return Rg(this,b)[b&31]};l.Ca=function(a,b,c){return 0<=b&&b<this.B?Og(this,b)[b&31]:c};
l.Rb=function(a,b,c){if(0<=b&&b<this.B)return Kg(this)<=b?(a=wb(this.Fa),a[b&31]=c,new V(this.D,this.B,this.shift,this.root,a,null)):new V(this.D,this.B,this.shift,Tg(this,this.shift,this.root,b,c),this.Fa,null);if(b===this.B)return this.ga(null,c);throw Error(["Index ",t.g(b)," out of bounds  [0,",t.g(this.B),"]"].join(""));};l.qa=function(){return Wg(this,0,this.B)};l.Z=function(){return this.D};l.da=function(){return this.B};l.Pb=function(){return 0<this.B?this.P(null,this.B-1):null};
l.Qb=function(){if(0===this.B)throw Error("Can't pop empty vector");if(1===this.B)return Ac(qe,this.D);if(1<this.B-Kg(this))return new V(this.D,this.B-1,this.shift,this.root,this.Fa.slice(0,-1),null);var a=Og(this,this.B-2),b=Ug(this,this.shift,this.root);b=null==b?Y:b;var c=this.B-1;return 5<this.shift&&null==b.l[1]?new V(this.D,c,this.shift-5,b.l[0],a,null):new V(this.D,c,this.shift,b,a,null)};l.qc=function(){return 0<this.B?new he(this,this.B-1,null):null};
l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){if(b instanceof V)if(this.B===I(b))for(a=this.qa(null),b=b.qa(null);;)if(a.pa()){var c=a.next(),d=b.next();if(!E.h(c,d))return!1}else return!0;else return!1;else return ie(this,b)};l.$b=function(){return new $g(this.B,this.shift,ah.g?ah.g(this.root):ah.call(null,this.root),bh.g?bh.g(this.Fa):bh.call(null,this.Fa))};l.la=function(){return Ac(qe,this.D)};l.wa=function(a,b){return Xg(this,b,0,this.B)};
l.xa=function(a,b,c){a=0;for(var d=c;;)if(a<this.B){var e=Og(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=e[f];d=b.h?b.h(d,g):b.call(null,d,g);if(Td(d)){e=d;break a}f+=1}else{e=d;break a}if(Td(e))return u(e);a+=c;d=e}else return d};l.ja=function(a,b,c){if("number"===typeof b)return this.Rb(null,b,c);throw Error("Vector's key for assoc must be a number.");};
l.ba=function(){if(0===this.B)return null;if(32>=this.B)return new Fd(this.Fa,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.l[0];else{a=a.l;break a}}return ch?ch(this,a,0,0):dh.call(null,this,a,0,0)};l.$=function(a,b){return b===this.D?this:new V(b,this.B,this.shift,this.root,this.Fa,this.C)};
l.ga=function(a,b){if(32>this.B-Kg(this)){a=this.Fa.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.Fa[d],d+=1;else break;c[a]=b;return new V(this.D,this.B+1,this.shift,this.root,c,null)}a=(c=this.B>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Ig(null),c.l[0]=this.root,d=Lg(null,this.shift,new Hg(null,this.Fa)),c.l[1]=d):c=Mg(this,this.shift,this.root,new Hg(null,this.Fa));return new V(this.D,this.B+1,a,c,[b],null)};
l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.g=function(a){return this.P(null,a)};l.h=function(a,b){return this.Ca(null,a,b)};
var Y=new Hg(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),qe=new V(null,0,5,Y,[],Od);function eh(a,b){var c=a.length;a=b?a:wb(a);if(32>c)return new V(null,c,5,Y,a,null);var d=a.slice(0,32);b=32;for(var e=(new V(null,32,5,Y,d,null)).$b(null);;)if(b<c)d=b+1,e=Gf.h(e,a[b]),b=d;else return ad(e)}V.prototype[ub]=function(){return Ld(this)};
function fh(a){return q(gh.g?gh.g(a):gh.call(null,a))?new V(null,2,5,Y,[hh.g?hh.g(a):hh.call(null,a),ih.g?ih.g(a):ih.call(null,a)],null):Ke(a)?ye(a,null):ob(a)?eh(a,!0):ad(yb($c,Zc(qe),a))}var jh=function jh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Fd(c.slice(0),0,null):null;return jh.o(c)};jh.o=function(a){return a instanceof Fd&&0===a.i?eh(a.l,!ob(a.l)):fh(a)};jh.H=0;jh.G=function(a){return this.o(F(a))};
function kh(a,b,c,d,e){this.bb=a;this.node=b;this.i=c;this.off=d;this.D=e;this.C=null;this.A=32375020;this.J=1536}l=kh.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.D};l.oa=function(){if(this.off+1<this.node.length){var a=this.bb;var b=this.node,c=this.i,d=this.off+1;a=ch?ch(a,b,c,d):dh.call(null,a,b,c,d);return null==a?null:a}return this.Lc()};
l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){return ie(this,b)};l.la=function(){return Jd};l.wa=function(a,b){return Xg(this.bb,b,this.i+this.off,I(this.bb))};l.xa=function(a,b,c){return Yg(this.bb,b,c,this.i+this.off,I(this.bb))};l.ra=function(){return this.node[this.off]};l.sa=function(){if(this.off+1<this.node.length){var a=this.bb;var b=this.node,c=this.i,d=this.off+1;a=ch?ch(a,b,c,d):dh.call(null,a,b,c,d);return null==a?Jd:a}return this.Hb(null)};l.ba=function(){return this};
l.lc=function(){var a=this.node;return new wf(a,this.off,a.length)};l.Hb=function(){var a=this.i+this.node.length;if(a<Eb(this.bb)){var b=this.bb,c=Og(this.bb,a);return ch?ch(b,c,a,0):dh.call(null,b,c,a,0)}return Jd};l.$=function(a,b){return b===this.D?this:lh?lh(this.bb,this.node,this.i,this.off,b):dh.call(null,this.bb,this.node,this.i,this.off,b)};l.ga=function(a,b){return je(b,this)};
l.Lc=function(){var a=this.i+this.node.length;if(a<Eb(this.bb)){var b=this.bb,c=Og(this.bb,a);return ch?ch(b,c,a,0):dh.call(null,b,c,a,0)}return null};kh.prototype[ub]=function(){return Ld(this)};
function dh(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new kh(b,Rg(b,c),c,d,null);case 4:return ch(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return lh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}}function ch(a,b,c,d){return new kh(a,b,c,d,null)}function lh(a,b,c,d,e){return new kh(a,b,c,d,e)}
function mh(a,b,c,d,e){this.D=a;this.ta=b;this.start=c;this.end=d;this.C=e;this.A=167666463;this.J=139264}l=mh.prototype;l.ac=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Zg(b,cc(this.ta,a)):null};l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){return"number"===typeof b?this.Ca(null,b,c):c};
l.$a=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Pb(this.ta,a);c=b.j?b.j(c,e,f):b.call(null,c,e,f);if(Td(c))return u(c);d+=1;a+=1}else return c};l.P=function(a,b){return 0>b||this.end<=this.start+b?Ng(b,this.end-this.start):Pb(this.ta,this.start+b)};l.Ca=function(a,b,c){return 0>b||this.end<=this.start+b?c:Pb(this.ta,this.start+b,c)};
l.Rb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.g(b)," out of bounds [0,",t.g(this.da(null)),"]"].join(""));b=this.D;c=O.j(this.ta,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return nh.ea?nh.ea(b,c,d,a,null):nh.call(null,b,c,d,a,null)};l.qa=function(){return null!=this.ta&&$a===this.ta.$c?Wg(this.ta,this.start,this.end):new $f(this)};l.Z=function(){return this.D};l.da=function(){return this.end-this.start};
l.Pb=function(){return this.start===this.end?null:Pb(this.ta,this.end-1)};l.Qb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.D,b=this.ta,c=this.start,d=this.end-1;return nh.ea?nh.ea(a,b,c,d,null):nh.call(null,a,b,c,d,null)};l.qc=function(){return this.start!==this.end?new he(this,this.end-this.start-1,null):null};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){return ie(this,b)};l.la=function(){return Ac(qe,this.D)};
l.wa=function(a,b){return null!=this.ta&&$a===this.ta.$c?Xg(this.ta,b,this.start,this.end):Wd(this,b)};l.xa=function(a,b,c){return null!=this.ta&&$a===this.ta.$c?Yg(this.ta,b,c,this.start,this.end):Xd(this,b,c)};l.ja=function(a,b,c){if("number"===typeof b)return this.Rb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};l.ba=function(){var a=this;return function d(c){return c===a.end?null:je(Pb(a.ta,c),new sf(null,function(){return d(c+1)},null,null))}(a.start)};
l.$=function(a,b){return b===this.D?this:nh.ea?nh.ea(b,this.ta,this.start,this.end,this.C):nh.call(null,b,this.ta,this.start,this.end,this.C)};l.ga=function(a,b){a=this.D;b=wc(this.ta,this.end,b);var c=this.start,d=this.end+1;return nh.ea?nh.ea(a,b,c,d,null):nh.call(null,a,b,c,d,null)};l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};
l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.g=function(a){return this.P(null,a)};l.h=function(a,b){return this.Ca(null,a,b)};mh.prototype[ub]=function(){return Ld(this)};function nh(a,b,c,d,e){for(;;)if(b instanceof mh)c=b.start+c,d=b.start+d,b=b.ta;else{if(!Ke(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>I(b))throw Error("Index out of bounds");return new mh(a,b,c,d,e)}}function oh(a,b){return a===b.ia?b:new Hg(a,wb(b.l))}
function ah(a){return new Hg({},wb(a.l))}function bh(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Me(a,0,b,0,a.length);return b}var ph=function ph(a,b,c,d){c=oh(a.root.ia,c);var f=a.B-1>>>b&31;if(5===b)a=d;else{var g=c.l[f];null!=g?(b-=5,a=ph.F?ph.F(a,b,g,d):ph.call(null,a,b,g,d)):a=Lg(a.root.ia,b-5,d)}c.l[f]=a;return c};
function $g(a,b,c,d){this.B=a;this.shift=b;this.root=c;this.Fa=d;this.J=88;this.A=275}l=$g.prototype;
l.kb=function(a,b){if(this.root.ia){if(32>this.B-Kg(this))this.Fa[this.B&31]=b;else{a=new Hg(this.root.ia,this.Fa);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.Fa=c;this.B>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=Lg(this.root.ia,this.shift,a),this.root=new Hg(this.root.ia,b),this.shift=c):this.root=ph(this,this.shift,this.root,a)}this.B+=1;return this}throw Error("conj! after persistent!");};l.rc=function(){if(this.root.ia){this.root.ia=null;var a=this.B-Kg(this),b=Array(a);Me(this.Fa,0,b,0,a);return new V(null,this.B,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
l.zb=function(a,b,c){if("number"===typeof b)return qh(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function qh(a,b,c){if(a.root.ia){if(0<=b&&b<a.B){if(Kg(a)<=b)a.Fa[b&31]=c;else{var d=function h(f,g){g=oh(a.root.ia,g);if(0===f)g.l[b&31]=c;else{var k=b>>>f&31;f=h(f-5,g.l[k]);g.l[k]=f}return g}(a.shift,a.root);a.root=d}return a}if(b===a.B)return a.kb(null,c);throw Error(["Index ",t.g(b)," out of bounds for TransientVector of length",t.g(a.B)].join(""));}throw Error("assoc! after persistent!");}l.da=function(){if(this.root.ia)return this.B;throw Error("count after persistent!");};
l.P=function(a,b){if(this.root.ia)return Rg(this,b)[b&31];throw Error("nth after persistent!");};l.Ca=function(a,b,c){return 0<=b&&b<this.B?this.P(null,b):c};l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){if(this.root.ia)return"number"===typeof b?this.Ca(null,b,c):c;throw Error("lookup after persistent!");};
l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.g=function(a){return this.ha(null,a)};l.h=function(a,b){return this.X(null,a,b)};function rh(a,b){this.dc=a;this.Fc=b}rh.prototype.pa=function(){var a=null!=this.dc&&F(this.dc);return a?a:null!=this.Fc?this.Fc.pa():!1};
rh.prototype.next=function(){if(null!=this.dc){var a=G(this.dc);this.dc=H(this.dc);return a}if(null!=this.Fc&&this.Fc.pa())return this.Fc.next();throw Error("No such element");};rh.prototype.remove=function(){return Error("Unsupported operation")};function sh(a,b,c,d){this.D=a;this.Za=b;this.ab=c;this.C=d;this.A=31850700;this.J=0}l=sh.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.D};l.oa=function(){var a=H(this.Za);return a?new sh(this.D,a,this.ab,null):null!=this.ab?new sh(this.D,this.ab,null,null):null};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};
l.K=function(a,b){return ie(this,b)};l.la=function(){return Ac(Jd,this.D)};l.ra=function(){return G(this.Za)};l.sa=function(){var a=H(this.Za);return a?new sh(this.D,a,this.ab,null):null==this.ab?this.la(null):new sh(this.D,this.ab,null,null)};l.ba=function(){return this};l.$=function(a,b){return b===this.D?this:new sh(b,this.Za,this.ab,this.C)};l.ga=function(a,b){return je(b,this)};sh.prototype[ub]=function(){return Ld(this)};
function th(a,b,c,d,e){this.D=a;this.count=b;this.Za=c;this.ab=d;this.C=e;this.J=139264;this.A=31858766}l=th.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,this.count.g?this.count.g(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.qa=function(){return new rh(this.Za,pd(this.ab))};l.Z=function(){return this.D};l.da=function(){return this.count};l.Pb=function(){return G(this.Za)};
l.Qb=function(){if(q(this.Za)){var a=H(this.Za);return a?new th(this.D,this.count-1,a,this.ab,null):new th(this.D,this.count-1,F(this.ab),qe,null)}return this};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){return ie(this,b)};l.la=function(){return Ac(uh,this.D)};l.ra=function(){return G(this.Za)};l.sa=function(){return Hd(F(this))};l.ba=function(){var a=F(this.ab),b=this.Za;return q(q(b)?b:a)?new sh(null,this.Za,F(a),null):null};
l.$=function(a,b){return b===this.D?this:new th(b,this.count,this.Za,this.ab,this.C)};l.ga=function(a,b){q(this.Za)?(a=this.ab,b=new th(this.D,this.count+1,this.Za,pe.h(q(a)?a:qe,b),null)):b=new th(this.D,this.count+1,pe.h(this.Za,b),qe,null);return b};var uh=new th(null,0,null,qe,Od);th.prototype[ub]=function(){return Ld(this)};function vh(){this.A=2097152;this.J=0}vh.prototype.equiv=function(a){return this.K(null,a)};vh.prototype.K=function(){return!1};var wh=new vh;
function xh(a,b){return Pe(Ie(b)&&!Je(b)?I(a)===I(b)?(null!=a?a.A&1048576||$a===a.Ye||(a.A?0:qb(Gc,a)):qb(Gc,a))?Ve(function(c,d,e){return E.h(A.j(b,d,wh),e)?!0:new Sd(!1)},!0,a):ag(function(c){return E.h(A.j(b,G(c),wh),ne(c))},a):null:null)}function yh(a,b,c,d){this.i=0;this.De=a;this.qd=b;this.fields=c;this.Ad=d}yh.prototype.pa=function(){var a=this.i<this.qd;return a?a:this.Ad.pa()};
yh.prototype.next=function(){if(this.i<this.qd){var a=de(this.fields,this.i);this.i+=1;return new Zg(a,cc(this.De,a))}return this.Ad.next()};yh.prototype.remove=function(){return Error("Unsupported operation")};function zh(a){this.s=a}zh.prototype.next=function(){if(null!=this.s){var a=G(this.s),b=N(a,0,null);a=N(a,1,null);this.s=H(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Ah(a){this.s=a}
Ah.prototype.next=function(){if(null!=this.s){var a=G(this.s);this.s=H(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Bh(a,b){if(b instanceof B)a:{var c=a.length;b=b.ma;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof B&&b===a[d].ma){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof y)a:for(c=a.length,b=b.Lb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof y&&b===a[d].Lb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(E.h(b,a[d])){a=d;break a}d+=2}return a}function Zg(a,b){this.key=a;this.val=b;this.C=null;this.A=166619935;this.J=0}l=Zg.prototype;l.ac=function(a,b){switch(b){case 0:return new Zg(0,this.key);case 1:return new Zg(1,this.val);default:return null}};
l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.ha=function(a,b){return this.Ca(null,b,null)};l.X=function(a,b,c){return this.Ca(null,b,c)};l.P=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
l.Ca=function(a,b,c){return 0===b?this.key:1===b?this.val:c};l.Rb=function(a,b,c){return(new V(null,2,5,Y,[this.key,this.val],null)).Rb(null,b,c)};l.Z=function(){return null};l.da=function(){return 2};l.Xd=function(){return this.key};l.Yd=function(){return this.val};l.Pb=function(){return this.val};l.Qb=function(){return new V(null,1,5,Y,[this.key],null)};l.qc=function(){return new Fd([this.val,this.key],0,null)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};
l.K=function(a,b){return ie(this,b)};l.la=function(){return null};l.wa=function(a,b){return Wd(this,b)};l.xa=function(a,b,c){return Xd(this,b,c)};l.ja=function(a,b,c){return O.j(new V(null,2,5,Y,[this.key,this.val],null),b,c)};l.ba=function(){return new Fd([this.key,this.val],0,null)};l.$=function(a,b){return ye(new V(null,2,5,Y,[this.key,this.val],null),b)};l.ga=function(a,b){return new V(null,3,5,Y,[this.key,this.val,b],null)};
l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.g=function(a){return this.P(null,a)};l.h=function(a,b){return this.Ca(null,a,b)};function gh(a){return null!=a?a.A&2048||$a===a.af?!0:!1:!1}function Ch(a,b,c){this.l=a;this.i=b;this.fb=c;this.A=32374990;this.J=0}l=Ch.prototype;
l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.fb};l.oa=function(){return this.i<this.l.length-2?new Ch(this.l,this.i+2,null):null};l.da=function(){return(this.l.length-this.i)/2};l.ca=function(){return Nd(this)};
l.K=function(a,b){return ie(this,b)};l.la=function(){return Jd};l.wa=function(a,b){return ke(b,this)};l.xa=function(a,b,c){return me(b,c,this)};l.ra=function(){return new Zg(this.l[this.i],this.l[this.i+1])};l.sa=function(){return this.i<this.l.length-2?new Ch(this.l,this.i+2,null):Jd};l.ba=function(){return this};l.$=function(a,b){return b===this.fb?this:new Ch(this.l,this.i,b)};l.ga=function(a,b){return je(b,this)};Ch.prototype[ub]=function(){return Ld(this)};
function Dh(a,b){this.l=a;this.i=0;this.B=b}Dh.prototype.pa=function(){return this.i<this.B};Dh.prototype.next=function(){var a=new Zg(this.l[this.i],this.l[this.i+1]);this.i+=2;return a};function n(a,b,c,d){this.D=a;this.B=b;this.l=c;this.C=d;this.A=16647951;this.J=139268}l=n.prototype;l.ac=function(a,b){a=Bh(this.l,b);return-1===a?null:new Zg(this.l[a],this.l[a+1])};l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
l.keys=function(){return Ld(Gh.g?Gh.g(this):Gh.call(null,this))};l.entries=function(){return new zh(F(F(this)))};l.values=function(){return Ld(Hh.g?Hh.g(this):Hh.call(null,this))};l.has=function(a){return Re(this,a)};l.get=function(a,b){return this.X(null,a,b)};
l.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=N(f,0,null);f=N(f,1,null);a.h?a.h(f,g):a.call(null,f,g);e+=1}else if(b=F(b))Le(b)?(c=fd(b),b=gd(b),g=c,d=I(c),c=g):(c=G(b),g=N(c,0,null),f=N(c,1,null),a.h?a.h(f,g):a.call(null,f,g),b=H(b),c=null,d=0),e=0;else return null};l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){a=Bh(this.l,b);return-1===a?c:this.l[a+1]};
l.$a=function(a,b,c){a=this.l.length;for(var d=0;;)if(d<a){var e=this.l[d],f=this.l[d+1];c=b.j?b.j(c,e,f):b.call(null,c,e,f);if(Td(c))return u(c);d+=2}else return c};l.qa=function(){return new Dh(this.l,2*this.B)};l.Z=function(){return this.D};l.da=function(){return this.B};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Pd(this)};
l.K=function(a,b){if(Ie(b)&&!Je(b))if(a=this.l.length,this.B===b.da(null))for(var c=0;;)if(c<a){var d=b.X(null,this.l[c],Ne);if(d!==Ne)if(E.h(this.l[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};l.$b=function(){return new Ih(this.l.length,wb(this.l))};l.la=function(){return Ac(T,this.D)};l.wa=function(a,b){return Se(this,b)};l.xa=function(a,b,c){return Te(this,b,c)};
l.gb=function(a,b){if(0<=Bh(this.l,b)){a=this.l.length;var c=a-2;if(0===c)return this.la(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new n(this.D,this.B-1,c,null);E.h(b,this.l[d])?d+=2:(c[e]=this.l[d],c[e+1]=this.l[d+1],e+=2,d+=2)}}else return this};
l.ja=function(a,b,c){a=Bh(this.l,b);if(-1===a){if(this.B<Jh){a=this.l;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new n(this.D,this.B+1,e,null)}return Ac(ic(Ag.h(Kh,this),b,c),this.D)}if(c===this.l[a+1])return this;b=wb(this.l);b[a+1]=c;return new n(this.D,this.B,b,null)};l.ba=function(){var a=this.l;return 0<=a.length-2?new Ch(a,0,null):null};l.$=function(a,b){return b===this.D?this:new n(b,this.B,this.l,this.C)};
l.ga=function(a,b){if(Ke(b))return this.ja(null,Pb(b,0),Pb(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=G(b);if(Ke(c))a=ic(a,Pb(c,0),Pb(c,1)),b=H(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};
l.g=function(a){return this.ha(null,a)};l.h=function(a,b){return this.X(null,a,b)};var T=new n(null,0,[],Qd),Jh=8;function ue(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Bh(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new n(null,b.length/2,b,null)}n.prototype[ub]=function(){return Ld(this)};function Ih(a,b){this.Tb={};this.pb=a;this.l=b;this.A=259;this.J=56}l=Ih.prototype;
l.da=function(){if(this.Tb)return df(this.pb,2);throw Error("count after persistent!");};l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){if(this.Tb)return a=Bh(this.l,b),-1===a?c:this.l[a+1];throw Error("lookup after persistent!");};
l.kb=function(a,b){if(this.Tb){if(gh(b))return this.zb(null,hh.g?hh.g(b):hh.call(null,b),ih.g?ih.g(b):ih.call(null,b));if(Ke(b))return this.zb(null,b.g?b.g(0):b.call(null,0),b.g?b.g(1):b.call(null,1));a=F(b);for(b=this;;){var c=G(a);if(q(c))a=H(a),b=bd(b,hh.g?hh.g(c):hh.call(null,c),ih.g?ih.g(c):ih.call(null,c));else return b}}else throw Error("conj! after persistent!");};l.rc=function(){if(this.Tb)return this.Tb=!1,new n(null,df(this.pb,2),this.l,null);throw Error("persistent! called twice");};
l.zb=function(a,b,c){if(this.Tb){a=Bh(this.l,b);if(-1===a)return this.pb+2<=2*Jh?(this.pb+=2,this.l.push(b),this.l.push(c),this):Hf(Lh.h?Lh.h(this.pb,this.l):Lh.call(null,this.pb,this.l),b,c);c!==this.l[a+1]&&(this.l[a+1]=c);return this}throw Error("assoc! after persistent!");};l.sc=function(a,b){if(this.Tb)return a=Bh(this.l,b),0<=a&&(this.l[a]=this.l[this.pb-2],this.l[a+1]=this.l[this.pb-1],a=this.l,a.pop(),a.pop(),this.pb-=2),this;throw Error("dissoc! after persistent!");};
l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.g=function(a){return this.X(null,a,null)};l.h=function(a,b){return this.X(null,a,b)};function Lh(a,b){for(var c=Zc(Kh),d=0;;)if(d<a)c=bd(c,b[d],b[d+1]),d+=2;else return c}function Mh(){this.val=!1}
function Nh(a,b){return a===b?!0:Q(a,b)?!0:E.h(a,b)}function Oh(a,b,c){a=wb(a);a[b]=c;return a}function Ph(a,b){var c=Array(a.length-2);Me(a,0,c,0,2*b);Me(a,2*(b+1),c,2*b,c.length-2*b);return c}function Qh(a,b,c,d){a=a.Cb(b);a.l[c]=d;return a}function Rh(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var g=a[e+1];c=b.j?b.j(f,c,g):b.call(null,f,c,g)}else c=a[e+1],c=null!=c?c.zc(b,f):f;if(Td(c))return c;e+=2;f=c}else return f}function Sh(a){this.l=a;this.i=0;this.rb=this.Cc=null}
Sh.prototype.advance=function(){for(var a=this.l.length;;)if(this.i<a){var b=this.l[this.i],c=this.l[this.i+1];null!=b?b=this.Cc=new Zg(b,c):null!=c?(b=pd(c),b=b.pa()?this.rb=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};Sh.prototype.pa=function(){var a=null!=this.Cc;return a?a:(a=null!=this.rb)?a:this.advance()};
Sh.prototype.next=function(){if(null!=this.Cc){var a=this.Cc;this.Cc=null;return a}if(null!=this.rb)return a=this.rb.next(),this.rb.pa()||(this.rb=null),a;if(this.advance())return this.next();throw Error("No such element");};Sh.prototype.remove=function(){return Error("Unsupported operation")};function Th(a,b,c){this.ia=a;this.bitmap=b;this.l=c;this.J=131072;this.A=0}l=Th.prototype;
l.Cb=function(a){if(a===this.ia)return this;var b=ff(this.bitmap),c=Array(0>b?4:2*(b+1));Me(this.l,0,c,0,2*b);return new Th(a,this.bitmap,c)};l.yc=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var g=ff(this.bitmap&f-1),h=this.l[2*g],k=this.l[2*g+1];return null==h?(b=k.yc(a,b+5,c,d,e),b===k?this:null!=b?Qh(this,a,2*g+1,b):this.bitmap===f?null:Uh(this,a,f,g)):Nh(d,h)?(e.val=!0,Uh(this,a,f,g)):this};
function Uh(a,b,c,d){if(a.bitmap===c)return null;a=a.Cb(b);b=a.l;var e=b.length;a.bitmap^=c;Me(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}l.wc=function(){return Vh?Vh(this.l):Wh.call(null,this.l)};l.zc=function(a,b){return Rh(this.l,a,b)};l.Ub=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ff(this.bitmap&e-1);e=this.l[2*f];f=this.l[2*f+1];return null==e?f.Ub(a+5,b,c,d):Nh(c,e)?f:d};
l.ob=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),h=ff(this.bitmap&g-1);if(0===(this.bitmap&g)){var k=ff(this.bitmap);if(2*k<this.l.length){a=this.Cb(a);b=a.l;f.val=!0;c=2*(k-h);f=2*h+(c-1);for(k=2*(h+1)+(c-1);0!==c;)b[k]=b[f],--k,--c,--f;b[2*h]=d;b[2*h+1]=e;a.bitmap|=g;return a}if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[c>>>b&31]=Xh.ob(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(h[d]=null!=this.l[e]?Xh.ob(a,b+5,zd(this.l[e]),this.l[e],this.l[e+1],f):this.l[e+1],e+=2,d+=1);else break;return new Yh(a,k+1,h)}b=Array(2*(k+4));Me(this.l,0,b,0,2*h);b[2*h]=d;b[2*h+1]=e;Me(this.l,2*h,b,2*(h+1),2*(k-h));f.val=!0;a=this.Cb(a);a.l=b;a.bitmap|=g;return a}k=this.l[2*h];g=this.l[2*h+1];if(null==k)return k=g.ob(a,b+5,c,d,e,f),k===g?this:Qh(this,a,2*h+1,k);if(Nh(d,k))return e===g?this:Qh(this,a,2*h+1,e);f.val=!0;f=b+5;d=Zh?Zh(a,f,k,g,c,d,e):$h.call(null,a,
f,k,g,c,d,e);e=2*h;h=2*h+1;a=this.Cb(a);a.l[e]=null;a.l[h]=d;return a};
l.nb=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=ff(this.bitmap&f-1);if(0===(this.bitmap&f)){var h=ff(this.bitmap);if(16<=h){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[b>>>a&31]=Xh.nb(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(g[c]=null!=this.l[d]?Xh.nb(a+5,zd(this.l[d]),this.l[d],this.l[d+1],e):this.l[d+1],d+=2,c+=1);else break;return new Yh(null,h+1,g)}a=Array(2*
(h+1));Me(this.l,0,a,0,2*g);a[2*g]=c;a[2*g+1]=d;Me(this.l,2*g,a,2*(g+1),2*(h-g));e.val=!0;return new Th(null,this.bitmap|f,a)}var k=this.l[2*g];f=this.l[2*g+1];if(null==k)return h=f.nb(a+5,b,c,d,e),h===f?this:new Th(null,this.bitmap,Oh(this.l,2*g+1,h));if(Nh(c,k))return d===f?this:new Th(null,this.bitmap,Oh(this.l,2*g+1,d));e.val=!0;e=this.bitmap;h=this.l;a+=5;a=ai?ai(a,k,f,b,c,d):$h.call(null,a,k,f,b,c,d);c=2*g;g=2*g+1;d=wb(h);d[c]=null;d[g]=a;return new Th(null,e,d)};
l.vc=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ff(this.bitmap&e-1);e=this.l[2*f];f=this.l[2*f+1];return null==e?f.vc(a+5,b,c,d):Nh(c,e)?new Zg(e,f):d};
l.xc=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ff(this.bitmap&d-1),f=this.l[2*e],g=this.l[2*e+1];return null==f?(a=g.xc(a+5,b,c),a===g?this:null!=a?new Th(null,this.bitmap,Oh(this.l,2*e+1,a)):this.bitmap===d?null:new Th(null,this.bitmap^d,Ph(this.l,e))):Nh(c,f)?new Th(null,this.bitmap^d,Ph(this.l,e)):this};l.qa=function(){return new Sh(this.l)};var Xh=new Th(null,0,[]);
function bi(a,b,c){var d=a.l,e=d.length;a=Array(2*(a.B-1));for(var f=0,g=1,h=0;;)if(f<e)f!==c&&null!=d[f]?(a[g]=d[f],g+=2,h|=1<<f,f+=1):f+=1;else return new Th(b,h,a)}function ci(a){this.l=a;this.i=0;this.rb=null}ci.prototype.pa=function(){for(var a=this.l.length;;){if(null!=this.rb&&this.rb.pa())return!0;if(this.i<a){var b=this.l[this.i];this.i+=1;null!=b&&(this.rb=pd(b))}else return!1}};ci.prototype.next=function(){if(this.pa())return this.rb.next();throw Error("No such element");};
ci.prototype.remove=function(){return Error("Unsupported operation")};function Yh(a,b,c){this.ia=a;this.B=b;this.l=c;this.J=131072;this.A=0}l=Yh.prototype;l.Cb=function(a){return a===this.ia?this:new Yh(a,this.B,wb(this.l))};l.yc=function(a,b,c,d,e){var f=c>>>b&31,g=this.l[f];if(null==g)return this;b=g.yc(a,b+5,c,d,e);if(b===g)return this;if(null==b){if(8>=this.B)return bi(this,a,f);a=Qh(this,a,f,b);--a.B;return a}return Qh(this,a,f,b)};l.wc=function(){return di?di(this.l):ei.call(null,this.l)};
l.zc=function(a,b){for(var c=this.l.length,d=0;;)if(d<c){var e=this.l[d];if(null!=e){b=e.zc(a,b);if(Td(b))return b;d+=1}else d+=1}else return b};l.Ub=function(a,b,c,d){var e=this.l[b>>>a&31];return null!=e?e.Ub(a+5,b,c,d):d};l.ob=function(a,b,c,d,e,f){var g=c>>>b&31,h=this.l[g];if(null==h)return a=Qh(this,a,g,Xh.ob(a,b+5,c,d,e,f)),a.B+=1,a;b=h.ob(a,b+5,c,d,e,f);return b===h?this:Qh(this,a,g,b)};
l.nb=function(a,b,c,d,e){var f=b>>>a&31,g=this.l[f];if(null==g)return new Yh(null,this.B+1,Oh(this.l,f,Xh.nb(a+5,b,c,d,e)));a=g.nb(a+5,b,c,d,e);return a===g?this:new Yh(null,this.B,Oh(this.l,f,a))};l.vc=function(a,b,c,d){var e=this.l[b>>>a&31];return null!=e?e.vc(a+5,b,c,d):d};l.xc=function(a,b,c){var d=b>>>a&31,e=this.l[d];return null!=e?(a=e.xc(a+5,b,c),a===e?this:null==a?8>=this.B?bi(this,null,d):new Yh(null,this.B-1,Oh(this.l,d,a)):new Yh(null,this.B,Oh(this.l,d,a))):this};l.qa=function(){return new ci(this.l)};
function fi(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Nh(c,a[d]))return d;d+=2}else return-1}function gi(a,b,c,d){this.ia=a;this.Bb=b;this.B=c;this.l=d;this.J=131072;this.A=0}l=gi.prototype;l.Cb=function(a){if(a===this.ia)return this;var b=Array(2*(this.B+1));Me(this.l,0,b,0,2*this.B);return new gi(a,this.Bb,this.B,b)};
l.yc=function(a,b,c,d,e){b=fi(this.l,this.B,d);if(-1===b)return this;e.val=!0;if(1===this.B)return null;a=this.Cb(a);e=a.l;e[b]=e[2*this.B-2];e[b+1]=e[2*this.B-1];e[2*this.B-1]=null;e[2*this.B-2]=null;--a.B;return a};l.wc=function(){return Vh?Vh(this.l):Wh.call(null,this.l)};l.zc=function(a,b){return Rh(this.l,a,b)};l.Ub=function(a,b,c,d){a=fi(this.l,this.B,c);return 0>a?d:Nh(c,this.l[a])?this.l[a+1]:d};
l.ob=function(a,b,c,d,e,f){if(c===this.Bb){b=fi(this.l,this.B,d);if(-1===b){if(this.l.length>2*this.B)return b=2*this.B,c=2*this.B+1,a=this.Cb(a),a.l[b]=d,a.l[c]=e,f.val=!0,a.B+=1,a;c=this.l.length;b=Array(c+2);Me(this.l,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.B+1;a===this.ia?(this.l=b,this.B=d,a=this):a=new gi(this.ia,this.Bb,d,b);return a}return this.l[b+1]===e?this:Qh(this,a,b+1,e)}return(new Th(a,1<<(this.Bb>>>b&31),[null,this,null,null])).ob(a,b,c,d,e,f)};
l.nb=function(a,b,c,d,e){return b===this.Bb?(a=fi(this.l,this.B,c),-1===a?(a=2*this.B,b=Array(a+2),Me(this.l,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new gi(null,this.Bb,this.B+1,b)):E.h(this.l[a+1],d)?this:new gi(null,this.Bb,this.B,Oh(this.l,a+1,d))):(new Th(null,1<<(this.Bb>>>a&31),[null,this])).nb(a,b,c,d,e)};l.vc=function(a,b,c,d){a=fi(this.l,this.B,c);return 0>a?d:Nh(c,this.l[a])?new Zg(this.l[a],this.l[a+1]):d};
l.xc=function(a,b,c){a=fi(this.l,this.B,c);return-1===a?this:1===this.B?null:new gi(null,this.Bb,this.B-1,Ph(this.l,df(a,2)))};l.qa=function(){return new Sh(this.l)};function $h(a){switch(arguments.length){case 6:return ai(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Zh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}}
function ai(a,b,c,d,e,f){var g=zd(b);if(g===d)return new gi(null,g,2,[b,c,e,f]);var h=new Mh;return Xh.nb(a,g,b,c,h).nb(a,d,e,f,h)}function Zh(a,b,c,d,e,f,g){var h=zd(c);if(h===e)return new gi(null,h,2,[c,d,f,g]);var k=new Mh;return Xh.ob(a,b,h,c,d,k).ob(a,b,e,f,g,k)}function hi(a,b,c,d,e){this.D=a;this.sb=b;this.i=c;this.s=d;this.C=e;this.A=32374988;this.J=0}l=hi.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.D};l.oa=function(){if(null==this.s){var a=this.sb,b=this.i+2;return ii?ii(a,b,null):Wh.call(null,a,b,null)}a=this.sb;b=this.i;var c=H(this.s);return ii?ii(a,b,c):Wh.call(null,a,b,c)};
l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){return ie(this,b)};l.la=function(){return Jd};l.wa=function(a,b){return ke(b,this)};l.xa=function(a,b,c){return me(b,c,this)};l.ra=function(){return null==this.s?new Zg(this.sb[this.i],this.sb[this.i+1]):G(this.s)};
l.sa=function(){var a=this,b=null==a.s?function(){var c=a.sb,d=a.i+2;return ii?ii(c,d,null):Wh.call(null,c,d,null)}():function(){var c=a.sb,d=a.i,e=H(a.s);return ii?ii(c,d,e):Wh.call(null,c,d,e)}();return null!=b?b:Jd};l.ba=function(){return this};l.$=function(a,b){return b===this.D?this:new hi(b,this.sb,this.i,this.s,this.C)};l.ga=function(a,b){return je(b,this)};hi.prototype[ub]=function(){return Ld(this)};
function Wh(a){switch(arguments.length){case 1:return Vh(arguments[0]);case 3:return ii(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}}function Vh(a){return ii(a,0,null)}function ii(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new hi(null,a,b,null,null);var d=a[b+1];if(q(d)&&(d=d.wc(),q(d)))return new hi(null,a,b+2,d,null);b+=2}else return null;else return new hi(null,a,b,c,null)}
function ji(a,b,c,d,e){this.D=a;this.sb=b;this.i=c;this.s=d;this.C=e;this.A=32374988;this.J=0}l=ji.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.D};l.oa=function(){var a=this.sb,b=this.i,c=H(this.s);return ki?ki(a,b,c):ei.call(null,a,b,c)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){return ie(this,b)};
l.la=function(){return Jd};l.wa=function(a,b){return ke(b,this)};l.xa=function(a,b,c){return me(b,c,this)};l.ra=function(){return G(this.s)};l.sa=function(){var a=this.sb;var b=this.i,c=H(this.s);a=ki?ki(a,b,c):ei.call(null,a,b,c);return null!=a?a:Jd};l.ba=function(){return this};l.$=function(a,b){return b===this.D?this:new ji(b,this.sb,this.i,this.s,this.C)};l.ga=function(a,b){return je(b,this)};ji.prototype[ub]=function(){return Ld(this)};
function ei(a){switch(arguments.length){case 1:return di(arguments[0]);case 3:return ki(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}}function di(a){return ki(a,0,null)}function ki(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(q(d)&&(d=d.wc(),q(d)))return new ji(null,a,b+1,d,null);b+=1}else return null;else return new ji(null,a,b,c,null)}function li(a,b){this.za=a;this.Kd=b;this.nd=!1}
li.prototype.pa=function(){return!this.nd||this.Kd.pa()};li.prototype.next=function(){if(this.nd)return this.Kd.next();this.nd=!0;return new Zg(null,this.za)};li.prototype.remove=function(){return Error("Unsupported operation")};function mi(a,b,c,d,e,f){this.D=a;this.B=b;this.root=c;this.ya=d;this.za=e;this.C=f;this.A=16123663;this.J=139268}l=mi.prototype;l.ac=function(a,b){return null==b?this.ya?new Zg(null,this.za):null:null==this.root?null:this.root.vc(0,zd(b),b,null)};l.toString=function(){return rd(this)};
l.equiv=function(a){return this.K(null,a)};l.keys=function(){return Ld(Gh.g?Gh.g(this):Gh.call(null,this))};l.entries=function(){return new zh(F(F(this)))};l.values=function(){return Ld(Hh.g?Hh.g(this):Hh.call(null,this))};l.has=function(a){return Re(this,a)};l.get=function(a,b){return this.X(null,a,b)};
l.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=N(f,0,null);f=N(f,1,null);a.h?a.h(f,g):a.call(null,f,g);e+=1}else if(b=F(b))Le(b)?(c=fd(b),b=gd(b),g=c,d=I(c),c=g):(c=G(b),g=N(c,0,null),f=N(c,1,null),a.h?a.h(f,g):a.call(null,f,g),b=H(b),c=null,d=0),e=0;else return null};l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){return null==b?this.ya?this.za:c:null==this.root?c:this.root.Ub(0,zd(b),b,c)};
l.$a=function(a,b,c){a=this.ya?b.j?b.j(c,null,this.za):b.call(null,c,null,this.za):c;Td(a)?b=u(a):null!=this.root?(b=this.root.zc(b,a),b=Td(b)?Vd.g?Vd.g(b):Vd.call(null,b):b):b=a;return b};l.qa=function(){var a=this.root?pd(this.root):Xf();return this.ya?new li(this.za,a):a};l.Z=function(){return this.D};l.da=function(){return this.B};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Pd(this)};l.K=function(a,b){return xh(this,b)};l.$b=function(){return new ni(this.root,this.B,this.ya,this.za)};
l.la=function(){return Ac(Kh,this.D)};l.gb=function(a,b){if(null==b)return this.ya?new mi(this.D,this.B-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.xc(0,zd(b),b);return a===this.root?this:new mi(this.D,this.B-1,a,this.ya,this.za,null)};
l.ja=function(a,b,c){if(null==b)return this.ya&&c===this.za?this:new mi(this.D,this.ya?this.B:this.B+1,this.root,!0,c,null);a=new Mh;b=(null==this.root?Xh:this.root).nb(0,zd(b),b,c,a);return b===this.root?this:new mi(this.D,a.val?this.B+1:this.B,b,this.ya,this.za,null)};l.ba=function(){if(0<this.B){var a=null!=this.root?this.root.wc():null;return this.ya?je(new Zg(null,this.za),a):a}return null};l.$=function(a,b){return b===this.D?this:new mi(b,this.B,this.root,this.ya,this.za,this.C)};
l.ga=function(a,b){if(Ke(b))return this.ja(null,Pb(b,0),Pb(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=G(b);if(Ke(c))a=ic(a,Pb(c,0),Pb(c,1)),b=H(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};
l.g=function(a){return this.ha(null,a)};l.h=function(a,b){return this.X(null,a,b)};var Kh=new mi(null,0,null,!1,null,Qd);function oi(a,b){for(var c=a.length,d=0,e=Zc(Kh);;)if(d<c){var f=d+1;e=bd(e,a[d],b[d]);d=f}else return ad(e)}mi.prototype[ub]=function(){return Ld(this)};function ni(a,b,c,d){this.ia={};this.root=a;this.count=b;this.ya=c;this.za=d;this.A=259;this.J=56}
function pi(a,b,c){if(a.ia){if(null==b)a.za!==c&&(a.za=c),a.ya||(a.count+=1,a.ya=!0);else{var d=new Mh;b=(null==a.root?Xh:a.root).ob(a.ia,0,zd(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}l=ni.prototype;l.da=function(){if(this.ia)return this.count;throw Error("count after persistent!");};l.ha=function(a,b){return null==b?this.ya?this.za:null:null==this.root?null:this.root.Ub(0,zd(b),b)};
l.X=function(a,b,c){return null==b?this.ya?this.za:c:null==this.root?c:this.root.Ub(0,zd(b),b,c)};l.kb=function(a,b){a:if(this.ia)if(gh(b))a=pi(this,hh.g?hh.g(b):hh.call(null,b),ih.g?ih.g(b):ih.call(null,b));else if(Ke(b))a=pi(this,b.g?b.g(0):b.call(null,0),b.g?b.g(1):b.call(null,1));else for(a=F(b),b=this;;){var c=G(a);if(q(c))a=H(a),b=pi(b,hh.g?hh.g(c):hh.call(null,c),ih.g?ih.g(c):ih.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
l.rc=function(){if(this.ia){this.ia=null;var a=new mi(null,this.count,this.root,this.ya,this.za,null)}else throw Error("persistent! called twice");return a};l.zb=function(a,b,c){return pi(this,b,c)};l.sc=function(a,b){if(this.ia)null==b?this.ya&&(this.ya=!1,this.za=null,--this.count):null!=this.root&&(a=new Mh,b=this.root.yc(this.ia,0,zd(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.g=function(a){return this.ha(null,a)};l.h=function(a,b){return this.X(null,a,b)};
var Tf=function Tf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Fd(c.slice(0),0,null):null;return Tf.o(c)};Tf.o=function(a){a=F(a);for(var b=Zc(Kh);;)if(a){var c=H(H(a));b=Hf(b,G(a),ne(a));a=c}else return ad(b)};Tf.H=0;Tf.G=function(a){return this.o(F(a))};function qi(a,b){this.fa=a;this.fb=b;this.A=32374988;this.J=0}l=qi.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.fb};l.oa=function(){var a=(null!=this.fa?this.fa.A&128||$a===this.fa.pc||(this.fa.A?0:qb(Xb,this.fa)):qb(Xb,this.fa))?this.fa.oa(null):H(this.fa);return null==a?null:new qi(a,null)};l.ca=function(){return Nd(this)};
l.K=function(a,b){return ie(this,b)};l.la=function(){return Jd};l.wa=function(a,b){return ke(b,this)};l.xa=function(a,b,c){return me(b,c,this)};l.ra=function(){return this.fa.ra(null).key};l.sa=function(){var a=(null!=this.fa?this.fa.A&128||$a===this.fa.pc||(this.fa.A?0:qb(Xb,this.fa)):qb(Xb,this.fa))?this.fa.oa(null):H(this.fa);return null!=a?new qi(a,null):Jd};l.ba=function(){return this};l.$=function(a,b){return b===this.fb?this:new qi(this.fa,b)};l.ga=function(a,b){return je(b,this)};
qi.prototype[ub]=function(){return Ld(this)};function Gh(a){return(a=F(a))?new qi(a,null):null}function hh(a){return mc(a)}function ri(a,b){this.fa=a;this.fb=b;this.A=32374988;this.J=0}l=ri.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.Z=function(){return this.fb};l.oa=function(){var a=(null!=this.fa?this.fa.A&128||$a===this.fa.pc||(this.fa.A?0:qb(Xb,this.fa)):qb(Xb,this.fa))?this.fa.oa(null):H(this.fa);return null==a?null:new ri(a,null)};l.ca=function(){return Nd(this)};
l.K=function(a,b){return ie(this,b)};l.la=function(){return Jd};l.wa=function(a,b){return ke(b,this)};l.xa=function(a,b,c){return me(b,c,this)};l.ra=function(){return this.fa.ra(null).val};l.sa=function(){var a=(null!=this.fa?this.fa.A&128||$a===this.fa.pc||(this.fa.A?0:qb(Xb,this.fa)):qb(Xb,this.fa))?this.fa.oa(null):H(this.fa);return null!=a?new ri(a,null):Jd};l.ba=function(){return this};l.$=function(a,b){return b===this.fb?this:new ri(this.fa,b)};l.ga=function(a,b){return je(b,this)};
ri.prototype[ub]=function(){return Ld(this)};function Hh(a){return(a=F(a))?new ri(a,null):null}function ih(a){return nc(a)}function si(a){return q(bg(We,a))?Ue(function(b,c){return pe.h(q(b)?b:T,c)},a):null}function ti(a,b){if(q(bg(We,b))){var c=function(d,e){var f=mc(e),g=nc(e);if(Re(d,f)){e=O.j;var h=A.h(d,f);g=a.h?a.h(h,g):a.call(null,h,g);d=e.call(O,d,f,g)}else d=O.j(d,f,g);return d};return Ue(function(d,e){return yb(c,q(d)?d:T,F(e))},b)}return null}function ui(a){this.ec=a}ui.prototype.pa=function(){return this.ec.pa()};
ui.prototype.next=function(){if(this.ec.pa())return this.ec.next().key;throw Error("No such element");};ui.prototype.remove=function(){return Error("Unsupported operation")};function vi(a,b,c){this.D=a;this.Db=b;this.C=c;this.A=15077647;this.J=139268}l=vi.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};l.keys=function(){return Ld(F(this))};l.entries=function(){return new Ah(F(F(this)))};l.values=function(){return Ld(F(this))};
l.has=function(a){return Re(this,a)};l.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=N(f,0,null);f=N(f,1,null);a.h?a.h(f,g):a.call(null,f,g);e+=1}else if(b=F(b))Le(b)?(c=fd(b),b=gd(b),g=c,d=I(c),c=g):(c=G(b),g=N(c,0,null),f=N(c,1,null),a.h?a.h(f,g):a.call(null,f,g),b=H(b),c=null,d=0),e=0;else return null};l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){a=jc(this.Db,b);return q(a)?mc(a):c};l.qa=function(){return new ui(pd(this.Db))};l.Z=function(){return this.D};
l.da=function(){return Eb(this.Db)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Pd(this)};l.K=function(a,b){if(De(b))if(I(this)===I(b))try{return Ve(function(c,d){return(c=Re(b,d))?c:new Sd(!1)},!0,this.Db)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};l.$b=function(){return new wi(Zc(this.Db))};l.la=function(){return Ac(hg,this.D)};l.wd=function(a,b){return new vi(this.D,lc(this.Db,b),null)};l.ba=function(){return Gh(this.Db)};
l.$=function(a,b){return b===this.D?this:new vi(b,this.Db,this.C)};l.ga=function(a,b){return new vi(this.D,O.j(this.Db,b,null),null)};l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.g=function(a){return this.ha(null,a)};l.h=function(a,b){return this.X(null,a,b)};
var hg=new vi(null,T,Qd);function xi(a){for(var b=a.length,c=Zc(hg),d=0;;)if(d<b)$c(c,a[d]),d+=1;else break;return ad(c)}vi.prototype[ub]=function(){return Ld(this)};function wi(a){this.Eb=a;this.J=136;this.A=259}l=wi.prototype;l.kb=function(a,b){this.Eb=bd(this.Eb,b,null);return this};l.rc=function(){return new vi(null,ad(this.Eb),null)};l.Nc=function(a,b){this.Eb=cd(this.Eb,b);return this};l.da=function(){return I(this.Eb)};l.ha=function(a,b){return this.X(null,b,null)};
l.X=function(a,b,c){return cc(this.Eb,b,Ne)===Ne?c:b};l.call=function(a){switch(arguments.length-1){case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.g=function(a){return cc(this.Eb,a,Ne)===Ne?null:a};l.h=function(a,b){return cc(this.Eb,a,Ne)===Ne?b:a};
function zi(a){if(De(a))return ye(a,null);a=F(a);if(null==a)return hg;if(a instanceof Fd&&0===a.i)return xi(a.l);for(var b=Zc(hg);;)if(null!=a){var c=H(a);b=$c(b,Vb(a));a=c}else return ad(b)}function Ai(a){return function e(c,d){return new sf(null,function(){var f;a:{var g=c;for(f=d;;){var h=g;g=N(h,0,null);if(h=F(h))if(Re(f,g))g=Hd(h);else{f=je(g,e(Hd(h),pe.h(f,g)));break a}else{f=null;break a}}}return f},null,null)}(a,hg)}
function Bi(a){for(var b=qe;;)if(H(a))b=pe.h(b,G(a)),a=H(a);else return F(b)}function rf(a){if(null!=a&&(a.J&4096||$a===a.Zd))return a.nc(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.g(a)].join(""));}function Ci(a,b){var c=Zc(T);a=F(a);for(b=F(b);;)if(a&&b)c=Hf(c,G(a),G(b)),a=H(a),b=H(b);else return ad(c)}
function Di(a,b){return new sf(null,function(){var c=F(b);if(c){var d=G(c);d=a.g?a.g(d):a.call(null,d);c=q(d)?je(G(c),Di(a,Hd(c))):null}else c=null;return c},null,null)}function Ei(a,b,c){this.start=a;this.step=b;this.count=c;this.A=82;this.J=0}l=Ei.prototype;l.da=function(){return this.count};l.ra=function(){return this.start};l.P=function(a,b){return this.start+b*this.step};l.Ca=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};
l.bd=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Ei(this.start+this.step,this.step,this.count-1)};function Fi(a,b,c){this.i=a;this.end=b;this.step=c}Fi.prototype.pa=function(){return 0<this.step?this.i<this.end:this.i>this.end};Fi.prototype.next=function(){var a=this.i;this.i+=this.step;return a};function Gi(a,b,c,d,e,f,g){this.D=a;this.start=b;this.end=c;this.step=d;this.ua=e;this.yb=f;this.C=g;this.A=32375006;this.J=140800}l=Gi.prototype;l.toString=function(){return rd(this)};
l.equiv=function(a){return this.K(null,a)};l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();l.uc=function(){if(null==this.ua){var a=this.da(null);32<a?(this.yb=new Gi(null,this.start+32*this.step,this.end,this.step,null,null,null),this.ua=new Ei(this.start,this.step,32)):this.ua=new Ei(this.start,this.step,a)}};
l.P=function(a,b){if(0<=b&&b<this.da(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};l.Ca=function(a,b,c){return 0<=b&&b<this.da(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};l.qa=function(){return new Fi(this.start,this.end,this.step)};l.Z=function(){return this.D};
l.oa=function(){return 0<this.step?this.start+this.step<this.end?new Gi(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Gi(null,this.start+this.step,this.end,this.step,null,null,null):null};l.da=function(){return Math.ceil((this.end-this.start)/this.step)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){return ie(this,b)};l.la=function(){return Jd};l.wa=function(a,b){return Wd(this,b)};
l.xa=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.h?b.h(c,a):b.call(null,c,a);if(Td(c))return u(c);a+=this.step}else return c};l.ra=function(){return this.start};l.sa=function(){var a=this.oa(null);return null==a?Jd:a};l.ba=function(){return this};l.lc=function(){this.uc();return this.ua};l.Hb=function(){this.uc();return null==this.yb?Jd:this.yb};l.$=function(a,b){return b===this.D?this:new Gi(b,this.start,this.end,this.step,this.ua,this.yb,this.C)};
l.ga=function(a,b){return je(b,this)};l.Lc=function(){return F(this.Hb(null))};Gi.prototype[ub]=function(){return Ld(this)};function Hi(a,b,c,d,e,f,g){this.D=a;this.start=b;this.end=c;this.step=d;this.ua=e;this.yb=f;this.C=g;this.J=140800;this.A=32374988}l=Hi.prototype;l.toString=function(){return rd(this)};l.equiv=function(a){return this.K(null,a)};
l.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ce(this,b,0);case 2:return ce(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.g=function(b){return ce(this,b,0)};a.h=function(b,c){return ce(this,b,c)};return a}();
l.lastIndexOf=function(){function a(c){return fe(this,c,I(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return fe(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.g=a;b.h=function(c,d){return fe(this,c,d)};return b}();
l.uc=function(){if(null==this.ua){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a:{var b=0;for(var c=this.start;;)if(32>b){if(a[b]=c,b+=1,c+=this.step,!(0<this.step?c<this.end:c>this.end)){b=this.ua=new wf(a,0,b);break a}}else{b=c;break a}}null==this.ua&&(this.ua=new wf(a,0,32),(0<this.step?b<this.end:b>this.end)&&(this.yb=new Hi(null,b,this.end,this.step,null,null,null)))}};
l.qa=function(){return new Fi(this.start,this.end,this.step)};l.Z=function(){return this.D};l.oa=function(){return 0<this.step?this.start+this.step<this.end?new Hi(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Hi(null,this.start+this.step,this.end,this.step,null,null,null):null};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=Nd(this)};l.K=function(a,b){return ie(this,b)};l.la=function(){return Jd};l.wa=function(a,b){return ke(b,this)};
l.xa=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.h?b.h(c,a):b.call(null,c,a);if(Td(c))return u(c);a+=this.step}else return c};l.ra=function(){return this.start};l.sa=function(){var a=this.oa(null);return null==a?Jd:a};l.ba=function(){return this};l.lc=function(){this.uc();return this.ua};l.Hb=function(){this.uc();return null==this.yb?Jd:this.yb};l.$=function(a,b){return b===this.D?this:new Hi(b,this.start,this.end,this.step,this.ua,this.yb,this.C)};
l.ga=function(a,b){return je(b,this)};l.Lc=function(){return F(this.Hb(null))};Hi.prototype[ub]=function(){return Ld(this)};function Ii(a,b){return b<=a?Jd:Qe(a)&&Qe(b)&&Qe(1)?new Gi(null,a,b,1,null,null,null):new Hi(null,a,b,1,null,null,null)}function Ji(a,b){return new sf(null,function(){var c=F(b);return c?je(G(c),Ji(a,pg(a,c))):null},null,null)}function Ki(a){return ad(yb(function(b,c){return Hf(b,c,A.j(b,c,0)+1)},Zc(T),a))}
function Li(a,b){return function(){function c(k,m,p){return new V(null,2,5,Y,[a.j?a.j(k,m,p):a.call(null,k,m,p),b.j?b.j(k,m,p):b.call(null,k,m,p)],null)}function d(k,m){return new V(null,2,5,Y,[a.h?a.h(k,m):a.call(null,k,m),b.h?b.h(k,m):b.call(null,k,m)],null)}function e(k){return new V(null,2,5,Y,[a.g?a.g(k):a.call(null,k),b.g?b.g(k):b.call(null,k)],null)}function f(){return new V(null,2,5,Y,[a.v?a.v():a.call(null),b.v?b.v():b.call(null)],null)}var g=null,h=function(){function k(p,r,v,x){var z=null;
if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new Fd(C,0,null)}return m.call(this,p,r,v,z)}function m(p,r,v,x){return new V(null,2,5,Y,[Rf(a,p,r,v,x),Rf(b,p,r,v,x)],null)}k.H=3;k.G=function(p){var r=G(p);p=H(p);var v=G(p);p=H(p);var x=G(p);p=Hd(p);return m(r,v,x,p)};k.o=m;return k}();g=function(k,m,p,r){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,
p);default:var v=null;if(3<arguments.length){v=0;for(var x=Array(arguments.length-3);v<x.length;)x[v]=arguments[v+3],++v;v=new Fd(x,0,null)}return h.o(k,m,p,v)}throw Error("Invalid arity: "+arguments.length);};g.H=3;g.G=h.G;g.v=f;g.g=e;g.h=d;g.j=c;g.o=h.o;return g}()}function Mi(a){a:for(var b=a;;)if(b=F(b))b=H(b);else break a;return a}
function Ni(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&E.h(a[0],b)?1===a.length?a[0]:fh(a):null;throw new TypeError("re-matches must match against a string.");}function Oi(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:fh(a);throw new TypeError("re-find must match against a string.");}
var Pi=function Pi(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:fh(d);return je(f,new sf(null,function(){var g=e.length;g=d.index+(1>g?1:g);return g<=b.length?(g=b.substring(g),Pi.h?Pi.h(a,g):Pi.call(null,a,g)):null},null,null))};function Qi(a,b){if("string"===typeof b)return Pi(a,b);throw new TypeError("re-seq must match against a string.");}
function Ri(a,b,c,d,e,f,g){var h=gb;gb=null==gb?null:gb-1;try{if(null!=gb&&0>gb)return w(a,"#");w(a,c);if(0===mb.g(f))F(g)&&w(a,function(){var x=Si.g(f);return q(x)?x:"..."}());else{if(F(g)){var k=G(g);b.j?b.j(k,a,f):b.call(null,k,a,f)}for(var m=H(g),p=mb.g(f)-1;;)if(!m||null!=p&&0===p){F(m)&&0===p&&(w(a,d),w(a,function(){var x=Si.g(f);return q(x)?x:"..."}()));break}else{w(a,d);var r=G(m);c=a;g=f;b.j?b.j(r,c,g):b.call(null,r,c,g);var v=H(m);c=p-1;m=v;p=c}}return w(a,e)}finally{gb=h}}
function Ti(a,b){b=F(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);w(a,f);e+=1}else if(b=F(b))c=b,Le(c)?(b=fd(c),d=gd(c),c=b,f=I(b),b=d,d=f):(f=G(c),w(a,f),b=H(c),c=null,d=0),e=0;else return null}function Ui(a){if(null==cb)throw Error("No *print-fn* fn set for evaluation environment");cb.call(null,a);return null}var Vi={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function Wi(a){return['"',t.g(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return Vi[b]})),'"'].join("")}function Xi(a,b){return Pe(A.h(a,kb))?null!=b&&(b.A&131072||$a===b.ud)?null!=ze(b):!1:!1}
function Yi(a,b,c){if(null==a)return w(b,"nil");if(Xi(c,a)){w(b,"^");var d=ze(a);Zi.j?Zi.j(d,b,c):Zi.call(null,d,b,c);w(b," ")}if(a.vb)return a.Ab(b);if(null!=a?a.A&2147483648||$a===a.ka||(a.A?0:qb(Uc,a)):qb(Uc,a))return Vc(a,b,c);if(!0===a||!1===a)return w(b,t.g(a));if("number"===typeof a)return w(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.g(a));if(null!=a&&a.constructor===Object)return w(b,"#js "),d=ng.h(function(f){return new Zg(null!=Ni(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?qf.g(f):f,a[f])},Fa(a)),$i.F?$i.F(d,Zi,b,c):$i.call(null,d,Zi,b,c);if(ob(a))return Ri(b,Zi,"#js ["," ","]",c,a);if("string"===typeof a)return q(jb.g(c))?w(b,Wi(a)):w(b,a);if("function"===typeof a){var e=a.name;c=q(function(){var f=null==e;return f?f:Ia(e)}())?"Function":e;return Ti(b,M(["#object[",c,q(!1)?[' "',t.g(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,g){for(f=t.g(f);;)if(f.length<g)f=["0",f].join("");else return f},Ti(b,M(['#inst "',c(a.getUTCFullYear(),4),"-",c(a.getUTCMonth()+
1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Ti(b,M(['#"',a.source,'"']));if(Ab(a))return Ti(b,M(["#object[",a.toString(),"]"]));if(q(function(){var f=null==a?null:a.constructor;return null==f?null:f.hb}()))return Ti(b,M(["#object[",a.constructor.hb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=q(function(){var f=
null==e;return f?f:Ia(e)}())?"Object":e;return null==a.constructor?Ti(b,M(["#object[",c,"]"])):Ti(b,M(["#object[",c," ",t.g(a),"]"]))}function Zi(a,b,c){var d=aj.g(c);return q(d)?(c=O.j(c,bj,Yi),d.j?d.j(a,b,c):d.call(null,a,b,c)):Yi(a,b,c)}function cj(a,b,c){Zi(G(a),b,c);a=F(H(a));for(var d=null,e=0,f=0;;)if(f<e){var g=d.P(null,f);w(b," ");Zi(g,b,c);f+=1}else if(a=F(a))d=a,Le(d)?(a=fd(d),e=gd(d),d=a,g=I(a),a=e,e=g):(g=G(d),w(b," "),Zi(g,b,c),a=H(d),d=null,e=0),f=0;else return null}
function dj(a,b){if(Be(a))a="";else{var c=t,d=c.g,e=new Wa,f=new qd(e);cj(a,f,b);f.ub(null);a=d.call(c,e)}return a}var ej=function ej(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Fd(c.slice(0),0,null):null;return ej.o(c)};ej.o=function(a){return dj(a,hb())};ej.H=0;ej.G=function(a){return this.o(F(a))};
var fj=function fj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Fd(c.slice(0),0,null):null;return fj.o(c)};fj.o=function(a){return dj(a,O.j(hb(),jb,!1))};fj.H=0;fj.G=function(a){return this.o(F(a))};function gj(a){Ui(dj(a,hb()));q(db)&&(a=hb(),Ui("\n"),A.h(a,ib))}function hj(a){return a instanceof y?Bd.h(null,rf(a)):qf.h(null,rf(a))}
function ij(a){if(q(!1)){var b=F(a),c=F(b),d=G(c);H(c);N(d,0,null);N(d,1,null);c=se(a);for(a=null;;){d=a;b=F(b);a=G(b);var e=H(b),f=a;a=N(f,0,null);b=N(f,1,null);if(q(f))if(a instanceof B||a instanceof y)if(q(d))if(E.h(d,of(a)))c=O.j(c,hj(a),b),a=d,b=e;else return null;else if(d=of(a),q(d))c=O.j(c,hj(a),b),a=d,b=e;else return null;else return null;else return new V(null,2,5,Y,[d,c],null)}}else return null}
function jj(a,b,c,d,e){return Ri(d,function(f,g,h){var k=mc(f);c.j?c.j(k,g,h):c.call(null,k,g,h);w(g," ");f=nc(f);return c.j?c.j(f,g,h):c.call(null,f,g,h)},[t.g(a),"{"].join(""),", ","}",e,F(b))}function $i(a,b,c,d){var e=Ie(a)?ij(a):null,f=N(e,0,null);e=N(e,1,null);return q(f)?jj(["#:",t.g(f)].join(""),e,b,c,d):jj(null,a,b,c,d)}Cd.prototype.ka=$a;Cd.prototype.aa=function(a,b,c){w(b,"#'");return Zi(this.Xb,b,c)};Fd.prototype.ka=$a;Fd.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};
sf.prototype.ka=$a;sf.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};Zg.prototype.ka=$a;Zg.prototype.aa=function(a,b,c){return Ri(b,Zi,"["," ","]",c,this)};hi.prototype.ka=$a;hi.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};Ch.prototype.ka=$a;Ch.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};Md.prototype.ka=$a;Md.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};kh.prototype.ka=$a;
kh.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};nf.prototype.ka=$a;nf.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};he.prototype.ka=$a;he.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};Gi.prototype.ka=$a;Gi.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};mi.prototype.ka=$a;mi.prototype.aa=function(a,b,c){return $i(this,Zi,b,c)};ji.prototype.ka=$a;ji.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};
mh.prototype.ka=$a;mh.prototype.aa=function(a,b,c){return Ri(b,Zi,"["," ","]",c,this)};vi.prototype.ka=$a;vi.prototype.aa=function(a,b,c){return Ri(b,Zi,"#{"," ","}",c,this)};yf.prototype.ka=$a;yf.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};jg.prototype.ka=$a;jg.prototype.aa=function(a,b,c){w(b,"#object[cljs.core.Atom ");Zi(new n(null,1,[kj,this.state],null),b,c);return w(b,"]")};ri.prototype.ka=$a;ri.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};
rg.prototype.ka=$a;rg.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};V.prototype.ka=$a;V.prototype.aa=function(a,b,c){return Ri(b,Zi,"["," ","]",c,this)};sh.prototype.ka=$a;sh.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};kf.prototype.ka=$a;kf.prototype.aa=function(a,b){return w(b,"()")};th.prototype.ka=$a;th.prototype.aa=function(a,b,c){return Ri(b,Zi,"#queue ["," ","]",c,F(this))};n.prototype.ka=$a;n.prototype.aa=function(a,b,c){return $i(this,Zi,b,c)};
Hi.prototype.ka=$a;Hi.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};qi.prototype.ka=$a;qi.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};re.prototype.ka=$a;re.prototype.aa=function(a,b,c){return Ri(b,Zi,"("," ",")",c,this)};function lj(a,b){Yc(a,mj,b)}function nj(a,b){yb(function(c,d){return a.g?a.g(d):a.call(null,d)},null,b);return null}function oj(){}
function pj(a){if(null!=a&&null!=a.Wd)a=a.Wd(a);else{var b=pj[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=pj._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IEncodeJS.-clj-\x3ejs",a);}return a}function qj(a,b){return(null!=a?$a===a.Vd||(a.yd?0:qb(oj,a)):qb(oj,a))?pj(a):"string"===typeof a||"number"===typeof a||a instanceof B||a instanceof y?b.g?b.g(a):b.call(null,a):ej.o(M([a]))}
var rj=function rj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Fd(c.slice(1),0,null):null;return rj.o(arguments[0],c)};
rj.o=function(a,b){b=S(b);var c=A.j(b,sj,rf),d=function g(f){if(null==f)return null;if(null!=f?$a===f.Vd||(f.yd?0:qb(oj,f)):qb(oj,f))return pj(f);if(f instanceof B)return c.g?c.g(f):c.call(null,f);if(f instanceof y)return t.g(f);if(Ie(f)){var h={};f=F(f);for(var k=null,m=0,p=0;;)if(p<m){var r=k.P(null,p),v=N(r,0,null);r=N(r,1,null);v=qj(v,d);r=g(r);h[v]=r;p+=1}else if(f=F(f))Le(f)?(m=fd(f),f=gd(f),k=m,m=I(m)):(m=G(f),k=N(m,0,null),m=N(m,1,null),k=qj(k,d),m=g(m),h[k]=m,f=H(f),k=null,m=0),p=0;else break;
return h}if(Ce(f)){h=[];f=F(ng.h(g,f));k=null;for(p=m=0;;)if(p<m)v=k.P(null,p),h.push(v),p+=1;else if(f=F(f))k=f,Le(k)?(f=fd(k),p=gd(k),k=f,m=I(f),f=p):(f=G(k),h.push(f),f=H(k),k=null,m=0),p=0;else break;return h}return f};return d(a)};rj.H=1;rj.G=function(a){var b=G(a);a=H(a);return this.o(b,a)};function tj(a,b){return ad(yb(function(c,d){var e=a.g?a.g(d):a.call(null,d);return Hf(c,e,pe.h(A.j(c,e,qe),d))},Zc(T),b))}var uj=null;
function vj(){null==uj&&(uj=kg(new n(null,3,[wj,T,xj,T,yj,T],null)));return uj}function zj(a,b,c){var d=E.h(b,c);if(d)return d;d=yj.g(a);d=d.g?d.g(b):d.call(null,b);if(d=Re(d,c))return d;if(Ke(c))if(Ke(b))if(I(c)===I(b)){d=!0;for(var e=0;;)if(d&&e!==I(c))d=zj(a,b.g?b.g(e):b.call(null,e),c.g?c.g(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function Aj(a){var b=u(vj());return Wf(A.h(wj.g(b),a))}
function Bj(a,b,c,d){mg.h(a,function(){return u(b)});mg.h(c,function(){return u(d)})}
var Cj=function Cj(a,b,c){var e=function(){var f=u(c);return f.g?f.g(a):f.call(null,a)}();e=q(q(e)?e.g?e.g(b):e.call(null,b):e)?!0:null;if(q(e))return e;e=function(){for(var f=Aj(b);;)if(0<I(f)){var g=G(f);Cj.j?Cj.j(a,g,c):Cj.call(null,a,g,c);f=Hd(f)}else return null}();if(q(e))return e;e=function(){for(var f=Aj(a);;)if(0<I(f)){var g=G(f);Cj.j?Cj.j(g,b,c):Cj.call(null,g,b,c);f=Hd(f)}else return null}();return q(e)?e:!1};function Dj(a,b,c,d){c=Cj(a,b,c);return q(c)?c:zj(d,a,b)}
var Ej=function Ej(a,b,c,d,e,f,g,h){var m=yb(function(r,v){var x=N(v,0,null);N(v,1,null);if(zj(u(c),b,x)){r=null==r||Dj(x,G(r),e,u(c))?v:r;if(!Dj(G(r),x,e,u(c)))throw Error(["Multiple methods in multimethod '",t.g(a),"' match dispatch value: ",t.g(b)," -\x3e ",t.g(x)," and ",t.g(G(r)),", and neither is preferred"].join(""));return r}return r},null,u(d)),p=function(){if(null==m){var r=u(d);r=r.g?r.g(h):r.call(null,h)}else r=!1;return q(r)?new V(null,2,5,Y,[h,r],null):m}();if(q(p)){if(E.h(u(g),u(c)))return mg.F(f,
O,b,ne(p)),ne(p);Bj(f,d,g,c);return Ej.Ba?Ej.Ba(a,b,c,d,e,f,g,h):Ej.call(null,a,b,c,d,e,f,g,h)}return null};function Fj(a,b,c){if(null!=a&&null!=a.O)a.O(a,b,c);else{var d=Fj[qa(null==a?null:a)];if(null!=d)d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=Fj._,null!=d)d.j?d.j(a,b,c):d.call(null,a,b,c);else throw sb("IMultiFn.-add-method",a);}}function Gj(a,b){throw Error(["No method in multimethod '",t.g(a),"' for dispatch value: ",t.g(b)].join(""));}
function Hj(a,b,c,d,e,f,g){var h=Ij;this.name=a;this.R=b;this.ke=h;this.Qc=c;this.Sc=d;this.Ce=e;this.Rc=f;this.Jc=g;this.A=4194305;this.J=4352}l=Hj.prototype;
l.call=function(a){switch(arguments.length-1){case 0:return this.v();case 1:return this.g(arguments[1]);case 2:return this.h(arguments[1],arguments[2]);case 3:return this.j(arguments[1],arguments[2],arguments[3]);case 4:return this.F(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ea(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.va(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Ra(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Ba(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Ga(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ha(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ia(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ja(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.La(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ma(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Na(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Oa(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Qa(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.g(arguments.length-1)].join(""));}};l.apply=function(a,b){return this.call.apply(this,[this].concat(wb(b)))};l.v=function(){var a=this.R.v?this.R.v():this.R.call(null),b=Jj(this,a);q(b)||Gj(this.name,a);return b.v?b.v():b.call(null)};l.g=function(a){var b=this.R.g?this.R.g(a):this.R.call(null,a),c=Jj(this,b);q(c)||Gj(this.name,b);return c.g?c.g(a):c.call(null,a)};
l.h=function(a,b){var c=this.R.h?this.R.h(a,b):this.R.call(null,a,b),d=Jj(this,c);q(d)||Gj(this.name,c);return d.h?d.h(a,b):d.call(null,a,b)};l.j=function(a,b,c){var d=this.R.j?this.R.j(a,b,c):this.R.call(null,a,b,c),e=Jj(this,d);q(e)||Gj(this.name,d);return e.j?e.j(a,b,c):e.call(null,a,b,c)};l.F=function(a,b,c,d){var e=this.R.F?this.R.F(a,b,c,d):this.R.call(null,a,b,c,d),f=Jj(this,e);q(f)||Gj(this.name,e);return f.F?f.F(a,b,c,d):f.call(null,a,b,c,d)};
l.ea=function(a,b,c,d,e){var f=this.R.ea?this.R.ea(a,b,c,d,e):this.R.call(null,a,b,c,d,e),g=Jj(this,f);q(g)||Gj(this.name,f);return g.ea?g.ea(a,b,c,d,e):g.call(null,a,b,c,d,e)};l.va=function(a,b,c,d,e,f){var g=this.R.va?this.R.va(a,b,c,d,e,f):this.R.call(null,a,b,c,d,e,f),h=Jj(this,g);q(h)||Gj(this.name,g);return h.va?h.va(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};
l.Ra=function(a,b,c,d,e,f,g){var h=this.R.Ra?this.R.Ra(a,b,c,d,e,f,g):this.R.call(null,a,b,c,d,e,f,g),k=Jj(this,h);q(k)||Gj(this.name,h);return k.Ra?k.Ra(a,b,c,d,e,f,g):k.call(null,a,b,c,d,e,f,g)};l.Ba=function(a,b,c,d,e,f,g,h){var k=this.R.Ba?this.R.Ba(a,b,c,d,e,f,g,h):this.R.call(null,a,b,c,d,e,f,g,h),m=Jj(this,k);q(m)||Gj(this.name,k);return m.Ba?m.Ba(a,b,c,d,e,f,g,h):m.call(null,a,b,c,d,e,f,g,h)};
l.Sa=function(a,b,c,d,e,f,g,h,k){var m=this.R.Sa?this.R.Sa(a,b,c,d,e,f,g,h,k):this.R.call(null,a,b,c,d,e,f,g,h,k),p=Jj(this,m);q(p)||Gj(this.name,m);return p.Sa?p.Sa(a,b,c,d,e,f,g,h,k):p.call(null,a,b,c,d,e,f,g,h,k)};l.Ga=function(a,b,c,d,e,f,g,h,k,m){var p=this.R.Ga?this.R.Ga(a,b,c,d,e,f,g,h,k,m):this.R.call(null,a,b,c,d,e,f,g,h,k,m),r=Jj(this,p);q(r)||Gj(this.name,p);return r.Ga?r.Ga(a,b,c,d,e,f,g,h,k,m):r.call(null,a,b,c,d,e,f,g,h,k,m)};
l.Ha=function(a,b,c,d,e,f,g,h,k,m,p){var r=this.R.Ha?this.R.Ha(a,b,c,d,e,f,g,h,k,m,p):this.R.call(null,a,b,c,d,e,f,g,h,k,m,p),v=Jj(this,r);q(v)||Gj(this.name,r);return v.Ha?v.Ha(a,b,c,d,e,f,g,h,k,m,p):v.call(null,a,b,c,d,e,f,g,h,k,m,p)};l.Ia=function(a,b,c,d,e,f,g,h,k,m,p,r){var v=this.R.Ia?this.R.Ia(a,b,c,d,e,f,g,h,k,m,p,r):this.R.call(null,a,b,c,d,e,f,g,h,k,m,p,r),x=Jj(this,v);q(x)||Gj(this.name,v);return x.Ia?x.Ia(a,b,c,d,e,f,g,h,k,m,p,r):x.call(null,a,b,c,d,e,f,g,h,k,m,p,r)};
l.Ja=function(a,b,c,d,e,f,g,h,k,m,p,r,v){var x=this.R.Ja?this.R.Ja(a,b,c,d,e,f,g,h,k,m,p,r,v):this.R.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v),z=Jj(this,x);q(z)||Gj(this.name,x);return z.Ja?z.Ja(a,b,c,d,e,f,g,h,k,m,p,r,v):z.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v)};
l.Ka=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x){var z=this.R.Ka?this.R.Ka(a,b,c,d,e,f,g,h,k,m,p,r,v,x):this.R.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x),C=Jj(this,z);q(C)||Gj(this.name,z);return C.Ka?C.Ka(a,b,c,d,e,f,g,h,k,m,p,r,v,x):C.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x)};
l.La=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z){var C=this.R.La?this.R.La(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z):this.R.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z),D=Jj(this,C);q(D)||Gj(this.name,C);return D.La?D.La(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z):D.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z)};
l.Ma=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C){var D=this.R.Ma?this.R.Ma(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C):this.R.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C),J=Jj(this,D);q(J)||Gj(this.name,D);return J.Ma?J.Ma(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C):J.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C)};
l.Na=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D){var J=this.R.Na?this.R.Na(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D):this.R.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D),K=Jj(this,J);q(K)||Gj(this.name,J);return K.Na?K.Na(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D):K.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D)};
l.Oa=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J){var K=this.R.Oa?this.R.Oa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J):this.R.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J),R=Jj(this,K);q(R)||Gj(this.name,K);return R.Oa?R.Oa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J):R.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J)};
l.Pa=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K){var R=this.R.Pa?this.R.Pa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K):this.R.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K),W=Jj(this,R);q(W)||Gj(this.name,R);return W.Pa?W.Pa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K):W.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K)};
l.Qa=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R){var W=this.R.Qa?this.R.Qa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R):this.R.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R),Z=Jj(this,W);q(Z)||Gj(this.name,W);return Z.Qa?Z.Qa(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R):Z.call(null,a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R)};
l.mc=function(a,b,c,d,e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W){var Z=Sf(this.R,a,b,c,d,M([e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W])),ia=Jj(this,Z);q(ia)||Gj(this.name,Z);return Sf(ia,a,b,c,d,M([e,f,g,h,k,m,p,r,v,x,z,C,D,J,K,R,W]))};l.O=function(a,b,c){mg.F(this.Sc,O,b,c);Bj(this.Rc,this.Sc,this.Jc,this.Qc);return this};function Jj(a,b){E.h(u(a.Jc),u(a.Qc))||Bj(a.Rc,a.Sc,a.Jc,a.Qc);var c=u(a.Rc);c=c.g?c.g(b):c.call(null,b);return q(c)?c:Ej(a.name,b,a.Qc,a.Sc,a.Ce,a.Rc,a.Jc,a.ke)}l.nc=function(){return hd(this.name)};
l.oc=function(){return id(this.name)};l.ca=function(){return ra(this)};function Kj(a){this.Gc=a;this.C=null;this.A=2153775104;this.J=2048}l=Kj.prototype;l.fe=$a;l.toString=function(){return this.Gc};l.equiv=function(a){return this.K(null,a)};l.K=function(a,b){return b instanceof Kj&&this.Gc===b.Gc};l.aa=function(a,b){return w(b,['#uuid "',t.g(this.Gc),'"'].join(""))};l.ca=function(){null==this.C&&(this.C=zd(this.Gc));return this.C};
function Lj(a,b,c){var d=Error(a);this.message=a;this.data=b;this.rd=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}Lj.prototype.__proto__=Error.prototype;Lj.prototype.ka=$a;
Lj.prototype.aa=function(a,b,c){w(b,"#error {:message ");Zi(this.message,b,c);q(this.data)&&(w(b,", :data "),Zi(this.data,b,c));q(this.rd)&&(w(b,", :cause "),Zi(this.rd,b,c));return w(b,"}")};Lj.prototype.toString=function(){return rd(this)};function Mj(a,b){return new Lj(a,b,null)}"undefined"!==typeof console&&nb();nb();var Nj=new B(null,"ns","ns",441598760),Oj=new B(null,"components","components",-1073188942),Pj=new B("glogi","root","glogi/root",-77414841),Qj=new y("pixi","Resource","pixi/Resource",-1735368635,null),Rj=new B(null,"collision-sys","collision-sys",1652900),Sj=new B(null,"onError","onError",1669791984),Tj=new y(null,ba,ba,770546058,null),Uj=new B(null,"white","white",-483998618),Vj=new B(null,"robot-lichaam","robot-lichaam",1236668654),Wj=new y(null,"defrecord*","defrecord*",-1936366207,null),Xj=new B(null,
"level","level",1290497552),Yj=new B(null,"type-tag","type-tag",-1873863267),Zj=new y("js","KeyboardEvent","js/KeyboardEvent",-1028154074,null),ak=new B(null,"readers","readers",-2118263030),bk=new B(null,"line","line",212345235),ck=new y("pixi","Rectangle","pixi/Rectangle",1262092619,null),dk=new B(null,"repeat","repeat",832692087),ek=new B(null,"coordinates","coordinates",-1225332668),fk=new y(null,"ns*","ns*",1840949383,null),gk=new B(null,"sequenceNumber","sequenceNumber",-543983615),hk=new y("pixi",
"BufferResource","pixi/BufferResource",204348868,null),ik=new B(null,"bg-click","bg-click",-1864879871),jk=new B(null,"start-block-t","start-block-t",-373430594),kk=new B(null,"per-line-prefix","per-line-prefix",846941813),lk=new B(null,"string","string",-1989541586),mk=new B(null,"elapsedMS","elapsedMS",1765032633),nk=new B(null,"data","data",-232669377),ok=new B(null,"date","date",-1463434462),pk=new B(null,"end-line","end-line",1837326455),qk=new y(null,"fn*","fn*",-752876845,null),rk=new B(null,
"_bodies","_bodies",-1985766930),sk=new y("pixi","Point","pixi/Point",-2145450055,null),tk=new B(null,"rotLeftEdge","rotLeftEdge",343713454),uk=new B(null,"done-nl","done-nl",-381024340),vk=new y("resource-loader","Resource","resource-loader/Resource",1243064397,null),wk=new B(null,"outgoingEdge","outgoingEdge",-1728752337),xk=new B(null,"private","private",-558947994),yk=new B(null,"nextRightEdge","nextRightEdge",-106000472),zk=new B(null,"text-box-click","text-box-click",-790798129),Ak=new B(null,
"circle","circle",1903212362),xj=new B(null,"descendants","descendants",1824886031),Bk=new B(null,"blue","blue",-622100620),Ck=new B(null,"open-kast","open-kast",1474297257),Dk=new B(null,"start","start",-355208981),Ek=new B(null,"stars","stars",-556837771),Fk=new B(null,"holes","holes",188002959),Gk=new B(null,"worldTransform","worldTransform",-889959066),mj=new B("spel.thicc","update","spel.thicc/update",21611511),Hk=new y(ba,"deref","cljs.core/deref",1901963335,null),Ik=new B(null,"blur","blur",
-453500461),Jk=new B(null,"on-click","on-click",1632826543),Kk=new B(null,"hand","hand",791601933),Lk=new B(null,"lower","lower",1120320821),Mk=new B(null,"identifier","identifier",-805503498),Nk=new B(null,"target","target",253001721),Ok=new B(null,"slaapkamer-ingang","slaapkamer-ingang",1963150035),Pk=new B(null,"global","global",93595047),Qk=new B(null,"mandatory","mandatory",542802336),Rk=new B(null,"length","length",588987862),Sk=new B(null,"end-column","end-column",1425389514),Tk=new y("js",
"DragEvent","js/DragEvent",1869954626,null),Uk=new B(ka,"bg-click","spel.invasie/bg-click",-221118184),Vk=new y("pixi","Application","pixi/Application",946405384,null),Wk=new y(null,"with-open","with-open",172119667,null),Xk=new B(null,"not-delivered","not-delivered",1599158697),Yk=new B(null,"loading-image","loading-image",-1519173424),Zk=new y(null,"if-not","if-not",-265415609,null),$k=new B(null,"delta","delta",108939957),al=new y("pixi","GraphicsData","pixi/GraphicsData",-1195625102,null),bl=
new B(null,"samplingDistance","samplingDistance",1217034577),cl=new B(null,"base-args","base-args",-1268706822),dl=new y("js","Element","js/Element",1498492347,null),el=new B(null,"postnl-zilver","postnl-zilver",-1172557835),fl=new y(ba,"unquote","cljs.core/unquote",1013085760,null),gl=new B(null,"shiftKey","shiftKey",1716666823),hl=new B(null,"textures","textures",560681081),il=new B(fa,"comma","lambdaisland.glogi.print/comma",-725182078),jl=new B(null,"loading-scene","loading-scene",2101453904),
kl=new B(null,"def","def",-1043430536),ll=new y(null,"dotimes","dotimes",-818708397,null),ml=new B(null,"\x3c\x3e","\x3c\x3e",1280186386),nl=new B(null,"_edges","_edges",-1358859084),ol=new B(null,"rotation","rotation",-1728051644),pl=new B(null,"exception","exception",-335277064),ql=new B(null,"totalFrames","totalFrames",-1084876128),rl=new B(null,"innerHeight","innerHeight",-217066682),sl=new y(null,"finally","finally",-1065347064,null),tl=new B(null,"shout","shout",186018337),ul=new y(null,"/",
"/",-1371932971,null),vl=new B("lambdaisland.daedalus","not-found","lambdaisland.daedalus/not-found",-479157957),wl=new B(null,"resize","resize",297367086),xl=new B(null,"buffering","buffering",-876713613),yl=new B(null,"gray1","gray1",23549221),zl=new B(null,"functions","functions",184951466),Al=new B(null,"gray3","gray3",-617553786),Bl=new B(null,"gray2","gray2",-1424527469),Cl=new B(null,"gray5","gray5",1481094938),Dl=new B(null,"gray4","gray4",460735815),El=new B(null,"gray6","gray6",-2106469670),
Fl=new B(null,"verticesColor","verticesColor",650228655),Gl=new B(null,"entity?","entity?",-1085193334),Hl=new B(null,"illegal-argument","illegal-argument",-1845493170),Il=new B(null,"ui-graphics","ui-graphics",-1058422164),Jl=new B(null,"radius","radius",-2073122258),Kl=new B(null,"debug?","debug?",-1831756173),Ll=new B(null,"pijl-rechts","pijl-rechts",-1979628695),Ml=new B(null,"right-margin","right-margin",-810413306),Nl=new B(null,"isReal","isReal",2051014419),Ol=new B(null,"open-riool","open-riool",
-1008030277),Pl=new B(null,"goto-room","goto-room",-579777526),Ql=new B(null,"constraintsWidth","constraintsWidth",1772464756),Rl=new B(null,"exponentchar","exponentchar",1986664222),Sl=new B(null,"this","this",-611633625),Tl=new B(null,"ty","ty",158290825),Ul=new B(null,"tx","tx",466630418),Vl=new y(null,"locking","locking",1542862874,null),Wl=new B(null,"directive","directive",793559132),Xl=new y("js","Window","js/Window",-138861336,null),Yl=new B(null,"loop","loop",-395552849),Zl=new B(null,"seq",
"seq",-1817803783),$l=new B(null,"set","set",304602554),am=new B(null,"ruimteschip","ruimteschip",-694092112),bm=new B(null,"altKey","altKey",-670253656),cm=new B(null,"sumDistancesSquared","sumDistancesSquared",397939670),dm=new B(null,"tiltY","tiltY",234425577),em=new B(null,"tiltX","tiltX",-833617909),fm=new B(null,"ui-size","ui-size",19744321),gm=new y("js","WheelEvent","js/WheelEvent",-1670967322,null),hm=new B(null,"error","error",-978969032),im=new B(null,"segments","segments",1937535949),
jm=new B(null,"finer","finer",974902846),km=new B(null,"base","base",185279322),lm=new B(null,"_state","_state",-791882382),mm=new B(null,"trailing-white-space","trailing-white-space",1496006996),nm=new B(null,"div","div",1057191632),om=new y(null,"letfn*","letfn*",-110097810,null),pm=new B(null,"prefix","prefix",-265908465),qm=new B(null,"a_in_b","a_in_b",879810623),rm=new B(null,"alignment","alignment",1040093386),sm=new B(null,"right-params","right-params",-1790676237),tm=new B(null,"start-pos",
"start-pos",668789086),um=new B(null,"rotNextEdge","rotNextEdge",1721712431),vm=new B(null,"sourcePath","sourcePath",-986600405),sj=new B(null,"keyword-fn","keyword-fn",-64566675),wm=new B(null,"room-item","room-item",-1644088217),xm=new B(null,"first","first",-644103046),ym=new y(null,"let*","let*",1920721458,null),zm=new B(null,"for","for",-1323786319),Am=new B(null,"width","width",-384071477),Bm=new B("combine-items","hand","combine-items/hand",1334719571),Cm=new B(null,"pressure","pressure",505343747),
Dm=new B(null,"bulkhead-platform","bulkhead-platform",-1226140610),Em=new y(null,"when-first","when-first",821699168,null),Fm=new B(null,"edges","edges",-694791395),Gm=new B(null,"__constraintShapes","__constraintShapes",-1920413963),Hm=new B(null,"robot-op-bank","robot-op-bank",1921060339),Im=new B(null,"started","started",585705024),Jm=new B(null,"player","player",-97687400),Km=new y(null,"recur","recur",1202958259,null),Lm=new B(null,"miterLimit","miterLimit",2145717317),Mm=new B(null,"edgesColor",
"edgesColor",1828811009),Nm=new B(null,"type","type",1174270348),Om=new B(null,"pathsColor","pathsColor",-1374871312),Pm=new B(null,"hut","hut",-1803146741),Qm=new B(null,"style","style",-496642736),Rm=new B(null,"reader-error","reader-error",1610253121),Sm=new y(null,"m","m",-1021758608,null),Tm=new B(null,"_bvh","_bvh",-1200883856),Um=new B(null,"prevLeftEdge","prevLeftEdge",-684827712),Vm=new B(null,"mousemove","mousemove",-1077794734),Wm=new B(null,"mesh","mesh",456320595),Xm=new y("pixi","Renderer",
"pixi/Renderer",-2057970789,null),Ym=new B(null,"code","code",1586293142),Zm=new B(null,"pointerId","pointerId",-1655175595),$m=new B(null,"countMax","countMax",2033945435),an=new B(null,"pause-collisions?","pause-collisions?",2009009466),bn=new B(null,"point","point",1813198264),cn=new B(null,"keys","keys",1068423698),dn=new B(null,"node","node",581201198),en=new y("pixi","Transform","pixi/Transform",-862228139,null),fn=new B(null,"intra-block-nl","intra-block-nl",1808826875),kb=new B(null,"meta",
"meta",1499536964),gn=new B(null,"originalThreadIndex","originalThreadIndex",1855833019),hn=new B(null,"robot-hoofd-karton","robot-hoofd-karton",448877338),jn=new B(null,"ticker","ticker",214613162),kn=new B(null,"resource","resource",251898836),ln=new B(null,"_listDefinitions","_listDefinitions",12752058),mn=new B(null,"constraintsAlpha","constraintsAlpha",992895916),nn=new B(null,"texture","texture",-266291651),on=new B(null,"right","right",-452581833),pn=new y(null,"when","when",1064114221,null),
qn=new B(null,"resolution","resolution",-756075601),rn=new B(null,"player-size","player-size",-179983346),sn=new B(null,"logical-blocks","logical-blocks",-1466339776),tn=new B(null,"path?","path?",637945400),un=new B("combine-items","unknown","combine-items/unknown",1721109173),vn=new B(null,"colinc","colinc",-584873385),wn=new B(null,"heigt","heigt",-1696020703),xn=new B(null,"that","that",-811566317),yn=new y("js","NodeList","js/NodeList",-2117952113,null),zn=new B(null,"fine","fine",-873037193),
An=new B(null,"logical-block","logical-block",-581022564),Bn=new y("js","TouchEvent","js/TouchEvent",-1154684391,null),Cn=new B(null,"cliffs","cliffs",2124834446),Dn=new B(null,"edge","edge",919909153),En=new B(ja,"switch-scene","spel.engine/switch-scene",950763478),Fn=new B(null,"debugSurface","debugSurface",1254783398),Gn=new B(null,"playing","playing",70013335),Hn=new B(null,"approximateObject","approximateObject",1635497143),In=new B(null,"col","col",-1959363084),Jn=new B(null,"isPrimary","isPrimary",
821290856),Kn=new B(null,"graphics","graphics",-2079995979),Ln=new B(null,"current","current",-1088038603),Mn=new B(null,"writing","writing",-1486865108),Nn=new B(null,"stopsPropagationAt","stopsPropagationAt",1805859988),On=new B(null,"start-col","start-col",668080143),Pn=new B(null,"mouseupoutside","mouseupoutside",190065436),Qn=new B(null,"suppress-namespaces","suppress-namespaces",2130686956),Rn=new y(null,"set!","set!",250714521,null),Sn=new B(null,"seed","seed",68613327),Tn=new B(null,"click",
"click",1912301393),Un=new B(null,"parent","parent",-878878779),Vn=new B(null,"new","new",-2085437848),Wn=new B(null,"all","all",892129742),Xn=new y("js","DocumentFragment","js/DocumentFragment",1125920779,null),Yn=new B(null,"onStart","onStart",-59631847),Zn=new y(null,"\x26","\x26",-2144855648,null),$n=new B(null,"player-animation","player-animation",729252014),ao=new B(null,"ex-kind","ex-kind",1581199296),bo=new B(null,"bg-overlays","bg-overlays",-1801827309),co=new B(null,"right-bracket","right-bracket",
951856080),eo=new B(null,"tangentialPressure","tangentialPressure",-372830134),fo=new y("pixi","InteractionData","pixi/InteractionData",-1088994592,null),go=new B(null,"_vertices","_vertices",1039064101),ho=new B(null,"sprite","sprite",172516848),io=new y("collisions","Circle","collisions/Circle",-1205792090,null),jo=new B(null,"destinationNode","destinationNode",365517720),ko=new B(null,"matrix","matrix",803137200),lo=new B(null,"screenX","screenX",1294474829),mo=new B(null,"devicePixelRatio","devicePixelRatio",
466796622),no=new y(null,"-Inf","-Inf",-2123243689,null),oo=new y("js","HTMLDocument","js/HTMLDocument",-280801837,null),po=new B(null,"rangeMin","rangeMin",401382677),Ij=new B(null,"default","default",-1987822328),qo=new B(null,"kast","kast",-886468022),ro=new y("clojure.core","deref","clojure.core/deref",188719157,null),so=new B(null,"deltaMode","deltaMode",-694159745),to=new B(null,"orig","orig",-1678309870),uo=new B(null,"padchar","padchar",2018584530),vo=new y("js","Touch","js/Touch",849771822,
null),wo=new B(null,"screenY","screenY",636091026),xo=new B(null,"region","region",270415120),yo=new B(null,"auto-resize","auto-resize",-1532907700),zo=new B(null,"children","children",-940561982),Ao=new B(null,"changedTouches","changedTouches",-581145305),Bo=new B(null,"ventje4","ventje4",1115207917),Co=new B(null,"ventje3","ventje3",1047726788),Do=new B(null,"virus","virus",-56353255),Eo=new B(null,"ventje2","ventje2",690830771),Fo=new B(null,"ventje1","ventje1",-26276199),mb=new B(null,"print-length",
"print-length",1931866356),Go=new B(null,"pointerType","pointerType",-1908477129),Ho=new B(null,"nil","nil",99600501),Io=new B(null,"load","load",-1318641184),Jo=new B(null,"entitiesAlpha","entitiesAlpha",-913238484),Ko=new B(null,"touchmove","touchmove",1885249923),Lo=new B(null,"stage","stage",1843544772),Mo=new B(null,"lineStyle","lineStyle",-1451095436),No=new B(null,"buffer-block","buffer-block",-10937307),Oo=new B(null,"reader-exception","reader-exception",-1938323098),Po=new B(null,"rooms",
"rooms",1196158176),Qo=new B(null,"remaining-arg-count","remaining-arg-count",-1216589335),Ro=new y("ink","Story","ink/Story",1547307155,null),So=new B(null,"inventory","inventory",860201871),To=new B(null,"cur","cur",1153190599),Uo=new y(null,"def","def",597100991,null),Vo=new B(null,"skew","skew",-595121815),Wo=new B(null,"sourceNode","sourceNode",-1744459616),Xo=new B(null,"npc?","npc?",-459305662),Yo=new B(null,"pos","pos",-864607220),Zo=new B(null,"localTransform","localTransform",-1166578770),
$o=new B(null,"ventje-stil","ventje-stil",-2127487101),ap=new y("pixi","Spritesheet","pixi/Spritesheet",-483729076,null),bp=new B(null,"combine-items","combine-items",-317665841),cp=new B(null,"eindbaas","eindbaas",-1743757407),dp=new B(null,"message","message",-406056002),ep=new y("js","Document","js/Document",210552754,null),fp=new B(null,"rightFace","rightFace",-1138714033),gp=new B(null,"info","info",-317069002),hp=new B(null,"thread-at-generation","thread-at-generation",1480767543),ip=new B(null,
"pijl-links","pijl-links",-704791446),jp=new B(null,"commainterval","commainterval",-1980061083),kp=new B(null,"elements","elements",657646735),lp=new B(ka,"click","spel.invasie/click",403011438),mp=new B(null,"separator","separator",-1628749125),np=new B(null,"_points","_points",-2100398702),op=new B(null,"space-invaders","space-invaders",-1238341852),pp=new y("pixi","LineStyle","pixi/LineStyle",506797974,null),qp=new y(null,"defonce","defonce",-1681484013,null),rp=new B(null,"pre-check","pre-check",
-1780225968),sp=new B(null,"switching-scene","switching-scene",-211644779),tp=new B(null,"lastTime","lastTime",-253375342),up=new B(null,"pretty-writer","pretty-writer",-1222834267),vp=new y("pixi","BaseTexture","pixi/BaseTexture",550646898,null),wp=new y(null,"..","..",-300507420,null),xp=new B(null,"pretty","pretty",-1916372486),yp=new B(null,"buffer-level","buffer-level",928864731),zp=new B(null,"b_in_a","b_in_a",-1766368582),Ap=new B(null,"prevRightEdge","prevRightEdge",1200932286),Bp=new B(null,
"minispel","minispel",191904861),Cp=new B(null,"pivot","pivot",-1489083239),Dp=new B(null,"deltaTime","deltaTime",2053882630),Ep=new B(null,"wheelbot2","wheelbot2",-1565575361),Fp=new B(null,"supermarkt","supermarkt",-2030015748),Gp=new B(null,"wheelbot1","wheelbot1",-1565140851),Hp=new y(null,la,la,945574233,null),Ip=new B(null,"invasie","invasie",1093379866),jb=new B(null,"readably","readably",1129599760),Jp=new B(null,"maniac-mansion","maniac-mansion",542164051),Kp=new B(null,"file","file",-1269645878),
Lp=new B(null,"pathsAlpha","pathsAlpha",-463691389),Mp=new B(null,"stopped","stopped",-1490414640),Np=new B(null,"fill","fill",883462889),Op=new B(null,"section.credits","section.credits",-534913679),Pp=new B(null,"anchor","anchor",1549638489),Qp=new B(null,"base-texture","base-texture",-2081399844),Rp=new B(null,"edgesAlpha","edgesAlpha",-1530713809),Sp=new B(null,"fromVertex","fromVertex",-452877810),Tp=new B(null,"rotPrevEdge","rotPrevEdge",568175217),Up=new B(null,"radix","radix",857016463),Vp=
new B(null,"ctrlKey","ctrlKey",430760908),Wp=new B(null,"join","join",-758861890),Xp=new B(null,"text","text",-1790561697),Yp=new y(null,"uuid","uuid",-504564192,null),Zp=new y("ink","InkList","ink/InkList",-471437428,null),$p=new y("collisions","Polygon","collisions/Polygon",953428164,null),aq=new B(null,"radiusSquared","radiusSquared",210678785),bq=new B(null,"mousedown","mousedown",1391242074),cq=new B(null,"already-complete","already-complete",516819409),dq=new B(null,"faceAlpha","faceAlpha",
1797505574),eq=new y(null,"queue","queue",-1198599890,null),fq=new B(null,"npc","npc",2026900089),gq=new B(null,"block","block",664686210),hq=new B(null,"else","else",-1508377146),iq=new B(null,"obstacle","obstacle",1567572428),jq=new y(null,"case*","case*",-1938255072,null),kq=new B(null,"rotationAngle","rotationAngle",-1749761602),lq=new B(null,"clientY","clientY",-1350333697),mq=new B(null,"clientX","clientX",1931278917),nq=new B(null,"invisible-default?","invisible-default?",-214848352),oq=new B(null,
"params","params",710516235),yj=new B(null,"ancestors","ancestors",-776045424),pq=new B(null,"batterij","batterij",-569782314),qq=new y(null,"struct-map","struct-map",-1387540878,null),rq=new B(null,"touchend","touchend",-1574059019),sq=new B(null,"rest","rest",-1241696419),tq=new B(null,"min-remaining","min-remaining",962687677),uq=new B(null,"dirNormY","dirNormY",561367979),vq=new B(null,"dirNormX","dirNormX",-1112810071),wq=new B(null,"offset","offset",296498311),xq=new B(null,"commachar","commachar",
652859327),yq=new y("collisions","BVH","collisions/BVH",-392087195,null),kj=new B(null,"val","val",128701612),zq=new y(null,"-\x3e","-\x3e",-2139605430,null),Aq=new B(null,"spuitbus","spuitbus",1376874765),Bq=new B(null,"turqoise","turqoise",1674869457),Cq=new B(null,"entity","entity",-450970276),Dq=new B(null,"button","button",1456579943),Eq=new B(null,"arglists","arglists",1661989754),Fq=new B(null,"movementX","movementX",-1426507797),Gq=new B(null,"mouseup","mouseup",350619456),Hq=new y(null,"js*",
"js*",-1134233646,null),Iq=new B(null,"movementY","movementY",-1137904449),Jq=new B(null,"end-pos","end-pos",-1643883926),Kq=new B(null,"metadata","metadata",1799301597),Lq=new y("pixi","Texture","pixi/Texture",-1327527424,null),Mq=new B(null,"renderer","renderer",336841071),Nq=new y(null,"catch","catch",-1616370245,null),Oq=new B(null,"pageX","pageX",-1348071513),Pq=new B(null,"pageY","pageY",1363577629),Qq=new B(null,"kogel","kogel",-22556444),Rq=new B(null,"touches","touches",1862301452),Sq=new B(null,
"progress","progress",244323547),Tq=new B(null,"oppositeEdge","oppositeEdge",1572807965),Uq=new B(null,"enter","enter",1792452624),Vq=new y("js","PointerEvent","js/PointerEvent",1646676956,null),Wq=new B(null,"images","images",1757475080),Xq=new y(null,"defn","defn",-126010802,null),Yq=new B(null,"keydown","keydown",-629268186),Zq=new y(null,"struct","struct",325972931,null),$q=new B(null,"green","green",-945526839),ar=new B(null,"used","used",-1414786177),br=new B(null,"finest","finest",-1359568890),
cr=new B(null,"clipping","clipping",1420469470),dr=new B(null,"document","document",-1329188687),er=new B(null,"speed","speed",1257663751),fr=new B(null,"loader","loader",-462395423),gr=new B(null,"realEdgesOnly","realEdgesOnly",-1729654E3),hr=new B(null,"namespaced-map","namespaced-map",1235665380),ir=new B(null,"targetTouches","targetTouches",1866519065),jr=new B(null,"edgesWidth","edgesWidth",-1907259590),kr=new B(null,"items","items",1031954938),lr=new B(null,"bulkhead-back","bulkhead-back",-1056220352),
mr=new B(null,"relatedTarget","relatedTarget",1215049677),nr=new B(null,"transform","transform",1381301764),or=new B(null,"input","input",556931961),pr=new y("collisions","Collisions","collisions/Collisions",2044946316,null),qr=new B(null,"msg","msg",-1386103444),rr=new B(null,"radius-y","radius-y",165540171),sr=new B(null,"isConstrained","isConstrained",-664260290),tr=new B(null,"radius-x","radius-x",807991188),xr=new B(null,"tag","tag",-1290361223),yr=new y("pixi","ImageResource","pixi/ImageResource",
-2121461E3,null),zr=new B(null,"player-collision","player-collision",2123942438),Ar=new B(null,"linear","linear",872268697),Br=new y(null,"new","new",-444906321,null),Cr=new B(null,"colorDebug","colorDebug",618950531),Dr=new B(null,"other","other",995793544),Er=new B(null,"number","number",1570378438),Fr=new B(null,"sections","sections",-886710106),Gr=new B(null,"lines","lines",-700165781),Hr=new y(null,"do","do",1686842252,null),Ir=new B(null,"colon","colon",-965200945),Jr=new B(null,"color","color",
1011675173),Kr=new y("pixi","Matrix","pixi/Matrix",2138393015,null),Lr=new B(null,"touchendoutside","touchendoutside",1959941884),Mr=new B(null,"_mainContentContainer","_mainContentContainer",576697183),Or=new B(null,"purple","purple",-876021126),Pr=new B(null,"source-path","source-path",-1955873712),Qr=new B(null,"scene","scene",1523800415),Rr=new B(null,"test","test",577538877),Sr=new B(null,"padding","padding",1660304693),Tr=new B(null,"minpad","minpad",323570901),Ur=new B(null,"img","img",1442687358),
Vr=new B(null,"werkplaats","werkplaats",214378798),Wr=new B(null,"loaded?","loaded?",-1108015206),aj=new B(null,"alt-impl","alt-impl",670969595),Xr=new B(null,"trim","trim",774319767),Yr=new B(null,"cap","cap",-817621587),Zr=new B(null,"threadAtGeneration","threadAtGeneration",-2054143464),$r=new B(null,"path","path",-188191168),as=new y(null,"with-local-vars","with-local-vars",837642072,null),bs=new B(null,"fillStyle","fillStyle",1168675854),cs=new y("pixi","Graphics","pixi/Graphics",1270749618,
null),ds=new B(null,"hasNext","hasNext",1298605545),es=new y("pixi","Ticker","pixi/Ticker",187216530,null),fs=new B(null,"loaded-image","loaded-image",-2076791846),gs=new B(null,"visible","visible",-1024216805),hs=new y(null,"try","try",-1273693247,null),is=new B(null,"location","location",1815599388),js=new B(null,"upper","upper",246243906),ks=new B(null,"hasChanged","hasChanged",-25260831),ls=new B(null,"nextLeftEdge","nextLeftEdge",414472551),ms=new y(null,"throw","throw",595905694,null),ns=new B(null,
"loding","loding",-803231141),os=new y("pixi","ObservablePoint","pixi/ObservablePoint",1232269565,null),ps=new B(null,"runners","runners",-1132778568),qs=new y(null,"let","let",358118826,null),ib=new B(null,"flush-on-newline","flush-on-newline",-151457939),rs=new B(null,"nodesCount","nodesCount",601994163),ss=new B(null,"tint","tint",-1286736913),ts=new B(null,"next","next",-117701485),us=new B(null,"riool","riool",1538061334),vs=new B(null,"onComplete","onComplete",-661010670),ws=new B(null,"wheelbot",
"wheelbot",122990949),xs=new B(null,"robot-hoofd","robot-hoofd",726662714),ys=new y(null,"if","if",1181717262,null),zs=new B(null,"character","character",380652989),As=new B(null,"animationSpeed","animationSpeed",-326608880),Bs=new B(null,"animations","animations",140711296),Cs=new B(null,"fabriek-buiten","fabriek-buiten",-388177766),Ds=new B(null,"severe","severe",-1364500238),Es=new B(null,"story","story",-1000647533),Fs=new B(null,"faceColor","faceColor",2124305970),Gs=new y(null,"loop*","loop*",
615029416,null),Hs=new B(null,"entitiesColor","entitiesColor",363879152),Is=new B(null,"leave","leave",1022579443),Js=new B(null,"virussen","virussen",-2013616913),Ks=new B(null,"kelder","kelder",157895995),Ls=new B(null,"last","last",1105735132),Ms=new y(null,"quote","quote",1377916282,null),Ns=new B(null,"warning","warning",-1685650671),Os=new y(ba,"lift-ns","cljs.core/lift-ns",463499081,null),Ps=new B(null,"k","k",-2146297393),Qs=new B(null,"hierarchy","hierarchy",-1053470341),Rs=new B(null,"e",
"e",1381269198),Ss=new B(null,"f","f",-1597136552),Ts=new B(null,"trace","trace",-1082747415),Us=new B(null,"c","c",-1763192079),Vs=new B(null,"d","d",1972142424),Ws=new B(null,"a","a",-2123407586),Xs=new B(null,"b","b",1482224470),Ys=new B(null,"view","view",1247994814),Zs=new B(null,"pathsWidth","pathsWidth",114914594),$s=new B(null,"y","y",-1757859776),at=new B(null,"deltaMS","deltaMS",-763425853),bt=new B(null,"w","w",354169001),ct=new B(null,"x","x",2099068185),dt=new y(null,"fn","fn",465265323,
null),et=new B(null,"strable","strable",1877668047),ft=new B(null,"p","p",151049309),gt=new B(null,"player-coll-obj","player-coll-obj",878071382),ht=new B(null,"n","n",562130025),it=new y("pixi","InteractionEvent","pixi/InteractionEvent",1602035173,null),jt=new B(null,"time","time",1385887882),kt=new B(null,"scale","scale",-230427353),lt=new B(null,"yellow","yellow",-881035449),mt=new B(null,"astar","astar",1283369821),nt=new B(null,"func","func",-238706040),ot=new B(null,"symbol","symbol",-1038572696),
pt=new B(null,"fromMesh","fromMesh",-1769795942),qt=new B(null,"fromConstraintSegments","fromConstraintSegments",-1400104064),rt=new B(null,"indent-t","indent-t",528318969),st=new y(null,"lift-ns","lift-ns",602311926,null),tt=new B(null,"on-touchstart","on-touchstart",-1617721567),ut=new B(null,"faceWidth","faceWidth",1355209384),vt=new B(null,"sprites","sprites",-1835833922),wt=new B(null,"virus-vx","virus-vx",-265266296),xt=new B(null,"overlap","overlap",-1673335644),yt=new B(null,"postnl","postnl",
516168618),zt=new B(null,"red","red",-969428204),At=new B(null,"position","position",-2011731912),bj=new B(null,"fallback-impl","fallback-impl",-1501286995),Bt=new B(null,"original-thread-index","original-thread-index",1992868213),Ct=new B(null,"_faces","_faces",-572738862),Dt=new y(null,"ns","ns",2082130287,null),Et=new B(null,"height","height",1025178622),Ft=new B(null,"making-sprite","making-sprite",-1288463774),Gt=new B(null,"constraintsColor","constraintsColor",1102213659),Ht=new B(null,"both",
"both",-393648840),It=new B(null,"resources","resources",1632806811),Jt=new B(null,"katteneten","katteneten",143539727),Kt=new B(null,"auto-density","auto-density",857677607),Lt=new B(null,"debug","debug",-1608172596),Mt=new B(null,"metaKey","metaKey",1006742180),Nt=new B(null,"vector","vector",1902966158),Ot=new y("pixi","Container","pixi/Container",1955209331,null),Pt=new B(null,"rangeMax","rangeMax",-1864170478),Qt=new B(null,"end","end",-268185958),Rt=new B(null,"item","item",249373802),St=new B(null,
"buffer-blob","buffer-blob",-1830112173),Tt=new y("js","XMLDocument","js/XMLDocument",-321481281,null),Ut=new B(null,"allows-separator","allows-separator",-818967742),Vt=new B(null,"collision","collision",-201625508),Wt=new y("clojure.core","unquote","clojure.core/unquote",843087510,null),Xt=new B(null,"stopPropagationHint","stopPropagationHint",-275724400),Yt=new B(null,"fabriek-binnen","fabriek-binnen",352177389),Zt=new B(null,"colon-up-arrow","colon-up-arrow",244853007),$t=new B(null,"flags","flags",
1775418075),au=new B(null,"constraintShape","constraintShape",-662092436),bu=new B(null,"eof","eof",-489063237),cu=new y(null,"js","js",-886355190,null),du=new B(null,"relative-to","relative-to",-470100051),eu=new y(null,"doseq","doseq",221164135,null),fu=new B(null,"successorNodes","successorNodes",-979135887),gu=new B(null,"sampling-distance","sampling-distance",1762391084),Si=new B(null,"more-marker","more-marker",-14717935),hu=new B(null,"onProgress","onProgress",987195821),iu=new B(null,"main-menu",
"main-menu",-1471790381),ju=new y("pixi","Loader","pixi/Loader",-1023142621,null),ku=new B(null,"points","points",-1486596883),lu=new B(null,"angle","angle",1622094254),mu=new B(null,"origins","origins",-1970258462),nu=new B(null,"nl-t","nl-t",-1608382114),ou=new y(null,"var","var",870848730,null),pu=new B(null,"rect","rect",-108902628),qu=new B(null,"obstacles","obstacles",1370670211),ru=new B(null,"player-static","player-static",111238333),su=new B(null,"doc","doc",1913296891),tu=new B(null,"bulkhead-pipes",
"bulkhead-pipes",80637491),uu=new B(null,"baseTexture","baseTexture",719523960),vu=new B(null,"origin","origin",1037372088),wu=new B(null,"deltaX","deltaX",-1317913656),xu=new B(null,"pivotY","pivotY",-829351956),yu=new B(null,"currentTarget","currentTarget",-2047733491),zu=new B(null,"deltaZ","deltaZ",1656656988),Au=new B(null,"deltaY","deltaY",-879493966),Bu=new B(null,"destinationVertex","destinationVertex",5495539),Cu=new B(null,"pivotX","pivotX",1902127574),Du=new B(null,"tick","tick",-835886976),
Eu=new y("collisions","Point","collisions/Point",541862102,null),Fu=new y(null,"cond","cond",1606708055,null),Gu=new B(null,"map","map",1371690461),Hu=new B(null,"brown","brown",1414854429),Iu=new B(null,"element","element",1974019749),Ju=new B(null,"char-format","char-format",-1016499218),Ku=new B(null,"resize-to","resize-to",-1591963583),Lu=new B(null,"npcs","npcs",36258920),Mu=new B(null,"mode","mode",654403691),Nu=new B(null,"max-columns","max-columns",1742323262),Ou=new B(null,"max","max",61366548),
Pu=new y(null,"when-let","when-let",-1383043480,null),Qu=new B(null,"off","off",606440789),Ru=new B(null,"url","url",276297046),Su=new B(null,"count","count",2139924085),Tu=new B(null,"clauses","clauses",1454841241),Uu=new B(null,"robot-lichaam-karton","robot-lichaam-karton",1311707215),Vu=new B(null,"miser-width","miser-width",-1310049437),Wu=new y(null,"binding","binding",-2114503176,null),Xu=new B(null,"index","index",-1531685915),Yu=new B(null,"alpha","alpha",-1574982441),Zu=new B(null,"class",
"class",-2030961996),$u=new B(null,"nav#menu","nav#menu",505491164),av=new B(null,"originalEvent","originalEvent",1003682897),bv=new y(null,".",".",1975675962,null),cv=new B(null,"at","at",1476951349),dv=new B(null,"dispatch","dispatch",1319337009),ev=new B(null,"leftFace","leftFace",-596370621),fv=new B(null,"tranform-not-supported","tranform-not-supported",-1130181722),gv=new y(null,"inst","inst",-2008473268,null),hv=new B(null,"native","native",-613060878),iv=new B(null,"html-image","html-image",
1954544999),jv=new y("pixi","AnimatedSprite","pixi/AnimatedSprite",-362928704,null),kv=new B(null,"onLoad","onLoad",-1227893830),lv=new B(null,"action","action",-811238024),mv=new y("pixi","FillStyle","pixi/FillStyle",-231624943,null),nv=new B(null,"name","name",1843675177),ov=new B(null,"innerWidth","innerWidth",1018930249),pv=new B(null,"debug-graphics","debug-graphics",177728062),qv=new B(null,"pijl-schiet","pijl-schiet",-1706021706),rv=new B(null,"queue","queue",1455835879),sv=new B(null,"warn",
"warn",-436710552),tv=new B(null,"mesh?","mesh?",-1754535929),uv=new y(null,"loop","loop",1244978678,null),vv=new B(null,"mes","mes",-890288111),wv=new B(null,"selector","selector",762528866),xv=new B(null,"entitiesWidth","entitiesWidth",1478104236),yv=new B(null,"parameter-from-args","parameter-from-args",-758446196),zv=new B(null,"miser","miser",-556060186),Av=new B(null,"autoUpdate","autoUpdate",1454203047),Bv=new B(null,"intro-done?","intro-done?",1569343107),Cv=new y("js","TouchList","js/TouchList",
835955496,null),Dv=new B(null,"options","options",99638489),Ev=new B(null,"fromFace","fromFace",-1828441872),Fv=new B(null,"background","background",-863952629),Gv=new B(null,"dragging","dragging",1185097613),Hv=new B(null,"scenes","scenes",-425219404),Iv=new B(null,"colnum","colnum",2023796854),Jv=new B(null,"section","section",-300141526),Kv=new B(null,"bracket-info","bracket-info",-1600092774),Lv=new B(null,"prev","prev",-1597069226),Mv=new B(null,"pleintje","pleintje",2039558923),Nv=new y(null,
"Inf","Inf",647172781,null),Ov=new B(null,"keyup","keyup",-794526927),lb=new B(null,"dup","dup",556298533),Pv=new B(null,"originVertex","originVertex",1627984893),Qv=new B(null,"oude-fabriek","oude-fabriek",-1520261567),Rv=new B(null,"verticesAlpha","verticesAlpha",204357654),Sv=new B(null,"room","room",536484922),Tv=new B(null,"fromShape","fromShape",1043929074),Uv=new B(null,"root","root",-448657453),Vv=new B(null,"h1","h1",-1896887462),Wv=new B(null,"rotRightEdge","rotRightEdge",467379478),Xv=
new B(null,"scaleY","scaleY",2067002090),Yv=new B(null,"suffix","suffix",367373057),Zv=new B(null,"ArrowRight","ArrowRight",1621754469),$v=new B(null,"scaleX","scaleX",2116333397),aw=new B(null,"old","old",-1825222690),bw=new B(null,"black","black",1294279647),cw=new y(null,"defn-","defn-",1097765044,null),dw=new B(null,"scale_x","scale_x",-693092595),ew=new B(null,"logger-name","logger-name",-1988126927),fw=new B(null,"buffer","buffer",617295198),gw=new B(null,"scale_y","scale_y",-418133941),hw=
new B(null,"riool-open?","riool-open?",-349335294),iw=new y(null,"when-not","when-not",-1223136340,null),jw=new B(null,"orange","orange",73816386),kw=new B(null,"baseUrl","baseUrl",122264109),lw=new B(null,"isComposing","isComposing",427888757),mw=new B(null,"arg3","arg3",-1486822496),nw=new B(null,"arg1","arg1",951899358),ow=new B(null,"arg2","arg2",1729550917),pw=new B(null,"list","list",765357683),qw=new y("js","HTMLCollection","js/HTMLCollection",-1194061005,null),rw=new B(null,"buttons","buttons",
-1953831197),sw=new B(null,"verticesRadius","verticesRadius",1541211637),tw=new B(null,"column","column",2078222095),uw=new y("collisions","Result","collisions/Result",-1683296816,null),vw=new B(null,"Space","Space",1500017025),ww=new B(null,"key","key",-1516042587),xw=new B(null,"up-arrow","up-arrow",1705310333),yw=new y("pixi","Sprite","pixi/Sprite",-1450328365,null),zw=new B(null,"touchstart","touchstart",369858804),Aw=new B(null,"generator-fn","generator-fn",811851656),Bw=new B(null,"logical-block-callback",
"logical-block-callback",1612691194),Cw=new B(null,"dataTransfer","dataTransfer",-1320237730),Dw=new B(null,"targetPath","targetPath",1835055360),Ew=new B(null,"start-scene","start-scene",1447500955),Fw=new B(null,"slaapkamer","slaapkamer",-447920485),Gw=new B(null,"twist","twist",-1625232883),Hw=new B(null,"overflowchar","overflowchar",-1620088106),wj=new B(null,"parents","parents",-2027538891),Iw=new B(null,"kelder-ingang","kelder-ingang",1255109583),Jw=new B(null,"mincol","mincol",1230695445),
Kw=new B(null,"html-image-error","html-image-error",206828974),Lw=new y(null,"if-let","if-let",1803593690,null),Mw=new y(null,"condp","condp",1054325175,null),Nw=new B(null,"is-verkleed?","is-verkleed?",-323226989),Ow=new B(null,"target-path","target-path",-1565805648),Pw=new B(null,"deref","deref",-145586795),Qw=new B(null,"isInvisibleDefault","isInvisibleDefault",-1818967051),Rw=new B(null,"max-iterations","max-iterations",2021275563),Sw=new B(null,"overlap_y","overlap_y",1187597354),Tw=new B(null,
"hasPrev","hasPrev",788499065),Uw=new B(null,"overlap_x","overlap_x",-1956735614),Vw=new y("js","MouseEvent","js/MouseEvent",1388458930,null),Ww=new B(null,"ArrowLeft","ArrowLeft",-974160950),Xw=new B(null,"config","config",994861415),Yw=new B(null,"spritesheet","spritesheet",-542003038),Zw=new B(null,"id","id",-1388402092),$w=new B(null,"stream","stream",1534941648),ax=new B(null,"ratio","ratio",-926560044),bx=new B(null,"whitespace","whitespace",-1340035483),cx=new y(null,"deftype*","deftype*",
962659890,null),dx=new B(null,"dialogue","dialogue",1647952462),ex=new y(null,"NaN","NaN",666918153,null),fx=new B(null,"path-handler","path-handler",150744369),gx=new B(null,"indent","indent",-148200125),hx=new B(null,"shape","shape",1190694006),ix=new y(null,"defmacro","defmacro",2054157304,null),jx=new B(null,"currentFrame","currentFrame",-301126894),kx=new B(null,"screen","screen",1990059748),lx=new B(null,"else-params","else-params",-832171646),mx=new B(null,"keyword","keyword",811389747),nx=
new y("js","Location","js/Location",-285771268,null),ox=new B(null,"end-block-t","end-block-t",1544648735),px=new B(fa,"space","lambdaisland.glogi.print/space",1682088588),qx=new B(null,"loading","loading",-737050189),rx=new B(null,"hallway","hallway",1955585188);var sx={},tx={},ux=[];function vx(a,b){var c=tx[a];if(void 0!==c)return c;try{ux.push(a);var d=sx[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};sx[a]=d}if(e){delete shadow$provide[a];try{e.call(d,na,vx,d,d.exports)}catch(g){throw console.warn("shadow-cljs - failed to load",a),g;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ux.pop()}return d.exports}vx.cache={};vx.resolve=function(a){return a};var module$node_modules$$pixi$utils$lib$utils=vx(12,{});vx(17,{});vx(18,{});function wx(a){return a instanceof B?rf(a):a}function xx(a,b){var c=a[b];return null==c?a[b]={}:c};function yx(a){this.obj=a;this.A=33024;this.J=0}yx.prototype.ha=function(a,b){a=this.obj;b=wx(b);if(null!=a&&b in a)return a[b]};yx.prototype.X=function(a,b,c){a=this.obj;b=wx(b);return null!=a&&b in a?a[b]:c};yx.prototype.Ob=function(){return this.obj};function zx(a,b){this.ne=100;this.je=a;this.Ee=b;this.Tc=0;this.Pc=null}zx.prototype.get=function(){if(0<this.Tc){this.Tc--;var a=this.Pc;this.Pc=a.next;a.next=null}else a=this.je();return a};zx.prototype.put=function(a){this.Ee(a);this.Tc<this.ne&&(this.Tc++,a.next=this.Pc,this.Pc=a)};function Ax(){this.Vc=this.ic=null}var Cx=new zx(function(){return new Bx},function(a){a.reset()});Ax.prototype.add=function(a,b){var c=Cx.get();c.set(a,b);this.Vc?this.Vc.next=c:this.ic=c;this.Vc=c};Ax.prototype.remove=function(){var a=null;this.ic&&(a=this.ic,this.ic=this.ic.next,this.ic||(this.Vc=null),a.next=null);return a};function Bx(){this.next=this.scope=this.fn=null}Bx.prototype.set=function(a,b){this.fn=a;this.scope=b;this.next=null};
Bx.prototype.reset=function(){this.next=this.scope=this.fn=null};function Dx(){return Sa("iPhone")&&!Sa("iPod")&&!Sa("iPad")};var Ex=Sa("Opera"),Fx=Sa("Trident")||Sa("MSIE"),Gx=Sa("Edge"),Hx=Sa("Gecko")&&!(-1!=Pa.toLowerCase().indexOf("webkit")&&!Sa("Edge"))&&!(Sa("Trident")||Sa("MSIE"))&&!Sa("Edge"),Ix=-1!=Pa.toLowerCase().indexOf("webkit")&&!Sa("Edge");Ix&&Sa("Mobile");Sa("Macintosh");Sa("Windows");Sa("Linux")||Sa("CrOS");var Jx=na.navigator||null;Jx&&(Jx.appVersion||"").indexOf("X11");Sa("Android");Dx();Sa("iPad");Sa("iPod");Dx()||Sa("iPad")||Sa("iPod");Pa.toLowerCase().indexOf("kaios");
function Kx(){var a=na.document;return a?a.documentMode:void 0}var Lx;a:{var Mx="",Nx=function(){var a=Pa;if(Hx)return/rv:([^\);]+)(\)|;)/.exec(a);if(Gx)return/Edge\/([\d\.]+)/.exec(a);if(Fx)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Ix)return/WebKit\/(\S+)/.exec(a);if(Ex)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Nx&&(Mx=Nx?Nx[1]:"");if(Fx){var Ox=Kx();if(null!=Ox&&Ox>parseFloat(Mx)){Lx=String(Ox);break a}}Lx=Mx}var Ea={};
function Px(a){Da(a,function(){for(var b=0,c=Ka(String(Lx)).split("."),d=Ka(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];if(0==g[0].length&&0==h[0].length)break;b=La(0==g[1].length?0:parseInt(g[1],10),0==h[1].length?0:parseInt(h[1],10))||La(0==g[2].length,0==h[2].length)||La(g[2],h[2]);g=g[3];h=h[3]}while(0==b)}return 0<=b})}var Qx;
if(na.document&&Fx){var Rx=Kx();Qx=Rx?Rx:parseInt(Lx,10)||void 0}else Qx=void 0;var Sx=Qx;var Tx;if(!(Tx=!Hx&&!Fx)){var Ux;if(Ux=Fx)Ux=9<=Number(Sx);Tx=Ux}Tx||Hx&&Px("1.9.1");Fx&&Px("9");function Vx(){var a=document;var b="IFRAME";"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)};function Wx(a){na.setTimeout(function(){throw a;},0)}var Xx;
function Yx(){var a=na.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Sa("Presto")&&(a=function(){var e=Vx();e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var g="callImmediate"+Math.random(),h="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=ya(function(k){if(("*"==h||k.origin==h)&&k.data==g)this.port1.onmessage()},this);f.addEventListener("message",
e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,h)}}});if("undefined"!==typeof a&&!Sa("Trident")&&!Sa("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.cb;c.cb=null;e()}};return function(e){d.next={cb:e};d=d.next;b.port2.postMessage(0)}}return function(e){na.setTimeout(e,0)}};function Zx(a,b){$x||ay();by||($x(),by=!0);cy.add(a,b)}var $x;function ay(){if(na.Promise&&na.Promise.resolve){var a=na.Promise.resolve(void 0);$x=function(){a.then(dy)}}else $x=function(){var b=dy;"function"!==typeof na.setImmediate||na.Window&&na.Window.prototype&&!Sa("Edge")&&na.Window.prototype.setImmediate==na.setImmediate?(Xx||(Xx=Yx()),Xx(b)):na.setImmediate(b)}}var by=!1,cy=new Ax;function dy(){for(var a;a=cy.remove();){try{a.fn.call(a.scope)}catch(b){Wx(b)}Cx.put(a)}by=!1};function ey(a,b){this.state_=fy;this.Jd=void 0;this.Zb=this.Gb=this.Vb=null;this.Oc=this.jd=!1;if(a!=pa)try{var c=this;a.call(b,function(d){gy(c,hy,d)},function(d){gy(c,iy,d)})}catch(d){gy(this,iy,d)}}var fy=0,hy=2,iy=3;function jy(){this.next=this.context=this.fc=this.Ec=this.Nb=null;this.Hc=!1}jy.prototype.reset=function(){this.context=this.fc=this.Ec=this.Nb=null;this.Hc=!1};var ky=new zx(function(){return new jy},function(a){a.reset()});
function ly(a,b,c){var d=ky.get();d.Ec=a;d.fc=b;d.context=c;return d}function my(a,b,c){ny(a,b,c,null)||Zx(za(b,a))}function oy(a){return new ey(function(b,c){var d=a.length,e=[];if(d)for(var f=function(m,p){d--;e[m]=p;0==d&&b(e)},g=function(m){c(m)},h=0,k;h<a.length;h++)k=a[h],my(k,za(f,h),g);else b(e)})}ey.prototype.then=function(a,b,c){return py(this,"function"===typeof a?a:null,"function"===typeof b?b:null,c)};ey.prototype.$goog_Thenable=!0;
ey.prototype.cancel=function(a){if(this.state_==fy){var b=new qy(a);Zx(function(){ry(this,b)},this)}};function ry(a,b){if(a.state_==fy)if(a.Vb){var c=a.Vb;if(c.Gb){for(var d=0,e=null,f=null,g=c.Gb;g&&(g.Hc||(d++,g.Nb==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.state_==fy&&1==d?ry(c,b):(f?(d=f,d.next==c.Zb&&(c.Zb=d),d.next=d.next.next):sy(c),ty(c,e,iy,b)))}a.Vb=null}else gy(a,iy,b)}function uy(a,b){a.Gb||a.state_!=hy&&a.state_!=iy||vy(a);a.Zb?a.Zb.next=b:a.Gb=b;a.Zb=b}
function py(a,b,c,d){var e=ly(null,null,null);e.Nb=new ey(function(f,g){e.Ec=b?function(h){try{var k=b.call(d,h);f(k)}catch(m){g(m)}}:f;e.fc=c?function(h){try{var k=c.call(d,h);void 0===k&&h instanceof qy?g(h):f(k)}catch(m){g(m)}}:g});e.Nb.Vb=a;uy(a,e);return e.Nb}ey.prototype.Je=function(a){this.state_=fy;gy(this,hy,a)};ey.prototype.Ke=function(a){this.state_=fy;gy(this,iy,a)};
function gy(a,b,c){a.state_==fy&&(a===c&&(b=iy,c=new TypeError("Promise cannot resolve to itself")),a.state_=1,ny(c,a.Je,a.Ke,a)||(a.Jd=c,a.state_=b,a.Vb=null,vy(a),b!=iy||c instanceof qy||wy(a,c)))}
function ny(a,b,c,d){if(a instanceof ey)return uy(a,ly(b||pa,c||null,d)),!0;if(a)try{var e=!!a.$goog_Thenable}catch(g){e=!1}else e=!1;if(e)return a.then(b,c,d),!0;e=typeof a;if("object"==e&&null!=a||"function"==e)try{var f=a.then;if("function"===typeof f)return xy(a,f,b,c,d),!0}catch(g){return c.call(d,g),!0}return!1}function xy(a,b,c,d,e){function f(k){h||(h=!0,d.call(e,k))}function g(k){h||(h=!0,c.call(e,k))}var h=!1;try{b.call(a,g,f)}catch(k){f(k)}}function vy(a){a.jd||(a.jd=!0,Zx(a.le,a))}
function sy(a){var b=null;a.Gb&&(b=a.Gb,a.Gb=b.next,b.next=null);a.Gb||(a.Zb=null);return b}ey.prototype.le=function(){for(var a;a=sy(this);)ty(this,a,this.state_,this.Jd);this.jd=!1};function ty(a,b,c,d){if(c==iy&&b.fc&&!b.Hc)for(;a&&a.Oc;a=a.Vb)a.Oc=!1;if(b.Nb)b.Nb.Vb=null,yy(b,c,d);else try{b.Hc?b.Ec.call(b.context):yy(b,c,d)}catch(e){zy.call(null,e)}ky.put(b)}function yy(a,b,c){b==hy?a.Ec.call(a.context,c):a.fc&&a.fc.call(a.context,c)}
function wy(a,b){a.Oc=!0;Zx(function(){a.Oc&&zy.call(null,b)})}var zy=Wx;function qy(a){Ca.call(this,a)}Aa(qy,Ca);qy.prototype.name="cancel";function Ay(a){if(null!=a&&null!=a.kd)a=a.kd(a);else{var b=Ay[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=Ay._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("Promisable.-\x3epromise*",a);}return a};var By=kg("undefined"!==typeof Promise?Promise:ey);function Cy(a){return new (u(By))(function(b){return b.g?b.g(a):b.call(null,a)})}function Dy(a){return new (u(By))(function(b,c){return c.g?c.g(a):c.call(null,a)})}function Ey(a,b){return(Fy.g?Fy.g(a):Fy.call(null,a)).then(function(c){return b.g?b.g(c):b.call(null,c)})}ey.prototype.kd=function(){return this};Ay._=function(a){return Cy(a)};"undefined"!==typeof Promise&&(Promise.prototype.kd=function(){return this});function Fy(a){return Ay(a)};var Gy={};function Hy(a,b){this.name=a;this.value=b}Hy.prototype.toString=function(){return this.name};var Iy=new Hy("OFF",Infinity),Jy=[Iy,new Hy("SHOUT",1200),new Hy("SEVERE",1E3),new Hy("WARNING",900),new Hy("INFO",800),new Hy("CONFIG",700),new Hy("FINE",500),new Hy("FINER",400),new Hy("FINEST",300),new Hy("ALL",0)],Ky=null;function Ly(a,b,c,d,e){this.hd=null;this.reset(a||Iy,b,c,d,e)}
Ly.prototype.reset=function(a,b,c,d,e){this.Ie=d||Date.now();this.Hd=a;this.Ae=b;this.oe=c;this.hd=null;this.He="number"===typeof e?e:Ny};var Ny=0;function Oy(){return null}function Py(){}function Qy(){return!1}function Ry(){}function Sy(){};function Ty(a){var b=/>/;if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),"");if(b instanceof RegExp){var c=RegExp,d=b.source,e=q(b.ignoreCase)?"gi":"g";e=q(b.multiline)?[e,"m"].join(""):e;b=q(b.nf)?[e,"u"].join(""):e;return a.replace(new c(d,b),"")}throw["Invalid match arg: ",t.g(b)].join("");}
function Uy(a,b){var c=new Wa;for(b=F(b);;)if(null!=b)c.append(t.g(G(b))),b=H(b),null!=b&&c.append(a);else return c.toString()}function Vy(a){return a.toLowerCase()}function Wy(a){return Ua(a)}
function Xy(a,b){if(0>=b||b>=2+I(a))return pe.h(fh(je("",ng.h(t,F(a)))),"");if(q(hf?Ic(1,b):gf.call(null,1,b)))return new V(null,1,5,Y,[a],null);if(q(hf?Ic(2,b):gf.call(null,2,b)))return new V(null,2,5,Y,["",a],null);b-=2;var c=pe.h;var d=fh(ng.h(t,F(a)));d=nh(null,d,0,b|0,null);return c.call(pe,fh(je("",d)),a.substring(b))}function Yy(a,b){return Zy(a,b,0)}
function Zy(a,b,c){if("/(?:)/"===t.g(b))b=Xy(a,c);else if(1>c)b=fh(t.g(a).split(b));else a:for(var d=c,e=qe;;){if(1===d){b=pe.h(e,a);break a}var f=Oi(b,a);if(null!=f){var g=a.indexOf(f);f=a.substring(g+I(f));--d;e=pe.h(e,a.substring(0,g));a=f}else{b=pe.h(e,a);break a}}if(0===c&&1<I(b))a:for(c=b;;)if(""===(null==c?null:tc(c)))c=null==c?null:uc(c);else break a;else c=b;return c};Date.now();var $y={},az="undefined"!==typeof ma&&"undefined"!==typeof Gy&&"undefined"!==typeof Hy?Hy:Ba.kf.Qe;function bz(a){if(E.h(Pj,a))a="";else if("string"!==typeof a)if((a instanceof B||a instanceof y)&&null==of(a))a=rf(a);else{if(a instanceof B||a instanceof y){var b=of(a);b=q(b)?!0:b}else b=!1;a=Pe(b)?[of(a),"/",rf(a)].join(""):t.g(a)}return a}bz("");
function cz(a){if("undefined"!==typeof ma&&"undefined"!==typeof Gy&&"undefined"!==typeof Hy){if(!Ky){Ky={};for(var b=0,c;c=Jy[b];b++)Ky[c.value]=c,Ky[c.name]=c}a=Ky[a]||null}else a=null;return a}var dz,ez=az.Se;dz=q(ez)?ez:cz("SHOUT");var fz,gz=az.Oe;fz=q(gz)?gz:cz("FINEST");var hz,iz=az.Ne;hz=q(iz)?iz:cz("CONFIG");var jz,kz=az.Qd;jz=q(kz)?kz:cz("WARNING");var lz,mz=az.Nd;lz=q(mz)?mz:cz("FINER");var nz,oz=az.Md;nz=q(oz)?oz:cz("FINE");var pz,qz=az.Me;pz=q(qz)?qz:cz("ALL");var rz,sz=az.Qd;
rz=q(sz)?sz:cz("WARNING");var tz,uz=az.Pd;tz=q(uz)?uz:cz("SEVERE");var vz,wz=az.Re;vz=q(wz)?wz:cz("OFF");var xz,yz=az.Pe;xz=q(yz)?yz:cz("INFO");var zz,Az=az.Md;zz=q(Az)?Az:cz("FINE");var Bz,Cz=az.Pd;Bz=q(Cz)?Cz:cz("SEVERE");var Dz,Ez=az.Nd;Dz=q(Ez)?Ez:cz("FINER");var Fz=oi([tl,br,Xw,sv,Ts,Lt,Wn,Ns,Ds,Qu,gp,zn,hm,jm],[dz,fz,hz,jz,lz,nz,pz,rz,tz,vz,xz,zz,Bz,Dz]);function Gz(a){return A.h(Fz,a).value}
function Hz(a,b,c){if(q(!1)){var d=Oy(bz(a));q(d)&&(b=A.h(Fz,b),a=new ("undefined"!==typeof ma&&"undefined"!==typeof Ba&&"undefined"!==typeof Ba.Od?Ba.Od:Ly)(b,c,a),q(null)&&(a.hd=null),"undefined"!==typeof ma&&"undefined"!==typeof Gy&&"undefined"!==typeof Sy||d.jf(a))}}function Iz(a,b){a=Oy(bz(a));null!=a&&(b=A.h(Fz,b),"undefined"===typeof ma||"undefined"===typeof Gy||"undefined"===typeof Ry)&&(a.Hd=b)}
function Jz(a){for(var b=F(a),c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);a=N(f,0,null);f=N(f,1,null);f="string"===typeof f?qf.g(f):f;Iz(a,f);e+=1}else if(a=F(b))b=a,Le(b)?(c=fd(b),b=gd(b),a=c,d=I(c),c=a):(c=G(b),a=N(c,0,null),f=N(c,1,null),c="string"===typeof f?qf.g(f):f,Iz(a,c),b=H(b),c=null,d=0),e=0;else return null}var Kz=["lambdaisland","glogi","set_levels"],Lz=na;Kz[0]in Lz||"undefined"==typeof Lz.execScript||Lz.execScript("var "+Kz[0]);
for(var Mz;Kz.length&&(Mz=Kz.shift());)Kz.length||void 0===Jz?Lz=Lz[Mz]&&Lz[Mz]!==Object.prototype[Mz]?Lz[Mz]:Lz[Mz]={}:Lz[Mz]=Jz;function Nz(a,b){b=Pf(O,Ga(a,"__glogi_handlers__"),b);a.__glogi_handlers__=b}function Oz(a){switch(arguments.length){case 1:Pz(arguments[0]);break;case 2:Qz(arguments[0],arguments[1]);break;default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}}function Pz(a){return Qz("",a)}
function Qz(a,b){function c(e){e=new n(null,6,[gk,e.He,jt,e.Ie,Xj,qf.g(Vy(e.Hd.name)),dp,e.Ae,ew,e.oe,pl,e.hd],null);return b.g?b.g(e):b.call(null,e)}a=Oy(bz(a));if(q(a)){var d=A.h(Ga(a,"__glogi_handlers__"),b);q(d)&&("undefined"!==typeof ma&&"undefined"!==typeof Gy&&"undefined"!==typeof Qy||a.lf(d));Nz(a,M([b,c]));return null==a?null:"undefined"!==typeof ma&&"undefined"!==typeof Gy&&"undefined"!==typeof Py?void 0:a.Te(c)}return null};var Rz;function Sz(a,b){if(null!=a&&null!=a.Zc)a=a.Zc(a,b);else{var c=Sz[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Sz._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("StringSeparator.split",a);}return a}RegExp.prototype.Zc=function(a,b){return Yy(b,this)};Sz.string=function(a,b){return Yy(b,a)};
function Tz(a){switch(a){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":return Er;case "-":case "_":case " ":case "\t":case "\n":case "\x0B":case "\f":case "\r":return bx;case "a":case "b":case "c":case "d":case "e":case "f":case "g":case "h":case "i":case "j":case "k":case "l":case "m":case "n":case "o":case "p":case "q":case "r":case "s":case "t":case "u":case "v":case "w":case "x":case "y":case "z":return Lk;case "A":case "B":case "C":case "D":case "E":case "F":case "G":case "H":case "I":case "J":case "K":case "L":case "M":case "N":case "O":case "P":case "Q":case "R":case "S":case "T":case "U":case "V":case "W":case "X":case "Y":case "Z":return js;
default:return Dr}}function Uz(a){for(var b=Bg(Tz,a),c=a.length,d=Zc(qe),e=0,f=0;;){var g=f+1,h=function(k,m){return function(p){return p>m?Gf.h(k,a.substring(m,p)):k}}(d,e,f,g,b,c);if(f>=c)return(c=F(ad(h(f))))?c:new V(null,1,5,Y,[""],null);E.h(de(b,f),bx)?(d=h(f),f=e=g):function(){var k=I(b);var m=nh(null,b,f|0,k|0,null);k=N(m,0,null);var p=N(m,1,null);m=N(m,2,null);return Uf(k,js)&&E.h(p,js)||Uf(k,Er)&&E.h(p,Er)||E.h(k,js)&&E.h(p,js)&&E.h(m,Lk)}()?(d=h(g),f=e=g):f=g}}var Vz;
"undefined"===typeof Rz&&(Rz=function(a){this.re=a;this.A=393216;this.J=0},Rz.prototype.$=function(a,b){return new Rz(b)},Rz.prototype.Z=function(){return this.re},Rz.prototype.Zc=function(a,b){return Uz(b)},Rz.vb=!0,Rz.hb="camel-snake-kebab.internals.string-separator/t_camel_snake_kebab$internals$string_separator20842",Rz.Ab=function(a){return w(a,"camel-snake-kebab.internals.string-separator/t_camel_snake_kebab$internals$string_separator20842")});Vz=new Rz(T);var Wz=function Wz(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=4<c.length?new Fd(c.slice(4),0,null):null;return Wz.o(arguments[0],arguments[1],arguments[2],arguments[3],c)};Wz.o=function(a,b,c,d,e){e=S(e);e=A.j(e,mp,Vz);return(d=F(Sz(e,d)))?(e=F(d),d=G(e),e=H(e),Uy(c,je(a.g?a.g(d):a.call(null,d),ng.h(b,e)))):""};Wz.H=4;Wz.G=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);var e=H(d);d=G(e);e=H(e);return this.o(b,a,c,d,e)};function Xz(a,b){if(null!=a&&null!=a.Yc)a=a.Yc(a,b);else{var c=Xz[qa(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=Xz._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw sb("AlterName.alter-name",a);}return a}Xz.string=function(a,b){return b.g?b.g(a):b.call(null,a)};B.prototype.Yc=function(a,b){if(q(of(this)))throw Mj("Namespaced keywords are not supported",new n(null,1,[or,this],null));a=qf.g;var c=rf(this);b=b.g?b.g(c):b.call(null,c);return a.call(qf,b)};
y.prototype.Yc=function(a,b){if(q(of(this)))throw Mj("Namespaced symbols are not supported",new n(null,1,[or,this],null));a=Bd.g;var c=rf(this);b=b.g?b.g(c):b.call(null,c);return a.call(Bd,b)};function Yz(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new Fd(b.slice(1),0,null):null;return Zz(arguments[0],b)}function Zz(a,b){return Xz(a,function(c){return Sf(Wz,Vy,Wy,"",c,M([b]))})}var $z=function $z(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Fd(c.slice(1),0,null):null;return $z.o(arguments[0],c)};$z.o=function(a,b){return Sf(Wz,Vy,Wy,"",rf(a),M([b]))};$z.H=1;
$z.G=function(a){var b=G(a);a=H(a);return this.o(b,a)};var aA=function aA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Fd(c.slice(1),0,null):null;return aA.o(arguments[0],c)};aA.o=function(a,b){return qf.g(Sf(Wz,Vy,Vy,"-",rf(a),M([b])))};aA.H=1;aA.G=function(a){var b=G(a);a=H(a);return this.o(b,a)};var bA={},cA,dA,eA,fA,gA,hA,iA=function iA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Fd(c.slice(0),0,null):null;return iA.o(c)};iA.o=function(a){return w(ab,Of(fj,a))};iA.H=0;iA.G=function(a){return this.o(F(a))};var jA=function jA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Fd(c.slice(0),0,null):null;return jA.o(c)};jA.o=function(a){return w(ab,Of(ej,a))};jA.H=0;jA.G=function(a){return this.o(F(a))};
function kA(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new Fd(b.slice(0),0,null):null;Of(jA,b);w(ab,"\n")}function lA(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function mA(a,b,c){var d=c;for(c=qe;;){if(Be(d))return new V(null,2,5,Y,[c,b],null);var e=G(d);d=H(d);e=Of(a,new V(null,2,5,Y,[e,b],null));b=N(e,0,null);e=N(e,1,null);c=pe.h(c,b);b=e}}function nA(a,b){var c=b;for(b=qe;;){var d=Of(a,new V(null,1,5,Y,[c],null));c=N(d,0,null);d=N(d,1,null);if(pb(c))return new V(null,2,5,Y,[b,d],null);b=pe.h(b,c);c=d}}
function oA(a){return new V(null,2,5,Y,[Ag.h(T,function(){return function d(c){return new sf(null,function(){for(;;){var e=F(c);if(e){if(Le(e)){var f=fd(e),g=I(f),h=xf(g);a:for(var k=0;;)if(k<g){var m=Pb(f,k),p=N(m,0,null);m=N(m,1,null);var r=N(m,0,null);N(m,1,null);h.add(new V(null,2,5,Y,[p,r],null));k+=1}else{f=!0;break a}return f?zf(Bf(h),d(gd(e))):zf(Bf(h),null)}f=G(e);h=N(f,0,null);f=N(f,1,null);g=N(f,0,null);N(f,1,null);return je(new V(null,2,5,Y,[h,g],null),d(Hd(e)))}return null}},null,null)}(a)}()),
Ag.h(T,function(){return function d(c){return new sf(null,function(){for(;;){var e=F(c);if(e){if(Le(e)){var f=fd(e),g=I(f),h=xf(g);a:for(var k=0;;)if(k<g){var m=Pb(f,k),p=N(m,0,null);m=N(m,1,null);N(m,0,null);m=N(m,1,null);h.add(new V(null,2,5,Y,[p,m],null));k+=1}else{f=!0;break a}return f?zf(Bf(h),d(gd(e))):zf(Bf(h),null)}f=G(e);h=N(f,0,null);f=N(f,1,null);N(f,0,null);f=N(f,1,null);return je(new V(null,2,5,Y,[h,f],null),d(Hd(e)))}return null}},null,null)}(a)}())],null)}
function pA(a,b){return Ag.h(T,function(){return function e(d){return new sf(null,function(){for(;;){var f=F(d);if(f){if(Le(f)){var g=fd(f),h=I(g),k=xf(h);a:for(var m=0;;)if(m<h){var p=Pb(g,m),r=N(p,0,null);p=N(p,1,null);k.add(new V(null,2,5,Y,[r,new V(null,2,5,Y,[p,b],null)],null));m+=1}else{g=!0;break a}return g?zf(Bf(k),e(gd(f))):zf(Bf(k),null)}g=G(f);k=N(g,0,null);g=N(g,1,null);return je(new V(null,2,5,Y,[k,new V(null,2,5,Y,[g,b],null)],null),e(Hd(f)))}return null}},null,null)}(a)}())}
function qA(){var a=ab;if(null!=a&&null!=a.gd)a.gd(a);else{var b=qA[qa(null==a?null:a)];if(null!=b)b.g?b.g(a):b.call(null,a);else if(b=qA._,null!=b)b.g?b.g(a):b.call(null,a);else throw sb("IPrettyFlush.-ppflush",a);}}function rA(a,b){a=u(u(a));return b.g?b.g(a):b.call(null,a)}function sA(a,b,c){mg.F(u(a),O,b,c)}function tA(a,b){E.h(b,"\n")?(sA(a,To,0),sA(a,bk,rA(a,bk)+1)):sA(a,To,rA(a,To)+1);return w(rA(a,km),b)}
function uA(a,b){var c=kg(new n(null,4,[Ou,b,To,0,bk,0,km,a],null));if("undefined"===typeof Xa||"undefined"===typeof bA||"undefined"===typeof cA)cA=function(d,e,f,g){this.na=d;this.md=e;this.fields=f;this.se=g;this.A=1074167808;this.J=0},cA.prototype.$=function(d,e){return new cA(this.na,this.md,this.fields,e)},cA.prototype.Z=function(){return this.se},cA.prototype.Ob=function(){return this.fields},cA.prototype.ub=function(){return Tc(this.na)},cA.prototype.Ib=function(d,e){d=rb(e);if(q(E.h?E.h(String,
d):E.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?sA(this,To,rA(this,To)+I(e)):(sA(this,To,I(e)-d-1),sA(this,bk,rA(this,bk)+I(wg(function(f){return E.h(f,"\n")},e)))),w(rA(this,km),e);if(q(E.h?E.h(Number,d):E.call(null,Number,d)))return tA(this,e);throw Error(["No matching clause: ",t.g(d)].join(""));},cA.vb=!0,cA.hb="cljs.pprint/t_cljs$pprint20970",cA.Ab=function(d){return w(d,"cljs.pprint/t_cljs$pprint20970")};return new cA(a,b,c,T)}
function vA(a,b,c,d,e,f,g,h,k,m,p,r,v){this.parent=a;this.Xa=b;this.Ea=c;this.Da=d;this.Ta=e;this.Ua=f;this.prefix=g;this.Wa=h;this.Ya=k;this.Va=m;this.I=p;this.u=r;this.C=v;this.A=2230716170;this.J=139264}l=vA.prototype;l.ha=function(a,b){return this.X(null,b,null)};
l.X=function(a,b,c){switch(b instanceof B?b.ma:null){case "parent":return this.parent;case "section":return this.Xa;case "start-col":return this.Ea;case "indent":return this.Da;case "done-nl":return this.Ta;case "intra-block-nl":return this.Ua;case "prefix":return this.prefix;case "per-line-prefix":return this.Wa;case "suffix":return this.Ya;case "logical-block-callback":return this.Va;default:return A.j(this.u,b,c)}};
l.$a=function(a,b,c){return yb(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
l.aa=function(a,b,c){return Ri(b,function(d){return Ri(b,Zi,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,Ff.h(new V(null,10,5,Y,[new V(null,2,5,Y,[Un,this.parent],null),new V(null,2,5,Y,[Jv,this.Xa],null),new V(null,2,5,Y,[On,this.Ea],null),new V(null,2,5,Y,[gx,this.Da],null),new V(null,2,5,Y,[uk,this.Ta],null),new V(null,2,5,Y,[fn,this.Ua],null),new V(null,2,5,Y,[pm,this.prefix],null),new V(null,2,5,Y,[kk,this.Wa],null),new V(null,2,5,Y,[Yv,this.Ya],null),new V(null,2,5,Y,[Bw,this.Va],
null)],null),this.u))};l.qa=function(){return new yh(this,10,new V(null,10,5,Y,[Un,Jv,On,gx,uk,fn,pm,kk,Yv,Bw],null),q(this.u)?pd(this.u):Xf())};l.Z=function(){return this.I};l.da=function(){return 10+I(this.u)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=1977012399^Pd(this)};
l.K=function(a,b){return null!=b&&this.constructor===b.constructor&&E.h(this.parent,b.parent)&&E.h(this.Xa,b.Xa)&&E.h(this.Ea,b.Ea)&&E.h(this.Da,b.Da)&&E.h(this.Ta,b.Ta)&&E.h(this.Ua,b.Ua)&&E.h(this.prefix,b.prefix)&&E.h(this.Wa,b.Wa)&&E.h(this.Ya,b.Ya)&&E.h(this.Va,b.Va)&&E.h(this.u,b.u)};
l.gb=function(a,b){return Re(new vi(null,new n(null,10,[Yv,null,gx,null,Un,null,Jv,null,uk,null,On,null,pm,null,kk,null,Bw,null,fn,null],null),null),b)?ve.h(Ac(Ag.h(T,this),this.I),b):new vA(this.parent,this.Xa,this.Ea,this.Da,this.Ta,this.Ua,this.prefix,this.Wa,this.Ya,this.Va,this.I,Wf(ve.h(this.u,b)),null)};
l.ja=function(a,b,c){return q(Q.h?Q.h(Un,b):Q.call(null,Un,b))?new vA(c,this.Xa,this.Ea,this.Da,this.Ta,this.Ua,this.prefix,this.Wa,this.Ya,this.Va,this.I,this.u,null):q(Q.h?Q.h(Jv,b):Q.call(null,Jv,b))?new vA(this.parent,c,this.Ea,this.Da,this.Ta,this.Ua,this.prefix,this.Wa,this.Ya,this.Va,this.I,this.u,null):q(Q.h?Q.h(On,b):Q.call(null,On,b))?new vA(this.parent,this.Xa,c,this.Da,this.Ta,this.Ua,this.prefix,this.Wa,this.Ya,this.Va,this.I,this.u,null):q(Q.h?Q.h(gx,b):Q.call(null,gx,b))?new vA(this.parent,
this.Xa,this.Ea,c,this.Ta,this.Ua,this.prefix,this.Wa,this.Ya,this.Va,this.I,this.u,null):q(Q.h?Q.h(uk,b):Q.call(null,uk,b))?new vA(this.parent,this.Xa,this.Ea,this.Da,c,this.Ua,this.prefix,this.Wa,this.Ya,this.Va,this.I,this.u,null):q(Q.h?Q.h(fn,b):Q.call(null,fn,b))?new vA(this.parent,this.Xa,this.Ea,this.Da,this.Ta,c,this.prefix,this.Wa,this.Ya,this.Va,this.I,this.u,null):q(Q.h?Q.h(pm,b):Q.call(null,pm,b))?new vA(this.parent,this.Xa,this.Ea,this.Da,this.Ta,this.Ua,c,this.Wa,this.Ya,this.Va,this.I,
this.u,null):q(Q.h?Q.h(kk,b):Q.call(null,kk,b))?new vA(this.parent,this.Xa,this.Ea,this.Da,this.Ta,this.Ua,this.prefix,c,this.Ya,this.Va,this.I,this.u,null):q(Q.h?Q.h(Yv,b):Q.call(null,Yv,b))?new vA(this.parent,this.Xa,this.Ea,this.Da,this.Ta,this.Ua,this.prefix,this.Wa,c,this.Va,this.I,this.u,null):q(Q.h?Q.h(Bw,b):Q.call(null,Bw,b))?new vA(this.parent,this.Xa,this.Ea,this.Da,this.Ta,this.Ua,this.prefix,this.Wa,this.Ya,c,this.I,this.u,null):new vA(this.parent,this.Xa,this.Ea,this.Da,this.Ta,this.Ua,
this.prefix,this.Wa,this.Ya,this.Va,this.I,O.j(this.u,b,c),null)};l.ba=function(){return F(Ff.h(new V(null,10,5,Y,[new Zg(Un,this.parent),new Zg(Jv,this.Xa),new Zg(On,this.Ea),new Zg(gx,this.Da),new Zg(uk,this.Ta),new Zg(fn,this.Ua),new Zg(pm,this.prefix),new Zg(kk,this.Wa),new Zg(Yv,this.Ya),new Zg(Bw,this.Va)],null),this.u))};l.$=function(a,b){return new vA(this.parent,this.Xa,this.Ea,this.Da,this.Ta,this.Ua,this.prefix,this.Wa,this.Ya,this.Va,b,this.u,this.C)};
l.ga=function(a,b){return Ke(b)?this.ja(null,Pb(b,0),Pb(b,1)):yb(Mb,this,b)};function wA(a,b){for(b=Un.g(b);;){if(null==b)return!1;if(a===b)return!0;b=Un.g(b)}}function xA(a,b,c,d,e,f,g,h){this.V=a;this.data=b;this.ib=c;this.U=d;this.T=e;this.I=f;this.u=g;this.C=h;this.A=2230716170;this.J=139264}l=xA.prototype;l.ha=function(a,b){return this.X(null,b,null)};
l.X=function(a,b,c){switch(b instanceof B?b.ma:null){case "type-tag":return this.V;case "data":return this.data;case "trailing-white-space":return this.ib;case "start-pos":return this.U;case "end-pos":return this.T;default:return A.j(this.u,b,c)}};l.$a=function(a,b,c){return yb(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
l.aa=function(a,b,c){return Ri(b,function(d){return Ri(b,Zi,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,Ff.h(new V(null,5,5,Y,[new V(null,2,5,Y,[Yj,this.V],null),new V(null,2,5,Y,[nk,this.data],null),new V(null,2,5,Y,[mm,this.ib],null),new V(null,2,5,Y,[tm,this.U],null),new V(null,2,5,Y,[Jq,this.T],null)],null),this.u))};l.qa=function(){return new yh(this,5,new V(null,5,5,Y,[Yj,nk,mm,tm,Jq],null),q(this.u)?pd(this.u):Xf())};l.Z=function(){return this.I};l.da=function(){return 5+I(this.u)};
l.ca=function(){var a=this.C;return null!=a?a:this.C=a=1809113693^Pd(this)};l.K=function(a,b){return null!=b&&this.constructor===b.constructor&&E.h(this.V,b.V)&&E.h(this.data,b.data)&&E.h(this.ib,b.ib)&&E.h(this.U,b.U)&&E.h(this.T,b.T)&&E.h(this.u,b.u)};l.gb=function(a,b){return Re(new vi(null,new n(null,5,[Jq,null,mm,null,Yj,null,tm,null,nk,null],null),null),b)?ve.h(Ac(Ag.h(T,this),this.I),b):new xA(this.V,this.data,this.ib,this.U,this.T,this.I,Wf(ve.h(this.u,b)),null)};
l.ja=function(a,b,c){return q(Q.h?Q.h(Yj,b):Q.call(null,Yj,b))?new xA(c,this.data,this.ib,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(nk,b):Q.call(null,nk,b))?new xA(this.V,c,this.ib,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(mm,b):Q.call(null,mm,b))?new xA(this.V,this.data,c,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(tm,b):Q.call(null,tm,b))?new xA(this.V,this.data,this.ib,c,this.T,this.I,this.u,null):q(Q.h?Q.h(Jq,b):Q.call(null,Jq,b))?new xA(this.V,this.data,this.ib,this.U,c,this.I,this.u,null):
new xA(this.V,this.data,this.ib,this.U,this.T,this.I,O.j(this.u,b,c),null)};l.ba=function(){return F(Ff.h(new V(null,5,5,Y,[new Zg(Yj,this.V),new Zg(nk,this.data),new Zg(mm,this.ib),new Zg(tm,this.U),new Zg(Jq,this.T)],null),this.u))};l.$=function(a,b){return new xA(this.V,this.data,this.ib,this.U,this.T,b,this.u,this.C)};l.ga=function(a,b){return Ke(b)?this.ja(null,Pb(b,0),Pb(b,1)):yb(Mb,this,b)};
function yA(a,b,c,d,e,f,g,h){this.V=a;this.type=b;this.Y=c;this.U=d;this.T=e;this.I=f;this.u=g;this.C=h;this.A=2230716170;this.J=139264}l=yA.prototype;l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){switch(b instanceof B?b.ma:null){case "type-tag":return this.V;case "type":return this.type;case "logical-block":return this.Y;case "start-pos":return this.U;case "end-pos":return this.T;default:return A.j(this.u,b,c)}};
l.$a=function(a,b,c){return yb(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};l.aa=function(a,b,c){return Ri(b,function(d){return Ri(b,Zi,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,Ff.h(new V(null,5,5,Y,[new V(null,2,5,Y,[Yj,this.V],null),new V(null,2,5,Y,[Nm,this.type],null),new V(null,2,5,Y,[An,this.Y],null),new V(null,2,5,Y,[tm,this.U],null),new V(null,2,5,Y,[Jq,this.T],null)],null),this.u))};
l.qa=function(){return new yh(this,5,new V(null,5,5,Y,[Yj,Nm,An,tm,Jq],null),q(this.u)?pd(this.u):Xf())};l.Z=function(){return this.I};l.da=function(){return 5+I(this.u)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=-1640656800^Pd(this)};l.K=function(a,b){return null!=b&&this.constructor===b.constructor&&E.h(this.V,b.V)&&E.h(this.type,b.type)&&E.h(this.Y,b.Y)&&E.h(this.U,b.U)&&E.h(this.T,b.T)&&E.h(this.u,b.u)};
l.gb=function(a,b){return Re(new vi(null,new n(null,5,[Jq,null,Nm,null,An,null,Yj,null,tm,null],null),null),b)?ve.h(Ac(Ag.h(T,this),this.I),b):new yA(this.V,this.type,this.Y,this.U,this.T,this.I,Wf(ve.h(this.u,b)),null)};
l.ja=function(a,b,c){return q(Q.h?Q.h(Yj,b):Q.call(null,Yj,b))?new yA(c,this.type,this.Y,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(Nm,b):Q.call(null,Nm,b))?new yA(this.V,c,this.Y,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(An,b):Q.call(null,An,b))?new yA(this.V,this.type,c,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(tm,b):Q.call(null,tm,b))?new yA(this.V,this.type,this.Y,c,this.T,this.I,this.u,null):q(Q.h?Q.h(Jq,b):Q.call(null,Jq,b))?new yA(this.V,this.type,this.Y,this.U,c,this.I,this.u,null):new yA(this.V,
this.type,this.Y,this.U,this.T,this.I,O.j(this.u,b,c),null)};l.ba=function(){return F(Ff.h(new V(null,5,5,Y,[new Zg(Yj,this.V),new Zg(Nm,this.type),new Zg(An,this.Y),new Zg(tm,this.U),new Zg(Jq,this.T)],null),this.u))};l.$=function(a,b){return new yA(this.V,this.type,this.Y,this.U,this.T,b,this.u,this.C)};l.ga=function(a,b){return Ke(b)?this.ja(null,Pb(b,0),Pb(b,1)):yb(Mb,this,b)};
function zA(a,b,c,d,e,f,g){this.V=a;this.Y=b;this.U=c;this.T=d;this.I=e;this.u=f;this.C=g;this.A=2230716170;this.J=139264}l=zA.prototype;l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){switch(b instanceof B?b.ma:null){case "type-tag":return this.V;case "logical-block":return this.Y;case "start-pos":return this.U;case "end-pos":return this.T;default:return A.j(this.u,b,c)}};
l.$a=function(a,b,c){return yb(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};l.aa=function(a,b,c){return Ri(b,function(d){return Ri(b,Zi,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,Ff.h(new V(null,4,5,Y,[new V(null,2,5,Y,[Yj,this.V],null),new V(null,2,5,Y,[An,this.Y],null),new V(null,2,5,Y,[tm,this.U],null),new V(null,2,5,Y,[Jq,this.T],null)],null),this.u))};
l.qa=function(){return new yh(this,4,new V(null,4,5,Y,[Yj,An,tm,Jq],null),q(this.u)?pd(this.u):Xf())};l.Z=function(){return this.I};l.da=function(){return 4+I(this.u)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=-414877272^Pd(this)};l.K=function(a,b){return null!=b&&this.constructor===b.constructor&&E.h(this.V,b.V)&&E.h(this.Y,b.Y)&&E.h(this.U,b.U)&&E.h(this.T,b.T)&&E.h(this.u,b.u)};
l.gb=function(a,b){return Re(new vi(null,new n(null,4,[Jq,null,An,null,Yj,null,tm,null],null),null),b)?ve.h(Ac(Ag.h(T,this),this.I),b):new zA(this.V,this.Y,this.U,this.T,this.I,Wf(ve.h(this.u,b)),null)};
l.ja=function(a,b,c){return q(Q.h?Q.h(Yj,b):Q.call(null,Yj,b))?new zA(c,this.Y,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(An,b):Q.call(null,An,b))?new zA(this.V,c,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(tm,b):Q.call(null,tm,b))?new zA(this.V,this.Y,c,this.T,this.I,this.u,null):q(Q.h?Q.h(Jq,b):Q.call(null,Jq,b))?new zA(this.V,this.Y,this.U,c,this.I,this.u,null):new zA(this.V,this.Y,this.U,this.T,this.I,O.j(this.u,b,c),null)};
l.ba=function(){return F(Ff.h(new V(null,4,5,Y,[new Zg(Yj,this.V),new Zg(An,this.Y),new Zg(tm,this.U),new Zg(Jq,this.T)],null),this.u))};l.$=function(a,b){return new zA(this.V,this.Y,this.U,this.T,b,this.u,this.C)};l.ga=function(a,b){return Ke(b)?this.ja(null,Pb(b,0),Pb(b,1)):yb(Mb,this,b)};function AA(a,b,c,d,e,f,g){this.V=a;this.Y=b;this.U=c;this.T=d;this.I=e;this.u=f;this.C=g;this.A=2230716170;this.J=139264}l=AA.prototype;l.ha=function(a,b){return this.X(null,b,null)};
l.X=function(a,b,c){switch(b instanceof B?b.ma:null){case "type-tag":return this.V;case "logical-block":return this.Y;case "start-pos":return this.U;case "end-pos":return this.T;default:return A.j(this.u,b,c)}};l.$a=function(a,b,c){return yb(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
l.aa=function(a,b,c){return Ri(b,function(d){return Ri(b,Zi,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,Ff.h(new V(null,4,5,Y,[new V(null,2,5,Y,[Yj,this.V],null),new V(null,2,5,Y,[An,this.Y],null),new V(null,2,5,Y,[tm,this.U],null),new V(null,2,5,Y,[Jq,this.T],null)],null),this.u))};l.qa=function(){return new yh(this,4,new V(null,4,5,Y,[Yj,An,tm,Jq],null),q(this.u)?pd(this.u):Xf())};l.Z=function(){return this.I};l.da=function(){return 4+I(this.u)};
l.ca=function(){var a=this.C;return null!=a?a:this.C=a=1365867980^Pd(this)};l.K=function(a,b){return null!=b&&this.constructor===b.constructor&&E.h(this.V,b.V)&&E.h(this.Y,b.Y)&&E.h(this.U,b.U)&&E.h(this.T,b.T)&&E.h(this.u,b.u)};l.gb=function(a,b){return Re(new vi(null,new n(null,4,[Jq,null,An,null,Yj,null,tm,null],null),null),b)?ve.h(Ac(Ag.h(T,this),this.I),b):new AA(this.V,this.Y,this.U,this.T,this.I,Wf(ve.h(this.u,b)),null)};
l.ja=function(a,b,c){return q(Q.h?Q.h(Yj,b):Q.call(null,Yj,b))?new AA(c,this.Y,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(An,b):Q.call(null,An,b))?new AA(this.V,c,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(tm,b):Q.call(null,tm,b))?new AA(this.V,this.Y,c,this.T,this.I,this.u,null):q(Q.h?Q.h(Jq,b):Q.call(null,Jq,b))?new AA(this.V,this.Y,this.U,c,this.I,this.u,null):new AA(this.V,this.Y,this.U,this.T,this.I,O.j(this.u,b,c),null)};
l.ba=function(){return F(Ff.h(new V(null,4,5,Y,[new Zg(Yj,this.V),new Zg(An,this.Y),new Zg(tm,this.U),new Zg(Jq,this.T)],null),this.u))};l.$=function(a,b){return new AA(this.V,this.Y,this.U,this.T,b,this.u,this.C)};l.ga=function(a,b){return Ke(b)?this.ja(null,Pb(b,0),Pb(b,1)):yb(Mb,this,b)};function BA(a,b,c,d,e,f,g,h,k){this.V=a;this.Y=b;this.eb=c;this.offset=d;this.U=e;this.T=f;this.I=g;this.u=h;this.C=k;this.A=2230716170;this.J=139264}l=BA.prototype;l.ha=function(a,b){return this.X(null,b,null)};
l.X=function(a,b,c){switch(b instanceof B?b.ma:null){case "type-tag":return this.V;case "logical-block":return this.Y;case "relative-to":return this.eb;case "offset":return this.offset;case "start-pos":return this.U;case "end-pos":return this.T;default:return A.j(this.u,b,c)}};l.$a=function(a,b,c){return yb(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
l.aa=function(a,b,c){return Ri(b,function(d){return Ri(b,Zi,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,Ff.h(new V(null,6,5,Y,[new V(null,2,5,Y,[Yj,this.V],null),new V(null,2,5,Y,[An,this.Y],null),new V(null,2,5,Y,[du,this.eb],null),new V(null,2,5,Y,[wq,this.offset],null),new V(null,2,5,Y,[tm,this.U],null),new V(null,2,5,Y,[Jq,this.T],null)],null),this.u))};l.qa=function(){return new yh(this,6,new V(null,6,5,Y,[Yj,An,du,wq,tm,Jq],null),q(this.u)?pd(this.u):Xf())};l.Z=function(){return this.I};
l.da=function(){return 6+I(this.u)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=-1602780238^Pd(this)};l.K=function(a,b){return null!=b&&this.constructor===b.constructor&&E.h(this.V,b.V)&&E.h(this.Y,b.Y)&&E.h(this.eb,b.eb)&&E.h(this.offset,b.offset)&&E.h(this.U,b.U)&&E.h(this.T,b.T)&&E.h(this.u,b.u)};
l.gb=function(a,b){return Re(new vi(null,new n(null,6,[wq,null,Jq,null,du,null,An,null,Yj,null,tm,null],null),null),b)?ve.h(Ac(Ag.h(T,this),this.I),b):new BA(this.V,this.Y,this.eb,this.offset,this.U,this.T,this.I,Wf(ve.h(this.u,b)),null)};
l.ja=function(a,b,c){return q(Q.h?Q.h(Yj,b):Q.call(null,Yj,b))?new BA(c,this.Y,this.eb,this.offset,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(An,b):Q.call(null,An,b))?new BA(this.V,c,this.eb,this.offset,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(du,b):Q.call(null,du,b))?new BA(this.V,this.Y,c,this.offset,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(wq,b):Q.call(null,wq,b))?new BA(this.V,this.Y,this.eb,c,this.U,this.T,this.I,this.u,null):q(Q.h?Q.h(tm,b):Q.call(null,tm,b))?new BA(this.V,this.Y,this.eb,
this.offset,c,this.T,this.I,this.u,null):q(Q.h?Q.h(Jq,b):Q.call(null,Jq,b))?new BA(this.V,this.Y,this.eb,this.offset,this.U,c,this.I,this.u,null):new BA(this.V,this.Y,this.eb,this.offset,this.U,this.T,this.I,O.j(this.u,b,c),null)};l.ba=function(){return F(Ff.h(new V(null,6,5,Y,[new Zg(Yj,this.V),new Zg(An,this.Y),new Zg(du,this.eb),new Zg(wq,this.offset),new Zg(tm,this.U),new Zg(Jq,this.T)],null),this.u))};l.$=function(a,b){return new BA(this.V,this.Y,this.eb,this.offset,this.U,this.T,b,this.u,this.C)};
l.ga=function(a,b){return Ke(b)?this.ja(null,Pb(b,0),Pb(b,1)):yb(Mb,this,b)};var CA=function(){var a=kg(T),b=kg(T),c=kg(T),d=kg(T),e=A.j(T,Qs,vj.v?vj.v():vj.call(null));return new Hj(Bd.h(da,"write-token"),function(f,g){return Yj.g(g)},e,a,b,c,d)}();CA.O(null,jk,function(a,b){var c=Bw.g(u(u(a)));q(c)&&(c.g?c.g(Dk):c.call(null,Dk));b=An.g(b);c=pm.g(b);q(c)&&w(km.g(u(u(a))),c);a=rA(km.g(u(u(a))),To);lg(On.g(b),a);return lg(gx.g(b),a)});
CA.O(null,ox,function(a,b){var c=Bw.g(u(u(a)));q(c)&&(c.g?c.g(Qt):c.call(null,Qt));b=Yv.g(An.g(b));return q(b)?w(km.g(u(u(a))),b):null});CA.O(null,rt,function(a,b){var c=An.g(b),d=gx.g(c),e=wq.g(b);b=du.g(b);if(q(E.h?E.h(gq,b):E.call(null,gq,b)))a=u(On.g(c));else if(q(E.h?E.h(Ln,b):E.call(null,Ln,b)))a=rA(km.g(u(u(a))),To);else throw Error(["No matching clause: ",t.g(b)].join(""));return lg(d,e+a)});CA.O(null,St,function(a,b){return w(km.g(u(u(a))),nk.g(b))});
CA.O(null,nu,function(a,b){var c=(c=E.h(Nm.g(b),Qk))?c:E.h(Nm.g(b),Np)?!1:u(uk.g(An.g(b)));q(c)?DA.h?DA.h(a,b):DA.call(null,a,b):(b=mm.g(u(u(a))),q(b)&&w(km.g(u(u(a))),b));return mg.F(u(a),O,mm,null)});
function EA(a,b,c){b=F(b);for(var d=null,e=0,f=0;;)if(f<e){var g=d.P(null,f);if(!E.h(Yj.g(g),nu)){var h=mm.g(u(u(a)));q(h)&&w(km.g(u(u(a))),h)}CA.h(a,g);mg.F(u(a),O,mm,mm.g(g));g=mm.g(u(u(a)));q(q(c)?g:c)&&(w(km.g(u(u(a))),g),mg.F(u(a),O,mm,null));f+=1}else if(b=F(b))Le(b)?(d=fd(b),b=gd(b),g=d,e=I(d),d=g):(g=G(b),E.h(Yj.g(g),nu)||(d=mm.g(u(u(a))),q(d)&&w(km.g(u(u(a))),d)),CA.h(a,g),mg.F(u(a),O,mm,mm.g(g)),g=mm.g(u(u(a))),q(q(c)?g:c)&&(w(km.g(u(u(a))),g),mg.F(u(a),O,mm,null)),b=H(b),d=null,e=0),f=
0;else break}function FA(a,b){var c=rA(km.g(u(u(a))),Ou),d;(d=null==c)||(a=rA(km.g(u(u(a))),To),b=(b=F(b))?Jq.g(oe(b))-tm.g(G(b)):0,d=a+b<c);return d}function GA(a,b,c){b=u(uk.g(b));return q(b)?b:!FA(a,c)}function HA(a,b,c){var d=Vu.g(u(u(a))),e=rA(km.g(u(u(a))),Ou);return q(d)?q(e)?u(On.g(b))>=e-d?GA(a,b,c):!1:e:d}var IA=function(){var a=kg(T),b=kg(T),c=kg(T),d=kg(T),e=A.j(T,Qs,vj.v?vj.v():vj.call(null));return new Hj(Bd.h(da,"emit-nl?"),function(f){return Nm.g(f)},e,a,b,c,d)}();
IA.O(null,Ar,function(a,b,c){a=An.g(a);return GA(b,a,c)});IA.O(null,zv,function(a,b,c){a=An.g(a);return HA(b,a,c)});IA.O(null,Np,function(a,b,c,d){a=An.g(a);var e=u(fn.g(a));return q(e)?e:(d=!FA(b,d))?d:HA(b,a,c)});IA.O(null,Qk,function(){return!0});function JA(a){var b=G(a),c=An.g(b);b=F(Di(function(d){return!(E.h(Yj.g(d),nu)&&wA(An.g(d),c))},H(a)));return new V(null,2,5,Y,[b,F(pg(I(b)+1,a))],null)}
function KA(a){var b=G(a),c=An.g(b);return F(Di(function(d){var e=An.g(d);return!(E.h(Yj.g(d),nu)&&(E.h(e,c)||wA(e,c)))},H(a)))}function DA(a,b){w(km.g(u(u(a))),"\n");mg.F(u(a),O,mm,null);b=An.g(b);var c=kk.g(b);q(c)&&w(km.g(u(u(a))),c);c=Of(t,sg(u(gx.g(b))-I(c)," "));w(km.g(u(u(a))),c);a:for(lg(fn.g(b),!0),lg(uk.g(b),!0),a=Un.g(b);;)if(q(a))lg(uk.g(a),!0),lg(fn.g(a),!0),a=Un.g(a);else break a;return null}
function LA(a){var b=F(Di(function(c){return!E.h(Yj.g(c),nu)},a));return new V(null,2,5,Y,[b,F(pg(I(b),a))],null)}var MA=function MA(a,b){var d=LA(b);b=N(d,0,null);var e=N(d,1,null);q(b)&&EA(a,b,!1);if(q(e)){d=JA(e);b=N(d,0,null);d=N(d,1,null);var f=G(e),g=IA.F(f,a,b,KA(e));q(g)&&(DA(a,f),e=H(e));FA(a,e)?a=e:(e=MA.h?MA.h(a,b):MA.call(null,a,b),E.h(e,b)?(EA(a,b,!1),a=d):a=Ag.h(qe,Ff.h(e,d)));return a}return null};
function NA(a){for(var b=fw.g(u(u(a)));;){mg.F(u(a),O,fw,Ag.h(qe,b));if(FA(a,b))return null;var c=MA(a,b);if(b!==c)b=c;else return null}}function OA(a,b){mg.F(u(a),O,fw,pe.h(fw.g(u(u(a))),b));return FA(a,fw.g(u(u(a))))?null:NA(a)}function PA(a){var b=mm.g(u(u(a)));return q(b)?(w(km.g(u(u(a))),b),mg.F(u(a),O,mm,null)):null}
function QA(a,b){var c=Zy(b,"\n",-1);if(E.h(I(c),1))return b;b=kk.g(G(sn.g(u(u(a)))));var d=G(c);if(E.h(xl,Mu.g(u(u(a))))){var e=Yo.g(u(u(a))),f=e+I(d);mg.F(u(a),O,Yo,f);OA(a,new xA(St,d,null,e,f,null,null,null));NA(a);d=fw.g(u(u(a)));q(d)&&(EA(a,d,!0),mg.F(u(a),O,fw,qe))}else PA(a),w(km.g(u(u(a))),d);w(km.g(u(u(a))),"\n");d=F(H(Bi(c)));e=null;for(var g=f=0;;)if(g<f){var h=e.P(null,g);w(km.g(u(u(a))),h);w(km.g(u(u(a))),"\n");q(b)&&w(km.g(u(u(a))),b);g+=1}else if(d=F(d))e=d,Le(e)?(d=fd(e),g=gd(e),
e=d,f=I(d),d=g):(d=G(e),w(km.g(u(u(a))),d),w(km.g(u(u(a))),"\n"),q(b)&&w(km.g(u(u(a))),b),d=H(e),e=null,f=0),g=0;else break;mg.F(u(a),O,xl,Mn);return oe(c)}
function RA(a){var b=SA,c=TA,d=new vA(null,null,kg(0),kg(0),kg(!1),kg(!1),null,null,null,null,null,null,null),e=kg(oi([sn,Vu,No,up,Fr,Mu,Yo,mm,km,yp,fw],[d,c,d,!0,null,Mn,0,null,uA(a,b),1,qe]));if("undefined"===typeof Xa||"undefined"===typeof bA||"undefined"===typeof dA)dA=function(f,g,h,k,m,p){this.na=f;this.md=g;this.ze=h;this.me=k;this.fields=m;this.te=p;this.A=1074167808;this.J=0},dA.prototype.$=function(f,g){return new dA(this.na,this.md,this.ze,this.me,this.fields,g)},dA.prototype.Z=function(){return this.te},
dA.prototype.Ob=function(){return this.fields},dA.prototype.Ib=function(f,g){f=rb(g);if(q(E.h?E.h(String,f):E.call(null,String,f))){var h=QA(this,g);g=h.replace(/\s+$/,"");f=h.substring(g.length);var k=Mu.g(u(u(this)));if(E.h(k,Mn))return PA(this),w(km.g(u(u(this))),g),mg.F(u(this),O,mm,f);k=Yo.g(u(u(this)));h=k+I(h);mg.F(u(this),O,Yo,h);return OA(this,new xA(St,g,f,k,h,null,null,null))}if(q(E.h?E.h(Number,f):E.call(null,Number,f)))return E.h(Mu.g(u(u(this))),Mn)?(PA(this),g=w(km.g(u(u(this))),g)):
E.h(g,"\n")?g=QA(this,"\n"):(f=Yo.g(u(u(this))),h=f+1,mg.F(u(this),O,Yo,h),g=bf(g),g=OA(this,new xA(St,g,null,f,h,null,null,null))),g;throw Error(["No matching clause: ",t.g(f)].join(""));},dA.prototype.ub=function(){this.gd(null);return Tc(km.g(u(u(this))))},dA.prototype.gd=function(){return E.h(Mu.g(u(u(this))),xl)?(EA(this,fw.g(u(u(this))),!0),mg.F(u(this),O,fw,qe)):PA(this)},dA.vb=!0,dA.hb="cljs.pprint/t_cljs$pprint21967",dA.Ab=function(f){return w(f,"cljs.pprint/t_cljs$pprint21967")};return new dA(a,
b,c,d,e,T)}function UA(a,b){var c=ab;b=new vA(sn.g(u(u(c))),null,kg(0),kg(0),kg(!1),kg(!1),a,null,b,null,null,null,null);mg.F(u(c),O,sn,b);if(E.h(Mu.g(u(u(c))),Mn)){PA(c);var d=Bw.g(u(u(c)));q(d)&&(d.g?d.g(Dk):d.call(null,Dk));q(a)&&w(km.g(u(u(c))),a);c=rA(km.g(u(u(c))),To);lg(b.Ea,c);lg(b.Da,c)}else d=Yo.g(u(u(c))),a=d+(q(a)?I(a):0),mg.F(u(c),O,Yo,a),OA(c,new zA(jk,b,d,a,null,null,null))}
function VA(){var a=ab,b=sn.g(u(u(a))),c=Yv.g(b);if(E.h(Mu.g(u(u(a))),Mn)){PA(a);q(c)&&w(km.g(u(u(a))),c);var d=Bw.g(u(u(a)));q(d)&&(d.g?d.g(Qt):d.call(null,Qt))}else d=Yo.g(u(u(a))),c=d+(q(c)?I(c):0),mg.F(u(a),O,Yo,c),OA(a,new AA(ox,b,d,c,null,null,null));mg.F(u(a),O,sn,Un.g(b))}var WA=!0,XA=null,SA=72,TA=40,YA=null,ZA=null,$A=null,aB=null,bB=10,cB=0,dB=null;function eB(a){return(null!=a?a.A&32768||$a===a.cd||(a.A?0:qb(xc,a)):qb(xc,a))?up.g(u(u(a))):!1}
function fB(a){var b=dB;q(b)&&(b=fb,b=q(b)?dB>=fb:b);pb(WA)?jA.call(null,a):q(b)?w(ab,"..."):(q(dB)&&(dB+=1),XA.call(null,a));return b}var gB=function gB(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Fd(c.slice(1),0,null):null;return gB.o(arguments[0],c)};
gB.o=function(a,b){var c=si(M([new n(null,1,[$w,!0],null),Of(Tf,b)]));b=bB;var d=ZA,e=fb,f=gb,g=YA,h=TA,k=XA,m=WA,p=aB,r=eb,v=SA,x=$A,z=km.h(c,bB),C=Ak.h(c,ZA),D=Rk.h(c,fb),J=Xj.h(c,gb),K=Gr.h(c,YA),R=Vu.h(c,TA),W=dv.h(c,XA),Z=xp.h(c,WA),ia=Up.h(c,aB),sa=jb.h(c,eb),va=Ml.h(c,SA),ea=Qn.h(c,$A);bB=z;ZA=C;fb=D;gb=J;YA=K;TA=R;XA=W;WA=Z;aB=ia;eb=sa;SA=va;$A=ea;try{var U=new Wa,ca=Re(c,$w)?$w.g(c):!0,aa=!0===ca||null==ca?new qd(U):ca;if(q(WA)){var X=pb(eB(aa));c=ab;ab=X?RA(aa):aa;try{fB(a),qA()}finally{ab=
c}}else{X=ab;ab=aa;try{jA.call(null,a)}finally{ab=X}}!0===ca&&Ui(t.g(U));return null==ca?t.g(U):null}finally{$A=x,SA=v,eb=r,aB=p,WA=m,XA=k,TA=h,YA=g,gb=f,fb=e,ZA=d,bB=b}};gB.H=1;gB.G=function(a){var b=G(a);a=H(a);return this.o(b,a)};function hB(a,b){if(pb(b.g?b.g(a):b.call(null,a)))throw Error(["Bad argument: ",t.g(a),". It must be one of ",t.g(b)].join(""));}function iB(){var a=gb;return q(a)?cB>=gb:a}
function jB(a){hB(a,new vi(null,new n(null,4,[Qk,null,zv,null,Np,null,Ar,null],null),null));var b=ab;mg.F(u(b),O,Mu,xl);var c=Yo.g(u(u(b))),d=sn.g(u(u(b)));OA(b,new yA(nu,a,d,c,c,null,null,null))}
function kB(a,b){hB(a,new vi(null,new n(null,2,[gq,null,Ln,null],null),null));var c=ab,d=sn.g(u(u(c)));if(E.h(Mu.g(u(u(c))),Mn)){PA(c);var e=gx.g(d);if(q(E.h?E.h(gq,a):E.call(null,gq,a)))a=u(On.g(d));else if(q(E.h?E.h(Ln,a):E.call(null,Ln,a)))a=rA(km.g(u(u(c))),To);else throw Error(["No matching clause: ",t.g(a)].join(""));lg(e,b+a)}else e=Yo.g(u(u(c))),OA(c,new BA(rt,d,a,b,e,e,null,null,null))}
function lB(a,b,c){b="string"===typeof b?mB(b):b;c=nB(c);a:{var d=new Wa,e=pb(a)||!0===a?new qd(d):a,f=oB(b)&&pb(eB(e))?q(eB(e))?e:RA(e):e,g=ab;ab=f;try{try{pB(b,c)}finally{e!==f&&Tc(f)}var h=pb(a)?t.g(d):!0===a?Ui(t.g(d)):null;break a}finally{ab=g}h=void 0}return h}var qB=null;function rB(a,b){a=[t.g(a),"\n",t.g(qB),"\n",t.g(Of(t,sg(b," "))),"^\n"].join("");throw Error(a);}function sB(a,b,c,d,e,f){this.xb=a;this.Aa=b;this.wb=c;this.I=d;this.u=e;this.C=f;this.A=2230716170;this.J=139264}l=sB.prototype;
l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){switch(b instanceof B?b.ma:null){case "seq":return this.xb;case "rest":return this.Aa;case "pos":return this.wb;default:return A.j(this.u,b,c)}};l.$a=function(a,b,c){return yb(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
l.aa=function(a,b,c){return Ri(b,function(d){return Ri(b,Zi,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,Ff.h(new V(null,3,5,Y,[new V(null,2,5,Y,[Zl,this.xb],null),new V(null,2,5,Y,[sq,this.Aa],null),new V(null,2,5,Y,[Yo,this.wb],null)],null),this.u))};l.qa=function(){return new yh(this,3,new V(null,3,5,Y,[Zl,sq,Yo],null),q(this.u)?pd(this.u):Xf())};l.Z=function(){return this.I};l.da=function(){return 3+I(this.u)};l.ca=function(){var a=this.C;return null!=a?a:this.C=a=-402038447^Pd(this)};
l.K=function(a,b){return null!=b&&this.constructor===b.constructor&&E.h(this.xb,b.xb)&&E.h(this.Aa,b.Aa)&&E.h(this.wb,b.wb)&&E.h(this.u,b.u)};l.gb=function(a,b){return Re(new vi(null,new n(null,3,[Yo,null,Zl,null,sq,null],null),null),b)?ve.h(Ac(Ag.h(T,this),this.I),b):new sB(this.xb,this.Aa,this.wb,this.I,Wf(ve.h(this.u,b)),null)};
l.ja=function(a,b,c){return q(Q.h?Q.h(Zl,b):Q.call(null,Zl,b))?new sB(c,this.Aa,this.wb,this.I,this.u,null):q(Q.h?Q.h(sq,b):Q.call(null,sq,b))?new sB(this.xb,c,this.wb,this.I,this.u,null):q(Q.h?Q.h(Yo,b):Q.call(null,Yo,b))?new sB(this.xb,this.Aa,c,this.I,this.u,null):new sB(this.xb,this.Aa,this.wb,this.I,O.j(this.u,b,c),null)};l.ba=function(){return F(Ff.h(new V(null,3,5,Y,[new Zg(Zl,this.xb),new Zg(sq,this.Aa),new Zg(Yo,this.wb)],null),this.u))};
l.$=function(a,b){return new sB(this.xb,this.Aa,this.wb,b,this.u,this.C)};l.ga=function(a,b){return Ke(b)?this.ja(null,Pb(b,0),Pb(b,1)):yb(Mb,this,b)};function nB(a){a=F(a);return new sB(a,a,0,null,null,null)}function tB(a){var b=sq.g(a);if(q(b))return new V(null,2,5,Y,[G(b),new sB(Zl.g(a),H(b),Yo.g(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}
function uB(a){var b=tB(a);a=N(b,0,null);b=N(b,1,null);a="string"===typeof a?mB(a):a;return new V(null,2,5,Y,[a,b],null)}function vB(a,b){return b>=Yo.g(a)?(b=Yo.g(a)-b,wB.h?wB.h(a,b):wB.call(null,a,b)):new sB(Zl.g(a),pg(b,Zl.g(a)),b,null,null,null)}function wB(a,b){var c=Yo.g(a)+b;return 0>b?vB(a,c):new sB(Zl.g(a),pg(b,sq.g(a)),c,null,null,null)}function xB(a,b,c,d,e,f,g){this.mb=a;this.lb=b;this.tb=c;this.offset=d;this.I=e;this.u=f;this.C=g;this.A=2230716170;this.J=139264}l=xB.prototype;
l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){switch(b instanceof B?b.ma:null){case "func":return this.mb;case "def":return this.lb;case "params":return this.tb;case "offset":return this.offset;default:return A.j(this.u,b,c)}};l.$a=function(a,b,c){return yb(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
l.aa=function(a,b,c){return Ri(b,function(d){return Ri(b,Zi,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,Ff.h(new V(null,4,5,Y,[new V(null,2,5,Y,[nt,this.mb],null),new V(null,2,5,Y,[kl,this.lb],null),new V(null,2,5,Y,[oq,this.tb],null),new V(null,2,5,Y,[wq,this.offset],null)],null),this.u))};l.qa=function(){return new yh(this,4,new V(null,4,5,Y,[nt,kl,oq,wq],null),q(this.u)?pd(this.u):Xf())};l.Z=function(){return this.I};l.da=function(){return 4+I(this.u)};
l.ca=function(){var a=this.C;return null!=a?a:this.C=a=-829256337^Pd(this)};l.K=function(a,b){return null!=b&&this.constructor===b.constructor&&E.h(this.mb,b.mb)&&E.h(this.lb,b.lb)&&E.h(this.tb,b.tb)&&E.h(this.offset,b.offset)&&E.h(this.u,b.u)};l.gb=function(a,b){return Re(new vi(null,new n(null,4,[wq,null,nt,null,oq,null,kl,null],null),null),b)?ve.h(Ac(Ag.h(T,this),this.I),b):new xB(this.mb,this.lb,this.tb,this.offset,this.I,Wf(ve.h(this.u,b)),null)};
l.ja=function(a,b,c){return q(Q.h?Q.h(nt,b):Q.call(null,nt,b))?new xB(c,this.lb,this.tb,this.offset,this.I,this.u,null):q(Q.h?Q.h(kl,b):Q.call(null,kl,b))?new xB(this.mb,c,this.tb,this.offset,this.I,this.u,null):q(Q.h?Q.h(oq,b):Q.call(null,oq,b))?new xB(this.mb,this.lb,c,this.offset,this.I,this.u,null):q(Q.h?Q.h(wq,b):Q.call(null,wq,b))?new xB(this.mb,this.lb,this.tb,c,this.I,this.u,null):new xB(this.mb,this.lb,this.tb,this.offset,this.I,O.j(this.u,b,c),null)};
l.ba=function(){return F(Ff.h(new V(null,4,5,Y,[new Zg(nt,this.mb),new Zg(kl,this.lb),new Zg(oq,this.tb),new Zg(wq,this.offset)],null),this.u))};l.$=function(a,b){return new xB(this.mb,this.lb,this.tb,this.offset,b,this.u,this.C)};l.ga=function(a,b){return Ke(b)?this.ja(null,Pb(b,0),Pb(b,1)):yb(Mb,this,b)};
function yB(a,b){var c=N(a,0,null);a=N(a,1,null);var d=N(a,0,null);a=N(a,1,null);d=Re(new vi(null,new n(null,2,[Ir,null,cv,null],null),null),c)?new V(null,2,5,Y,[d,b],null):E.h(d,yv)?tB(b):E.h(d,Qo)?new V(null,2,5,Y,[I(sq.g(b)),b],null):new V(null,2,5,Y,[d,b],null);b=N(d,0,null);d=N(d,1,null);return new V(null,2,5,Y,[new V(null,2,5,Y,[c,new V(null,2,5,Y,[b,a],null)],null),d],null)}function zB(a,b){b=mA(yB,b,a);a=N(b,0,null);b=N(b,1,null);return new V(null,2,5,Y,[Ag.h(T,a),b],null)}
var AB=new n(null,3,[2,"#b",8,"#o",16,"#x"],null);
function BB(a,b,c){c=tB(c);var d=N(c,0,null);c=N(c,1,null);if(Qe(d))if(E.h(bB,10))var e=[t.g(d),q(aB)?".":null].join("");else{e=t;var f=e.g;if(q(aB)){var g=A.h(AB,bB);g=q(g)?g:["#",t.g(bB),"r"].join("")}else g=null;e=[f.call(e,g),t.g(CB(bB,d))].join("")}else e=null;a=q(e)?e:a.g?a.g(d):a.call(null,d);d=a.length;e=d+Tr.g(b);e=e>=Jw.g(b)?e:e+(df(Jw.g(b)-e-1,vn.g(b))+1)*vn.g(b);d=Of(t,sg(e-d,uo.g(b)));q(cv.g(b))?iA.o(M([[t.g(d),t.g(a)].join("")])):iA.o(M([[t.g(a),t.g(d)].join("")]));return c}
function DB(a,b){return lf(G(nA(function(c){return 0<c?new V(null,2,5,Y,[ef(c,a),df(c,a)],null):new V(null,2,5,Y,[null,null],null)},b)))}function CB(a,b){return 0===b?"0":Of(t,ng.h(function(c){return 10>c?bf(lA("0")+c):bf(lA("a")+(c-10))},DB(a,b)))}function EB(a,b){return lf(G(nA(function(c){return new V(null,2,5,Y,[F(lf(og(a,c))),F(pg(a,c))],null)},lf(b))))}
function FB(a,b,c){c=tB(c);var d=N(c,0,null);c=N(c,1,null);if(Qe(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&E.h(d,Math.floor(d))){var e=0>d,f=CB(a,e?-d:d);a=q(Ir.g(b))?function(){var g=ng.h(function(k){return Of(t,k)},EB(jp.g(b),f)),h=sg(I(g),xq.g(b));return Of(t,H(tg.h(h,g)))}():f;a=e?["-",t.g(a)].join(""):q(cv.g(b))?["+",t.g(a)].join(""):a;a=a.length<Jw.g(b)?[t.g(Of(t,sg(Jw.g(b)-a.length,uo.g(b)))),t.g(a)].join(""):a;iA.o(M([a]))}else BB(fj,new n(null,5,[Jw,
Jw.g(b),vn,1,Tr,0,uo,uo.g(b),cv,!0],null),nB(new V(null,1,5,Y,[d],null)));return c}
var GB=new V(null,20,5,Y,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),HB=new V(null,20,5,Y,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),IB=new V(null,10,5,Y,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),JB=new V(null,10,5,Y,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),KB=new V(null,22,5,Y," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function LB(a){var b=df(a,100);a=ef(a,100);var c=0<b?[t.g(de(GB,b))," hundred"].join(""):null,d=t,e=d.g;if(0<a)if(20>a)var f=de(GB,a);else{f=df(a,10);var g=ef(a,10);f=[t.g(0<f?de(IB,f):null),0<f&&0<g?"-":null,t.g(0<g?de(GB,g):null)].join("")}else f=null;return[c,0<b&&0<a?" ":null,e.call(d,f)].join("")}
function MB(a,b){var c=I(a),d=qe;--c;var e=G(a);for(a=H(a);;){if(null==a)return[t.g(Of(t,ug(", ",d))),Be(e)||Be(d)?null:", ",t.g(e),!Be(e)&&0<c+b?[" ",t.g(de(KB,c+b))].join(""):null].join("");d=Be(e)?d:pe.h(d,[t.g(e)," ",t.g(de(KB,c+b))].join(""));--c;e=G(a);a=H(a)}}
var NB=new V(null,4,5,Y,[new V(null,9,5,Y,"I II III IIII V VI VII VIII VIIII".split(" "),null),new V(null,9,5,Y,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new V(null,9,5,Y,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new V(null,3,5,Y,["M","MM","MMM"],null)],null),OB=new V(null,4,5,Y,[new V(null,9,5,Y,"I II III IV V VI VII VIII IX".split(" "),null),new V(null,9,5,Y,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new V(null,9,5,Y,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new V(null,
3,5,Y,["M","MM","MMM"],null)],null);function PB(a,b){b=tB(b);var c=N(b,0,null);b=N(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=DB(10,c);c=qe;for(var e=I(d)-1;;)if(Be(d)){iA.o(M([Of(t,c)]));break}else{var f=G(d);c=E.h(0,f)?c:pe.h(c,de(de(a,e),f-1));--e;d=H(d)}}else FB(10,new n(null,5,[Jw,0,uo," ",xq,",",jp,3,Ir,!0],null),nB(new V(null,1,5,Y,[c],null)));return b}var QB=new n(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function RB(a,b){a=tB(b);b=N(a,0,null);a=N(a,1,null);var c=lA(b);b=c&127;c&=128;var d=A.h(QB,b);0<c&&iA.o(M(["Meta-"]));iA.o(M([q(d)?d:32>b?["Control-",t.g(bf(b+64))].join(""):E.h(b,127)?"Control-?":bf(b)]));return a}
function SB(a,b){var c=tB(b);b=N(c,0,null);c=N(c,1,null);a=Ju.g(a);if(q(E.h?E.h("o",a):E.call(null,"o",a)))lB(!0,"\\o~3,'0o",M([lA(b)]));else if(q(E.h?E.h("u",a):E.call(null,"u",a)))lB(!0,"\\u~4,'0x",M([lA(b)]));else if(q(E.h?E.h(null,a):E.call(null,null,a)))w(ab,q(E.h?E.h("\b",b):E.call(null,"\b",b))?"\\backspace":q(E.h?E.h(" ",b):E.call(null," ",b))?"\\space":q(E.h?E.h("\t",b):E.call(null,"\t",b))?"\\tab":q(E.h?E.h("\n",b):E.call(null,"\n",b))?"\\newline":q(E.h?E.h("\f",b):E.call(null,"\f",b))?
"\\formfeed":q(E.h?E.h("\r",b):E.call(null,"\r",b))?"\\return":q(E.h?E.h('"',b):E.call(null,'"',b))?'\\"':q(E.h?E.h("\\",b):E.call(null,"\\",b))?"\\\\":["\\",t.g(b)].join(""));else throw Error(["No matching clause: ",t.g(a)].join(""));return c}function TB(a,b){b=tB(b);a=N(b,0,null);b=N(b,1,null);iA.o(M([a]));return b}function UB(a){a=G(a);return E.h(xw,a)||E.h(Zt,a)}
function VB(a,b,c){return ne(mA(function(d,e){if(UB(e))return new V(null,2,5,Y,[null,e],null);e=zB(oq.g(d),e);var f=N(e,0,null);e=N(e,1,null);var g=oA(f);f=N(g,0,null);g=N(g,1,null);f=O.j(f,cl,c);return new V(null,2,5,Y,[null,Of(nt.g(d),new V(null,3,5,Y,[f,e,g],null))],null)},b,a))}
function WB(a){a=Vy(t.g(a));var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new V(null,2,5,Y,[a,t.g(a.length-1)],null):new V(null,2,5,Y,[[a.substring(0,c),a.substring(c+1)].join(""),t.g(c-1)],null):0>c?new V(null,2,5,Y,[a.substring(0,b),a.substring(b+1)],null):new V(null,2,5,Y,[[a.substring(0,1),a.substring(2,b)].join(""),a.substring(b+1)],null);b=N(a,0,null);a=N(a,1,null);a:if(c=I(b),0<c&&E.h(de(b,I(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(E.h(de(b,c),"0"))--c;else{b=b.substring(0,c+1);break a}}a:{c=
b;var d=I(c);if(0<d&&E.h(de(c,0),"0"))for(var e=0;;){if(E.h(e,d)||!E.h(de(c,e),"0")){c=c.substring(e);break a}e+=1}}b=I(b)-I(c);a=0<I(a)&&E.h(de(a,0),"+")?a.substring(1):a;return Be(c)?new V(null,2,5,Y,["0",0],null):new V(null,2,5,Y,[c,parseInt(a,10)-b],null)}
function XB(a,b,c,d){if(q(q(c)?c:d)){var e=I(a);d=q(d)?2>d?2:d:0;q(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=E.h(c,0)?new V(null,4,5,Y,[["0",t.g(a)].join(""),b+1,1,e+1],null):new V(null,4,5,Y,[a,b,c,e],null);c=N(f,0,null);e=N(f,1,null);d=N(f,2,null);f=N(f,3,null);if(q(d)){if(0>d)return new V(null,3,5,Y,["0",0,!1],null);if(f>d){b=de(c,d);a=c.substring(0,d);if(lA(b)>=lA("5")){a:for(b=I(a)-1,c=b|0;;){if(0>c){b=Pf(t,"1",sg(b+1,"0"));break a}if(E.h("9",a.charAt(c)))--c;else{b=Qf(t,a.substring(0,
c),bf(lA(a.charAt(c))+1),sg(b-c,"0"));break a}}a=I(b)>a.length;c=Y;a&&(d=I(b)-1,b=b.substring(0,d));return new V(null,3,5,c,[b,e,a],null)}return new V(null,3,5,Y,[a,e,!1],null)}}}return new V(null,3,5,Y,[a,b,!1],null)}
function YB(a,b,c){var d=0>b?new V(null,2,5,Y,[[t.g(Of(t,sg(-b-1,"0"))),t.g(a)].join(""),-1],null):new V(null,2,5,Y,[a,b],null);a=N(d,0,null);var e=N(d,1,null);d=I(a);c=q(c)?e+c+1:e+1;c=d<c?[t.g(a),t.g(Of(t,sg(c-d,"0")))].join(""):a;0>b?b=[".",t.g(c)].join(""):(b+=1,b=[c.substring(0,b),".",c.substring(b)].join(""));return b}function ZB(a,b){return 0>b?[".",t.g(a)].join(""):[a.substring(0,b),".",a.substring(b)].join("")}
function $B(a,b){var c=bt.g(a),d=Vs.g(a);b=tB(b);var e=N(b,0,null);b=N(b,1,null);var f=0>e?new V(null,2,5,Y,["-",-e],null):new V(null,2,5,Y,["+",e],null),g=N(f,0,null);f=N(f,1,null);f=WB(f);var h=N(f,0,null),k=N(f,1,null)+Ps.g(a);f=cv.g(a);e=q(f)?f:0>e;f=pb(d)&&I(h)-1<=k;var m=XB(h,k,d,q(c)?c-(q(e)?1:0):null);h=N(m,0,null);k=N(m,1,null);m=N(m,2,null);h=YB(h,q(m)?k+1:k,d);d=q(q(c)?q(d)?1<=d&&E.h(h.charAt(0),"0")&&E.h(h.charAt(1),".")&&h.length>c-(q(e)?1:0):d:c)?h.substring(1):h;k=E.h(G(d),".");q(c)?
(h=d.length,h=q(e)?h+1:h,k=k&&!(h>=c),f=f&&!(h>=c),h=k||f?h+1:h,q(h>c?Hw.g(a):!1)?iA.o(M([Of(t,sg(c,Hw.g(a)))])):iA.o(M([[t.g(Of(t,sg(c-h,uo.g(a)))),t.g(q(e)?g:null),k?"0":null,d,f?"0":null].join("")]))):iA.o(M([[t.g(q(e)?g:null),k?"0":null,d,f?"0":null].join("")]));return b}
function aC(a,b){b=tB(b);var c=N(b,0,null);b=N(b,1,null);var d=WB(0>c?-c:c);N(d,0,null);for(N(d,1,null);;){var e=N(d,0,null),f=N(d,1,null),g=bt.g(a),h=Vs.g(a),k=Rs.g(a),m=Ps.g(a),p=function(){var D=Rl.g(a);return q(D)?D:"E"}();d=function(){var D=cv.g(a);return q(D)?D:0>c}();var r=0>=m,v=f-(m-1),x=t.g(Math.abs(v));p=[t.g(p),0>v?"-":"+",t.g(q(k)?Of(t,sg(k-x.length,"0")):null),x].join("");var z=p.length;v=I(e);e=[t.g(Of(t,sg(-m,"0"))),t.g(e),t.g(q(h)?Of(t,sg(h-(v-1)-(0>m?-m:0),"0")):null)].join("");
v=q(g)?g-z:null;e=XB(e,0,E.h(m,0)?h-1:0<m?h:0>m?h-1:null,q(v)?v-(q(d)?1:0):null);v=N(e,0,null);N(e,1,null);x=N(e,2,null);e=ZB(v,m);h=E.h(m,I(v))&&null==h;if(pb(x)){if(q(g)){f=e.length+z;f=q(d)?f+1:f;var C=(r=r&&!E.h(f,g))?f+1:f;f=h&&C<g;q(function(){var D=C>g;D||(D=k,D=q(D)?z-2>k:D);return q(D)?Hw.g(a):D}())?iA.o(M([Of(t,sg(g,Hw.g(a)))])):iA.o(M([[t.g(Of(t,sg(g-C-(f?1:0),uo.g(a)))),q(d)?0>c?"-":"+":null,r?"0":null,e,f?"0":null,p].join("")]))}else iA.o(M([[q(d)?0>c?"-":"+":null,r?"0":null,e,h?"0":
null,p].join("")]));break}else d=new V(null,2,5,Y,[v,f+1],null)}return b}function bC(a,b,c){var d=tB(b),e=N(d,0,null);N(d,1,null);d=WB(0>e?-e:e);var f=N(d,0,null);d=N(d,1,null);var g=bt.g(a),h=Vs.g(a),k=Rs.g(a);d=E.h(e,0)?0:d+1;e=q(k)?k+2:4;g=q(g)?g-e:null;q(h)?f=h:(f=I(f),h=7>d?d:7,f=f>h?f:h);d=f-d;return 0<=d&&d<=f?(a=$B(new n(null,6,[bt,g,Vs,d,Ps,0,Hw,Hw.g(a),uo,uo.g(a),cv,cv.g(a)],null),b,c),iA.o(M([Of(t,sg(e," "))])),a):aC(a,b,c)}
function cC(a,b){b=tB(b);var c=N(b,0,null);b=N(b,1,null);var d=WB(Math.abs(c)),e=N(d,0,null),f=N(d,1,null),g=Vs.g(a),h=ht.g(a);d=bt.g(a);var k=function(){var p=cv.g(a);return q(p)?p:0>c}(),m=XB(e,f,g,null);e=N(m,0,null);f=N(m,1,null);m=N(m,2,null);g=YB(e,q(m)?f+1:f,g);h=[t.g(Of(t,sg(h-g.indexOf("."),"0"))),g].join("");g=h.length+(q(k)?1:0);iA.o(M([[q(function(){var p=Ir.g(a);return q(p)?k:p}())?0>c?"-":"+":null,t.g(Of(t,sg(d-g,uo.g(a)))),q(pb(Ir.g(a))?k:!1)?0>c?"-":"+":null,h].join("")]));return b}
function dC(a,b){var c=wv.g(a);c=q(c)?new V(null,2,5,Y,[c,b],null):tB(b);b=N(c,0,null);c=N(c,1,null);var d=Tu.g(a);b=0>b||b>=I(d)?G(hq.g(a)):de(d,b);return q(b)?VB(b,c,cl.g(a)):c}function eC(a,b){var c=tB(b);b=N(c,0,null);c=N(c,1,null);var d=Tu.g(a);b=q(b)?ne(d):G(d);return q(b)?VB(b,c,cl.g(a)):c}function fC(a,b){var c=tB(b),d=N(c,0,null);c=N(c,1,null);var e=Tu.g(a);e=q(d)?G(e):null;return q(d)?q(e)?VB(e,b,cl.g(a)):b:c}
function gC(a,b){var c=Rw.g(a),d=G(Tu.g(a));d=Be(d)?uB(b):new V(null,2,5,Y,[d,b],null);b=N(d,0,null);d=N(d,1,null);d=tB(d);var e=N(d,0,null);d=N(d,1,null);var f=0;e=nB(e);for(var g=-1;;){if(pb(c)&&E.h(Yo.g(e),g)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");g=Be(sq.g(e))&&(pb(Ir.g(sm.g(a)))||0<f);if(q(g?g:q(c)?f>=c:c))return d;g=VB(b,e,cl.g(a));if(E.h(xw,G(g)))return d;f+=1;var h=Yo.g(e);e=g;g=h}}
function hC(a,b){var c=Rw.g(a),d=G(Tu.g(a));d=Be(d)?uB(b):new V(null,2,5,Y,[d,b],null);b=N(d,0,null);d=N(d,1,null);d=tB(d);var e=N(d,0,null);d=N(d,1,null);for(var f=0;;){var g=Be(e)&&(pb(Ir.g(sm.g(a)))||0<f);if(q(g?g:q(c)?f>=c:c))return d;g=VB(b,nB(G(e)),nB(H(e)));if(E.h(Zt,G(g)))return d;f+=1;e=H(e)}}
function iC(a,b){var c=Rw.g(a),d=G(Tu.g(a)),e=Be(d)?uB(b):new V(null,2,5,Y,[d,b],null);b=N(e,0,null);d=0;e=N(e,1,null);for(var f=-1;;){if(pb(c)&&E.h(Yo.g(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=Be(sq.g(e))&&(pb(Ir.g(sm.g(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=VB(b,e,cl.g(a));if(E.h(xw,G(f)))return ne(f);d+=1;var g=Yo.g(e);e=f;f=g}}
function jC(a,b){var c=Rw.g(a),d=G(Tu.g(a)),e=Be(d)?uB(b):new V(null,2,5,Y,[d,b],null);b=N(e,0,null);d=0;for(e=N(e,1,null);;){var f=Be(sq.g(e))&&(pb(Ir.g(sm.g(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=sq.g(e);f=q(f)?new V(null,2,5,Y,[G(f),new sB(Zl.g(e),H(f),Yo.g(e)+1,null,null,null)],null):new V(null,2,5,Y,[null,e],null);e=N(f,0,null);f=N(f,1,null);e=VB(b,nB(e),f);if(E.h(Zt,G(e)))return f;e=f;d+=1}}
function kC(a,b){if(q(Ir.g(sm.g(a)))){var c=Tu.g(a),d=I(c),e=1<d?lk.g(oq.g(G(G(c)))):q(Ir.g(a))?"(":null,f=de(c,1<d?1:0);c=2<d?lk.g(oq.g(G(de(c,2)))):q(Ir.g(a))?")":null;d=tB(b);b=N(d,0,null);d=N(d,1,null);if(q(iB()))w(ab,"#");else{var g=cB,h=dB;cB+=1;dB=0;try{UA(e,c),VB(f,nB(b),cl.g(a)),VA()}finally{dB=h,cB=g}}a=d}else a=lC(a,b);return a}
function mC(a,b,c){for(var d=qe;;){if(Be(a))return new V(null,2,5,Y,[d,b],null);var e=G(a);a:{var f=new Wa,g=ab;ab=new qd(f);try{var h=new V(null,2,5,Y,[VB(e,b,c),t.g(f)],null);break a}finally{ab=g}h=void 0}b=N(h,0,null);e=N(h,1,null);if(E.h(xw,G(b)))return new V(null,2,5,Y,[d,ne(b)],null);a=H(a);d=pe.h(d,e)}}
function lC(a,b){var c=function(){var K=hq.g(a);return q(K)?mC(K,b,cl.g(a)):null}(),d=N(c,0,null);d=N(d,0,null);c=N(c,1,null);var e=q(c)?c:b;c=function(){var K=lx.g(a);return q(K)?zB(K,e):null}();var f=N(c,0,null);c=N(c,1,null);var g=q(c)?c:e;c=function(){var K=G(tq.g(f));return q(K)?K:0}();var h=function(){var K=G(Nu.g(f));return q(K)?K:rA(ab,Ou)}(),k=Tu.g(a);g=mC(k,g,cl.g(a));var m=N(g,0,null);g=N(g,1,null);var p=function(){var K=I(m)-1+(q(Ir.g(a))?1:0)+(q(cv.g(a))?1:0);return 1>K?1:K}();k=Ue(Ye,
ng.h(I,m));var r=Jw.g(a),v=Tr.g(a),x=vn.g(a),z=k+p*v;r=z<=r?r:r+x*(1+df(z-r-1,x));var C=r-k;k=function(){var K=df(C,p);return v>K?v:K}();x=C-k*p;k=Of(t,sg(k,uo.g(a)));q(q(d)?rA(km.g(u(u(ab))),To)+c+r>h:d)&&iA.o(M([d]));c=x;for(var D=m,J=function(){var K=Ir.g(a);return q(K)?K:E.h(I(D),1)&&pb(cv.g(a))}();;)if(F(D))iA.o(M([[t.g(pb(J)?G(D):null),t.g(q(function(){var K=J;return q(K)?K:(K=H(D))?K:cv.g(a)}())?k:null),t.g(0<c?uo.g(a):null)].join("")])),--c,D=d=q(J)?D:H(D),J=!1;else break;return g}
function nC(a){if("undefined"===typeof Xa||"undefined"===typeof bA||"undefined"===typeof eA)eA=function(b,c){this.na=b;this.ue=c;this.A=1074135040;this.J=0},eA.prototype.$=function(b,c){return new eA(this.na,c)},eA.prototype.Z=function(){return this.ue},eA.prototype.ub=function(){return Tc(this.na)},eA.prototype.Ib=function(b,c){b=rb(c);if(q(E.h?E.h(String,b):E.call(null,String,b)))return w(this.na,Vy(c));if(q(E.h?E.h(Number,b):E.call(null,Number,b)))return w(this.na,Vy(bf(c)));throw Error(["No matching clause: ",
t.g(b)].join(""));},eA.vb=!0,eA.hb="cljs.pprint/t_cljs$pprint22802",eA.Ab=function(b){return w(b,"cljs.pprint/t_cljs$pprint22802")};return new eA(a,T)}
function oC(a){if("undefined"===typeof Xa||"undefined"===typeof bA||"undefined"===typeof fA)fA=function(b,c){this.na=b;this.ve=c;this.A=1074135040;this.J=0},fA.prototype.$=function(b,c){return new fA(this.na,c)},fA.prototype.Z=function(){return this.ve},fA.prototype.ub=function(){return Tc(this.na)},fA.prototype.Ib=function(b,c){b=rb(c);if(q(E.h?E.h(String,b):E.call(null,String,b)))return w(this.na,c.toUpperCase());if(q(E.h?E.h(Number,b):E.call(null,Number,b)))return w(this.na,bf(c).toUpperCase());
throw Error(["No matching clause: ",t.g(b)].join(""));},fA.vb=!0,fA.hb="cljs.pprint/t_cljs$pprint22820",fA.Ab=function(b){return w(b,"cljs.pprint/t_cljs$pprint22820")};return new fA(a,T)}
function pC(a,b){var c=G(a);a=q(q(b)?q(c)?Ta(c):c:b)?[c.toUpperCase(),a.substring(1)].join(""):a;return Of(t,G(nA(function(d){if(Be(d))return new V(null,2,5,Y,[null,null],null);var e=/\W\w/g.exec(d);e=q(e)?e.index+1:e;return q(e)?new V(null,2,5,Y,[[d.substring(0,e),de(d,e).toUpperCase()].join(""),d.substring(e+1)],null):new V(null,2,5,Y,[d,null],null)},a)))}
function qC(a){var b=kg(!0);if("undefined"===typeof Xa||"undefined"===typeof bA||"undefined"===typeof gA)gA=function(c,d,e){this.na=c;this.Bc=d;this.we=e;this.A=1074135040;this.J=0},gA.prototype.$=function(c,d){return new gA(this.na,this.Bc,d)},gA.prototype.Z=function(){return this.we},gA.prototype.ub=function(){return Tc(this.na)},gA.prototype.Ib=function(c,d){c=rb(d);if(q(E.h?E.h(String,c):E.call(null,String,c)))return w(this.na,pC(d.toLowerCase(),u(this.Bc))),0<d.length?lg(this.Bc,Ia(de(d,I(d)-
1))):null;if(q(E.h?E.h(Number,c):E.call(null,Number,c)))return d=bf(d),c=q(u(this.Bc))?d.toUpperCase():d,w(this.na,c),lg(this.Bc,Ia(d));throw Error(["No matching clause: ",t.g(c)].join(""));},gA.vb=!0,gA.hb="cljs.pprint/t_cljs$pprint22835",gA.Ab=function(c){return w(c,"cljs.pprint/t_cljs$pprint22835")};return new gA(a,b,T)}
function rC(a){var b=kg(!1);if("undefined"===typeof Xa||"undefined"===typeof bA||"undefined"===typeof hA)hA=function(c,d,e){this.na=c;this.kc=d;this.xe=e;this.A=1074135040;this.J=0},hA.prototype.$=function(c,d){return new hA(this.na,this.kc,d)},hA.prototype.Z=function(){return this.xe},hA.prototype.ub=function(){return Tc(this.na)},hA.prototype.Ib=function(c,d){c=rb(d);if(q(E.h?E.h(String,c):E.call(null,String,c)))return d=Vy(d),pb(u(this.kc))?(c=/\S/g.exec(d),c=q(c)?c.index:c,q(c)?(w(this.na,[d.substring(0,
c),de(d,c).toUpperCase(),Vy(d.substring(c+1))].join("")),lg(this.kc,!0)):w(this.na,d)):w(this.na,Vy(d));if(q(E.h?E.h(Number,c):E.call(null,Number,c)))return d=bf(d),q(pb(u(this.kc))?Ta(d):!1)?(lg(this.kc,!0),w(this.na,d.toUpperCase())):w(this.na,Vy(d));throw Error(["No matching clause: ",t.g(c)].join(""));},hA.vb=!0,hA.hb="cljs.pprint/t_cljs$pprint22856",hA.Ab=function(c){return w(c,"cljs.pprint/t_cljs$pprint22856")};return new hA(a,b,T)}
function sC(a,b){var c=q(Ir.g(a))?Ln:gq;kB(c,ht.g(a));return b}function tC(a,b){a=q(Ir.g(a))?q(cv.g(a))?Qk:Np:q(cv.g(a))?zv:Ar;jB(a);return b}
var uC=oi("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new n(null,5,[Wl,"A",oq,new n(null,4,[Jw,new V(null,2,5,Y,[0,Number],null),vn,new V(null,2,5,Y,[1,Number],null),Tr,new V(null,2,5,Y,[0,Number],null),uo,new V(null,2,5,Y,[" ",String],null)],null),$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,T,Aw,function(){return function(a,b){return BB(fj,a,b)}}],null),new n(null,5,[Wl,"S",oq,new n(null,4,[Jw,new V(null,2,5,Y,[0,Number],null),vn,new V(null,2,5,Y,[1,Number],
null),Tr,new V(null,2,5,Y,[0,Number],null),uo,new V(null,2,5,Y,[" ",String],null)],null),$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,T,Aw,function(){return function(a,b){return BB(ej,a,b)}}],null),new n(null,5,[Wl,"D",oq,new n(null,4,[Jw,new V(null,2,5,Y,[0,Number],null),uo,new V(null,2,5,Y,[" ",String],null),xq,new V(null,2,5,Y,[",",String],null),jp,new V(null,2,5,Y,[3,Number],null)],null),$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,T,Aw,function(){return function(a,
b){return FB(10,a,b)}}],null),new n(null,5,[Wl,"B",oq,new n(null,4,[Jw,new V(null,2,5,Y,[0,Number],null),uo,new V(null,2,5,Y,[" ",String],null),xq,new V(null,2,5,Y,[",",String],null),jp,new V(null,2,5,Y,[3,Number],null)],null),$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,T,Aw,function(){return function(a,b){return FB(2,a,b)}}],null),new n(null,5,[Wl,"O",oq,new n(null,4,[Jw,new V(null,2,5,Y,[0,Number],null),uo,new V(null,2,5,Y,[" ",String],null),xq,new V(null,2,5,Y,[",",String],
null),jp,new V(null,2,5,Y,[3,Number],null)],null),$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,T,Aw,function(){return function(a,b){return FB(8,a,b)}}],null),new n(null,5,[Wl,"X",oq,new n(null,4,[Jw,new V(null,2,5,Y,[0,Number],null),uo,new V(null,2,5,Y,[" ",String],null),xq,new V(null,2,5,Y,[",",String],null),jp,new V(null,2,5,Y,[3,Number],null)],null),$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,T,Aw,function(){return function(a,b){return FB(16,a,b)}}],
null),new n(null,5,[Wl,"R",oq,new n(null,5,[km,new V(null,2,5,Y,[null,Number],null),Jw,new V(null,2,5,Y,[0,Number],null),uo,new V(null,2,5,Y,[" ",String],null),xq,new V(null,2,5,Y,[",",String],null),jp,new V(null,2,5,Y,[3,Number],null)],null),$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,T,Aw,function(a){return q(G(km.g(a)))?function(b,c){return FB(km.g(b),b,c)}:q(function(){var b=cv.g(a);return q(b)?Ir.g(a):b}())?function(b,c){return PB(NB,c)}:q(cv.g(a))?function(b,c){return PB(OB,
c)}:q(Ir.g(a))?function(b,c){b=tB(c);c=N(b,0,null);b=N(b,1,null);if(E.h(0,c))iA.o(M(["zeroth"]));else{var d=DB(1E3,0>c?-c:c);if(I(d)<=I(KB)){var e=ng.h(LB,qg(d));e=MB(e,1);var f=oe(d);d=df(f,100);f=ef(f,100);var g=0<d?[t.g(de(GB,d))," hundred"].join(""):null,h=t,k=h.g;if(0<f)if(20>f)var m=de(HB,f);else{m=df(f,10);var p=ef(f,10);m=0<m&&!(0<p)?de(JB,m):[t.g(0<m?de(IB,m):null),0<m&&0<p?"-":null,t.g(0<p?de(HB,p):null)].join("")}else m=0<d?"th":null;d=[g,0<d&&0<f?" ":null,k.call(h,m)].join("");iA.o(M([[0>
c?"minus ":null,Be(e)||Be(d)?Be(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else FB(10,new n(null,5,[Jw,0,uo," ",xq,",",jp,3,Ir,!0],null),nB(new V(null,1,5,Y,[c],null))),e=ef(c,100),c=11<e||19>e,e=ef(e,10),iA.o(M([1===e&&c?"st":2===e&&c?"nd":3===e&&c?"rd":"th"]))}return b}:function(b,c){c=tB(c);b=N(c,0,null);c=N(c,1,null);if(E.h(0,b))iA.o(M(["zero"]));else{var d=DB(1E3,0>b?-b:b);I(d)<=I(KB)?(d=ng.h(LB,d),d=MB(d,0),iA.o(M([[0>b?"minus ":null,d].join("")]))):FB(10,new n(null,5,[Jw,0,uo,
" ",xq,",",jp,3,Ir,!0],null),nB(new V(null,1,5,Y,[b],null)))}return c}}],null),new n(null,5,[Wl,"P",oq,T,$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,T,Aw,function(){return function(a,b){b=q(Ir.g(a))?wB(b,-1):b;a=q(cv.g(a))?new V(null,2,5,Y,["y","ies"],null):new V(null,2,5,Y,["","s"],null);var c=tB(b);b=N(c,0,null);c=N(c,1,null);iA.o(M([E.h(b,1)?G(a):ne(a)]));return c}}],null),new n(null,5,[Wl,"C",oq,new n(null,1,[Ju,new V(null,2,5,Y,[null,String],null)],null),$t,new vi(null,
new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,T,Aw,function(a){return q(Ir.g(a))?RB:q(cv.g(a))?SB:TB}],null),new n(null,5,[Wl,"F",oq,new n(null,5,[bt,new V(null,2,5,Y,[null,Number],null),Vs,new V(null,2,5,Y,[null,Number],null),Ps,new V(null,2,5,Y,[0,Number],null),Hw,new V(null,2,5,Y,[null,String],null),uo,new V(null,2,5,Y,[" ",String],null)],null),$t,new vi(null,new n(null,1,[cv,null],null),null),Kv,T,Aw,function(){return $B}],null),new n(null,5,[Wl,"E",oq,new n(null,7,[bt,new V(null,2,5,
Y,[null,Number],null),Vs,new V(null,2,5,Y,[null,Number],null),Rs,new V(null,2,5,Y,[null,Number],null),Ps,new V(null,2,5,Y,[1,Number],null),Hw,new V(null,2,5,Y,[null,String],null),uo,new V(null,2,5,Y,[" ",String],null),Rl,new V(null,2,5,Y,[null,String],null)],null),$t,new vi(null,new n(null,1,[cv,null],null),null),Kv,T,Aw,function(){return aC}],null),new n(null,5,[Wl,"G",oq,new n(null,7,[bt,new V(null,2,5,Y,[null,Number],null),Vs,new V(null,2,5,Y,[null,Number],null),Rs,new V(null,2,5,Y,[null,Number],
null),Ps,new V(null,2,5,Y,[1,Number],null),Hw,new V(null,2,5,Y,[null,String],null),uo,new V(null,2,5,Y,[" ",String],null),Rl,new V(null,2,5,Y,[null,String],null)],null),$t,new vi(null,new n(null,1,[cv,null],null),null),Kv,T,Aw,function(){return bC}],null),new n(null,5,[Wl,"$",oq,new n(null,4,[Vs,new V(null,2,5,Y,[2,Number],null),ht,new V(null,2,5,Y,[1,Number],null),bt,new V(null,2,5,Y,[0,Number],null),uo,new V(null,2,5,Y,[" ",String],null)],null),$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],
null),null),Kv,T,Aw,function(){return cC}],null),new n(null,5,[Wl,"%",oq,new n(null,1,[Su,new V(null,2,5,Y,[1,Number],null)],null),$t,hg,Kv,T,Aw,function(){return function(a,b){a=Su.g(a);for(var c=0;;)if(c<a)kA(),c+=1;else break;return b}}],null),new n(null,5,[Wl,"\x26",oq,new n(null,1,[Su,new V(null,2,5,Y,[1,Number],null)],null),$t,new vi(null,new n(null,1,[xp,null],null),null),Kv,T,Aw,function(){return function(a,b){a=Su.g(a);0<a&&((null!=ab?ab.A&32768||$a===ab.cd||(ab.A?0:qb(xc,ab)):qb(xc,ab))?
E.h(0,rA(km.g(u(u(ab))),To))||kA():kA());--a;for(var c=0;;)if(c<a)kA(),c+=1;else break;return b}}],null),new n(null,5,[Wl,"|",oq,new n(null,1,[Su,new V(null,2,5,Y,[1,Number],null)],null),$t,hg,Kv,T,Aw,function(){return function(a,b){a=Su.g(a);for(var c=0;;)if(c<a)iA.o(M(["\f"])),c+=1;else break;return b}}],null),new n(null,5,[Wl,"~",oq,new n(null,1,[ht,new V(null,2,5,Y,[1,Number],null)],null),$t,hg,Kv,T,Aw,function(){return function(a,b){a=ht.g(a);iA.o(M([Of(t,sg(a,"~"))]));return b}}],null),new n(null,
5,[Wl,"\n",oq,T,$t,new vi(null,new n(null,2,[Ir,null,cv,null],null),null),Kv,T,Aw,function(){return function(a,b){q(cv.g(a))&&kA();return b}}],null),new n(null,5,[Wl,"T",oq,new n(null,2,[Iv,new V(null,2,5,Y,[1,Number],null),vn,new V(null,2,5,Y,[1,Number],null)],null),$t,new vi(null,new n(null,2,[cv,null,xp,null],null),null),Kv,T,Aw,function(a){return q(cv.g(a))?function(b,c){var d=Iv.g(b);b=vn.g(b);var e=d+rA(km.g(u(u(ab))),To);e=0<b?ef(e,b):0;d+=E.h(0,e)?0:b-e;iA.o(M([Of(t,sg(d," "))]));return c}:
function(b,c){var d=Iv.g(b);b=vn.g(b);var e=rA(km.g(u(u(ab))),To);d=e<d?d-e:E.h(b,0)?0:b-ef(e-d,b);iA.o(M([Of(t,sg(d," "))]));return c}}],null),new n(null,5,[Wl,"*",oq,new n(null,1,[ht,new V(null,2,5,Y,[1,Number],null)],null),$t,new vi(null,new n(null,2,[Ir,null,cv,null],null),null),Kv,T,Aw,function(){return function(a,b){var c=ht.g(a);return q(cv.g(a))?vB(b,c):wB(b,q(Ir.g(a))?-c:c)}}],null),new n(null,5,[Wl,"?",oq,T,$t,new vi(null,new n(null,1,[cv,null],null),null),Kv,T,Aw,function(a){return q(cv.g(a))?
function(b,c){var d=uB(c);c=N(d,0,null);d=N(d,1,null);return VB(c,d,cl.g(b))}:function(b,c){var d=uB(c);c=N(d,0,null);d=N(d,1,null);var e=tB(d);d=N(e,0,null);e=N(e,1,null);d=nB(d);VB(c,d,cl.g(b));return e}}],null),new n(null,5,[Wl,"(",oq,T,$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,new n(null,3,[on,")",Ut,null,hq,null],null),Aw,function(a){var b=q(function(){var c=cv.g(a);return q(c)?Ir.g(a):c}())?oC:q(Ir.g(a))?qC:q(cv.g(a))?rC:nC;return function(c,d){a:{var e=G(Tu.g(c)),
f=ab;ab=b.g?b.g(ab):b.call(null,ab);try{var g=VB(e,d,cl.g(c));break a}finally{ab=f}g=void 0}return g}}],null),new n(null,5,[Wl,")",oq,T,$t,hg,Kv,T,Aw,function(){return null}],null),new n(null,5,[Wl,"[",oq,new n(null,1,[wv,new V(null,2,5,Y,[null,Number],null)],null),$t,new vi(null,new n(null,2,[Ir,null,cv,null],null),null),Kv,new n(null,3,[on,"]",Ut,!0,hq,Ls],null),Aw,function(a){return q(Ir.g(a))?eC:q(cv.g(a))?fC:dC}],null),new n(null,5,[Wl,";",oq,new n(null,2,[tq,new V(null,2,5,Y,[null,Number],null),
Nu,new V(null,2,5,Y,[null,Number],null)],null),$t,new vi(null,new n(null,1,[Ir,null],null),null),Kv,new n(null,1,[mp,!0],null),Aw,function(){return null}],null),new n(null,5,[Wl,"]",oq,T,$t,hg,Kv,T,Aw,function(){return null}],null),new n(null,5,[Wl,"{",oq,new n(null,1,[Rw,new V(null,2,5,Y,[null,Number],null)],null),$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,new n(null,2,[on,"}",Ut,!1],null),Aw,function(a){var b=cv.g(a);b=q(b)?Ir.g(a):b;return q(b)?jC:q(Ir.g(a))?hC:q(cv.g(a))?
iC:gC}],null),new n(null,5,[Wl,"}",oq,T,$t,new vi(null,new n(null,1,[Ir,null],null),null),Kv,T,Aw,function(){return null}],null),new n(null,5,[Wl,"\x3c",oq,new n(null,4,[Jw,new V(null,2,5,Y,[0,Number],null),vn,new V(null,2,5,Y,[1,Number],null),Tr,new V(null,2,5,Y,[0,Number],null),uo,new V(null,2,5,Y,[" ",String],null)],null),$t,new vi(null,new n(null,4,[Ir,null,cv,null,Ht,null,xp,null],null),null),Kv,new n(null,3,[on,"\x3e",Ut,!0,hq,xm],null),Aw,function(){return kC}],null),new n(null,5,[Wl,"\x3e",
oq,T,$t,new vi(null,new n(null,1,[Ir,null],null),null),Kv,T,Aw,function(){return null}],null),new n(null,5,[Wl,"^",oq,new n(null,3,[nw,new V(null,2,5,Y,[null,Number],null),ow,new V(null,2,5,Y,[null,Number],null),mw,new V(null,2,5,Y,[null,Number],null)],null),$t,new vi(null,new n(null,1,[Ir,null],null),null),Kv,T,Aw,function(){return function(a,b){var c=nw.g(a),d=ow.g(a),e=mw.g(a),f=q(Ir.g(a))?Zt:xw;return q(q(c)?q(d)?e:d:c)?c<=d&&d<=e?new V(null,2,5,Y,[f,b],null):b:q(q(c)?d:c)?E.h(c,d)?new V(null,
2,5,Y,[f,b],null):b:q(c)?E.h(c,0)?new V(null,2,5,Y,[f,b],null):b:(q(Ir.g(a))?Be(sq.g(cl.g(a))):Be(sq.g(b)))?new V(null,2,5,Y,[f,b],null):b}}],null),new n(null,5,[Wl,"W",oq,T,$t,new vi(null,new n(null,4,[Ir,null,cv,null,Ht,null,xp,null],null),null),Kv,T,Aw,function(a){if(q(function(){var c=cv.g(a);return q(c)?c:Ir.g(a)}())){var b=Ff.h(q(cv.g(a))?new V(null,4,5,Y,[Xj,null,Rk,null],null):qe,q(Ir.g(a))?new V(null,2,5,Y,[xp,!0],null):qe);return function(c,d){d=tB(d);c=N(d,0,null);d=N(d,1,null);return q(Pf(gB,
c,b))?new V(null,2,5,Y,[xw,d],null):d}}return function(c,d){d=tB(d);c=N(d,0,null);d=N(d,1,null);return q(fB(c))?new V(null,2,5,Y,[xw,d],null):d}}],null),new n(null,5,[Wl,"_",oq,T,$t,new vi(null,new n(null,3,[Ir,null,cv,null,Ht,null],null),null),Kv,T,Aw,function(){return tC}],null),new n(null,5,[Wl,"I",oq,new n(null,1,[ht,new V(null,2,5,Y,[0,Number],null)],null),$t,new vi(null,new n(null,1,[Ir,null],null),null),Kv,T,Aw,function(){return sC}],null)]),vC=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,wC=new vi(null,
new n(null,2,[Qo,null,yv,null],null),null);
function xC(a){var b=N(a,0,null),c=N(a,1,null),d=N(a,2,null);a=new RegExp(vC.source,"g");var e=a.exec(b);return q(e)?(d=G(e),b=b.substring(a.lastIndex),a=c+a.lastIndex,E.h(",",de(b,0))?new V(null,2,5,Y,[new V(null,2,5,Y,[d,c],null),new V(null,3,5,Y,[b.substring(1),a+1,!0],null)],null):new V(null,2,5,Y,[new V(null,2,5,Y,[d,c],null),new V(null,3,5,Y,[b,a,!1],null)],null)):q(d)?rB("Badly formed parameters in format directive",c):new V(null,2,5,Y,[null,new V(null,2,5,Y,[b,c],null)],null)}
function yC(a){var b=N(a,0,null);a=N(a,1,null);return new V(null,2,5,Y,[E.h(b.length,0)?null:E.h(b.length,1)&&Re(new vi(null,new n(null,2,["V",null,"v",null],null),null),de(b,0))?yv:E.h(b.length,1)&&E.h("#",de(b,0))?Qo:E.h(b.length,2)&&E.h("'",de(b,0))?de(b,1):parseInt(b,10),a],null)}var zC=new n(null,2,[":",Ir,"@",cv],null);
function AC(a,b){return nA(function(c){var d=N(c,0,null),e=N(c,1,null);c=N(c,2,null);if(Be(d))return new V(null,2,5,Y,[null,new V(null,3,5,Y,[d,e,c],null)],null);var f=A.h(zC,G(d));return q(f)?Re(c,f)?rB(['Flag "',t.g(G(d)),'" appears more than once in a directive'].join(""),e):new V(null,2,5,Y,[!0,new V(null,3,5,Y,[d.substring(1),e+1,O.j(c,f,new V(null,2,5,Y,[!0,e],null))],null)],null):new V(null,2,5,Y,[null,new V(null,3,5,Y,[d,e,c],null)],null)},new V(null,3,5,Y,[a,b,T],null))}
function BC(a,b){var c=$t.g(a);q(pb(cv.g(c))?cv.g(b):!1)&&rB(['"@" is an illegal flag for format directive "',t.g(Wl.g(a)),'"'].join(""),de(cv.g(b),1));q(pb(Ir.g(c))?Ir.g(b):!1)&&rB(['":" is an illegal flag for format directive "',t.g(Wl.g(a)),'"'].join(""),de(Ir.g(b),1));q(pb(Ht.g(c))?function(){var d=cv.g(b);return q(d)?Ir.g(b):d}():!1)&&rB(['Cannot combine "@" and ":" flags for format directive "',t.g(Wl.g(a)),'"'].join(""),function(){var d=de(Ir.g(b),1),e=de(cv.g(b),1);return d<e?d:e}())}
function CC(a,b,c,d){BC(a,c);I(b)>I(oq.g(a))&&rB(lB(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',M([Wl.g(a),I(b),I(oq.g(a))])),ne(G(b)));Mi(ng.j(function(e,f){var g=G(e);return null==g||Re(wC,g)||E.h(ne(ne(f)),rb(g))?null:rB(["Parameter ",rf(G(f)),' has bad type in directive "',t.g(Wl.g(a)),'": ',t.g(rb(g))].join(""),ne(e))},b,oq.g(a)));return si(M([Ag.h(T,lf(function(){return function g(f){return new sf(null,function(){for(;;){var h=
F(f);if(h){if(Le(h)){var k=fd(h),m=I(k),p=xf(m);a:for(var r=0;;)if(r<m){var v=Pb(k,r),x=N(v,0,null);v=N(v,1,null);v=N(v,0,null);p.add(new V(null,2,5,Y,[x,new V(null,2,5,Y,[v,d],null)],null));r+=1}else{k=!0;break a}return k?zf(Bf(p),g(gd(h))):zf(Bf(p),null)}k=G(h);p=N(k,0,null);k=N(k,1,null);k=N(k,0,null);return je(new V(null,2,5,Y,[p,new V(null,2,5,Y,[k,d],null)],null),g(Hd(h)))}return null}},null,null)}(oq.g(a))}())),yb(function(e,f){return Pf(O,e,f)},T,wg(function(e){return G(de(e,1))},Ci(Gh(oq.g(a)),
b))),c]))}
function DC(a,b){b=nA(xC,new V(null,3,5,Y,[a,b,!1],null));a=N(b,0,null);var c=N(b,1,null);b=N(c,0,null);c=N(c,1,null);b=AC(b,c);N(b,0,null);b=N(b,1,null);var d=N(b,0,null),e=N(b,1,null);b=N(b,2,null);c=G(d);var f=A.h(uC,c.toUpperCase()),g=q(f)?CC(f,ng.h(yC,a),b,e):null;pb(c)&&rB("Format string ended in the middle of a directive",e);pb(f)&&rB(['Directive "',t.g(c),'" is undefined'].join(""),e);return new V(null,2,5,Y,[new xB(function(){var h=Aw.g(f);return h.h?h.h(g,e):h.call(null,g,e)}(),f,g,e,null,
null,null),function(){var h=d.substring(1),k=e+1;if(E.h("\n",Wl.g(f))&&pb(Ir.g(g)))a:{var m=new V(null,2,5,Y,[" ","\t"],null);m=Ce(m)?zi(m):xi([m]);for(var p=0;;){var r;(r=E.h(p,I(h)))||(r=de(h,p),r=m.g?m.g(r):m.call(null,r),r=pb(r));if(r){m=p;break a}p+=1}}else m=0;return new V(null,2,5,Y,[h.substring(m),k+m],null)}()],null)}function EC(a,b){return new xB(function(c,d){iA.o(M([a]));return d},null,new n(null,1,[lk,a],null),b,null,null,null)}
function FC(a,b){var c=GC(Kv.g(kl.g(a)),wq.g(a),b);b=N(c,0,null);c=N(c,1,null);return new V(null,2,5,Y,[new xB(nt.g(a),kl.g(a),si(M([oq.g(a),pA(b,wq.g(a))])),wq.g(a),null,null,null),c],null)}
function HC(a,b,c){return nA(function(d){if(Be(d))return rB("No closing bracket found.",b);var e=G(d);d=H(d);if(q(on.g(Kv.g(kl.g(e)))))e=FC(e,d);else if(E.h(on.g(a),Wl.g(kl.g(e))))e=new V(null,2,5,Y,[null,new V(null,4,5,Y,[co,oq.g(e),null,d],null)],null);else{var f=mp.g(Kv.g(kl.g(e)));f=q(f)?Ir.g(oq.g(e)):f;e=q(f)?new V(null,2,5,Y,[null,new V(null,4,5,Y,[hq,null,oq.g(e),d],null)],null):q(mp.g(Kv.g(kl.g(e))))?new V(null,2,5,Y,[null,new V(null,4,5,Y,[mp,null,null,d],null)],null):new V(null,2,5,Y,[e,
d],null)}return e},c)}
function GC(a,b,c){return ne(nA(function(d){var e=N(d,0,null),f=N(d,1,null);d=N(d,2,null);var g=HC(a,b,d);d=N(g,0,null);var h=N(g,1,null);g=N(h,0,null);var k=N(h,1,null),m=N(h,2,null);h=N(h,3,null);return E.h(g,co)?new V(null,2,5,Y,[null,new V(null,2,5,Y,[ti(Ff,M([e,ue([q(f)?hq:Tu,new V(null,1,5,Y,[d],null),sm,k])])),h],null)],null):E.h(g,hq)?q(hq.g(e))?rB('Two else clauses ("~:;") inside bracket construction.',b):pb(hq.g(a))?rB('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
E.h(xm,hq.g(a))&&F(Tu.g(e))?rB('The else clause ("~:;") is only allowed in the first position for this directive.',b):E.h(xm,hq.g(a))?new V(null,2,5,Y,[!0,new V(null,3,5,Y,[ti(Ff,M([e,new n(null,2,[hq,new V(null,1,5,Y,[d],null),lx,m],null)])),!1,h],null)],null):new V(null,2,5,Y,[!0,new V(null,3,5,Y,[ti(Ff,M([e,new n(null,1,[Tu,new V(null,1,5,Y,[d],null)],null)])),!0,h],null)],null):E.h(g,mp)?q(f)?rB('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):pb(Ut.g(a))?
rB('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new V(null,2,5,Y,[!0,new V(null,3,5,Y,[ti(Ff,M([e,new n(null,1,[Tu,new V(null,1,5,Y,[d],null)],null)])),!1,h],null)],null):null},new V(null,3,5,Y,[new n(null,1,[Tu,qe],null),!1,c],null)))}function IC(a){return G(nA(function(b){var c=G(b);b=H(b);var d=Kv.g(kl.g(c));return q(on.g(d))?FC(c,b):new V(null,2,5,Y,[c,b],null)},a))}
function mB(a){var b=qB;qB=a;try{return IC(G(nA(function(c){var d=N(c,0,null);c=N(c,1,null);if(Be(d))return new V(null,2,5,Y,[null,d],null);var e=d.indexOf("~");return 0>e?new V(null,2,5,Y,[EC(d,c),new V(null,2,5,Y,["",c+d.length],null)],null):0===e?DC(d.substring(1),c+1):new V(null,2,5,Y,[EC(d.substring(0,e),c),new V(null,2,5,Y,[d.substring(e),e+c],null)],null)},new V(null,2,5,Y,[a,0],null))))}finally{qB=b}}
var oB=function oB(a){for(;;){if(Be(a))return!1;var c=xp.g($t.g(kl.g(G(a))));q(c)||(c=bg(oB,G(Tu.g(oq.g(G(a))))),c=q(c)?c:bg(oB,G(hq.g(oq.g(G(a))))));if(q(c))return!0;a=H(a)}};function pB(a,b){mA(function(c,d){if(UB(d))return new V(null,2,5,Y,[null,d],null);d=zB(oq.g(c),d);var e=N(d,0,null);d=N(d,1,null);var f=oA(e);e=N(f,0,null);f=N(f,1,null);e=O.j(e,cl,d);return new V(null,2,5,Y,[null,Of(nt.g(c),new V(null,3,5,Y,[e,d,f],null))],null)},b,a);return null}
var JC=function(a){var b=kg(T);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var g=Array(arguments.length-0);f<g.length;)g[f]=arguments[f+0],++f;f=new Fd(g,0,null)}return d.call(this,f)}function d(e){var f=A.j(u(b),e,Ne);return f===Ne?(f=Of(a,e),mg.F(b,O,e,f),f):f}c.H=0;c.G=function(e){e=F(e);return d(e)};c.o=d;return c}()}(mB),KC=new n(null,6,[Ms,"'",ou,"#'",ro,"@",Wt,"~",Hk,"@",fl,"~"],null);
function LC(a){var b=G(a);b=KC.g?KC.g(b):KC.call(null,b);return q(q(b)?E.h(2,I(a)):b)?(w(ab,b),fB(ne(a)),!0):null}function MC(a){if(q(iB()))w(ab,"#");else{var b=cB,c=dB;cB+=1;dB=0;try{UA("[","]");for(var d=0,e=F(a);;){if(pb(fb)||d<fb){if(e&&(fB(G(e)),H(e))){w(ab," ");jB(Ar);a=d+1;var f=H(e);d=a;e=f;continue}}else w(ab,"...");break}VA()}finally{dB=c,cB=b}}return null}
(function(){var a=JC("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Fd(f,0,null)}return c.call(this,e)}function c(d){d=nB(d);return pB(a,d)}b.H=0;b.G=function(d){d=F(d);return c(d)};b.o=c;return b}()})();
function NC(a){var b=Je(a)?null:function(){var k=new Cd(function(){return ij},Os,oi([xk,Nj,nv,Kp,Sk,tw,bk,pk,Eq,su,Rr],[!0,Tj,st,"cljs/core.cljs",15,1,10425,10425,mf(new V(null,1,5,Y,[Sm],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",q(ij)?ij.gf:null]));return k.g?k.g(a):k.call(null,a)}(),c=N(b,0,null);b=N(b,1,null);var d=q(b)?b:a,e=q(c)?["#:",t.g(c),"{"].join(""):"{";if(q(iB()))w(ab,"#");else{c=cB;b=dB;cB+=1;dB=0;try{UA(e,"}");e=0;for(var f=F(d);;){if(pb(fb)||e<fb){if(f){if(q(iB()))w(ab,
"#");else{d=cB;var g=dB;cB+=1;dB=0;try{UA(null,null),fB(G(G(f))),w(ab," "),jB(Ar),dB=0,fB(G(H(G(f)))),VA()}finally{dB=g,cB=d}}if(H(f)){w(ab,", ");jB(Ar);d=e+1;var h=H(f);e=d;f=h;continue}}}else w(ab,"...");break}VA()}finally{dB=b,cB=c}}return null}function OC(a){return w(ab,ej.o(M([a])))}
var PC=function(){var a=JC("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Fd(f,0,null)}return c.call(this,e)}function c(d){d=nB(d);return pB(a,d)}b.H=0;b.G=function(d){d=F(d);return c(d)};b.o=c;return b}()}(),QC=new n(null,2,["core$future_call","Future","core$promise","Promise"],null),RC=function(){var a=JC("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=
null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Fd(f,0,null)}return c.call(this,e)}function c(d){d=nB(d);return pB(a,d)}b.H=0;b.G=function(d){d=F(d);return c(d)};b.o=c;return b}()}();function SC(a){return a instanceof th?rv:(null!=a?a.A&32768||$a===a.cd||(a.A?0:qb(xc,a)):qb(xc,a))?Pw:a instanceof y?ot:Oe(a)?pw:Ie(a)?Gu:Ke(a)?Nt:De(a)?$l:null==a?null:Ij}var TC,UC=kg(T),VC=kg(T),WC=kg(T),XC=kg(T),YC=A.j(T,Qs,vj.v?vj.v():vj.call(null));
TC=new Hj(Bd.h(da,"simple-dispatch"),SC,YC,UC,VC,WC,XC);Fj(TC,pw,function(a){if(pb(LC(a)))if(q(iB()))w(ab,"#");else{var b=cB,c=dB;cB+=1;dB=0;try{UA("(",")");for(var d=0,e=F(a);;){if(pb(fb)||d<fb){if(e&&(fB(G(e)),H(e))){w(ab," ");jB(Ar);a=d+1;var f=H(e);d=a;e=f;continue}}else w(ab,"...");break}VA()}finally{dB=c,cB=b}}return null});Fj(TC,Nt,MC);Fj(TC,Gu,NC);Fj(TC,$l,PC);Fj(TC,null,function(){return w(ab,ej.o(M([null])))});Fj(TC,Ij,OC);XA=TC;
function ZC(a){return Ke(a)?new V(null,2,5,Y,["[","]"],null):new V(null,2,5,Y,["(",")"],null)}
function $C(a){if(He(a)){var b=ZC(a),c=N(b,0,null),d=N(b,1,null),e=F(a),f=G(e),g=H(e);if(q(iB()))w(ab,"#");else{var h=cB,k=dB,m=cB+1;cB=m;dB=0;try{UA(c,d);(function(){var ia=JC("~w~:i");return function(){function sa(ea){var U=null;if(0<arguments.length){U=0;for(var ca=Array(arguments.length-0);U<ca.length;)ca[U]=arguments[U+0],++U;U=new Fd(ca,0,null)}return va.call(this,U)}function va(ea){ea=nB(ea);return pB(ia,ea)}sa.H=0;sa.G=function(ea){ea=F(ea);return va(ea)};sa.o=va;return sa}()})()(f);for(var p=
g;;)if(F(p)){(function(){var ia=JC(" ");return function(sa,va,ea){return function(){function U(aa){var X=null;if(0<arguments.length){X=0;for(var oa=Array(arguments.length-0);X<oa.length;)oa[X]=arguments[X+0],++X;X=new Fd(oa,0,null)}return ca.call(this,X)}function ca(aa){aa=nB(aa);return pB(ea,aa)}U.H=0;U.G=function(aa){aa=F(aa);return ca(aa)};U.o=ca;return U}()}(p," ",ia,h,k,m,0,b,c,d,a,e,f,g,f,g)})()();var r=G(p);if(He(r)){var v=ZC(r),x=N(v,0,null),z=N(v,1,null);if(q(iB()))w(ab,"#");else{var C=cB,
D=dB,J=cB+1;cB=J;dB=0;try{UA(x,z);if(E.h(I(r),3)&&ne(r)instanceof B){var K=r,R=N(K,0,null),W=N(K,1,null),Z=N(K,2,null);(function(){var ia=JC("~w ~w ");return function(sa,va,ea){return function(){function U(aa){var X=null;if(0<arguments.length){X=0;for(var oa=Array(arguments.length-0);X<oa.length;)oa[X]=arguments[X+0],++X;X=new Fd(oa,0,null)}return ca.call(this,X)}function ca(aa){aa=nB(aa);return pB(ea,aa)}U.H=0;U.G=function(aa){aa=F(aa);return ca(aa)};U.o=ca;return U}()}(p,"~w ~w ",ia,K,R,W,Z,C,D,
J,0,v,x,z,r,h,k,m,0,b,c,d,a,e,f,g,f,g)})()(R,W);He(Z)?function(){var ia=Ke(Z)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",sa="string"===typeof ia?JC(ia):ia;return function(va,ea,U){return function(){function ca(X){var oa=null;if(0<arguments.length){oa=0;for(var P=Array(arguments.length-0);oa<P.length;)P[oa]=arguments[oa+0],++oa;oa=new Fd(P,0,null)}return aa.call(this,oa)}function aa(X){X=nB(X);return pB(U,X)}ca.H=0;ca.G=function(X){X=F(X);return aa(X)};ca.o=aa;return ca}()}(p,
ia,sa,K,R,W,Z,C,D,J,0,v,x,z,r,h,k,m,0,b,c,d,a,e,f,g,f,g)}()(Z):fB(Z)}else Of(function(){var ia=JC("~w ~:i~@{~w~^ ~:_~}");return function(sa,va,ea){return function(){function U(aa){var X=null;if(0<arguments.length){X=0;for(var oa=Array(arguments.length-0);X<oa.length;)oa[X]=arguments[X+0],++X;X=new Fd(oa,0,null)}return ca.call(this,X)}function ca(aa){aa=nB(aa);return pB(ea,aa)}U.H=0;U.G=function(aa){aa=F(aa);return ca(aa)};U.o=ca;return U}()}(p,"~w ~:i~@{~w~^ ~:_~}",ia,C,D,J,0,v,x,z,r,h,k,m,0,b,c,
d,a,e,f,g,f,g)}(),r);VA()}finally{dB=D,cB=C}}H(p)&&function(){var ia=JC("~_");return function(sa,va,ea){return function(){function U(aa){var X=null;if(0<arguments.length){X=0;for(var oa=Array(arguments.length-0);X<oa.length;)oa[X]=arguments[X+0],++X;X=new Fd(oa,0,null)}return ca.call(this,X)}function ca(aa){aa=nB(aa);return pB(ea,aa)}U.H=0;U.G=function(aa){aa=F(aa);return ca(aa)};U.o=ca;return U}()}(p,"~_",ia,v,x,z,r,h,k,m,0,b,c,d,a,e,f,g,f,g)}()()}else fB(r),H(p)&&function(){var ia=JC("~:_");return function(sa,
va,ea){return function(){function U(aa){var X=null;if(0<arguments.length){X=0;for(var oa=Array(arguments.length-0);X<oa.length;)oa[X]=arguments[X+0],++X;X=new Fd(oa,0,null)}return ca.call(this,X)}function ca(aa){aa=nB(aa);return pB(ea,aa)}U.H=0;U.G=function(aa){aa=F(aa);return ca(aa)};U.o=ca;return U}()}(p,"~:_",ia,r,h,k,m,0,b,c,d,a,e,f,g,f,g)}()();p=H(p)}else break;VA()}finally{dB=k,cB=h}}}else fB(a)}
var aD=function(){var a=JC("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Fd(f,0,null)}return c.call(this,e)}function c(d){d=nB(d);return pB(a,d)}b.H=0;b.G=function(d){d=F(d);return c(d)};b.o=c;return b}()}();
function bD(a,b){F(a)&&(q(b)?function(){var c=JC(" ~_");return function(){function d(f){var g=null;if(0<arguments.length){g=0;for(var h=Array(arguments.length-0);g<h.length;)h[g]=arguments[g+0],++g;g=new Fd(h,0,null)}return e.call(this,g)}function e(f){f=nB(f);return pB(c,f)}d.H=0;d.G=function(f){f=F(f);return e(f)};d.o=e;return d}()}()():function(){var c=JC(" ~@_");return function(){function d(f){var g=null;if(0<arguments.length){g=0;for(var h=Array(arguments.length-0);g<h.length;)h[g]=arguments[g+
0],++g;g=new Fd(h,0,null)}return e.call(this,g)}function e(f){f=nB(f);return pB(c,f)}d.H=0;d.G=function(f){f=F(f);return e(f)};d.o=e;return d}()}()(),function(){var c=JC("~{~w~^ ~_~}");return function(){function d(f){var g=null;if(0<arguments.length){g=0;for(var h=Array(arguments.length-0);g<h.length;)h[g]=arguments[g+0],++g;g=new Fd(h,0,null)}return e.call(this,g)}function e(f){f=nB(f);return pB(c,f)}d.H=0;d.G=function(f){f=F(f);return e(f)};d.o=e;return d}()}()(a))}
function cD(a){F(a)&&function(){var b=JC(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var g=Array(arguments.length-0);f<g.length;)g[f]=arguments[f+0],++f;f=new Fd(g,0,null)}return d.call(this,f)}function d(e){e=nB(e);return pB(b,e)}c.H=0;c.G=function(e){e=F(e);return d(e)};c.o=d;return c}()}()(a)}
function dD(a){if(H(a)){var b=F(a);a=G(b);var c=H(b);b=G(c);c=H(c);var d="string"===typeof G(c)?new V(null,2,5,Y,[G(c),H(c)],null):new V(null,2,5,Y,[null,c],null);c=N(d,0,null);d=N(d,1,null);var e=Ie(G(d))?new V(null,2,5,Y,[G(d),H(d)],null):new V(null,2,5,Y,[null,d],null);d=N(e,0,null);e=N(e,1,null);if(q(iB()))w(ab,"#");else{var f=cB,g=dB;cB+=1;dB=0;try{UA("(",")"),function(){var h=JC("~w ~1I~@_~w");return function(){function k(p){var r=null;if(0<arguments.length){r=0;for(var v=Array(arguments.length-
0);r<v.length;)v[r]=arguments[r+0],++r;r=new Fd(v,0,null)}return m.call(this,r)}function m(p){p=nB(p);return pB(h,p)}k.H=0;k.G=function(p){p=F(p);return m(p)};k.o=m;return k}()}()(a,b),q(c)&&function(){var h=JC(" ~_~w");return function(){function k(p){var r=null;if(0<arguments.length){r=0;for(var v=Array(arguments.length-0);r<v.length;)v[r]=arguments[r+0],++r;r=new Fd(v,0,null)}return m.call(this,r)}function m(p){p=nB(p);return pB(h,p)}k.H=0;k.G=function(p){p=F(p);return m(p)};k.o=m;return k}()}()(c),
q(d)&&function(){var h=JC(" ~_~w");return function(){function k(p){var r=null;if(0<arguments.length){r=0;for(var v=Array(arguments.length-0);r<v.length;)v[r]=arguments[r+0],++r;r=new Fd(v,0,null)}return m.call(this,r)}function m(p){p=nB(p);return pB(h,p)}k.H=0;k.G=function(p){p=F(p);return m(p)};k.o=m;return k}()}()(d),Ke(G(e))?bD(e,q(c)?c:d):cD(e),VA()}finally{dB=g,cB=f}}return null}return eD(a)}
function fD(a){if(q(iB()))w(ab,"#");else{var b=cB,c=dB;cB+=1;dB=0;try{UA("[","]");for(var d=0;;){if(pb(fb)||d<fb){if(F(a)){if(q(iB()))w(ab,"#");else{var e=cB,f=dB;cB+=1;dB=0;try{UA(null,null),fB(G(a)),H(a)&&(w(ab," "),jB(zv),fB(ne(a))),VA()}finally{dB=f,cB=e}}if(H(Hd(a))){w(ab," ");jB(Ar);e=d+1;var g=H(Hd(a));d=e;a=g;continue}}}else w(ab,"...");break}VA()}finally{dB=c,cB=b}}}
function gD(a){var b=G(a);if(q(iB()))w(ab,"#");else{var c=cB,d=dB;cB+=1;dB=0;try{UA("(",")"),H(a)&&Ke(ne(a))?(function(){var e=JC("~w ~1I~@_");return function(){function f(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new Fd(m,0,null)}return g.call(this,k)}function g(h){h=nB(h);return pB(e,h)}f.H=0;f.G=function(h){h=F(h);return g(h)};f.o=g;return f}()}()(b),fD(ne(a)),function(){var e=JC(" ~_~{~w~^ ~_~}");return function(){function f(h){var k=
null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new Fd(m,0,null)}return g.call(this,k)}function g(h){h=nB(h);return pB(e,h)}f.H=0;f.G=function(h){h=F(h);return g(h)};f.o=g;return f}()}()(H(Hd(a)))):eD(a),VA()}finally{dB=d,cB=c}}return null}
var hD=function(){var a=JC("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Fd(f,0,null)}return c.call(this,e)}function c(d){d=nB(d);return pB(a,d)}b.H=0;b.G=function(d){d=F(d);return c(d)};b.o=c;return b}()}(),iD=T;
function eD(a){if(q(iB()))w(ab,"#");else{var b=cB,c=dB;cB+=1;dB=0;try{UA("(",")");kB(gq,1);for(var d=0,e=F(a);;){if(pb(fb)||d<fb){if(e&&(fB(G(e)),H(e))){w(ab," ");jB(Ar);a=d+1;var f=H(e);d=a;e=f;continue}}else w(ab,"...");break}VA()}finally{dB=c,cB=b}}return null}
var jD=function(a){return Ag.h(T,vg(We,M([function(){return function d(c){return new sf(null,function(){for(;;){var e=F(c);if(e){if(Le(e)){var f=fd(e),g=I(f),h=xf(g);a:for(var k=0;;)if(k<g){var m=Pb(f,k);m=new V(null,2,5,Y,[m,new V(null,2,5,Y,[Bd.g(rf(G(m))),ne(m)],null)],null);h.add(m);k+=1}else{f=!0;break a}return f?zf(Bf(h),d(gd(e))):zf(Bf(h),null)}h=G(e);return je(new V(null,2,5,Y,[h,new V(null,2,5,Y,[Bd.g(rf(G(h))),ne(h)],null)],null),d(Hd(e)))}return null}},null,null)}(a)}()])))}(function(a){return Ag.h(T,
ng.h(function(b){var c=N(b,0,null),d=N(b,1,null);var e=of(c);e=q(e)?e:Re(new vi(null,new n(null,24,[Zn,"null",jq,"null",Wj,"null",hs,"null",fk,"null",sl,"null",Gs,"null",Hr,"null",om,"null",ys,"null",Br,"null",Dt,"null",cx,"null",ym,"null",Hq,"null",qk,"null",Km,"null",Rn,"null",bv,"null",ou,"null",Ms,"null",Nq,"null",ms,"null",Uo,"null"],null),null),c);return pb(e)?new V(null,2,5,Y,[Bd.h("clojure.core",rf(c)),d],null):b},a))}(oi([bv,qk,Em,ys,Mw,wp,ix,Xq,uv,Zq,eu,Zk,iw,Uo,pn,Wk,as,qp,Pu,Dt,ll,Fu,
qs,dt,cw,Vl,zq,Lw,Wu,qq],[aD,function(a){var b=ne(a),c=G(Hd(Hd(a)));if(Ke(b)){a=iD;iD=E.h(1,I(b))?ue([G(b),"%"]):Ag.h(T,ng.j(function(d,e){return new V(null,2,5,Y,[d,["%",t.g(e)].join("")],null)},b,Ii(1,I(b)+1)));try{return function(){var d=JC("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(g){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new Fd(k,0,null)}return f.call(this,h)}function f(g){g=nB(g);return pB(d,g)}e.H=
0;e.G=function(g){g=F(g);return f(g)};e.o=f;return e}()}()(c)}finally{iD=a}}else return eD(a)},gD,hD,function(a){if(3<I(a)){if(q(iB()))w(ab,"#");else{var b=cB,c=dB;cB+=1;dB=0;try{UA("(",")");kB(gq,1);Of(function(){var h=JC("~w ~@_~w ~@_~w ~_");return function(){function k(p){var r=null;if(0<arguments.length){r=0;for(var v=Array(arguments.length-0);r<v.length;)v[r]=arguments[r+0],++r;r=new Fd(v,0,null)}return m.call(this,r)}function m(p){p=nB(p);return pB(h,p)}k.H=0;k.G=function(p){p=F(p);return m(p)};
k.o=m;return k}()}(),a);for(var d=0,e=F(pg(3,a));;){if(pb(fb)||d<fb){if(e){if(q(iB()))w(ab,"#");else{a=cB;var f=dB;cB+=1;dB=0;try{UA(null,null),fB(G(e)),H(e)&&(w(ab," "),jB(zv),fB(ne(e))),VA()}finally{dB=f,cB=a}}if(H(Hd(e))){w(ab," ");jB(Ar);a=d+1;var g=H(Hd(e));d=a;e=g;continue}}}else w(ab,"...");break}VA()}finally{dB=c,cB=b}}return null}return eD(a)},aD,dD,dD,gD,aD,gD,hD,hD,aD,hD,gD,gD,aD,gD,function(a){if(H(a)){var b=F(a);a=G(b);var c=H(b);b=G(c);c=H(c);var d="string"===typeof G(c)?new V(null,
2,5,Y,[G(c),H(c)],null):new V(null,2,5,Y,[null,c],null);c=N(d,0,null);d=N(d,1,null);d=Ie(G(d))?new V(null,2,5,Y,[G(d),H(d)],null):new V(null,2,5,Y,[null,d],null);var e=N(d,0,null),f=N(d,1,null);if(q(iB()))w(ab,"#");else{d=cB;var g=dB;cB+=1;dB=0;try{UA("(",")");(function(){var k=JC("~w ~1I~@_~w");return function(){function m(r){var v=null;if(0<arguments.length){v=0;for(var x=Array(arguments.length-0);v<x.length;)x[v]=arguments[v+0],++v;v=new Fd(x,0,null)}return p.call(this,v)}function p(r){r=nB(r);
return pB(k,r)}m.H=0;m.G=function(r){r=F(r);return p(r)};m.o=p;return m}()})()(a,b);q(q(c)?c:q(e)?e:F(f))&&function(){var k=JC("~@:_");return function(){function m(r){var v=null;if(0<arguments.length){v=0;for(var x=Array(arguments.length-0);v<x.length;)x[v]=arguments[v+0],++v;v=new Fd(x,0,null)}return p.call(this,v)}function p(r){r=nB(r);return pB(k,r)}m.H=0;m.G=function(r){r=F(r);return p(r)};m.o=p;return m}()}()();q(c)&&lB(!0,'"~a"~:[~;~:@_~]',M([c,q(e)?e:F(f)]));q(e)&&function(){var k=JC("~w~:[~;~:@_~]");
return function(){function m(r){var v=null;if(0<arguments.length){v=0;for(var x=Array(arguments.length-0);v<x.length;)x[v]=arguments[v+0],++v;v=new Fd(x,0,null)}return p.call(this,v)}function p(r){r=nB(r);return pB(k,r)}m.H=0;m.G=function(r){r=F(r);return p(r)};m.o=p;return m}()}()(e,F(f));for(a=f;;){$C(G(a));var h=H(a);if(h)b=h,jB(Ar),a=b;else break}VA()}finally{dB=g,cB=d}}return null}return fB(a)},gD,function(a){if(q(iB()))w(ab,"#");else{var b=cB,c=dB;cB+=1;dB=0;try{UA("(",")");kB(gq,1);fB(G(a));
if(H(a)){w(ab," ");jB(Ar);for(var d=0,e=H(a);;){if(pb(fb)||d<fb){if(e){if(q(iB()))w(ab,"#");else{a=cB;var f=dB;cB+=1;dB=0;try{UA(null,null),fB(G(e)),H(e)&&(w(ab," "),jB(zv),fB(ne(e))),VA()}finally{dB=f,cB=a}}if(H(Hd(e))){w(ab," ");jB(Ar);a=d+1;var g=H(Hd(e));d=a;e=g;continue}}}else w(ab,"...");break}}VA()}finally{dB=c,cB=b}}return null},gD,dD,dD,aD,aD,gD,gD,aD]))),kD,lD=kg(T),mD=kg(T),nD=kg(T),oD=kg(T),pD=A.j(T,Qs,vj.v?vj.v():vj.call(null));kD=new Hj(Bd.h(da,"code-dispatch"),SC,pD,lD,mD,nD,oD);
Fj(kD,pw,function(a){if(pb(LC(a))){var b=jD.call(null,G(a));return q(b)?b.g?b.g(a):b.call(null,a):eD(a)}return null});Fj(kD,ot,function(a){var b=a.g?a.g(iD):a.call(null,iD);return q(b)?iA.o(M([b])):q($A)?iA.o(M([rf(a)])):jA.call(null,a)});Fj(kD,Nt,MC);Fj(kD,Gu,NC);Fj(kD,$l,PC);Fj(kD,rv,RC);
Fj(kD,Pw,function(a){var b=t,c=b.g,d=rb(a).name;var e=Oi(/^[^$]+\$[^$]+/,d);e=q(e)?QC.g?QC.g(e):QC.call(null,e):null;b=["#\x3c",c.call(b,q(e)?e:d),"@",t.g(ra(a)),": "].join("");if(q(iB()))w(ab,"#");else{c=cB;d=dB;cB+=1;dB=0;try{UA(b,"\x3e"),kB(gq,-(b.length-2)),jB(Ar),fB((null!=a?a.J&1||$a===a.bf||(a.J?0:qb(Wc,a)):qb(Wc,a))&&!Xc(a)?Xk:u(a)),VA()}finally{dB=d,cB=c}}return null});Fj(kD,null,jA);Fj(kD,Ij,OC);XA=TC;function qD(a){var b=a.name;return Be(b)?Bd.g(ej.o(M([a]))):Bd.g(b)}var rD,sD=kg(T),tD=kg(T),uD=kg(T),vD=kg(T),wD=A.j(T,Qs,vj.v?vj.v():vj.call(null));rD=new Hj(Bd.h("lambdaisland.data-printers","type-name-pprint-dispatch"),eg.h(qD,rb),wD,sD,tD,uD,vD);rD.O(null,Ij,function(a){return w(ab,ej.o(M([a])))});XA=function(a){var b=a instanceof th;b||(b=(b=null!=a?a.A&32768||$a===a.cd?!0:a.A?!1:qb(xc,a):qb(xc,a))?b:a instanceof y||Oe(a)||Ie(a)||Ke(a)||De(a)||null==a);return b?TC.g(a):rD.g(a)};
function xD(a,b,c){Fj(a,b,c)}function yD(a,b,c){a.prototype.ka=$a;a.prototype.aa=function(d,e,f){w(e,["#",t.g(b)," "].join(""));return cj(new V(null,1,5,Y,[c.g?c.g(this):c.call(null,this)],null),e,f)}}function zD(a,b,c){xD(rD,Bd.g(qD(a)),function(d){w(ab,["#",t.g(b)," "].join(""));return fB(c.g?c.g(d):c.call(null,d))})};function AD(a,b,c){yD(a,b,c);zD(a,b,c)}function BD(a,b,c){AD(a,b,function(d){return yb(function(e,f){var g=O.j;var h=wx(f);h=null!=d&&h in d?d[h]:void 0;return g.call(O,e,f,h)},T,c)})}
var CD=function CD(a){if("string"===typeof a)return a;if(a instanceof Text)return a.data;var c=new V(null,1,5,Y,[qf.g(Vy(a.tagName))],null);return Ag.j(function(){var d=F(a.getAttributeNames());return d?pe.h(c,Ag.j(T,ng.g(Li(aA,function(e){e=a.getAttribute(e);return"string"===typeof e&&250<e.length?[e.substring(0,250),"..."].join(""):e})),d)):c}(),ng.g(CD),a.childNodes)};AD(Text,Text,function(a){return a.data});AD(Element,dl,CD);AD(DocumentFragment,Xn,function(a){return ng.h(CD,a.children)});
AD(HTMLDocument,oo,function(a){return new n(null,1,[Uv,a.documentElement],null)});AD(XMLDocument,Tt,function(a){return new n(null,1,[Uv,a.documentElement],null)});AD(Document,ep,function(a){return new n(null,1,[Uv,a.documentElement],null)});BD(Window,Xl,new V(null,5,5,Y,[is,dr,mo,ov,rl],null));AD(Location,nx,t);AD(HTMLCollection,qw,function(a){return Ag.h(qe,a)});AD(NodeList,yn,function(a){return Ag.h(qe,a)});
"undefined"!==typeof KeyboardEvent&&BD(KeyboardEvent,Zj,new V(null,10,5,Y,[Nm,Ym,ww,Vp,bm,Mt,gl,lw,is,dk],null));"undefined"!==typeof TouchEvent&&(BD(TouchEvent,Bn,new V(null,8,5,Y,[Nm,bm,Ao,Vp,Mt,gl,ir,Rq],null)),BD(Touch,vo,new V(null,8,5,Y,[Mk,lo,wo,mq,lq,Oq,Pq,Nk],null)),AD(TouchList,Cv,eg.h(fh,F)));BD(PointerEvent,Vq,new V(null,11,5,Y,[Nm,Zm,Am,Et,Cm,eo,em,dm,Gw,Go,Jn],null));var DD=new V(null,15,5,Y,[Nm,bm,Dq,rw,mq,lq,Vp,Mt,Fq,Iq,xo,mr,lo,wo,gl],null);BD(MouseEvent,Vw,DD);
BD(WheelEvent,gm,pe.o(DD,wu,M([Au,zu,so])));BD(DragEvent,Tk,pe.h(DD,Cw));var ED=new n(null,6,"svg http://www.w3.org/2000/svg xhtml http://www.w3.org/1999/xhtml xlink http://www.w3.org/1999/xlink rdf http://www.w3.org/1999/02/22-rdf-syntax-ns# cc http://creativecommons.org/ns# dc http://purl.org/dc/elements/1.1/".split(" "),null);function FD(a,b){return q(a)?document.createElementNS(A.h(ED,a),b):document.createElement(b)}
function GD(a){var b=document.createDocumentFragment();a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);b.appendChild(f);e+=1}else if(a=F(a))c=a,Le(c)?(a=fd(c),e=gd(c),c=a,d=I(a),a=e):(a=G(c),b.appendChild(a),a=H(c),c=null,d=0),e=0;else break;return b}function HD(a,b,c){var d=Yz(rf(b));if(pf(b))a.setAttributeNS(A.h(ED,of(b)),d,c);else{var e=E,f=e.h;b=rf(b).substring(0,3);f.call(e,"on-",b)?a[Vy(d)]=c:a.setAttribute(d,c)}}
function ID(a,b){b=F(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=N(f,0,null);f=N(f,1,null);HD(a,g,f);e+=1}else if(b=F(b))Le(b)?(c=fd(b),b=gd(b),g=c,d=I(c),c=g):(c=G(b),g=N(c,0,null),f=N(c,1,null),HD(a,g,f),b=H(b),c=null,d=0),e=0;else break}function JD(){return document.getElementById("text-box")}
function KD(a){var b=rf(a),c=Oi(/[^#\.]+/,b),d=Oi(/[#][^#\.]+/,b);b=Qi(/[\.][^#\.]+/,b);return new V(null,4,5,Y,[of(a),c,q(d)?d.substring(1):null,ng.h(function(e){return e.substring(1)},b)],null)}function LD(a){a=F(a);var b=G(a);a=H(a);var c=KD(b);b=N(c,0,null);var d=N(c,1,null),e=N(c,2,null),f=N(c,3,null);c=Y;var g=Ie(G(a))?G(a):T;e=q(e)?O.j(g,Zw,e):g;e=F(f)?Gg.F(e,Zu,t,Uy(" ",f)):e;return new V(null,4,5,c,[b,d,e,Ie(G(a))?H(a):a],null)}
var MD=function MD(a){if("string"===typeof a)return document.createTextNode(String(a));if(Ke(a)){if(E.h(ml,G(a))){var c=Hd(a);return MD.g?MD.g(c):MD.call(null,c)}if(we(G(a)))return Of(G(a),Hd(a));var d=LD(a);c=N(d,0,null);var e=N(d,1,null),f=N(d,2,null);d=N(d,3,null);var g=FD(c,e);ID(g,f);F(d)&&Gf.h(g,MD.g?MD.g(d):MD.call(null,d));return g}if(Oe(a))return GD(ng.h(MD,a));if(null!=a&&(a.J&16384||$a===a.Rd))return g=kg(function(){var h=u(a);return MD.g?MD.g(h):MD.call(null,h)}()),lj(a,function(h,k,m,
p){h=u(g);p=MD.g?MD.g(p):MD.call(null,p);lg(g,p);return h.parentNode.replaceChild(p,h)}),u(g);c=t.g(a);return MD.g?MD.g(c):MD.call(null,c)};var ND=oi([jw,yl,Uj,Al,Dl,lt,$q,Bq,Bl,zt,Bk,Or,El,Cl,Hu,bw],"#f5871f #e0e0e0 #ffffff #8e908c #969896 #eab700 #718c00 #3e999f #d6d6d6 #c82829 #4271ae #8959a8 #282a2e #4d4d4c #a3685a #1d1f21".split(" "));
function OD(a){var b=Gz(a);return q(function(){var c=Gz(Ds);return $e.h?$e.h(c,b):$e.call(null,c,b)}())?zt:q(function(){var c=Gz(Ns);return $e.h?$e.h(c,b):$e.call(null,c,b)}())?jw:q(function(){var c=Gz(gp);return $e.h?$e.h(c,b):$e.call(null,c,b)}())?Bk:q(function(){var c=Gz(Xw);return $e.h?$e.h(c,b):$e.call(null,c,b)}())?$q:q(function(){var c=Gz(zn);return $e.h?$e.h(c,b):$e.call(null,c,b)}())?lt:q(function(){var c=Gz(jm);return $e.h?$e.h(c,b):$e.call(null,c,b)}())?Al:q(function(){var c=Gz(br);return $e.h?
$e.h(c,b):$e.call(null,c,b)}())?Dl:Bl}function PD(a){var b=N(a,0,null);a=N(a,1,null);return new V(null,2,5,Y,[[t.g(b),t.g(" ")].join(""),a],null)}function QD(a,b,c){var d=N(a,0,null);a=N(a,1,null);return new V(null,2,5,Y,[[t.g(d),"%c",t.g(b),"%c"].join(""),pe.o(a,["color:",t.g(A.h(ND,c))].join(""),M(["color:black"]))],null)}
function RD(a,b,c){var d=N(a,0,null);a=N(a,1,null);return new V(null,2,5,Y,[[t.g(d),"%c",t.g(b),"%c"].join(""),pe.o(a,["color:",t.g(A.h(ND,Uj)),";background-color:",t.g(A.h(ND,c))].join(""),M(["color:black;background-color:inherit"]))],null)}
var SD=function SD(a,b){for(;;){if(E.h(il,b))return QD(a,", ",Bl);if(E.h(px,b))return PD(a);if(b instanceof B)return QD(a,b,Bk);if(b instanceof y)return QD(a,b,$q);if("string"===typeof b)return QD(a,ej.o(M([b])),Bq);if(gh(b)){var d=PD(function(){var f=a,g=mc(b);return SD.h?SD.h(f,g):SD.call(null,f,g)}()),e=nc(b);return SD.h?SD.h(d,e):SD.call(null,d,e)}if(b instanceof n||b instanceof mi)return d=a,d=QD(d,"{",Or),d=yb(SD,d,ug(il,b)),QD(d,"}",Or);if(Ie(b))return d=a,d=QD(d,["#",t.g(function(){var f=
rb(b),g=f.name;return Be(g)?ej.o(M([f])):g}())," "].join(""),Hu),d=QD(d,"{",Or),d=yb(SD,d,ug(il,b)),QD(d,"}",Or);if(De(b))return d=a,d=QD(d,"#{",Or),d=yb(SD,d,ug(px,b)),QD(d,"}",Or);if(Ke(b))return d=a,d=QD(d,"[",Or),d=yb(SD,d,ug(px,b)),QD(d,"]",Or);if(b instanceof th)d=QD(a,"#queue ",Hu),e=Ag.h(qe,b),a=d,b=e;else{if(Oe(b))return d=a,d=QD(d,"(",Hu),d=yb(SD,d,ug(px,b)),QD(d,")",Hu);if(null!=b?b.J&16384||$a===b.Rd||(b.J?0:qb(jd,b)):qb(jd,b))d=QD(a,"#atom ",Hu),e=u(b),a=d,b=e;else if(null!=b&&$a===b.fe)d=
QD(a,"#uuid ",Hu),e=t.g(b),a=d,b=e;else if(null!=b&&b.constructor===Object)d=QD(a,"#js ",Hu),e=yb(function(f,g){return function(h,k){return O.j(h,qf.g(k),Ga(g,k))}}(a,b),T,Object.keys(b)),a=d,b=e;else if(ob(b))d=QD(a,"#js ",Hu),e=Ag.h(qe,b),a=d,b=e;else return QD(a,ej.o(M([b])),Cl)}}};function TD(a){function b(c,d){return d>=c}a=Gz(a);if(b(Gz(Ds),a))return"error";if(b(Gz(Ns),a))return"warn";if(b(Gz(gp),a))return"info";b(Gz(Xw),a);return"log"}function UD(a){return function(b){var c=S(b),d=A.h(c,ew),e=A.h(c,Xj);b=A.h(c,pl);e=TD(e);e=Ga(console,e);e=q(e)?e:console.log;Of(e,a.g?a.g(c):a.call(null,c));return q(b)?(c=["[",t.g(d),"]"].join(""),d=t.g(b),b=b.stack,e.F?e.F(c,d,"\n",b):e.call(null,c,d,"\n",b)):null}}
var VD=UD(function(a){a=S(a);A.h(a,Xj);var b=A.h(a,ew),c=A.h(a,dp);A.h(a,pl);return new V(null,2,5,Y,[["[",t.g(b),"]"].join(""),c],null)}),WD=UD(function(a){var b=S(a),c=A.h(b,Xj);a=A.h(b,ew);var d=A.h(b,dp);A.h(b,pl);b=OD(c);d=SD(PD(RD(RD(RD(new V(null,2,5,Y,["",qe],null),"[",b),a,b),"]",b)),d);a=N(d,0,null);d=N(d,1,null);return je(a,d)}),XD=UD(function(a){a=S(a);A.h(a,Xj);var b=A.h(a,ew),c=A.h(a,dp);A.h(a,pl);return new V(null,2,5,Y,[["[",t.g(b),"]"].join(""),ej.o(M([c]))],null)});var YD=vx(29,{});var module$node_modules$pixi_DOT_js$lib$pixi=vx(51,{});function ZD(a){a.prototype.Mc=$a;a.prototype.ha=function(b,c){b=wx(c);if(null!=this&&b in this)return this[b]};a.prototype.X=function(b,c,d){b=wx(c);return null!=this&&b in this?this[b]:d};a.prototype.zb=function(b,c,d){(null!=this?this:{})[wx(c)]=d;return this};a.prototype.sc=function(b,c){delete this[c];return this}}function $D(a,b,c){yD(a,b,c);zD(a,b,c)}
function aE(a,b,c){$D(a,b,function(d){return yb(function(e,f){var g=O.j;var h=wx(f);h=null!=d&&h in d?d[h]:void 0;return g.call(O,e,f,h)},T,c)})}aE(module$node_modules$pixi_DOT_js$lib$pixi.Application,Vk,new V(null,2,5,Y,[Lo,Mq],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.Renderer,Xm,new V(null,3,5,Y,[Ys,kx,Dv],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.Loader,ju,new V(null,4,5,Y,[kw,It,Sq,qx],null));
aE(module$node_modules$pixi_DOT_js$lib$pixi.resources.Resource,Qj,new V(null,6,5,Y,[nv,Ru,Nm,Kq,Yw,hl],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.Point,sk,new V(null,2,5,Y,[ct,$s],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.ObservablePoint,os,new V(null,2,5,Y,[ct,$s],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.Matrix,Kr,new V(null,6,5,Y,[Ws,Xs,Us,Vs,Ul,Tl],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.Transform,en,new V(null,6,5,Y,[Gk,Zo,At,kt,Cp,Vo],null));
aE(module$node_modules$pixi_DOT_js$lib$pixi.Container,Ot,new V(null,3,5,Y,[zo,nr,gs],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.Sprite,yw,new V(null,4,5,Y,[At,Pp,kt,nn],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.AnimatedSprite,jv,new V(null,10,5,Y,[At,Pp,kt,hl,As,Av,jx,Yl,Gn,ql],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.Spritesheet,ap,new V(null,5,5,Y,[uu,hl,Bs,nk,qn],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.Texture,Lq,new V(null,3,5,Y,[uu,to,Xr],null));
aE(module$node_modules$pixi_DOT_js$lib$pixi.BaseTexture,vp,new V(null,4,5,Y,[Am,Et,qn,kn],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.Rectangle,ck,new V(null,4,5,Y,[ct,$s,Am,Et],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.Graphics,cs,new V(null,3,5,Y,[Np,bk,ss],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.FillStyle,mv,new V(null,5,5,Y,[Yu,Jr,ko,nn,gs],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.LineStyle,pp,new V(null,11,5,Y,[rm,Yr,Wp,Lm,hv,Am,Yu,Jr,ko,nn,gs],null));
aE(module$node_modules$pixi_DOT_js$lib$pixi.GraphicsData,al,new V(null,7,5,Y,[hx,Mo,bs,ko,Nm,ku,Fk],null));aE(YD.Resource,vk,new V(null,8,5,Y,[nv,Ru,Nm,Kq,Yw,hl,Am,Et],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.resources.BufferResource,hk,new V(null,3,5,Y,[Am,Et,nk],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.resources.Resource,Qj,new V(null,8,5,Y,[nv,Ru,Nm,Kq,Yw,hl,Am,Et],null));aE(module$node_modules$pixi_DOT_js$lib$pixi.resources.ImageResource,yr,new V(null,3,5,Y,[Ru,Am,Et],null));
aE(module$node_modules$pixi_DOT_js$lib$pixi.Ticker,es,new V(null,6,5,Y,[Dp,at,mk,tp,er,Im],null));l=module$node_modules$pixi_DOT_js$lib$pixi.Container.prototype;l.fd=$a;l.ba=function(){return F(this.children)};l.Mc=$a;l.ha=function(a,b){if(b instanceof B){if(a=rf(b),null!=this&&a in this)return this[a]}else return E.h(-1,this.children.indexOf(b))?b:null};l.X=function(a,b,c){if(b instanceof B){if(a=rf(b),null!=this&&a in this)return this[a]}else return Uf(-1,this.children.indexOf(b))?b:c};
l.zb=function(a,b,c){(null!=this?this:{})[wx(b)]=c;return this};l.sc=function(a,b){delete this[b];return this};l.kb=function(a,b){this.addChild(b);return this};l.Nc=function(a,b){return this.removeChild(b)};module$node_modules$pixi_DOT_js$lib$pixi.Loader.prototype.kb=function(a,b){a=N(b,0,null);b=N(b,1,null);return this.add(a,b)};aE(module$node_modules$pixi_DOT_js$lib$pixi.InteractionEvent,it,new V(null,7,5,Y,[Nm,Nk,Mp,Nn,Xt,yu,ok],null));
aE(module$node_modules$pixi_DOT_js$lib$pixi.InteractionData,fo,new V(null,16,5,Y,[Pk,Nk,av,Mk,Jn,Dq,rw,Am,Et,em,dm,Go,Cm,kq,Gw,eo],null));module$node_modules$pixi_DOT_js$lib$pixi.Point.prototype.ad=$a;module$node_modules$pixi_DOT_js$lib$pixi.Point.prototype.ja=function(a,b,c){a=this.clone();(null!=a?a:{})[wx(b)]=c;return a};module$node_modules$pixi_DOT_js$lib$pixi.Matrix.prototype.ad=$a;
module$node_modules$pixi_DOT_js$lib$pixi.Matrix.prototype.ja=function(a,b,c){a=this.clone();(null!=a?a:{})[wx(b)]=c;return a};module$node_modules$pixi_DOT_js$lib$pixi.Rectangle.prototype.ad=$a;module$node_modules$pixi_DOT_js$lib$pixi.Rectangle.prototype.ja=function(a,b,c){a=this.clone();(null!=a?a:{})[wx(b)]=c;return a};
for(var bE=F(new V(null,23,5,Y,[module$node_modules$pixi_DOT_js$lib$pixi.Application,module$node_modules$pixi_DOT_js$lib$pixi.Renderer,module$node_modules$pixi_DOT_js$lib$pixi.Loader,module$node_modules$pixi_DOT_js$lib$pixi.resources.Resource,module$node_modules$pixi_DOT_js$lib$pixi.Point,module$node_modules$pixi_DOT_js$lib$pixi.ObservablePoint,module$node_modules$pixi_DOT_js$lib$pixi.Matrix,module$node_modules$pixi_DOT_js$lib$pixi.Transform,module$node_modules$pixi_DOT_js$lib$pixi.Sprite,module$node_modules$pixi_DOT_js$lib$pixi.Texture,
module$node_modules$pixi_DOT_js$lib$pixi.BaseTexture,module$node_modules$pixi_DOT_js$lib$pixi.Rectangle,YD.Resource,module$node_modules$pixi_DOT_js$lib$pixi.resources.Resource,module$node_modules$pixi_DOT_js$lib$pixi.resources.ImageResource,module$node_modules$pixi_DOT_js$lib$pixi.Ticker,module$node_modules$pixi_DOT_js$lib$pixi.InteractionEvent,module$node_modules$pixi_DOT_js$lib$pixi.InteractionData,Window,PointerEvent,MouseEvent,WheelEvent,DragEvent],null)),cE=null,dE=0,eE=0;;)if(eE<dE){var fE=
cE.P(null,eE);ZD(fE);eE+=1}else{var gE=F(bE);if(gE){var hE=gE;if(Le(hE)){var iE=fd(hE),jE=gd(hE),kE=iE,lE=I(iE);bE=jE;cE=kE;dE=lE}else{var mE=G(hE);ZD(mE);bE=H(hE);cE=null;dE=0}eE=0}else break}Node.prototype.kb=function(a,b){return this.appendChild(b)};var nE=function nE(a){return vg(function(c){var d=N(c,0,null);c=N(c,1,null);return Ie(c)?ng.h(function(e){return Ag.h(new V(null,1,5,Y,[d],null),e)},nE.g?nE.g(c):nE.call(null,c)):new V(null,1,5,Y,[new V(null,1,5,Y,[d],null)],null)},M([a]))};function oE(){var a=module$node_modules$pixi_DOT_js$lib$pixi.settings;(null!=a?a:{}).SCALE_MODE=module$node_modules$pixi_DOT_js$lib$pixi.SCALE_MODES.NEAREST}function pE(a,b,c,d){if(null!=a&&null!=a.Jb)a=a.Jb(a,b,c,d);else{var e=pE[qa(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=pE._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw sb("EventSource.-listen!",a);}return a}
function qE(a,b,c){if(null!=a&&null!=a.Kb)a=a.Kb(a,b,c);else{var d=qE[qa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=qE._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw sb("EventSource.-unlisten!",a);}return a}function rE(a,b,c){return Ce(b)?nj(function(d){return sE(a,d,d,c)},b):pE(a,b,b,c)}function sE(a,b,c,d){return Ce(b)?nj(function(e){return sE(a,e,c,d)},b):pE(a,b,c,d)}function tE(a,b,c){return Ce(b)?nj(function(d){return tE(a,d,c)},b):qE(a,b,c)}
function uE(a){return"string"===typeof a?a:a instanceof B&&null==of(a)?rf(a):pf(a)?[of(a),"/",rf(a)].join(""):t.g(a)}module$node_modules$pixi_DOT_js$lib$pixi.Application.prototype.Jb=function(a,b,c,d){a=pE;var e=Dg(this,new V(null,2,5,Y,[Mq,ps],null));var f=wx(b);e=null!=e&&f in e?e[f]:void 0;return a(e,b,c,d)};
module$node_modules$pixi_DOT_js$lib$pixi.Application.prototype.Kb=function(a,b,c){a=qE;var d=Dg(this,new V(null,2,5,Y,[Mq,ps],null));var e=wx(b);d=null!=d&&e in d?d[e]:void 0;return a(d,b,c)};
module$node_modules$pixi_DOT_js$lib$pixi.Runner.prototype.Jb=function(a,b,c,d){qE(this,b,c);var e=uE(b);a=uE(c);b=function(){var g={};g[e]=d;return g}();var f=null!=this?this:{};(function(){var g=function(){var h=f.__listeners;if(null!=h)return h;h={};return f.__listeners=h}()[e];if(null!=g)return g;g={};return function(){var h=f.__listeners;if(null!=h)return h;h={};return f.__listeners=h}()[e]=g})()[a]=b;return this.add(b)};
module$node_modules$pixi_DOT_js$lib$pixi.Runner.prototype.Kb=function(a,b,c){var d=this,e=uE(b),f=uE(c);a=function(){var g=null!=d&&"__listeners"in d?d.__listeners:void 0;g=null!=g&&e in g?g[e]:void 0;if(null!=g&&f in g)return g[f]}();return q(a)?(delete function(){var g=null!=d&&"__listeners"in d?d.__listeners:void 0;if(null!=g&&e in g)return g[e]}()[f],d.remove(a)):null};
module$node_modules$pixi_DOT_js$lib$pixi.Ticker.prototype.Jb=function(a,b,c,d){qE(this,b,c);var e=uE(b);a=uE(c);var f=null!=this?this:{};(function(){var g=function(){var h=f.__listeners;if(null!=h)return h;h={};return f.__listeners=h}()[e];if(null!=g)return g;g={};return function(){var h=f.__listeners;if(null!=h)return h;h={};return f.__listeners=h}()[e]=g})()[a]=d;return this.add(d)};
module$node_modules$pixi_DOT_js$lib$pixi.Ticker.prototype.Kb=function(a,b,c){var d=this,e=uE(b),f=uE(c);a=function(){var g=null!=d&&"__listeners"in d?d.__listeners:void 0;g=null!=g&&e in g?g[e]:void 0;if(null!=g&&f in g)return g[f]}();return q(a)?(delete function(){var g=null!=d&&"__listeners"in d?d.__listeners:void 0;if(null!=g&&e in g)return g[e]}()[f],d.remove(a)):null};
module$node_modules$$pixi$utils$lib$utils.EventEmitter.prototype.Jb=function(a,b,c,d){qE(this,b,c);var e=null!=this?this:{};(function(){var f=function(){var g=e.__listeners;if(null!=g)return g;g={};return e.__listeners=g}()[uE(b)];if(null!=f)return f;f={};return function(){var g=e.__listeners;if(null!=g)return g;g={};return e.__listeners=g}()[uE(b)]=f})()[uE(c)]=d;return this.on(uE(b),d)};
module$node_modules$$pixi$utils$lib$utils.EventEmitter.prototype.Kb=function(a,b,c){var d=this;a=function(){var e=null!=d&&"__listeners"in d?d.__listeners:void 0;var f=uE(b);e=null!=e&&f in e?e[f]:void 0;f=uE(c);if(null!=e&&f in e)return e[f]}();return q(a)?(delete function(){var e=null!=d&&"__listeners"in d?d.__listeners:void 0;var f=uE(b);if(null!=e&&f in e)return e[f]}()[uE(c)],d.removeListener(uE(b),a)):null};
module$node_modules$pixi_DOT_js$lib$pixi.Loader.prototype.Jb=function(a,b,c,d){var e=this;qE(e,b,c);a=function(){var g=wx(function(){var h=b instanceof B?b.ma:null;switch(h){case "error":return Sj;case "load":return kv;case "start":return Yn;case "complete":return vs;case "progress":return hu;default:throw Error(["No matching clause: ",t.g(h)].join(""));}}());if(null!=e&&g in e)return e[g]}().add(d);var f=null!=e?e:{};(function(){var g=function(){var h=f.__listeners;if(null!=h)return h;h={};return f.__listeners=
h}()[uE(b)];if(null!=g)return g;g={};return function(){var h=f.__listeners;if(null!=h)return h;h={};return f.__listeners=h}()[uE(b)]=g})()[uE(c)]=a;return f};
module$node_modules$pixi_DOT_js$lib$pixi.Loader.prototype.Kb=function(a,b,c){var d=this;a=function(){var e=null!=d&&"__listeners"in d?d.__listeners:void 0;var f=uE(b);e=null!=e&&f in e?e[f]:void 0;f=uE(c);if(null!=e&&f in e)return e[f]}();return q(a)?(delete function(){var e=null!=d&&"__listeners"in d?d.__listeners:void 0;var f=uE(b);if(null!=e&&f in e)return e[f]}()[uE(c)],a.detach()):null};
Element.prototype.Jb=function(a,b,c,d){qE(this,b,c);var e=null!=this?this:{};(function(){var f=function(){var g=e.__listeners;if(null!=g)return g;g={};return e.__listeners=g}()[uE(b)];if(null!=f)return f;f={};return function(){var g=e.__listeners;if(null!=g)return g;g={};return e.__listeners=g}()[uE(b)]=f})()[uE(c)]=d;return this.addEventListener(uE(b),d)};
Element.prototype.Kb=function(a,b,c){var d=this;a=function(){var e=null!=d&&"__listeners"in d?d.__listeners:void 0;var f=uE(b);e=null!=e&&f in e?e[f]:void 0;f=uE(c);if(null!=e&&f in e)return e[f]}();return q(a)?(delete function(){var e=null!=d&&"__listeners"in d?d.__listeners:void 0;var f=uE(b);if(null!=e&&f in e)return e[f]}()[uE(c)],d.removeEventListener(b,a)):null};
Window.prototype.Jb=function(a,b,c,d){qE(this,b,c);a=null!=this?this:{};var e=a.__listeners;null!=e?a=e:(e={},a=a.__listeners=e);a[uE(c)]=d;return this.addEventListener(uE(b),d)};
Window.prototype.Kb=function(a,b,c){var d=this;a=function(){var e=null!=d&&"__listeners"in d?d.__listeners:void 0;var f=uE(b);e=null!=e&&f in e?e[f]:void 0;f=uE(c);if(null!=e&&f in e)return e[f]}();return q(a)?(delete function(){var e=null!=d&&"__listeners"in d?d.__listeners:void 0;var f=uE(b);if(null!=e&&f in e)return e[f]}()[uE(c)],d.removeEventListener(b,a)):null};function vE(a,b){a=Dg(a,new V(null,2,5,Y,[fr,It],null));b=uE(b);if(null!=a&&b in a)return a[b]}
function wE(a,b){var c=Gh(b),d=fr.g(a);return new (u(By))(function(e){var f=F(xg(function(p){return vE(a,p)},c));if(f){f=F(f);for(var g=null,h=0,k=0;;)if(k<h){var m=g.P(null,k);d.add(rf(m),A.h(b,m));k+=1}else if(f=F(f))g=f,Le(g)?(f=fd(g),k=gd(g),g=f,h=I(f),f=k):(f=G(g),d.add(rf(f),A.h(b,f)),f=H(g),g=null,h=0),k=0;else break}return d.load(function(){var p=Ag.j(T,ng.g(Li(We,function(r){return vE(a,r)})),c);return e.g?e.g(p):e.call(null,p)})})}
function xE(a,b){return new module$node_modules$pixi_DOT_js$lib$pixi.Point(a,b)}function yE(a,b){a=a.getBounds();b=b.getBounds();return ct.g(b)<ct.g(a)+Am.g(a)&&ct.g(a)<ct.g(b)+Am.g(b)&&$s.g(b)<$s.g(a)+Et.g(a)&&$s.g(a)<$s.g(b)+Et.g(b)}function zE(a){var b=module$node_modules$pixi_DOT_js$lib$pixi.Sprite,c=nn.g(a);return new b(q(c)?c:a)}
function AE(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new Fd(b.slice(1),0,null):null;return BE(arguments[0],b)}
function BE(a,b){for(var c=new module$node_modules$pixi_DOT_js$lib$pixi.Container,d=F(nE(a)),e=null,f=0,g=0;;)if(g<f){var h=e.P(null,g),k=Dg(a,h);h=Bg(wx,h);yb(xx,null!=c?c:{},Bi(h))[null==h?null:tc(h)]=k;g+=1}else if(d=F(d))Le(d)?(f=fd(d),d=gd(d),e=f,f=I(f)):(f=G(d),e=Dg(a,f),f=Bg(wx,f),yb(xx,null!=c?c:{},Bi(f))[null==f?null:tc(f)]=e,d=H(d),e=null,f=0),g=0;else break;Pf(Gf,c,b);return c}function CE(a){var b={};Ve(function(c,d,e){return b[d instanceof B?rf(d):t.g(d)]=e},null,a);return b}
function DE(a,b){"number"===typeof b?a.beginFill(b):a.beginTextureFill(CE(b))};vx(52,{});vx(53,{});var EE=vx(62,{});var FE=EE.Collisions,GE=EE.Circle,HE=EE.Polygon,IE=EE.Point,JE=EE.Result;aE(FE,pr,new V(null,1,5,Y,[Tm],null));aE(rb((new FE)._bvh),yq,new V(null,1,5,Y,[rk],null));aE(GE,io,new V(null,5,5,Y,[ct,$s,Jl,kt,Sr],null));aE(IE,Eu,new V(null,3,5,Y,[ct,$s,Sr],null));aE(HE,$p,new V(null,7,5,Y,[ct,$s,np,lu,dw,gw,Sr],null));aE(JE,uw,new V(null,8,5,Y,[Vt,Ws,Xs,qm,zp,xt,Uw,Sw],null));FE.prototype.kb=function(a,b){this.insert(b);return this};FE.prototype.Nc=function(a,b){this.remove(b);return this};
function KE(a){var b=S(a);a=A.h(b,ct);var c=A.h(b,$s),d=A.h(b,Am);b=A.h(b,Et);return new HE(a,c,[[0,0],[d,0],[d,b],[0,b]])}function LE(a,b,c){return new HE(a,b,xb(ng.h(function(d){return[ct.g(d),$s.g(d)]},c)))};function ME(a,b){a=a.clone();var c=null!=a?a:{};c.x=ct.g(a)-ct.g(b);c.y=$s.g(a)-$s.g(b);return a}function NE(a,b){var c=null!=a?a:{};c.x=ct.g(a)*b;c.y=$s.g(a)*b;return c}function OE(a){a=Cg(3,1,Ff.h(a,og(2,a)));var b=Ue(function(d,e){N(d,0,null);var f=N(d,1,null);N(d,2,null);N(e,0,null);var g=N(e,1,null);N(e,2,null);return $s.g(f)<$s.g(g)?d:$s.g(f)>$s.g(g)?e:ct.g(f)<ct.g(g)?e:d},a);a=N(b,0,null);var c=N(b,1,null);b=N(b,2,null);return PE(ME(c,b),ME(c,a))}
function PE(a,b){var c=S(b);b=A.h(c,ct);c=A.h(c,$s);b=new module$node_modules$pixi_DOT_js$lib$pixi.Point(-c,b);return 0>ct.g(a)*ct.g(b)+$s.g(a)*$s.g(b)};var QE=vx(63,{});var RE={},SE;q(QE.hxDaedalus)||(QE.hxDaedalus=QE,QE.hxPixels=hxPixels);
function TE(a,b,c,d){var e=null!=a?a:{};(function(){var k=e.prototype;if(null!=k)return k;k={};return e.prototype=k})().constructor=a;var f=zi(b),g=zi(c),h=zi(d);a.prototype.Mc=$a;a.prototype.ha=function(k,m){if(Re(f,m)){if(k=wx(m),null!=this&&k in this)return this[k]}else return Re(g,m)?(k=["get_",rf(m)].join(""),k=null!=this&&k in this?this[k]:void 0,k=k.call(this)):k=null,k};a.prototype.X=function(k,m,p){if(Re(f,m)){if(k=wx(m),null!=this&&k in this)return this[k]}else return Re(g,m)?(k=["get_",
rf(m)].join(""),k=null!=this&&k in this?this[k]:void 0,k=k.call(this)):k=p,k};a.prototype.zb=function(k,m,p){if(Re(f,m))return k=null!=this?this:{},k[wx(m)]=p,k;Re(h,m)?(m=["set_",rf(m)].join(""),m=null!=this&&m in this?this[m]:void 0,p=m.call(this,p)):p=null;return p};a.prototype.fd=$a;a.prototype.ba=function(){var k=this;return ng.h(function(m){return new Zg(m,A.h(k,m))},Ff.h(f,g))}}
function UE(a,b,c){for(var d=F(c),e=null,f=0,g=0;;)if(g<f){c=e.P(null,g);var h=A.j(b,c,vl);if(Uf(vl,h)){var k=a;(null!=k?k:{})[wx(c)]=h}g+=1}else if(c=F(d))d=c,Le(d)?(e=fd(d),d=gd(d),c=e,f=I(e),e=c):(c=G(d),e=A.j(b,c,vl),Uf(vl,e)&&(f=a,(null!=f?f:{})[wx(c)]=e),d=H(d),e=null,f=0),g=0;else break}
var VE=QE.hxDaedalus.ai.EntityAI,WE=QE.hxDaedalus.ai.Funnel,XE=QE.hxDaedalus.ai.PathFinder,YE=QE.hxDaedalus.ai.trajectory.LinearPathSampler,ZE=QE.hxDaedalus.ai.trajectory.PathIterator,$E=QE.hxDaedalus.data.Constants,aF=QE.hxDaedalus.data.ConstraintSegment,bF=QE.hxDaedalus.data.ConstraintShape,cF=QE.hxDaedalus.data.Edge,dF=QE.hxDaedalus.data.Face,eF=QE.hxDaedalus.data.Mesh,fF=QE.hxDaedalus.data.Object,gF=QE.hxDaedalus.data.Vertex,hF=QE.hxDaedalus.data.graph.Graph,iF=QE.hxDaedalus.data.graph.GraphEdge,
jF=QE.hxDaedalus.data.graph.GraphNode,kF=QE.hxDaedalus.data.math.EdgeData,lF=QE.hxDaedalus.data.math.Geom2D,mF=QE.hxDaedalus.data.math.Matrix2D,nF=QE.hxDaedalus.data.math.NodeData,oF=QE.hxDaedalus.data.math.Point2D,pF=QE.hxDaedalus.data.math.Potrace,qF=QE.hxDaedalus.data.math.RandGenerator,rF=QE.hxDaedalus.data.math.ShapeSimplifier,sF=QE.hxDaedalus.data.math.Tools,tF=QE.hxDaedalus.factories.BitmapMesh,uF=QE.hxDaedalus.factories.BitmapObject,vF=QE.hxDaedalus.factories.RectMesh,wF=QE.hxDaedalus.iterators.FromEdgeToRotatedEdges,
xF=QE.hxDaedalus.iterators.FromFaceToInnerEdges,yF=QE.hxDaedalus.iterators.FromFaceToInnerVertices,zF=QE.hxDaedalus.iterators.FromFaceToNeighbourFaces,AF=QE.hxDaedalus.iterators.FromMeshToFaces,BF=QE.hxDaedalus.iterators.FromMeshToVertices,CF=QE.hxDaedalus.iterators.FromVertexToHoldingFaces,DF=QE.hxDaedalus.iterators.FromVertexToIncomingEdges,EF=QE.hxDaedalus.iterators.FromVertexToNeighbourVertices,FF=QE.hxDaedalus.iterators.FromVertexToOutgoingEdges,GF=QE.hxDaedalus.view.SimpleView;
TE(QE.hxDaedalus.ai.AStar,qe,new V(null,1,5,Y,[Jl],null),new V(null,2,5,Y,[Jl,Wm],null));TE(VE,new V(null,4,5,Y,[uq,vq,$s,ct],null),new V(null,3,5,Y,[Hn,Jl,aq],null),new V(null,1,5,Y,[Jl],null));TE(WE,new V(null,1,5,Y,[Fn],null),new V(null,1,5,Y,[Jl],null),new V(null,1,5,Y,[Jl],null));TE(XE,new V(null,1,5,Y,[Cq],null),new V(null,1,5,Y,[Wm],null),new V(null,1,5,Y,[Wm],null));TE(YE,new V(null,1,5,Y,[Cq],null),new V(null,7,5,Y,[ct,$s,Tw,ds,Su,$m,bl],null),new V(null,3,5,Y,[Su,bl,$r],null));
TE(ZE,qe,new V(null,7,5,Y,[Cq,ct,$s,Tw,ds,Su,$m],null),new V(null,2,5,Y,[Cq,$r],null));TE($E,qe,qe,qe);TE(aF,new V(null,1,5,Y,[Tv],null),new V(null,2,5,Y,[Zw,Fm],null),qe);TE(bF,new V(null,1,5,Y,[im],null),new V(null,1,5,Y,[Zw],null),qe);TE(cF,new V(null,2,5,Y,[qt,Cr],null),new V(null,14,5,Y,[Zw,Nl,sr,Pv,ls,ev,Bu,Tq,Um,yk,Ap,tk,Wv,fp],null),new V(null,4,5,Y,[sr,Pv,ls,ev],null));TE(dF,new V(null,1,5,Y,[Cr],null),new V(null,3,5,Y,[Zw,Nl,Dn],null),qe);
TE(eF,new V(null,3,5,Y,[go,nl,Ct],null),new V(null,5,5,Y,[Et,Am,cr,Zw,Gm],null),new V(null,1,5,Y,[cr],null));TE(fF,qe,new V(null,13,5,Y,[Zw,Cu,xu,$v,Xv,ol,ct,$s,ko,ek,au,ks,Fm],null),new V(null,11,5,Y,[Cu,xu,$v,Xv,ol,ct,$s,ko,ek,au,ks],null));TE(gF,new V(null,1,5,Y,[Cr],null),new V(null,5,5,Y,[Zw,Nl,Yo,qt,Dn],null),new V(null,2,5,Y,[qt,Dn],null));TE(hF,qe,new V(null,3,5,Y,[Zw,Dn,dn],null),qe);TE(iF,qe,new V(null,9,5,Y,[Zw,Lv,ts,Tp,um,Tq,Wo,jo,nk],null),new V(null,8,5,Y,[Lv,ts,Tp,um,Tq,Wo,jo,nk],null));
TE(jF,qe,new V(null,6,5,Y,[Zw,Lv,ts,wk,fu,nk],null),new V(null,5,5,Y,[Lv,ts,wk,fu,nk],null));TE(kF,new V(null,3,5,Y,[cm,Rk,rs],null),qe,qe);TE(lF,qe,qe,qe);TE(mF,new V(null,6,5,Y,[Ws,Xs,Us,Vs,Rs,Ss],null),qe,qe);TE(nF,new V(null,2,5,Y,[Xu,bn],null),qe,qe);TE(oF,new V(null,2,5,Y,[ct,$s],null),new V(null,1,5,Y,[Rk],null),qe);TE(pF,qe,qe,qe);TE(qF,new V(null,2,5,Y,[po,Pt],null),new V(null,1,5,Y,[Sn],null),new V(null,1,5,Y,[Sn],null));TE(rF,qe,qe,qe);TE(sF,qe,qe,qe);TE(tF,qe,qe,qe);TE(uF,qe,qe,qe);
TE(vF,qe,qe,qe);TE(wF,qe,qe,qe);TE(xF,qe,qe,new V(null,1,5,Y,[Ev],null));TE(yF,qe,qe,new V(null,1,5,Y,[Ev],null));TE(zF,qe,qe,new V(null,1,5,Y,[Ev],null));TE(AF,qe,qe,new V(null,1,5,Y,[pt],null));TE(BF,qe,qe,new V(null,1,5,Y,[pt],null));TE(CF,qe,qe,new V(null,1,5,Y,[Sp],null));TE(DF,qe,qe,new V(null,1,5,Y,[Sp],null));TE(EF,qe,qe,new V(null,1,5,Y,[Sp],null));TE(FF,new V(null,1,5,Y,[gr],null),qe,new V(null,1,5,Y,[Sp],null));
TE(GF,new V(null,18,5,Y,[Mm,jr,Rp,Gt,Ql,mn,Fl,sw,Rv,Om,Zs,Lp,Hs,xv,Jo,Fs,ut,dq],null),qe,qe);function HF(a){a=S(a);A.h(a,Cq);var b=A.h(a,Wm),c=new XE;UE(c,a,new V(null,1,5,Y,[Cq],null));q(b)&&c.set_mesh(b);return c}function IF(a){a=S(a);A.h(a,Cq);var b=A.h(a,Su),c=A.h(a,bl),d=A.h(a,$r),e=new YE;UE(e,a,new V(null,1,5,Y,[Cq],null));q(b)&&e.set_count(b);q(c)&&e.set_samplingDistance(c);q(d)&&e.set_path(d);return e}
function JF(a){var b=S(T);A.h(b,jr);A.h(b,Gt);A.h(b,Mm);A.h(b,Zs);A.h(b,Lp);A.h(b,dq);A.h(b,ut);A.h(b,Jo);A.h(b,mn);A.h(b,xv);A.h(b,Fl);A.h(b,Rp);A.h(b,Hs);A.h(b,Om);A.h(b,Fs);A.h(b,Ql);A.h(b,sw);A.h(b,Rv);a=new GF(a);UE(a,b,new V(null,18,5,Y,[Mm,jr,Rp,Gt,Ql,mn,Fl,sw,Rv,Om,Zs,Lp,Hs,xv,Jo,Fs,ut,dq],null));return a}eF.prototype.kb=function(a,b){return this.insertObject(b)};
function KF(a){var b=Cg(2,1,je(oe(a),a));a=[];b=F(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=N(f,0,null),h=N(g,0,null);g=N(g,1,null);var k=N(f,1,null);f=N(k,0,null);k=N(k,1,null);a.push(h);a.push(g);a.push(f);a.push(k);e+=1}else if(b=F(b))Le(b)?(d=fd(b),b=gd(b),c=d,d=I(d)):(e=G(b),d=N(e,0,null),c=N(d,0,null),d=N(d,1,null),h=N(e,1,null),e=N(h,0,null),h=N(h,1,null),a.push(c),a.push(d),a.push(e),a.push(h),b=H(b),c=null,d=0),e=0;else break;var m=S(new n(null,1,[ek,a],null));a=A.h(m,ct);b=
A.h(m,$s);c=A.h(m,ks);d=A.h(m,ol);e=A.h(m,ek);h=A.h(m,Xv);g=A.h(m,xu);f=A.h(m,au);k=A.h(m,ko);var p=A.h(m,$v);m=A.h(m,Cu);var r=new fF;q(m)&&r.set_pivotX(m);q(g)&&r.set_pivotY(g);q(p)&&r.set_scaleX(p);q(h)&&r.set_scaleY(h);q(d)&&r.set_rotation(d);q(a)&&r.set_x(a);q(b)&&r.set_y(b);q(k)&&r.set_matrix(k);q(e)&&r.set_coordinates(e);q(f)&&r.set_constraintShape(f);q(c)&&r.set_hasChanged(c);return r}
function LF(a,b,c){if(null!=a&&null!=a.Ac)a.Ac(a,b,c);else{var d=LF[qa(null==a?null:a)];if(null!=d)d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=LF._,null!=d)d.j?d.j(a,b,c):d.call(null,a,b,c);else throw sb("IPathHandler.set-location",a);}}function MF(a,b,c){if(null!=a&&null!=a.Fd)a=a.Fd(a,b,c);else{var d=MF[qa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=MF._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw sb("IPathHandler.set-destination",a);}return a}
function NF(a,b){if(null!=a&&null!=a.Gd)a.Gd(a,b);else{var c=NF[qa(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=NF._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw sb("IPathHandler.set-mesh",a);}}function OF(a){if(null!=a&&null!=a.Dd)a=a.Dd(a);else{var b=OF[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=OF._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IPathHandler.next?",a);}return a}
function PF(a){if(null!=a&&null!=a.Cd)a.Cd(a);else{var b=PF[qa(null==a?null:a)];if(null!=b)b.g?b.g(a):b.call(null,a);else if(b=PF._,null!=b)b.g?b.g(a):b.call(null,a);else throw sb("IPathHandler.next!",a);}}function QF(a,b,c){if(null!=a&&null!=a.Ed)a=a.Ed(a,b,c);else{var d=QF[qa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=QF._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw sb("IPathHandler.reachable?",a);}return a}
var SF=function(){function a(d,e){var f=RF[qa(null==d?null:d)];if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);f=RF._;if(null!=f)return f.h?f.h(d,e):f.call(null,d,e);throw sb("IPathHandler.debug-draw",d);}function b(d){var e=RF[qa(null==d?null:d)];if(null!=e)return e.g?e.g(d):e.call(null,d);e=RF._;if(null!=e)return e.g?e.g(d):e.call(null,d);throw sb("IPathHandler.debug-draw",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.g=b;c.h=a;return c}(),RF=function RF(a){switch(arguments.length){case 1:return RF.g(arguments[0]);case 2:return RF.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}};RF.g=function(a){return null!=a&&null!=a.Bd?a.Bd(a):SF(a)};RF.h=function(a,b){return null!=a&&null!=a.ld?a.ld(a,b):SF(a,b)};RF.H=2;
function TF(a){var b=S(a),c=A.h(b,Cq),d=A.h(b,Wm),e=A.j(b,gu,5),f=A.h(b,Ys),g=[c.x,c.y],h=HF(new n(null,2,[Cq,c,Wm,d],null)),k=IF(new n(null,3,[Cq,c,bl,e,$r,g],null));if("undefined"===typeof $y||"undefined"===typeof RE||"undefined"===typeof SE)SE=function(m,p,r,v,x,z,C,D,J,K){this.entity=m;this.view=p;this.path=r;this.Wb=v;this.Fe=x;this.Be=z;this.mesh=C;this.cc=D;this.pe=J;this.ye=K;this.A=393472;this.J=0},SE.prototype.$=function(m,p){return new SE(this.entity,this.view,this.path,this.Wb,this.Fe,
this.Be,this.mesh,this.cc,this.pe,p)},SE.prototype.Z=function(){return this.ye},SE.prototype.Ac=function(m,p,r){this.path.splice(0,this.path.length);this.path.push(p);this.path.push(r);return this.Wb.reset()},SE.prototype.Fd=function(m,p,r){this.cc.findPath(p,r,this.path);return this.Wb.reset()},SE.prototype.Gd=function(m,p){this.cc.set_mesh(p);return this.Ac(null,Cq.g(this).x,Cq.g(this).y)},SE.prototype.Cd=function(){this.Wb.next();return null},SE.prototype.Dd=function(){return this.Wb.get_hasNext()},
SE.prototype.Ed=function(m,p,r){m=[];var v=S(this),x=A.h(v,Cq);v=A.h(v,mt);v.set_radius(x.get_radius());v.findPath(x.x,x.y,p,r,m,[]);return Pe(F(m))},SE.prototype.Bd=function(){return this.ld(null,null)},SE.prototype.ld=function(m,p){var r=S(p);m=A.j(r,Gl,!0);p=A.j(r,tv,!0);r=A.j(r,tn,!0);if(q(this.view)){var v=this.view;v=null!=v&&"graphics"in v?v.graphics:void 0;v.clear();q(p)&&(p=Wm.g(this),this.view.drawMesh(p));q(m)&&this.view.drawEntity(this.entity);q(r)?(m=this.view,p=this.path,p=ob(p)?p:xb(vg(We,
M([p]))),m=m.drawPath(p)):m=null;return m}return null},SE.prototype.ha=function(m,p){m=p instanceof B?p.ma:null;switch(m){case "path":return this.path;case "finder":return this.cc;case "sampler":return this.Wb;case "mesh":return this.cc.get_mesh();case "entity":return this.Wb.entity;case "view":return this.view;case "astar":return this.cc.astar;default:throw Error(["No matching clause: ",t.g(m)].join(""));}},SE.prototype.X=function(m,p,r){m=this.ha(null,p);return q(m)?m:r},SE.vb=!0,SE.hb="lambdaisland.daedalus/t_lambdaisland$daedalus24323",
SE.Ab=function(m){return w(m,"lambdaisland.daedalus/t_lambdaisland$daedalus24323")};return new SE(c,f,g,k,e,a,d,h,b,T)};function UF(a,b,c,d){this.graphics=a;this.I=b;this.u=c;this.C=d;this.A=2230716170;this.J=139264}l=UF.prototype;l.drawRect=function(a,b,c,d){return this.graphics.drawRect(a,b,c,d)};l.drawCircle=function(a,b,c){return this.graphics.drawCircle(a,b,c)};l.drawTri=function(a){return this.graphics.drawPolygon(xb(ng.h(function(b){var c=N(b,0,null);b=N(b,1,null);return xE(c,b)},Cg(2,2,a))))};l.clear=function(){return this.graphics.clear()};l.moveTo=function(a,b){return this.graphics.moveTo(a,b)};
l.quadTo=function(a,b,c,d){return this.graphics.quadraticCurveTo(a,b,c,d)};l.lineTo=function(a,b){return this.graphics.lineTo(a,b)};l.endFill=function(){return this.graphics.endFill()};l.lineStyle=function(a,b,c){return this.graphics.lineStyle(a,b,c)};l.beginFill=function(a,b){return this.graphics.beginFill(a,b)};l.ha=function(a,b){return this.X(null,b,null)};l.X=function(a,b,c){switch(b instanceof B?b.ma:null){case "graphics":return this.graphics;default:return A.j(this.u,b,c)}};
l.$a=function(a,b,c){return yb(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};l.aa=function(a,b,c){return Ri(b,function(d){return Ri(b,Zi,""," ","",c,d)},"#lambdaisland.puck.daedalus.PixiBasicCanvas{",", ","}",c,Ff.h(new V(null,1,5,Y,[new V(null,2,5,Y,[Kn,this.graphics],null)],null),this.u))};l.qa=function(){return new yh(this,1,new V(null,1,5,Y,[Kn],null),q(this.u)?pd(this.u):Xf())};l.Z=function(){return this.I};l.da=function(){return 1+I(this.u)};
l.ca=function(){var a=this.C;return null!=a?a:this.C=a=-608159260^Pd(this)};l.K=function(a,b){return null!=b&&this.constructor===b.constructor&&E.h(this.graphics,b.graphics)&&E.h(this.u,b.u)};l.gb=function(a,b){return Re(new vi(null,new n(null,1,[Kn,null],null),null),b)?ve.h(Ac(Ag.h(T,this),this.I),b):new UF(this.graphics,this.I,Wf(ve.h(this.u,b)),null)};l.ja=function(a,b,c){return q(Q.h?Q.h(Kn,b):Q.call(null,Kn,b))?new UF(c,this.I,this.u,null):new UF(this.graphics,this.I,O.j(this.u,b,c),null)};
l.ba=function(){return F(Ff.h(new V(null,1,5,Y,[new Zg(Kn,this.graphics)],null),this.u))};l.$=function(a,b){return new UF(this.graphics,b,this.u,this.C)};l.ga=function(a,b){return Ke(b)?this.ja(null,Pb(b,0),Pb(b,1)):yb(Mb,this,b)};function VF(a){a.get_radius=function(){return 20};return a};var WF=/[\s]/;function XF(a){return null==a?null:","===a?!0:WF.test(a)}function YF(a){return null==a?null:!/[^0-9]/.test(a)}
function ZF(a,b){return function e(d){return new sf(null,function(){for(;;){var f=F(d);if(f){if(Le(f)){var g=fd(f),h=I(g),k=xf(h);return function(){for(var p=0;;)if(p<h){var r=Pb(g,p),v=k;if(r instanceof y||r instanceof B){var x=Li(of,rf)(r),z=N(x,0,null);x=N(x,1,null);var C=r instanceof y?Bd:qf;r=null==z?C.h?C.h(a,x):C.call(null,a,x):E.h("_",z)?C.g?C.g(x):C.call(null,x):r}v.add(r);p+=1}else return!0}()?zf(Bf(k),e(gd(f))):zf(Bf(k),null)}var m=G(f);return je(m instanceof y||m instanceof B?function(){var p=
Li(of,rf)(m),r=N(p,0,null);p=N(p,1,null);var v=m instanceof y?Bd:qf;return null==r?v.h?v.h(a,p):v.call(null,a,p):E.h("_",r)?v.g?v.g(p):v.call(null,p):m}():m,e(Hd(f)))}return null}},null,null)}(b)}function $F(a,b){a=parseInt(a,b);return q(isNaN(a))?-1:a};function aG(a){if(null!=a&&null!=a.Sb)a=a.Sb(a);else{var b=aG[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=aG._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("Reader.read-char",a);}return a}function bG(a){if(null!=a&&null!=a.tc)a=a.tc(a);else{var b=bG[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=bG._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("Reader.peek-char",a);}return a}
function cG(a,b){if(null!=a&&null!=a.zd)a.zd(a,b);else{var c=cG[qa(null==a?null:a)];if(null!=c)c.h?c.h(a,b):c.call(null,a,b);else if(c=cG._,null!=c)c.h?c.h(a,b):c.call(null,a,b);else throw sb("IPushbackReader.unread",a);}}function dG(a){if(null!=a&&null!=a.ie)a=a.ie(a);else{var b=dG[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=dG._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IndexingReader.get-line-number",a);}return a}
function eG(a){if(null!=a&&null!=a.ge)a=a.ge(a);else{var b=eG[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=eG._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IndexingReader.get-column-number",a);}return a}function fG(a){if(null!=a&&null!=a.he)a=a.he(a);else{var b=fG[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=fG._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("IndexingReader.get-file-name",a);}return a}
function gG(a,b){this.s=a;this.Ld=b;this.hc=0}gG.prototype.Sb=function(){if(this.Ld>this.hc){var a=this.s.charAt(this.hc);this.hc+=1;return a}return null};gG.prototype.tc=function(){return this.Ld>this.hc?this.s.charAt(this.hc):null};function hG(a,b){this.Id=a;this.Mb=b;this.jb=this.Xc=1}hG.prototype.Sb=function(){var a=this.jb<this.Xc?this.Mb[this.jb]:this.Id.Sb(null);this.jb<this.Xc&&(this.jb+=1);return null==a?null:bf(a)};
hG.prototype.tc=function(){var a=this.jb<this.Xc?this.Mb[this.jb]:this.Id.tc(null);return null==a?null:bf(a)};hG.prototype.zd=function(a,b){if(q(b)){if(0===this.jb)throw Error("Pushback buffer is full");--this.jb;return this.Mb[this.jb]=b}return null};function iG(a){return null!=a?$a===a.hf?!0:!1:!1};function jG(a,b,c,d){var e=I(b);a=q(a)?0:10<e?10:e;b=ng.h(fg(kG,!0),og(a,b));b=Of(t,ug(" ",b));e=a<e?"...":null;return[t.g(c),t.g(b),e,t.g(d)].join("")}var kG,lG=kg(T),mG=kg(T),nG=kg(T),oG=kg(T),pG=A.j(T,Qs,vj.v?vj.v():vj.call(null));kG=new Hj(Bd.h("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?Ho:"string"===typeof b?lk:b instanceof B?et:"number"===typeof b?et:b instanceof y?et:Ke(b)?Nt:jf(b)?pw:Ie(b)?Gu:De(b)?$l:E.h(b,!0)?et:E.h(b,!1)?et:rb(b)},pG,lG,mG,nG,oG);
kG.O(null,lk,function(a,b){a=q(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.g(b.substring(0,a<d?a:d)),c].join("")});kG.O(null,et,function(a,b){return t.g(b)});kG.O(null,Fd,function(){return"\x3cindexed seq\x3e"});kG.O(null,Ch,function(){return"\x3cmap seq\x3e"});kG.O(null,hi,function(){return"\x3cmap seq\x3e"});kG.O(null,nf,function(){return"\x3ccons\x3e"});kG.O(null,sf,function(){return"\x3clazy seq\x3e"});kG.O(null,Ho,function(){return"nil"});
kG.O(null,pw,function(a,b){return jG(a,b,"(",")")});kG.O(null,Gu,function(a,b){var c=I(b),d=q(a)?0:c;b=Of(Ff,og(d,b));return jG(a,b,"{",c>d?"...}":"}")});kG.O(null,$l,function(a,b){return jG(a,b,"#{","}")});kG.O(null,Nt,function(a,b){return jG(a,b,"[","]")});kG.O(null,Ij,function(a,b){return ej.o(M([rb(b)]))});function qG(a,b,c){b=new n(null,2,[Nm,Oo,ao,b],null);a=iG(a)?O.o(b,Kp,fG(a),M([bk,dG(a),In,eG(a)])):b;var d=Kp.g(a);b=bk.g(a);var e=In.g(a);d=q(d)?[t.g(d)," "].join(""):null;b=q(b)?["[line ",t.g(b),", col ",t.g(e),"]"].join(""):null;c=Rf(t,d,b,q(q(d)?d:b)?" ":null,c);throw Mj(c,a);}function rG(a,b){return qG(a,Rm,M([Of(t,b)]))}function sG(a,b){return qG(a,Hl,M([Of(t,b)]))}function tG(a,b){return qG(a,bu,M([Of(t,b)]))}
function uG(a,b,c,d){rG(a,M(["The map literal starting with ",kG.h(!1,G(d)),q(b)?[" on line ",t.g(b)," column ",t.g(c)].join(""):null," contains ",I(d)," form(s). Map literals must contain an even number of forms."]))}function vG(a,b,c){return rG(a,M(["Invalid ",rf(b),": ",c,"."]))}function wG(a,b,c){return rG(a,M(["Invalid character: ",c," found while reading ",rf(b),"."]))}
function xG(a,b){a:{var c=lk instanceof B?lk.ma:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.g(c)].join(""));}}return tG(a,M(["Unexpected EOF reading ",rf(lk)," starting ",Pf(t,c,b),"."]))}function yG(a,b){return sG(a,M(["Invalid digit ",b," in unicode character."]))}function zG(a){return rG(a,M(["Octal escape sequence must be in range [0, 377]."]))}
function AG(a,b){b=function(c){return function f(e){return new sf(null,function(){for(var g=e;;)if(g=F(g)){if(Le(g)){var h=fd(g),k=I(h),m=xf(k);a:for(var p=0;;)if(p<k){var r=Pb(h,p),v=N(r,0,null);1<N(r,1,null)&&m.add(v);p+=1}else{h=!0;break a}return h?zf(Bf(m),f(gd(g))):zf(Bf(m),null)}m=G(g);h=N(m,0,null);if(1<N(m,1,null))return je(h,f(Hd(g)));g=Hd(g)}else return null},null,null)}(Ki(c))}(b);return Rf(t,a,1<I(b)?"s":null,": ",ug(", ",b))}
function BG(a,b,c){rG(a,M([AG([Ua(rf(b))," literal contains duplicate key"].join(""),c)]))};function CG(a){for(var b=a.Sb(null);;)if(XF.g?XF.g(b):XF.call(null,b))b=a.Sb(null);else return b}var DG=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,EG=/([-+]?[0-9]+)\/([0-9]+)/,FG=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function GG(a,b){a=Oi(a,b);return N(a,0,null)===b}
function HG(a){if(GG(DG,a)){var b=fh(Oi(DG,a));if(null!=(b.g?b.g(2):b.call(null,2)))a=0;else{a="-"===(b.g?b.g(1):b.call(null,1));b=null!=(b.g?b.g(3):b.call(null,3))?new V(null,2,5,Y,[b.g?b.g(3):b.call(null,3),10],null):null!=(b.g?b.g(4):b.call(null,4))?new V(null,2,5,Y,[b.g?b.g(4):b.call(null,4),16],null):null!=(b.g?b.g(5):b.call(null,5))?new V(null,2,5,Y,[b.g?b.g(5):b.call(null,5),8],null):null!=(b.g?b.g(7):b.call(null,7))?new V(null,2,5,Y,[b.g?b.g(7):b.call(null,7),parseInt(b.g?b.g(6):b.call(null,
6))],null):new V(null,2,5,Y,[null,null],null);var c=b.g?b.g(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.g?b.g(1):b.call(null,1)),a=a?-1*b:b,a=q(isNaN(a))?null:a)}}else GG(FG,a)?(b=fh(Oi(FG,a)),a=null!=(b.g?b.g(4):b.call(null,4))?parseFloat(b.g?b.g(1):b.call(null,1)):parseFloat(a)):GG(EG,a)?(b=fh(Oi(EG,a)),a=b.g?b.g(1):b.call(null,1),b=b.g?b.g(2):b.call(null,2),a=q(Oi(/^\+/,a))?a.substring(1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function IG(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?a.substring(0,b):null;if(null!=c){b+=1;if(b===I(a))return null;a=a.substring(b);return YF(de(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new V(null,2,5,Y,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new V(null,2,5,Y,[null,a],null):null}
var JG=function JG(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Fd(c.slice(1),0,null):null;return JG.o(arguments[0],c)};JG.o=function(a){for(;;){var b=a.Sb(null);if("\n"===b||"\n"===b||null==b)break}return a};JG.H=1;JG.G=function(a){var b=G(a);a=H(a);return this.o(b,a)};
function KG(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new Fd(f,0,null)}return b.call(this,c,e)}function b(c){return rG(c,M(["Unreadable form"]))}a.H=1;a.G=function(c){var d=G(c);c=Hd(c);return b(d,c)};a.o=b;return a}()};new Wa;function LG(a){return"#"!==a?"'"!==a?":"!==a?MG.g?MG.g(a):MG.call(null,a):!1:!1:!1}function NG(a){return"@"===a||"`"===a||"~"===a}function OG(a,b,c,d){if(pb(c))return tG(a,M(["Unexpected EOF while reading start of ",rf(b),"."]));if(q(q(d)?NG(c):d))return wG(a,b,c);d=new Wa;for(cG(a,c);;){if(XF(c)||LG(c)||null==c)return t.g(d);if(NG(c))return wG(a,b,c);d.append(aG(a));c=bG(a)}}
function PG(a,b,c){b=aG(a);if(q(b)){var d=QG.g?QG.g(b):QG.call(null,b);if(q(d))return d.j?d.j(a,b,c):d.call(null,a,b,c);cG(a,b);return RG.j?RG.j(a,b,c):RG.call(null,a,b,c)}return tG(a,M(["Unexpected EOF while reading dispatch character."]))}function SG(a,b){return rG(a,M(["Unmatched delimiter ",b,"."]))}
function TG(a,b,c){b=1+b;if(I(a)!==b)throw sG(null,M(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=$F(de(a,d),c);if(-1===f)return c=de(a,d),sG(null,M(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function UG(a,b,c,d,e){for(var f=1,g=$F(b,c);;){if(-1===g)return yG(a,b);if(f!==d){var h=bG(a);var k=XF(h);k||(k=MG.g?MG.g(h):MG.call(null,h),k=q(k)?k:null==h);if(q(k))return q(e)?sG(a,M(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(g);k=$F(h,c);aG(a);if(-1===k)return yG(a,h);g=k+g*c;f+=1}else return String.fromCharCode(g)}}
function VG(a){var b=aG(a);if(null!=b){b=LG(b)||NG(b)||XF(b)?t.g(b):OG(a,zs,b,!1);var c=b.length;if(1===c)return de(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(q(0==b.lastIndexOf("u",0)))return b=TG(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=rG(a,M(["Invalid character literal \\u",b,"."]))):a=b,a;if(q(0==b.lastIndexOf("o",0))){--c;if(3<c)return rG(a,M(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=TG(b,c,8);return 255<(b|0)?zG(a):b}return rG(a,M(["Unsupported character: ",b,"."]))}return tG(a,M(["Unexpected EOF while reading character."]))}function WG(a){return iG(a)?new V(null,2,5,Y,[dG(a),(eG(a)|0)-1|0],null):null}
function XG(a,b,c,d){var e=WG(c),f=N(e,0,null);e=N(e,1,null);b=null==b?null:bf(b);for(var g=Zc(qe);;){var h=CG(c);if(!q(h)){var k=a,m=f,p=e,r=I(g);tG(c,M(["Unexpected EOF while reading ",q(r)?["item ",t.g(r)," of "].join(""):null,rf(k),q(m)?[", starting at line ",t.g(m)," and column ",t.g(p)].join(""):null,"."]))}if(E.h(b,null==h?null:bf(h)))return ad(g);k=MG.g?MG.g(h):MG.call(null,h);q(k)?(h=k.j?k.j(c,h,d):k.call(null,c,h,d),g=h!==c?Gf.h(g,h):g):(cG(c,h),h=YG?YG(c,!0,null,d):ZG.call(null,c,!0,null,
d),g=h!==c?Gf.h(g,h):g)}}function $G(a,b,c){a=XG(pw,")",a,c);return Be(a)?Jd:Of(mf,a)}function aH(a,b,c){return XG(Nt,"]",a,c)}function bH(a,b,c){var d=WG(a);b=N(d,0,null);d=N(d,1,null);c=XG(Gu,"}",a,c);var e=I(c),f=Ji(2,c),g=zi(f);!cg(e)&&uG(a,b,d,c);E.h(I(g),I(f))||BG(a,Gu,f);if(e<=2*Jh)a=Cf(c),a=new n(null,a.length/2,a,null);else a:for(a=Cf(c),b=a.length,d=0,e=Zc(Kh);;)if(d<b)c=d+2,e=bd(e,a[d],a[d+1]),d=c;else{a=ad(e);break a}return a}
function cH(a,b){for(var c=function(){var g=new Wa;g.append(b);return g}(),d=aG(a);;){if(q(function(){var g=XF(d);if(g)return g;g=MG.g?MG.g(d):MG.call(null,d);return q(g)?g:null==d}())){var e=t.g(c);cG(a,d);var f=HG(e);return q(f)?f:rG(a,M(["Invalid number: ",e,"."]))}e=function(){var g=c;g.append(d);return g}();f=aG(a);c=e;d=f}}
function dH(a){var b=aG(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=aG(a),-1===parseInt(b|0,16)?rG(a,M(["Invalid unicode escape: \\u",b,"."])):UG(a,b,16,4,!0);default:return YF(b)?(b=UG(a,b,8,3,!1),255<(b|0)?zG(a):b):rG(a,M(["Unsupported escape character: \\",b,"."]))}}
function eH(a){for(var b=new Wa,c=aG(a);;){var d=c;if(E.h(null,d))return xG(a,M(['"',b]));if(E.h("\\",d)){d=function(){var f=b;f.append(dH(a));return f}();var e=aG(a);b=d;c=e}else{if(E.h('"',d))return t.g(b);d=function(){var f=b;f.append(c);return f}();e=aG(a);b=d;c=e}}}
function fH(a,b){b=OG(a,ot,b,!0);if(q(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return ul;default:var c=IG(b);c=q(c)?Bd.h(c.g?c.g(0):c.call(null,0),c.g?c.g(1):c.call(null,1)):null;return q(c)?c:vG(a,ot,b)}else return null}
function gH(a){var b=aG(a);if(XF(b))return rG(a,M(["A single colon is not a valid keyword."]));b=OG(a,mx,b,!0);var c=IG(b);if(q(q(c)?-1===b.indexOf("::"):c)){var d=c.g?c.g(0):c.call(null,0);c=c.g?c.g(1):c.call(null,1);return":"===de(b,0)?vG(a,mx,b):qf.h(d,c)}return vG(a,mx,b)}
function hH(a,b,c){b=YG?YG(a,!0,null,c):ZG.call(null,a,!0,null,c);b=b instanceof B?ue([b,!0]):b instanceof y?new n(null,1,[xr,b],null):"string"===typeof b?new n(null,1,[xr,b],null):b;Ie(b)||rG(a,M(["Metadata cannot be ",kG.h(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=YG?YG(a,!0,null,c):ZG.call(null,a,!0,null,c);return null!=c&&(c.A&131072||$a===c.ud)?ye(c,si(M([ze(c),b]))):rG(a,M(["Metadata can not be applied to ",kG.h(!1,c),". ","Metadata can only be applied to IMetas."]))}
function iH(a,b,c){b=XG($l,"}",a,c);c=zi(b);E.h(I(b),I(c))||BG(a,$l,b);return c}function jH(a){YG?YG(a,!0,null,!0):ZG.call(null,a,!0,null,!0);return a}
function kH(a,b,c){b=aG(a);b=OG(a,hr,b,!0);var d=null==b?null:IG(b);if(null==d)var e=null;else e=N(d,0,null),d=N(d,1,null),e=q(e)?null:d;return q(e)?"{"===CG(a)?(c=XG(hr,"}",a,c),!cg(I(c))&&uG(a,null,null,c),b=ZF(t.g(e),Ji(2,c)),c=Ji(2,Hd(c)),E.h(I(zi(b)),I(b))||BG(a,hr,b),Ci(b,c)):rG(a,M(["Namespaced map with namespace ",b," does not specify a map."])):rG(a,M(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function lH(a,b,c){b=YG?YG(a,!0,null,c):ZG.call(null,a,!0,null,c);return E.h(ex,b)?Number.NaN:E.h(no,b)?Number.NEGATIVE_INFINITY:E.h(Nv,b)?Number.POSITIVE_INFINITY:rG(a,M([["Invalid token: ##",t.g(b)].join("")]))}function MG(a){switch(a){case '"':return eH;case ":":return gH;case ";":return JG;case "^":return hH;case "(":return $G;case ")":return SG;case "[":return aH;case "]":return SG;case "{":return bH;case "}":return SG;case "\\":return VG;case "#":return PG;default:return null}}
function QG(a){switch(a){case "^":return hH;case "{":return iH;case "\x3c":return KG();case "!":return JG;case "_":return jH;case ":":return kH;case "#":return lH;default:return null}}
function RG(a,b,c){b=YG?YG(a,!0,null,c):ZG.call(null,a,!0,null,c);var d=YG?YG(a,!0,null,c):ZG.call(null,a,!0,null,c);b instanceof y||rG(a,M(["Invalid reader tag: ",kG.h(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=A.h(ak.g(c),b);e=q(e)?e:T.g?T.g(b):T.call(null,b);if(q(e))return e.g?e.g(d):e.call(null,d);c=Ij.g(c);return q(c)?c.h?c.h(b,d):c.call(null,b,d):rG(a,M(["No reader function for tag ",kG.h(!1,b),"."]))}
function ZG(a){switch(arguments.length){case 1:return mH(T,arguments[0]);case 2:return mH(arguments[0],arguments[1]);case 4:return YG(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}}function mH(a,b){a=S(a);var c=A.h(a,bu),d=!Re(a,bu);return YG(b,d,c,a)}
function YG(a,b,c,d){try{for(;;){var e=aG(a);if(!XF(e)){if(null==e){if(q(b)){b=a;var f=q(null)?tG(b,M(["EOF while reading, starting at line ",null,"."])):tG(b,M(["EOF while reading."]))}else f=c;return f}if(YF(e)||("+"===e||"-"===e)&&YF(a.tc(null)))return cH(a,e);var g=MG(e);if(q(g)){var h=g.j?g.j(a,e,d):g.call(null,a,e,d);if(h!==a)return h}else return fH(a,e)}}}catch(k){if(k instanceof Error){f=k;if(f instanceof Lj){b=f instanceof Lj?f.data:null;if(E.h(Oo,Nm.g(b)))throw f;a=si(M([new n(null,1,[Nm,
Oo],null),b,iG(a)?new n(null,3,[bk,dG(a),tw,eG(a),Kp,fG(a)],null):null]));throw new Lj(f.message,a,f);}a=si(M([new n(null,1,[Nm,Oo],null),iG(a)?new n(null,3,[bk,dG(a),tw,eG(a),Kp,fG(a)],null):null]));throw new Lj(f.message,a,f);}throw k;}};var nH=function(){var a=new V(null,13,5,Y,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new V(null,13,5,Y,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return A.h(q(d)?b:a,c)}}(),oH=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function pH(a){a=parseInt(a,10);return pb(isNaN(a))?a:null}
function qH(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.g(d)," Failed:  ",t.g(a),"\x3c\x3d",t.g(b),"\x3c\x3d",t.g(c)].join(""));return b}
function rH(a){var b=Ni(oH,a);N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null),g=N(b,5,null),h=N(b,6,null),k=N(b,7,null),m=N(b,8,null),p=N(b,9,null),r=N(b,10,null);if(pb(b))throw Error(["Unrecognized date/time syntax: ",t.g(a)].join(""));a=pH(c);b=function(){var D=pH(d);return q(D)?D:1}();c=function(){var D=pH(e);return q(D)?D:1}();var v=function(){var D=pH(f);return q(D)?D:0}(),x=function(){var D=pH(g);return q(D)?D:0}(),z=function(){var D=pH(h);return q(D)?D:0}(),C=function(){a:if(E.h(3,
I(k)))var D=k;else if(3<I(k))D=k.substring(0,3);else for(D=new Wa(k);;)if(3>D.getLength())D=D.append("0");else{D=D.toString();break a}D=pH(D);return q(D)?D:0}();m=(E.h(m,"-")?-1:1)*(60*function(){var D=pH(p);return q(D)?D:0}()+function(){var D=pH(r);return q(D)?D:0}());return new V(null,8,5,Y,[a,qH(1,b,12,"timestamp month field must be in range 1..12"),qH(1,c,nH(b,0===cf(a,4)&&(0!==cf(a,100)||0===cf(a,400))),"timestamp day field must be in range 1..last day in month"),qH(0,v,23,"timestamp hour field must be in range 0..23"),
qH(0,x,59,"timestamp minute field must be in range 0..59"),qH(0,z,E.h(x,59)?60:59,"timestamp second field must be in range 0..60"),qH(0,C,999,"timestamp millisecond field must be in range 0..999"),m],null)}
var sH=kg(null),tH=kg(si(M([new n(null,4,[gv,function(a){if("string"===typeof a){var b=rH(a);if(q(b)){a=N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null),g=N(b,5,null),h=N(b,6,null);b=N(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,g,h)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.g(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},Yp,function(a){if("string"===typeof a)return new Kj(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},eq,function(a){if(Ke(a))return Ag.h(uh,a);throw Error("Queue literal expects a vector for its elements.");},cu,function(a){if(Ke(a)){var b=[];a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);b.push(f);e+=1}else if(a=F(a))c=a,Le(c)?(a=fd(c),e=gd(c),c=a,d=I(a),a=e):(a=G(c),b.push(a),a=H(c),c=null,d=0),e=0;else break;return b}if(Ie(a)){b={};a=F(a);c=null;for(e=d=0;;)if(e<d){var g=c.P(null,e);f=N(g,0,null);g=N(g,1,null);f=rf(f);b[f]=g;e+=1}else if(a=F(a))Le(a)?(d=fd(a),a=gd(a),c=d,d=I(d)):
(d=G(a),c=N(d,0,null),d=N(d,1,null),c=rf(c),b[c]=d,a=H(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),T])));function uH(a){if(null!=a&&null!=a.pd)a=a.pd(a);else{var b=uH[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=uH._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("Coercions.\x3estr",a);}return a}function vH(a){if(null!=a&&null!=a.od)a=a.od(a);else{var b=vH[qa(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=vH._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw sb("Coercions.\x3enum",a);}return a}SVGAnimatedLength.prototype.od=function(){return vH(this.baseVal)};
SVGLength.prototype.od=function(){return this.value};SVGAnimatedString.prototype.pd=function(){return this.baseVal};CharacterData.prototype.pd=function(){return this.data};function wH(a){try{return Ay(Ey(fetch(a),function(b){return Ey(b.text(),function(c){return Ey(document.createElement("div"),function(d){return Ey(d.innerHTML=c,function(){var e=G(d.children);(null!=e?e:{})["source-url"]=a;return e})})})}))}catch(b){return Dy(b)}}function xH(a,b){return new URL(a,b)}
function yH(a,b){Hz(la,Lt,new n(null,2,[Yk,a,bk,51],null));return new (u(By))(function(c){var d=new Image;E.h(a.id,"pleintje");(function(){var f=null!=d?d:{};f.onload=function(){Hz(la,Lt,new n(null,2,[fs,new n(null,2,[Zw,a.id,Ur,d],null),bk,58],null));return c.g?c.g(d):c.call(null,d)};return f})().onerror=function(f){Hz(la,hm,new n(null,2,[Kw,f,bk,62],null));return c.g?c.g(d):c.call(null,d)};var e=null!=a&&"width"in a?a.width:void 0;q(e)&&((null!=d?d:{}).width=Math.ceil(vH(e)));e=null!=a&&"height"in
a?a.height:void 0;q(e)&&((null!=d?d:{}).height=Math.ceil(vH(e)));e=null!=a&&"href"in a?a.href:void 0;(null!=d?d:{}).src=xH(uH(e),b);e=null!=d&&"complete"in d?d.complete:void 0;return q(e)?(Hz(la,gp,new n(null,2,[cq,d,bk,70],null)),c.g?c.g(d):c.call(null,d)):null})}function zH(a){a=module$node_modules$pixi_DOT_js$lib$pixi.Texture.fromLoader(a,"images/maniac-mansion-achtegronden.svg","maniac-mansion");if(null!=a&&"baseTexture"in a)return a.baseTexture}
function AH(a){return new module$node_modules$pixi_DOT_js$lib$pixi.Rectangle(a.getAttribute("x"),a.getAttribute("y"),a.getAttribute("width"),a.getAttribute("height"))}
function BH(a){return function d(c){return new sf(null,function(){for(;;){var e=F(c);if(e){var f=e;if(Le(f)){var g=fd(f),h=I(g),k=xf(h);return function(){for(var x=0;;)if(x<h){var z=Pb(g,x),C=N(z,0,null),D=N(z,1,null),J=N(z,2,null);Af(k,function(){var K=new V(null,1,5,Y,[D],null);return Ia(null==J?"":String(J))?K:pe.h(K,ng.h(function(){return function(R){return parseFloat(R,10)}}(x,K,z,C,D,J,g,h,k,f,e),Yy(J,/[,\s]+/)))}());x+=1}else return!0}()?zf(Bf(k),d(gd(f))):zf(Bf(k),null)}var m=G(f),p=N(m,0,
null),r=N(m,1,null),v=N(m,2,null);return je(function(){var x=new V(null,1,5,Y,[r],null);return Ia(null==v?"":String(v))?x:pe.h(x,ng.h(function(){return function(z){return parseFloat(z,10)}}(x,m,p,r,v,f,e),Yy(v,/[,\s]+/)))}(),d(Hd(f)))}return null}},null,null)}(Qi(/([mlhzcqavMLHZCQAHV])\s*([^mlhzcqavMLHZCQAHV]*)\s*/,a))}
function CH(a){for(var b=BH(a),c=F(b),d=G(c),e=H(c),f=N(d,0,null),g=N(d,1,null),h=xE(0,0),k=b,m=qe,p=h;;){var r=k,v=F(r),x=G(v),z=H(v),C=x,D=N(C,0,null),J=N(C,1,null),K=z,R=m,W=p;if(q(D)){var Z=E.h(D,Vy(D)),ia=Z?function(){return function(ca,aa){var X=N(aa,0,null);aa=N(aa,1,null);X=xE(X,aa).clone();aa=null!=X?X:{};aa.x=ct.g(X)+ct.g(ca);aa.y=$s.g(X)+$s.g(ca);return X}}(k,m,p,Z,r,v,x,z,C,D,J,K,R,W,b,b,c,d,e,d,f,g,e,qe,h):function(){return function(ca,aa){ca=N(aa,0,null);aa=N(aa,1,null);return xE(ca,
aa)}}(k,m,p,Z,r,v,x,z,C,D,J,K,R,W,b,b,c,d,e,d,f,g,e,qe,h),sa=function(ca,aa,X,oa,P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha){return function(Na){return je(new V(null,2,5,Y,[oa?"l":"L",zg(Na)],null),ha)}}(k,m,p,Z,ia,r,v,x,z,C,D,J,K,R,W,b,b,c,d,e,d,f,g,e,qe,h),va=D.toUpperCase();switch(va){case "M":var ea=Cg(2,2,J);a=ia(W,G(ea));if(ea=H(ea)){ea=sa(ea);var U=pe.h(R,a);k=ea;m=U;p=a}else ea=K,U=pe.h(R,a),k=ea,m=U,p=a;continue;case "L":ea=Cg(2,2,J);ea=yb(function(ca,aa,X,oa,P,Ub,Ha){return function(Ma,Va){var Cb=N(Ma,0,
null);Ma=N(Ma,1,null);Va=Ha(Cb,Va);return new V(null,2,5,Y,[Va,pe.h(Ma,Va)],null)}}(k,m,p,ea,va,Z,ia,sa,r,v,x,z,C,D,J,K,R,W,b,b,c,d,e,d,f,g,e,qe,h),new V(null,2,5,Y,[W,R],null),ea);a=N(ea,0,null);ea=N(ea,1,null);k=K;m=ea;p=a;continue;case "H":a=sa(function(){return function(ca,aa,X,oa,P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc){return function Jb(Pc){return new sf(null,function(bb,Oa,Rb,sc,Dc,Gb,Ee,Pg,Fe,Jc,Id,od,Eh,ur,vr,wr,yi){return function(){for(;;){var Ud=F(Pc);if(Ud){if(Le(Ud)){var uf=
fd(Ud),Fh=I(uf),Ge=xf(Fh);a:for(var Vf=0;;)if(Vf<Fh){var Qg=Pb(uf,Vf);Qg=new V(null,2,5,Y,[Qg,Dc?0:$s.g(yi)],null);Ge.add(Qg);Vf+=1}else{uf=!0;break a}return uf?zf(Bf(Ge),Jb(gd(Ud))):zf(Bf(Ge),null)}Ge=G(Ud);return je(new V(null,2,5,Y,[Ge,Dc?0:$s.g(yi)],null),Jb(Hd(Ud)))}return null}}}(ca,aa,X,oa,P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc),null,null)}}(k,m,p,va,Z,ia,sa,r,v,x,z,C,D,J,K,R,W,b,b,c,d,e,d,f,g,e,qe,h)(J)}());ea=R;U=W;k=a;m=ea;p=U;continue;case "V":a=sa(function(){return function(ca,
aa,X,oa,P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc){return function Jb(Pc){return new sf(null,function(bb,Oa,Rb,sc,Dc,Gb,Ee,Pg,Fe,Jc,Id,od,Eh,ur,vr,wr,yi){return function(){for(;;){var Ud=F(Pc);if(Ud){if(Le(Ud)){var uf=fd(Ud),Fh=I(uf),Ge=xf(Fh);a:for(var Vf=0;;)if(Vf<Fh){var Qg=Pb(uf,Vf);Qg=new V(null,2,5,Y,[Dc?0:ct.g(yi),Qg],null);Ge.add(Qg);Vf+=1}else{uf=!0;break a}return uf?zf(Bf(Ge),Jb(gd(Ud))):zf(Bf(Ge),null)}Ge=G(Ud);return je(new V(null,2,5,Y,[Dc?0:ct.g(yi),Ge],
null),Jb(Hd(Ud)))}return null}}}(ca,aa,X,oa,P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc),null,null)}}(k,m,p,va,Z,ia,sa,r,v,x,z,C,D,J,K,R,W,b,b,c,d,e,d,f,g,e,qe,h)(J)}());ea=R;U=W;k=a;m=ea;p=U;continue;case "Q":a=sa(function(){return function(ca,aa,X,oa,P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc){return function Jb(Pc){return new sf(null,function(){return function(){for(;;){var bb=F(Pc);if(bb){if(Le(bb)){var Oa=fd(bb),Rb=I(Oa),sc=xf(Rb);a:for(var Dc=
0;;)if(Dc<Rb){var Gb=Pb(Oa,Dc);N(Gb,0,null);N(Gb,1,null);var Ee=N(Gb,2,null);Gb=N(Gb,3,null);sc.add(new V(null,2,5,Y,[Ee,Gb],null));Dc+=1}else{Oa=!0;break a}return Oa?zf(Bf(sc),Jb(gd(bb))):zf(Bf(sc),null)}Oa=G(bb);N(Oa,0,null);N(Oa,1,null);sc=N(Oa,2,null);Oa=N(Oa,3,null);return je(new V(null,2,5,Y,[sc,Oa],null),Jb(Hd(bb)))}return null}}}(ca,aa,X,oa,P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc),null,null)}}(k,m,p,va,Z,ia,sa,r,v,x,z,C,D,J,K,R,W,b,b,c,d,e,d,f,g,e,qe,h)(Cg(4,
4,J))}());ea=R;U=W;k=a;m=ea;p=U;continue;case "C":a=sa(function(){return function(ca,aa,X,oa,P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc){return function Jb(Pc){return new sf(null,function(){return function(){for(;;){var bb=F(Pc);if(bb){if(Le(bb)){var Oa=fd(bb),Rb=I(Oa),sc=xf(Rb);a:for(var Dc=0;;)if(Dc<Rb){var Gb=Pb(Oa,Dc);N(Gb,0,null);N(Gb,1,null);N(Gb,2,null);N(Gb,3,null);var Ee=N(Gb,4,null);Gb=N(Gb,5,null);sc.add(new V(null,2,5,Y,[Ee,Gb],null));Dc+=1}else{Oa=!0;break a}return Oa?
zf(Bf(sc),Jb(gd(bb))):zf(Bf(sc),null)}Oa=G(bb);N(Oa,0,null);N(Oa,1,null);N(Oa,2,null);N(Oa,3,null);sc=N(Oa,4,null);Oa=N(Oa,5,null);return je(new V(null,2,5,Y,[sc,Oa],null),Jb(Hd(bb)))}return null}}}(ca,aa,X,oa,P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc),null,null)}}(k,m,p,va,Z,ia,sa,r,v,x,z,C,D,J,K,R,W,b,b,c,d,e,d,f,g,e,qe,h)(Cg(6,6,J))}());ea=R;U=W;k=a;m=ea;p=U;continue;case "A":a=sa(function(){return function(ca,aa,X,oa,P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,
$b,Nb,ec,fc,Cc,gc,qc,rc){return function Jb(Pc){return new sf(null,function(){return function(){for(;;){var bb=F(Pc);if(bb){if(Le(bb)){var Oa=fd(bb),Rb=I(Oa),sc=xf(Rb);a:for(var Dc=0;;)if(Dc<Rb){var Gb=Pb(Oa,Dc);N(Gb,0,null);N(Gb,1,null);N(Gb,2,null);N(Gb,3,null);N(Gb,4,null);var Ee=N(Gb,5,null);Gb=N(Gb,6,null);sc.add(new V(null,2,5,Y,[Ee,Gb],null));Dc+=1}else{Oa=!0;break a}return Oa?zf(Bf(sc),Jb(gd(bb))):zf(Bf(sc),null)}Oa=G(bb);N(Oa,0,null);N(Oa,1,null);N(Oa,2,null);N(Oa,3,null);N(Oa,4,null);sc=
N(Oa,5,null);Oa=N(Oa,6,null);return je(new V(null,2,5,Y,[sc,Oa],null),Jb(Hd(bb)))}return null}}}(ca,aa,X,oa,P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc),null,null)}}(k,m,p,va,Z,ia,sa,r,v,x,z,C,D,J,K,R,W,b,b,c,d,e,d,f,g,e,qe,h)(Cg(7,7,J))}());ea=R;U=W;k=a;m=ea;p=U;continue;default:a=R,ea=W,k=K,m=a,p=ea}}else return R}}
function DH(a,b){a=S(a);a=A.h(a,pu);a=S(a);var c=A.h(a,ct),d=A.h(a,$s),e=xE(c,d);return q($r.g(b))?Gg.j(b,$r,function(f){return ng.h(function(g){return ME(g,e)},f)}):q(pu.g(b))?Gg.j(b,pu,function(f){return Gg.F(Gg.F(f,ct,Ze,c),$s,Ze,d)}):q(bn.g(b))?Gg.F(b,bn,ME,e):b}function EH(a){return Ag.j(T,ng.g(Li(hh,eg.h(function(b){var c=vu.g(b);return q(c)?DH(A.h(a,c),b):b},ih))),a)}
function FH(a,b,c){try{return Ay(Ey(yH(b,xH(c,document.baseURI)),function(d){var e=rf(Zw.g(a));var f=null!=b&&"width"in b?b.width:void 0;f=vH(f);var g=null!=b&&"height"in b?b.height:void 0;g=vH(g);var h=new module$node_modules$pixi_DOT_js$lib$pixi.BaseTexture(d,{scaleMode:module$node_modules$pixi_DOT_js$lib$pixi.settings.SCALE_MODE,resolution:1,width:f,height:g}),k=null!=h?h:{};var m=k.resource;null!=m?k=m:(m={},k=k.resource=m);k.url=[t.g(c),"#",e].join("");return O.o(a,iv,d,M([nn,new module$node_modules$pixi_DOT_js$lib$pixi.Texture(h,
new module$node_modules$pixi_DOT_js$lib$pixi.Rectangle(0,0,f,g)),Qp,h]))}))}catch(d){return Dy(d)}}
function GH(a){var b=ig(function(c){q(c.getAttribute("transform"))&&Hz(la,sv,ue([fv,new n(null,1,[Iu,c],null),dp,"SVG element has transform attributes which is not supported by ",null,", coordinates may be wrong.",bk,264]));try{var d=c.querySelector("desc");if(q(d)){var e=d.innerHTML,f=new n(null,3,[ak,u(tH),Ij,u(sH),bu,null],null);if(q(q(e)?Uf(e,""):e)){var g=new gG(e,I(e));b:{var h=Array(1);if(Oe(null)){d=0;for(var k=F(null);;)if(k&&1>d){h[d]=G(k);e=d+1;var m=H(k);d=e;k=m}else{var p=h;break b}}else{for(k=
0;;)if(1>k)h[k]=null,k+=1;else break;p=h}}var r=mH(f,new hG(g,p))}else r=null;var v=r}else v=null;var x=v}catch(z){x=null}if(q(x))switch(x=O.o(x,Zw,qf.g(c.getAttribute("id")),M([Iu,c,xr,c.tagName])),c.tagName){case "path":return O.j(x,$r,CH(c.getAttribute("d")));case "rect":return O.j(x,pu,AH(c));case "image":return x=O.j(x,pu,AH(c)),v=null!=a&&"source-url"in a?a["source-url"]:void 0,FH(x,c,v);case "circle":return O.o(x,bn,xE(c.getAttribute("cx"),c.getAttribute("cy")),M([Jl,c.getAttribute("r")]));
case "ellipse":return O.o(x,bn,xE(c.getAttribute("cx"),c.getAttribute("cy")),M([tr,c.getAttribute("rx"),rr,c.getAttribute("ry"),Jl,(c.getAttribute("rx")+c.getAttribute("ry"))/2]));default:return x}else return null},ng.h(function(c){return c.parentNode},a.querySelectorAll("desc")));try{return Ay(Ey(oy(xb(ng.h(Fy,b))),function(c){return EH(Ag.j(T,ng.g(Li(Zw,We)),c))}))}catch(c){return Dy(c)}};var HH,IH,JH,KH,LH,MH,NH,OH,PH,QH,RH,SH=kg(T);
function TH(){var a=si(M([new n(null,6,[Am,window.innerWidth,Et,window.innerHeight,qn,window.devicePixelRatio,Kt,!0,yo,!0,Ku,window],null),T]));HH=new module$node_modules$pixi_DOT_js$lib$pixi.Application(rj.o(a,M([sj,$z])));a=IH=Mq.g(HH);(null!=a?a:{}).backgroundColor="#000000";JH=Lo.g(HH);KH=new module$node_modules$pixi_DOT_js$lib$pixi.Graphics;LH=BE(T,M([KH]));MH=AE(T);NH=AE(T);OH=AE(T);PH=AE(T);QH=BE(T,M([MH,NH,OH]));RH=BE(T,M([QH,PH]));Gf.o(JH,LH,M([RH]));lg(SH,new n(null,3,[jt,0,Hv,T,vt,T],null))}
var UH,VH=kg(T),WH=kg(T),XH=kg(T),YH=kg(T),ZH=A.j(T,Qs,vj.v?vj.v():vj.call(null));UH=new Hj(Bd.h(ja,"load-scene"),Qr,ZH,VH,WH,XH,YH);var $H,aI=kg(T),bI=kg(T),cI=kg(T),dI=kg(T),eI=A.j(T,Qs,vj.v?vj.v():vj.call(null));$H=new Hj(Bd.h(ja,"start-scene"),Qr,eI,aI,bI,cI,dI);var fI,gI=kg(T),hI=kg(T),iI=kg(T),jI=kg(T),kI=A.j(T,Qs,vj.v?vj.v():vj.call(null));fI=new Hj(Bd.h(ja,"tick-scene"),Qr,kI,gI,hI,iI,jI);var lI,mI=kg(T),nI=kg(T),oI=kg(T),pI=kg(T),qI=A.j(T,Qs,vj.v?vj.v():vj.call(null));
lI=new Hj(Bd.h(ja,"stop-scene"),Qr,qI,mI,nI,oI,pI);var rI=function(){var a=kg(T),b=kg(T),c=kg(T),d=kg(T),e=A.j(T,Qs,vj.v?vj.v():vj.call(null));return new Hj(Bd.h(ja,"handle-event"),function(f){return Qr.g(f)},e,a,b,c,d)}();UH.O(null,Ij,function(){return null});$H.O(null,Ij,function(){return null});fI.O(null,Ij,function(){return null});lI.O(null,Ij,function(){MH.removeChildren();return NH.removeChildren()});rI.O(null,Ij,function(){return null});function sI(){var a=Qr.g(u(SH));return tI(u(SH),a)}
function tI(a,b){return O.j(Dg(a,new V(null,2,5,Y,[Hv,b],null)),Qr,b)}function uI(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new Fd(b.slice(1),0,null):null;vI(arguments[0],b)}function vI(a,b){return mg.h(SH,function(c){return Rf(Fg,c,new V(null,2,5,Y,[Hv,Qr.g(c)],null),a,b)})}function wI(){var a=document.getElementById("spinner");a=null!=a?a:{};var b=a.style;null==b&&(b={},a.style=b);b.display="block";return a}
Yc(SH,En,function(a,b,c,d){if(Uf(Qr.g(c),Qr.g(d))){var e=new V(null,2,5,Y,[Hv,Qr.g(d)],null),f=tI(d,Qr.g(d));Hz(ja,gp,new n(null,2,[sp,new n(null,2,[aw,Qr.g(c),Vn,Qr.g(d)],null),bk,102],null));try{return Ay(Ey(lI.g(c),function(){return Ey(wI(),function(){return Ey(pb(Wr.g(f))?function(){Hz(ja,Lt,new n(null,2,[jl,f,bk,108],null));try{return Ay(Ey(UH.g(f),function(g){return Ey(mg.F(SH,Fg,e,function(h){h=Ie(g)?si(M([h,g])):h;return O.o(h,Qr,Qr.g(d),M([Wr,!0]))}),function(){return $H.g(Dg(u(SH),e))})}))}catch(g){return Dy(g)}}():
$H.g(f),function(){return Ey(xI.v?xI.v():xI.call(null),function(){var g=document.getElementById("spinner");g=null!=g?g:{};var h=g.style;null==h&&(h={},g.style=h);h.display="none";return g})})})}))}catch(g){return Dy(g)}}else return null});function yI(a){return mg.F(SH,O,Qr,a)}function zI(){return Dg(HH,new V(null,2,5,Y,[Mq,kx],null))}function AI(){var a=zI();a=S(a);A.h(a,Am);a=A.h(a,Et);fm.h(sI(),0);return a/1E3}function BI(){var a=zI();a=S(a);A.h(a,Am);A.h(a,Et);fm.h(sI(),0)}
function CI(){return Am.g(zI())/AI()}function xI(){var a=zI();a=S(a);A.h(a,Am);A.h(a,Et);var b=fm.h(sI(),0);a=AI();BI();var c=RH;(null!=c?c:{}).x=0;c=RH;var d=null!=c?c:{};(function(){var f=d.scale;if(null!=f)return f;f={};return d.scale=f})().x=a;c=RH;var e=null!=c?c:{};(function(){var f=e.scale;if(null!=f)return f;f={};return e.scale=f})().y=a;a=PH;(null!=a?a:{}).x=function(){var f=CI()-b;gj(M([f]));return f}();a=PH;a=null!=a?a:{};a.y=0;return a}
function DI(a){var b=QH;b=null!=b?b:{};b.x=-a;return b}function EI(a,b){Hz(ja,Ts,new n(null,2,[Ft,new n(null,2,[nv,a,nn,b],null),bk,174],null));b=zE(b);mg.F(SH,Eg,new V(null,2,5,Y,[vt,a],null),b);return b}function FI(a){return Dg(u(SH),new V(null,2,5,Y,[vt,a],null))}function GI(){TH();xI();rE(HH,wl,xI);oE();return rE(jn.g(HH),Du,function(a){try{mg.o(SH,Gg,jt,Ye,M([a]));var b=sI(),c=S(b),d=A.h(c,Wr);return q(d)?fI.g(O.j(c,$k,a)):null}catch(e){return a=e,gj(M(["game-loop error",a])),a}})}
function HI(){for(var a=F(new V(null,2,5,Y,[Tn,zw],null)),b=null,c=0,d=0;;)if(d<c){var e=b.P(null,d);sE(G(document.getElementsByTagName("canvas")),rf(e),e,function(h,k,m,p,r){return function(v){return rI.h(sI(),new V(null,2,5,Y,[r,v],null))}}(a,b,c,d,e));d+=1}else{var f=F(a);if(f){var g=f;Le(g)?(a=fd(g),c=gd(g),b=a,g=I(a),a=c,c=g):(e=G(g),sE(G(document.getElementsByTagName("canvas")),rf(e),e,function(h,k,m,p,r){return function(v){return rI.h(sI(),new V(null,2,5,Y,[r,v],null))}}(a,b,c,d,e,g,f)),a=
H(g),b=null,c=0);d=0}else return null}}function II(a){var b=zI();b=S(b);A.h(b,Am);A.h(b,Et);b=Et.g(nn.g(a));var c=null!=a?a:{};(function(){var e=c.scale;if(null!=e)return e;e={};return c.scale=e})().x=1E3/b;var d=null!=a?a:{};(function(){var e=d.scale;if(null!=e)return e;e={};return d.scale=e})().y=1E3/b;Gf.h(MH,a)}
function JI(a){var b=a.getLocalBounds(),c=S(b);b=A.h(c,ct);var d=A.h(c,$s),e=A.h(c,Am);c=A.h(c,Et);(null!=a?a:{}).hitArea=new module$node_modules$pixi_DOT_js$lib$pixi.Rectangle(b-25,d-25,e+50,c+50)}function KI(a){a=a.key;switch(a){case " ":return vw;default:return qf.g(a)}}function LI(a,b){var c=null!=a?a:{};c.x+=(null!=a&&"vx"in a?a.vx:0)*b;c=null!=a?a:{};c.y+=(null!=a&&"vy"in a?a.vy:0)*b}function MI(a,b,c){a=a>b?a:b;return a<c?a:c}var NI=new JE;
function OI(a,b){b.update();return F(wg(function(c){return a.collides(c,NI)},a.potentials()))}function PI(){return new URLSearchParams(window.location.search)};var QI=oi([lr,Qv,Pm,Yt,Vr,Cn,tu,Jm,Cs,Fp,Dm],"images/bulkhead-walls-back.png images/oude_fabriek.jpg images/hut.jpg images/fabriek_binnen.jpg images/werkplaats.jpg images/magic-cliffs-preview-detail.png images/bulkhead-walls-pipes.png images/jacko.png images/fabriek_buiten.jpg images/supermarkt.jpg images/bulkhead-walls-platform.png".split(" "));
function RI(a,b){b=tj(Nm,Hh(b));b=S(b);var c=A.h(b,Sv),d=A.h(b,iq),e=A.h(b,Vt);return Ag.j(T,ng.g(Li(Zw,function(f){var g=S(f);f=A.h(g,Zw);g=A.h(g,pu);var h=ng.h($r,wg(eg.h(xi([f]),zm),d)),k=1E3/Et.g(g),m=Am.g(g)*k,p=new GE(0,0,20),r=Gf.h(new FE,p);return new n(null,7,[Zw,f,ho,zE(new module$node_modules$pixi_DOT_js$lib$pixi.Texture(a,g)),ax,k,Am,m,gt,p,Rj,yb(function(v,x){x=S(x);var z=A.h(x,pu);x=A.h(x,lv);var C=Gf.h,D=ct.g(z)*k,J=$s.g(z)*k,K=Am.g(z)*k;z=Et.g(z)*k;z=new HE(D,J,[[0,0],[K,0],[K,z],
[0,z]]);(null!=z?z:{}).action=x;return C.call(Gf,v,z)},r,wg(eg.h(xi([f]),vu),e)),Wm,yb(function(v,x){nj(function(z){return NE(z,k)},x);Gf.h(v,KF(ng.h(Li(ct,$s),x)));return v},vF.buildRectangle(m,1E3),h)],null)})),c)}
UH.O(null,Jp,function(a){try{return Ay(Ey(wE(HH,new n(null,1,[Jm,Jm.g(QI)],null)),function(b){b=S(b);var c=A.h(b,Jm);return Ey(wH("images/maniac-mansion-achtegronden.svg"),function(d){var e=function(){var k=zE(c);VF(k);var m=null!=k?k:{};(function(){var C=m.position;if(null!=C)return C;C={};return m.position=C})().x=2E3;var p=null!=k?k:{};(function(){var C=p.position;if(null!=C)return C;C={};return p.position=C})().y=950;var r=null!=k?k:{};(function(){var C=r.scale;if(null!=C)return C;C={};return r.scale=
C})().x=.2;var v=null!=k?k:{};(function(){var C=v.scale;if(null!=C)return C;C={};return v.scale=C})().y=.2;var x=null!=k?k:{};(function(){var C=x.anchor;if(null!=C)return C;C={};return x.anchor=C})().x=.5;var z=null!=k?k:{};(function(){var C=z.anchor;if(null!=C)return C;C={};return z.anchor=C})().y=1;return k}();d=GH(d);var f=Fv.g(d);f=zH(iv.g(f));f=RI(f,d);var g=new module$node_modules$pixi_DOT_js$lib$pixi.Graphics,h=TF(new n(null,4,[Cq,e,Wm,Wm.g(A.h(f,rx)),Ys,JF(new UF(g,null,null,null)),gu,20],
null));return O.o(a,Sv,rx,M([kp,d,Jm,e,fx,h,Po,f,pv,g,Kl,!1]))})}))}catch(b){return Dy(b)}});$H.O(null,Jp,function(a){var b=S(a);a=A.h(b,Po);var c=A.h(b,Sv),d=A.h(b,Jm),e=A.h(b,pv),f=A.h(b,Kl);b=A.h(b,fx);II(ho.g(c.g?c.g(a):c.call(null,a)));Gf.h(NH,d);return q(f)?(Gf.h(NH,e),RF(b)):null});var SI=kg(0),TI=new JE;
function UI(a,b){a=S(a);var c=A.h(a,ct);a=A.h(a,$s);b=S(b);var d=A.h(b,Rj),e=A.h(b,gt);(function(){var f=null!=e?e:{};f.x=c;return f})().y=a;d.update();return F(wg(function(f){return e.collides(f,TI)},e.potentials()))}
fI.O(null,Jp,function(a){a=S(a);var b=A.h(a,Sv),c=A.h(a,an);A.h(a,pv);var d=A.h(a,Po),e=A.h(a,kp),f=A.h(a,fx);A.h(a,Kl);A.h(a,$k);var g=A.h(a,Jm);b=A.h(d,b);PF(f);var h=S(a),k=A.h(h,pv),m=A.h(h,fx);h=A.h(h,Kl);var p=S(b),r=A.h(p,Rj);A.h(p,gt);q(q(h)?E.h(0,cf(mg.h(SI,Rd),10)):h)&&(RF(m),r.draw(k));k=Am.g(MH.getLocalBounds());m=CI();h=QH;(null!=h?h:{}).x=-MI(0,ct.g(g)-m/2,k-m);return(g=UI(g,b))?(g=N(g,0,null),pb(c)?(g=g.action,N(g,0,null),c=N(g,1,null),g=N(g,2,null),d=A.h(d,c),b=S(d),d=A.h(b,ax),A.h(b,
Am),b=A.h(b,Wm),g=Dg(e,new V(null,2,5,Y,[g,pu],null)),e=(ct.g(g)+Am.g(g)/2)*d,d*=$s.g(g)+Et.g(g),lI.g(a),NF(f,b),LF(f,e,d),vI(O,M([Sv,c,an,!0])),$H.g(sI())):null):q(c)?vI(O,M([an,!1])):null});rI.O(null,Jp,function(a,b){var c=S(a);A.h(c,Jm);a=A.h(c,fx);A.h(c,Po);A.h(c,Sv);N(b,0,null);b=N(b,1,null);b=q(mq.g(b))?b:G(Rq.g(b));b=xE(mq.g(b),lq.g(b));b=Dg(QH,new V(null,2,5,Y,[nr,Gk],null)).applyInverse(b);return MF(a,ct.g(b),$s.g(b))});UH.O(null,iu,function(a){return a});$H.O(null,iu,function(a){Gf.h(document.getElementById("center"),MD(new V(null,4,5,Y,[$u,new V(null,2,5,Y,[Vv,"INVASIE VAN DE ROBOTS"],null),new V(null,3,5,Y,[Dq,new n(null,1,[Jk,function(){return yI(Ip)}],null),"START"],null),new V(null,4,5,Y,[Op,new V(null,2,5,Y,[ft,"Idee en uitwerking: Cyriel Cumps"],null),new V(null,2,5,Y,[ft,"Tekeningen: Cyriel \x26 Vic Cumps"],null),new V(null,2,5,Y,[ft,"Programmatie: Arne Brasseur"],null)],null)],null)));return a});
lI.O(null,iu,function(a){document.getElementById("menu").remove();return a});fI.O(null,iu,function(a){return a});rI.O(null,iu,function(){return null});var VI=vx(64,{});aE(VI.Story,Ro,new V(null,3,5,Y,[ln,Mr,lm],null));aE(VI.InkList,Zp,new V(null,1,5,Y,[mu],null));
function WI(){return function c(b){return new sf(null,function(){for(;;){var d=F(b);if(d){if(Le(d)){var e=fd(d),f=I(e),g=xf(f);return function(){for(var k=0;;)if(k<f){var m=Pb(e,k),p=g,r=S(q(m)?new yx(m):null);m=A.h(r,Xp);var v=A.h(r,Xu),x=A.h(r,Zr),z=A.h(r,vm),C=A.h(r,Dw),D=A.h(r,Qw);r=A.h(r,gn);p.add(new n(null,7,[Xp,m,Xu,v,hp,x,Pr,z,Ow,C,nq,D,Bt,r],null));k+=1}else return!0}()?zf(Bf(g),c(gd(d))):zf(Bf(g),null)}var h=G(d);return je(function(){var k=S(q(h)?new yx(h):null),m=A.h(k,Xp),p=A.h(k,Xu),
r=A.h(k,Zr),v=A.h(k,vm),x=A.h(k,Dw),z=A.h(k,Qw);k=A.h(k,gn);return new n(null,7,[Xp,m,Xu,p,hp,r,Pr,v,Ow,x,nq,z,Bt,k],null)}(),c(Hd(d)))}return null}},null,null)}(XI.currentChoices)};for(var YI=Uf(PI().get("skipintro"),"1"),ZI=E.h(PI().get("debug"),"1"),$I=new n(null,6,[Fo,"images/ventje_frame1.png",Eo,"images/ventje_frame2.png",Co,"images/ventje_frame3.png",Bo,"images/ventje_frame4.png",$o,"images/ventje_stilstand.png",ws,"images/wheelbot9000.png"],null),XI,aJ=S(null),bJ=A.h(aJ,zl),cJ=new VI.Story('{"inkVersion":19,"root":[["end",["done",{"#n":"g-0"}],null],"done",{"intro":["^ROBOT: HIER IS NIEMAND MEER. TIJD OM VERSLAG UIT TE BRENGEN BIJ DE BAAS.","\\n","^ANDERE ROBOT: GOED WERK! ALLE VLEESZAKKEN ZITTEN GEVANGEN. DE AARDE IS NU VAN DE ROBOTS!","\\n","^ROBOT: MOCHT ER TOCH NOG IEMAND OPDUIKEN, DAN NEMEN WE DIE DAN WEL TE GRAZEN. HAHAHAHAHA","\\n","^\x3e\x3e\x3e robots verlaten kamer","\\n","^\x3e\x3e\x3e kast gaat open","\\n","^SPELER: Oef, ze hebben me niet gezien, maar wat nu?","\\n","^SPELER: Ik moet mijn vrienden redden! Maar eerst moet ik veilig het huis uit kunnen komen.","\\n","end",null],"slaapkamer":["^Voor dat je naar buiten kan heb je een vermomming nodig. Verkleed je in een robot zodat je niet opvalt buiten.","\\n","end",null],"robot_op_bank":[["^SPELER: Hallo kollega!","\\n","ev",{"CNT?":"robot_krijgt_katteneten"},"!","/ev",[{"-\x3e":".^.b","c":true},{"b":["^ \\"ROBOT: GEGROET. BIEP. BOEP.... SNIK... OH MIJN ARME KAT.\\"",{"-\x3e":".^.^.^.7"},null]}],"nop","\\n","ev",{"CNT?":"robot_krijgt_katteneten"},"/ev",[{"-\x3e":".^.b","c":true},{"b":["^ \\"ROBOT: HALLO KOLLEGA! NOG EENS BEDANKT VOOR HET KATTENETEN!\\"",{"-\x3e":".^.^.^.13"},null]}],"nop","\\n",[["ev",{"^-\x3e":"robot_op_bank.0.keuzes.0.$r1"},{"temp\x3d":"$r"},"str",{"-\x3e":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Hoe komt het dat jij hier op de bank zit? ",{"-\x3e":"$r","var":true},null]}],["ev",{"^-\x3e":"robot_op_bank.0.keuzes.1.$r1"},{"temp\x3d":"$r"},"str",{"-\x3e":".^.s"},[{"#n":"$r1"}],"/str",{"CNT?":"robot_krijgt_katteneten"},"!","/ev",{"*":".^.^.c-1","flg":19},{"s":["^Je ziet er niet erg vrolijk uit waarde kollega... Wat ligt er op je transistors?",{"-\x3e":"$r","var":true},null]}],["ev",{"^-\x3e":"robot_op_bank.0.keuzes.2.$r1"},{"temp\x3d":"$r"},"str",{"-\x3e":".^.s"},[{"#n":"$r1"}],"/str",{"CNT?":"robot_krijgt_katteneten"},"!",{"CNT?":".^.^.c-1"},"\x26\x26","/ev",{"*":".^.^.c-2","flg":3},{"s":["^Zal ik je kat helpen vinden?",{"-\x3e":"$r","var":true},null]}],["ev",{"^-\x3e":"robot_op_bank.0.keuzes.3.$r1"},{"temp\x3d":"$r"},"str",{"-\x3e":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-3","flg":2},{"s":["^Fijne dag nog! ",{"-\x3e":"$r","var":true},null]}],{"c-0":["ev",{"^-\x3e":"robot_op_bank.0.keuzes.c-0.$r2"},"/ev",{"temp\x3d":"$r"},{"-\x3e":".^.^.0.s"},[{"#n":"$r2"}],"^ Niet veel te doen vandaag?","\\n","^ROBOT: DIT RIOOLDEKSEL MOET BEWAAKT WORDEN. BIEP. BOEP.","\\n","^SPELER: Ach zo, dat moet wel een belangrijke taak zijn. Euh... biep. boep.","\\n","^ROBOT: JAZEKER. TUNNEL NAAR LANCEERBASIS! BIEEEP.","\\n",{"-\x3e":".^.^"},{"#f":5}],"c-1":["ev",{"^-\x3e":"robot_op_bank.0.keuzes.c-1.$r2"},"/ev",{"temp\x3d":"$r"},{"-\x3e":".^.^.1.s"},[{"#n":"$r2"}],"\\n","^ROBOT: MIJN KAT. MIJN ARME KAT. ZE IS VERDWENEN.","\\n",{"-\x3e":".^.^"},{"#f":5}],"c-2":["ev",{"^-\x3e":"robot_op_bank.0.keuzes.c-2.$r2"},"/ev",{"temp\x3d":"$r"},{"-\x3e":".^.^.2.s"},[{"#n":"$r2"}],"\\n","^ROBOT: DAT ZOU FANTASTISCH ZIJN.","\\n","^ROBOT: MISSCHIEN DAT ZE TERUGKOMT ALS IK HAAR ETEN KAN GEVEN.","\\n","^ROBOT: BIEP. BOEP.","\\n",{"-\x3e":".^.^"},null],"c-3":["ev",{"^-\x3e":"robot_op_bank.0.keuzes.c-3.$r2"},"/ev",{"temp\x3d":"$r"},{"-\x3e":".^.^.3.s"},[{"#n":"$r2"}],"^ Veel sucess bij het vinden van je kat! ","\\n","end",null],"#n":"keuzes"}],null],null],"robot_krijgt_katteneten":["^ROBOT: KATTENVOER! NU KOMT MIJN KAT ZEKER TERUG. BIEP BOEP JEEJ!","\\n","^ROBOT: HEEL ERG BEDANKT. KAN IK JE MISSCHIEN ERGENS MEE HELPEN? ... BIEEEEP","\\n","^SPELER: Je zou misschien het riooldeksel kunnen open doen.","\\n","^ROBOT: RIOOLDEKSEL IS SUPER GEHEIME TUNNEL NAAR LANCEERBASIS. MOET BEWAAKT WORDEN!","\\n","^SPELER: Als je het deksel even open doet, dan zal ik de binnenkant bewaken! Goed idee, toch!","\\n","^ROBOT: ....","\\n","^ROBOT: OK!","\\n","^\x3e\x3e\x3e riool gaat open","\\n","end",{"#f":1}],"winkel":[["^WINKELIER: WAARMEE KAN IK U VAN DIENST ZIJN?","\\n","^WINKELIER: ","ev",{"CNT?":".^.keuzes.c-0"},"/ev",[{"-\x3e":".^.b","c":true},{"b":["^ TOCH NIET WEER KATTENTEN?",{"-\x3e":".^.^.^.7"},null]}],"nop","^ IK HEB VIJZEN, MOTOROLIE, EN VERSE TRANSISTORS.","\\n",[["ev",{"^-\x3e":"winkel.0.keuzes.0.$r1"},{"temp\x3d":"$r"},"str",{"-\x3e":".^.s"},[{"#n":"$r1"}],"/str",{"CNT?":"robot_op_bank.0.keuzes.c-1"},{"CNT?":"robot_krijgt_katteneten"},"!","\x26\x26","/ev",{"*":".^.^.c-0","flg":19},{"s":["^Ik zoek katteneten",{"-\x3e":"$r","var":true},null]}],["ev",{"^-\x3e":"winkel.0.keuzes.1.$r1"},{"temp\x3d":"$r"},"str",{"-\x3e":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":2},{"s":["^Ik kijk alleen maar",{"-\x3e":"$r","var":true},null]}],{"c-0":["ev",{"^-\x3e":"winkel.0.keuzes.c-0.$r2"},"/ev",{"temp\x3d":"$r"},{"-\x3e":".^.^.0.s"},[{"#n":"$r2"}],"\\n","^WINKELIER: KATTENETEN? WAAR HEB JE DAT VOOR NODIG","\\n","^SPELER: Voor mijn kat, tiens.","\\n","^WINKELIER: LOGICA! DE VORIGE UITBATER HEEFT NOG KATTENETEN ACHTER GELATEN. ALSJEBLIEFT!","\\n","^\x3e\x3e\x3e krijg katteneten","\\n","end",{"#f":5}],"c-1":["ev",{"^-\x3e":"winkel.0.keuzes.c-1.$r2"},"/ev",{"temp\x3d":"$r"},{"-\x3e":".^.^.1.s"},[{"#n":"$r2"}],"\\n","end",null],"#n":"keuzes"}],null],null],"item_is_te_ver":[["ev","visit",3,"seq","/ev","ev","du",0,"\x3d\x3d","/ev",{"-\x3e":".^.s0","c":true},"ev","du",1,"\x3d\x3d","/ev",{"-\x3e":".^.s1","c":true},"ev","du",2,"\x3d\x3d","/ev",{"-\x3e":".^.s2","c":true},"nop",{"s0":["pop","^Daar kan ik niet aan",{"-\x3e":".^.^.23"},null],"s1":["pop","^Misschien als ik iets dichter ga staan",{"-\x3e":".^.^.23"},null],"s2":["pop","^Dat is wel erg ver",{"-\x3e":".^.^.23"},null],"#f":5}],"\\n","end",null],"combinatie_ken_ik_niet":[["ev","visit",4,"seq","/ev","ev","du",0,"\x3d\x3d","/ev",{"-\x3e":".^.s0","c":true},"ev","du",1,"\x3d\x3d","/ev",{"-\x3e":".^.s1","c":true},"ev","du",2,"\x3d\x3d","/ev",{"-\x3e":".^.s2","c":true},"ev","du",3,"\x3d\x3d","/ev",{"-\x3e":".^.s3","c":true},"nop",{"s0":["pop","^Dat snap ik niet",{"-\x3e":".^.^.29"},null],"s1":["pop","^Hoe bedoel je?",{"-\x3e":".^.^.29"},null],"s2":["pop","^Dat heeft geen zin",{"-\x3e":".^.^.29"},null],"s3":["pop","^Ik denk niet dat dat gaat lukken",{"-\x3e":".^.^.29"},null],"#f":5}],"\\n","end",null],"eerst_verkleden":["^Ben je gek? Het krioelt daar van de robots! Als ik zo buiten kom is het GAME OVER.","\\n","^Misschien kan ik me eerst vermommen in een robot. Eens kijken wat ik hier nog liggen heb.","\\n","end",null],"eindbaas":["^SPELER: Haha, je spel is uit!","\\n","^BAAS: Nee, dat kan niet... Neeeeeeeee","\\n","^\x3e\x3e\x3e baas valt om","\\n","end",null]}],"listDefs":{}}'),
dJ=F(bJ),eJ=null,fJ=0,gJ=0;;)if(gJ<fJ){var hJ=eJ.P(null,gJ),iJ=N(hJ,0,null),jJ=N(hJ,1,null),kJ=rf(iJ);cJ.BindExternalFunction(kJ,jJ);gJ+=1}else{var lJ=F(dJ);if(lJ){var mJ=lJ;if(Le(mJ)){var nJ=fd(mJ),oJ=gd(mJ),pJ=nJ,qJ=I(nJ);dJ=oJ;eJ=pJ;fJ=qJ}else{var rJ=G(mJ),sJ=N(rJ,0,null),tJ=N(rJ,1,null),uJ=rf(sJ);cJ.BindExternalFunction(uJ,tJ);dJ=H(mJ);eJ=null;fJ=0}gJ=0}else break}XI=cJ;
rE(JD(),new V(null,2,5,Y,[Tn,zw],null),function(a){a.preventDefault();a.stopPropagation();a=sI();return vJ.h?vJ.h(zk,a):vJ.call(null,zk,a)});function wJ(a){var b=JD();(null!=b?b:{}).innerText=a;a=null!=b?b:{};b=a.style;null==b&&(b={},a.style=b);b.display="block";return a}function xJ(a){var b=JD();b.innerHTML="";Gf.h(b,MD(a));a=null!=b?b:{};b=a.style;null==b&&(b={},a.style=b);b.display="block";return a}
function yJ(){var a=JD();a=null!=a?a:{};var b=a.style;null==b&&(b={},a.style=b);b.display="none";return a}function zJ(a){wJ(a);return setTimeout(yJ,2E3)}function AJ(){var a=JD();a=null!=a&&"style"in a?a.style:void 0;a=null!=a&&"display"in a?a.display:void 0;return E.h("block",a)}function BJ(a){return A.h(Po.g(a),Sv.g(a))}
var CJ=function CJ(){if(q(XI.canContinue)){var b=XI.Continue();return 0==b.lastIndexOf("\x3e\x3e\x3e",0)?(yJ(),b=Ka(Ty(b)),DJ.g?DJ.g(b):DJ.call(null,b)):xJ(new V(null,2,5,Y,[ft,b],null))}return F(WI())?xJ(new V(null,3,5,Y,[nm,new V(null,2,5,Y,[ft,"KEUZES"],null),function(){return function e(d){return new sf(null,function(){for(;;){var f=F(d);if(f){var g=f;if(Le(g)){var h=fd(g),k=I(h),m=xf(k);return function(){for(var C=0;;)if(C<k){var D=Pb(h,C),J=S(D),K=J,R=A.h(J,Xp),W=A.h(J,Xu);Af(m,new V(null,2,
5,Y,[ft,new V(null,4,5,Y,[Ws,function(){var Z=function(ia,sa,va,ea,U,ca){return function(aa){aa.preventDefault();aa.stopPropagation();XI.ChooseChoiceIndex(ca);return CJ.v?CJ.v():CJ.call(null)}}(C,D,J,K,R,W,h,k,m,g,f);return new n(null,3,[Qm,"text-decoration: underline",Jk,Z,tt,Z],null)}(),"- ",R],null)],null));C+=1}else return!0}()?zf(Bf(m),e(gd(g))):zf(Bf(m),null)}var p=G(g),r=S(p),v=r,x=A.h(r,Xp),z=A.h(r,Xu);return je(new V(null,2,5,Y,[ft,new V(null,4,5,Y,[Ws,function(){var C=function(D,J,K,R,W){return function(Z){Z.preventDefault();
Z.stopPropagation();XI.ChooseChoiceIndex(W);return CJ.v?CJ.v():CJ.call(null)}}(p,r,v,x,z,g,f);return new n(null,3,[Qm,"text-decoration: underline",Jk,C,tt,C],null)}(),"- ",x],null)],null),e(Hd(g)))}return null}},null,null)}(WI())}()],null)):yJ()};function EJ(a){XI.ChoosePathString(a);return CJ()}var FJ=kg(T),GJ=kg(T),HJ=kg(T),IJ=kg(T),JJ=A.j(T,Qs,vj.v?vj.v():vj.call(null));(new Hj(Bd.h(ka,"handle-room"),Sv,JJ,FJ,GJ,HJ,IJ)).O(null,Ij,function(){return null});
var LJ=new n(null,1,[Du,function(a){function b(m){(null!=m?m:{}).interactive=!0;return sE(m,new V(null,2,5,Y,[Tn,zw],null),Uk,function(p){var r=sI();p=null!=p&&"data"in p?p.data:void 0;p=p.getLocalPosition(MH);return vJ.j?vJ.j(ik,r,p):vJ.call(null,ik,r,p)})}a=S(a);var c=A.h(a,vt),d=A.h(a,Sv);A.h(a,fx);A.h(a,Jm);a=A.h(c,d);c=bo.g(BJ(sI()));d=Ag.h(xi([a]),c);for(var e=F(MH),f=null,g=0,h=0;;)if(h<g){var k=f.P(null,h);pb(d.g?d.g(k):d.call(null,k))&&dd(MH,k);h+=1}else if(e=F(e))f=e,Le(f)?(e=fd(f),h=gd(f),
f=e,g=I(e),e=h):(e=G(f),pb(d.g?d.g(e):d.call(null,e))&&dd(MH,e),e=H(f),f=null,g=0),h=0;else break;q(bg(xi([a]),MH))||(II(a),b(a));a=F(c);c=null;for(e=d=0;;)if(e<d)f=c.P(null,e),N(f,0,null),f=N(f,1,null),pb(bg(xi([f]),MH))&&(KJ.g?KJ.g(f):KJ.call(null,f),Gf.h(MH,f),b(f)),e+=1;else if(a=F(a))Le(a)?(d=fd(a),a=gd(a),c=d,d=I(d)):(c=G(a),N(c,0,null),f=N(c,1,null),pb(bg(xi([f]),MH))&&(KJ.g?KJ.g(f):KJ.call(null,f),Gf.h(MH,f),b(f)),a=H(a),c=null,d=0),e=0;else return null}],null);
function MJ(a,b){var c=S(a);a=A.h(c,fx);c=A.h(c,Jm);var d=S(b);b=A.h(d,ct);for(d=A.h(d,$s);;){if(1E3<=d)return null;if(pb(QF(a,b,d-25)))d+=25;else return(null!=c?c:{})["on-arrival"]=null,MF(a,b,d),vI(O,M([an,!1]))}}
var NJ=new n(null,4,[Uq,function(a){a=S(a);A.h(a,vt);A.h(a,Sv);a=A.h(a,Jm);return Gf.h(OH,a)},Is,function(a){a=S(a);a=A.h(a,Jm);return dd(OH,a)},ik,MJ,Du,function(a){var b=S(a),c=A.h(b,Jm),d=A.h(b,fx);a=A.h(b,vt);b=BJ(b);b=S(b);var e=A.h(b,zr);A.h(b,Rj);b=ct.g(c);if(q(OF(d))){if(PF(d),function(){var g=null!=e?e:{};g.x=ct.g(c);return g}().y=$s.g(c),q(Gn.g(c))||(d=$n.g(a),(null!=d?d:{}).visible=!0,d=ru.g(a),(null!=d?d:{}).visible=!1,$n.g(a).play()),Uf(0<ct.g(c)-b,0<ct.g(kt.g(c)))){var f=null!=c?c:{};
(function(){var g=f.scale;if(null!=g)return g;g={};return f.scale=g})().x=-ct.g(kt.g(c));return f}}else if(d=$n.g(a),(null!=d?d:{}).visible=!1,d=ru.g(a),(null!=d?d:{}).visible=!0,$n.g(a).stop(),a=null!=c&&"on-arrival"in c?c["on-arrival"]:void 0,q(a))return(null!=c?c:{})["on-arrival"]=null,a.v?a.v():a.call(null);return null}],null),OJ=ZI?new n(null,3,[Uq,function(a){a=S(a);a=A.h(a,pv);return Gf.h(NH,a)},Is,function(a){a=S(a);a=A.h(a,pv);return dd(NH,a)},Du,function(){var a=kg(0);return function(b){var c=
S(b),d=A.h(c,pv);c=A.h(c,fx);b=BJ(b);b=S(b);b=A.h(b,Rj);return E.h(0,cf(mg.h(a,Rd),10))?(RF(c),b.draw(d)):null}}()],null):null;function PJ(a,b,c){a=S(a);A.h(a,Jm);A.h(a,an);var d=A.h(a,Po),e=A.h(a,kp);a=A.h(a,fx);d=A.h(d,b);var f=S(d);d=A.h(f,ax);A.h(f,Am);f=A.h(f,Wm);e=Dg(e,new V(null,2,5,Y,[c,pu],null));c=(ct.g(e)+Am.g(e)/2)*d;e=($s.g(e)+Et.g(e))*d;NF(a,f);LF(a,c,e);a=sI();vJ.h?vJ.h(Is,a):vJ.call(null,Is,a);vI(O,M([Sv,b]));b=sI();return vJ.h?vJ.h(Uq,b):vJ.call(null,Uq,b)}
var QJ=function(){var a=kg(T),b=kg(T),c=kg(T),d=kg(T),e=A.j(T,Qs,vj.v?vj.v():vj.call(null));return new Hj(Bd.h(ka,"collission-pre-check"),function(f){return f},e,a,b,c,d)}();QJ.O(null,Ij,function(a,b){return A.h(b,a)});QJ.O(null,Nw,function(a,b){a=Nw.g(b);if(q(a))return a;RJ?RJ():SJ.call(null);EJ("eerst_verkleden");return!1});
var TJ=function(){var a=kg(T),b=kg(T),c=kg(T),d=kg(T),e=A.j(T,Qs,vj.v?vj.v():vj.call(null));return new Hj(Bd.h(ka,"collission-action"),function(f){var g=N(f,0,null);N(f,1,null);N(f,2,null);return g},e,a,b,c,d)}();TJ.O(null,Pl,function(a,b){N(a,0,null);var c=N(a,1,null);a=N(a,2,null);return PJ(b,c,a)});TJ.O(null,Ew,function(a){N(a,0,null);a=N(a,1,null);return yI(a)});
function SJ(a){switch(arguments.length){case 0:RJ();break;case 1:UJ(arguments[0]);break;default:throw Error(["Invalid arity: ",t.g(arguments.length)].join(""));}}function RJ(){return UJ(sI())}function UJ(a){var b=S(a);a=A.h(b,fx);b=A.h(b,Jm);return MF(a,ct.g(b),$s.g(b))}
var VJ=new n(null,3,[Uq,function(a){for(var b=S(a),c=A.h(b,vt),d=A.h(b,fx),e=A.h(b,kp),f=BJ(a),g=S(f),h=A.h(g,Lu),k=F(h),m=null,p=0,r=0;;)if(r<p){var v=m.P(null,r),x=S(v),z=x,C=A.h(x,Zw),D=A.h(x,pu),J=A.h(x,dx),K=A.h(c,C),R=S(K),W=R,Z=A.h(R,nn),ia=Z,sa=S(ia),va=A.h(sa,Am),ea=A.h(sa,Et),U=Et.g(D)/Et.g(Z);Gf.h(NH,W);var ca=W;(null!=ca?ca:{}).x=ct.g(D);ca=W;(null!=ca?ca:{}).y=$s.g(D);ca=W;var aa=null!=ca?ca:{};(function(){var Ma=aa.scale;if(null!=Ma)return Ma;Ma={};return aa.scale=Ma})().x=U;ca=W;var X=
null!=ca?ca:{};(function(){var Ma=X.scale;if(null!=Ma)return Ma;Ma={};return X.scale=Ma})().y=U;ca=W;(null!=ca?ca:{}).data=z;ca=W;(null!=ca?ca:{})["npc?"]=!0;ca=W;(null!=ca?ca:{}).interactive=!0;q(J)&&rE(W,new V(null,2,5,Y,[Tn,zw],null),function(Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc,Sg,Pc){return function(){var Jb=Dg(BJ(sI()),new V(null,2,5,Y,[kp,qf.g([rf(fc),"-dialogue-spot"].join(""))],null));if(q(Jb)){Jb=S(Jb);Jb=A.h(Jb,bn);var bb=S(Jb);Jb=A.h(bb,ct);bb=A.h(bb,$s);MF(Pc,
Jb,bb)}return AJ()?CJ():EJ(gc)}}(k,m,p,r,K,R,W,Z,ia,sa,va,ea,U,v,x,z,C,D,J,a,b,c,d,e,f,g,h));r+=1}else if(x=F(k)){v=x;if(Le(v))k=fd(v),r=gd(v),m=k,p=I(k),k=r;else{K=G(v);z=R=S(K);C=A.h(R,Zw);D=A.h(R,pu);J=A.h(R,dx);W=A.h(c,C);ia=Z=S(W);va=sa=A.h(Z,nn);ea=S(va);U=A.h(ea,Am);ca=A.h(ea,Et);var oa=Et.g(D)/Et.g(sa);Gf.h(NH,ia);var P=ia;(null!=P?P:{}).x=ct.g(D);P=ia;(null!=P?P:{}).y=$s.g(D);P=ia;var Ub=null!=P?P:{};(function(){var Ma=Ub.scale;if(null!=Ma)return Ma;Ma={};return Ub.scale=Ma})().x=oa;P=ia;
var Ha=null!=P?P:{};(function(){var Ma=Ha.scale;if(null!=Ma)return Ma;Ma={};return Ha.scale=Ma})().y=oa;P=ia;(null!=P?P:{}).data=z;P=ia;(null!=P?P:{})["npc?"]=!0;P=ia;(null!=P?P:{}).interactive=!0;q(J)&&rE(ia,new V(null,2,5,Y,[Tn,zw],null),function(Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc,Sg,Pc,Jb,bb){return function(){var Oa=Dg(BJ(sI()),new V(null,2,5,Y,[kp,qf.g([rf(fc),"-dialogue-spot"].join(""))],null));if(q(Oa)){Oa=S(Oa);Oa=A.h(Oa,bn);var Rb=S(Oa);Oa=A.h(Rb,ct);Rb=A.h(Rb,
$s);MF(bb,Oa,Rb)}return AJ()?CJ():EJ(gc)}}(k,m,p,r,W,Z,ia,sa,va,ea,U,ca,oa,K,R,z,C,D,J,v,x,a,b,c,d,e,f,g,h));k=H(v);m=null;p=0}r=0}else return null},Du,function(){for(var a=F(NH),b=null,c=0,d=0;;)if(d<c){var e=b.P(null,d);if(q(function(){var h=e;if(null!=h&&"path-handler"in h)return h["path-handler"]}())){var f=function(){var h=e;if(null!=h&&"path-handler"in h)return h["path-handler"]}();if(q(OF(f)))PF(f);else if(f=function(){var h=e;if(null!=h&&"on-arrival"in h)return h["on-arrival"]}(),q(f)){var g=
e;(null!=g?g:{})["on-arrival"]=null;f.g?f.g(e):f.call(null,e)}}d+=1}else if(a=F(a))Le(a)?(c=fd(a),a=gd(a),b=c,c=I(c)):(e=G(a),q(function(){var h=e;if(null!=h&&"path-handler"in h)return h["path-handler"]}())&&(b=function(){var h=e;if(null!=h&&"path-handler"in h)return h["path-handler"]}(),q(OF(b))?PF(b):(b=function(){var h=e;if(null!=h&&"on-arrival"in h)return h["on-arrival"]}(),q(b)&&(c=e,(null!=c?c:{})["on-arrival"]=null,b.g?b.g(e):b.call(null,e)))),a=H(a),b=null,c=0),d=0;else return null},Is,function(a){var b=
S(a);b=A.h(b,vt);a=BJ(a);a=S(a);a=A.h(a,Lu);a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);f=A.h(b,Zw.g(f));dd(NH,f);e+=1}else if(a=F(a))Le(a)?(d=fd(a),a=gd(a),c=d,d=I(d)):(f=G(a),c=A.h(b,Zw.g(f)),dd(NH,c),a=H(a),c=null,d=0),e=0;else return null}],null),XJ=new n(null,3,[Io,function(a){a=S(a);var b=A.h(a,kp);a=A.h(a,vt);b=F(wg(eg.h(new vi(null,new n(null,1,[Rt,null],null),null),Nm),Hh(b)));for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e),g=A.h(a,Zw.g(f));(null!=g?g:{}).item=f;e+=1}else if(b=
F(b))Le(b)?(c=fd(b),b=gd(b),f=c,d=I(c),c=f):(f=G(b),c=A.h(a,Zw.g(f)),(null!=c?c:{}).item=f,b=H(b),c=null,d=0),e=0;else return null},Uq,function(a){for(var b=S(a),c=A.h(b,Jm),d=A.h(b,vt),e=A.h(b,fx),f=A.h(b,kp),g=A.h(b,So),h=A.h(b,ar),k=BJ(a),m=S(k),p=A.h(m,kr),r=F(p),v=null,x=0,z=0;;)if(z<x){var C=v.P(null,z),D=S(C),J=D,K=A.h(D,Rt),R=A.h(D,pu);if(pb(bg(xi([K]),Ff.h(g,h)))){var W=A.h(d,K),Z=S(W),ia=Z,sa=A.h(Z,nn),va=sa,ea=S(va),U=A.h(ea,Am),ca=A.h(ea,Et),aa=function(){var Ja=wn.g(R)/ca,ha=Am.g(R)/
U;return Ja<ha?Ja:ha}();Gf.h(NH,ia);var X=ia;(null!=X?X:{}).x=ct.g(R);X=ia;(null!=X?X:{}).y=$s.g(R);X=ia;var oa=null!=X?X:{};(function(){var Ja=oa.scale;if(null!=Ja)return Ja;Ja={};return oa.scale=Ja})().x=aa;X=ia;var P=null!=X?X:{};(function(){var Ja=P.scale;if(null!=Ja)return Ja;Ja={};return P.scale=Ja})().y=aa;X=ia;(null!=X?X:{}).item=J;X=ia;(null!=X?X:{}).interactive=!0;sE(ia,new V(null,2,5,Y,[Tn,zw],null),lp,function(Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc,Sg,Pc,Jb,bb,Oa,Rb,sc,Dc,
Gb,Ee,Pg,Fe){return function(Jc){var Id=sI();Jc=null!=Jc&&"data"in Jc?Jc.data:void 0;MJ(Id,Jc.getLocalPosition(MH));Id=null!=bb?bb:{};Id["on-arrival"]=function(od,Eh,ur,vr,wr,yi,Ud,uf,Fh,Ge,Vf,Qg,nK,oK,pK,qK,rK,sK,Nr){return function(){tE(Fh,new V(null,2,5,Y,[Tn,zw],null),lp);return WJ.g?WJ.g(Nr):WJ.call(null,Nr)}}(Ja,ha,Na,vb,Id,bb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc,Sg,Pc,Jb,bb,Oa,Rb,sc,Dc,Gb,Ee,Pg,Fe);return Id}}(r,v,x,z,W,Z,ia,sa,va,ea,U,ca,aa,C,D,J,K,R,a,b,c,d,e,f,g,h,k,m,p))}z+=1}else if(D=
F(r)){C=D;if(Le(C))r=fd(C),z=gd(C),v=r,x=I(r),r=z;else{W=G(C);J=Z=S(W);K=A.h(Z,Rt);R=A.h(Z,pu);if(pb(bg(xi([K]),Ff.h(g,h)))){ia=A.h(d,K);va=sa=S(ia);aa=ea=A.h(sa,nn);X=S(aa);var Ub=A.h(X,Am),Ha=A.h(X,Et),Ma=function(){var Ja=wn.g(R)/Ha,ha=Am.g(R)/Ub;return Ja<ha?Ja:ha}();Gf.h(NH,va);var Va=va;(null!=Va?Va:{}).x=ct.g(R);Va=va;(null!=Va?Va:{}).y=$s.g(R);Va=va;var Cb=null!=Va?Va:{};(function(){var Ja=Cb.scale;if(null!=Ja)return Ja;Ja={};return Cb.scale=Ja})().x=Ma;Va=va;var Hb=null!=Va?Va:{};(function(){var Ja=
Hb.scale;if(null!=Ja)return Ja;Ja={};return Hb.scale=Ja})().y=Ma;Va=va;(null!=Va?Va:{}).item=J;Va=va;(null!=Va?Va:{}).interactive=!0;sE(va,new V(null,2,5,Y,[Tn,zw],null),lp,function(Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc,Sg,Pc,Jb,bb,Oa,Rb,sc,Dc,Gb,Ee,Pg,Fe,Jc,Id){return function(od){var Eh=sI();od=null!=od&&"data"in od?od.data:void 0;MJ(Eh,od.getLocalPosition(MH));Eh=null!=Rb?Rb:{};Eh["on-arrival"]=function(ur,vr,wr,yi,Ud,uf,Fh,Ge,Vf,Qg,nK,oK,pK,qK,rK,sK,Nr,CK,My){return function(){tE(Vf,
new V(null,2,5,Y,[Tn,zw],null),lp);return WJ.g?WJ.g(My):WJ.call(null,My)}}(Ja,ha,Na,vb,Eh,Rb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc,Sg,Pc,Jb,bb,Oa,Rb,sc,Dc,Gb,Ee,Pg,Fe,Jc,Id);return Eh}}(r,v,x,z,ia,sa,va,ea,aa,X,Ub,Ha,Ma,W,Z,J,K,R,C,D,a,b,c,d,e,f,g,h,k,m,p))}r=H(C);v=null;x=0}z=0}else return null},Is,function(a){var b=S(a);b=A.h(b,vt);a=BJ(a);a=S(a);a=A.h(a,kr);a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.P(null,e);f=A.h(b,Rt.g(f));dd(NH,f);e+=1}else if(a=F(a))Le(a)?(d=fd(a),a=gd(a),c=d,d=I(d)):
(f=G(a),c=A.h(b,Rt.g(f)),dd(NH,c),a=H(a),c=null,d=0),e=0;else return null}],null),YJ=function(){function a(b){var c=S(b);b=A.h(c,Jm);c=A.h(c,fm);var d=Am.g(MH.getLocalBounds()),e=CI();return d<e?DI((d-e+c)/2):DI(MI(0,ct.g(b)-e/2,d-e))}return new n(null,2,[Uq,a,Du,a],null)}(),ZJ=new n(null,2,[ik,function(){return AJ()?new Sd(CJ()):null},zk,function(){return CJ()}],null),bK=new n(null,2,[Io,function(a){var b=S(a);a=A.h(b,Il);A.h(b,So);A.h(b,vt);A.h(b,Jm);A.h(b,fx);DE(a,new n(null,1,[Jr,16107586],null));
a.drawRect(0,80,110,845);a.endFill();for(b=0;;)if(8>b)DE(a,new n(null,1,[Jr,4294967295],null)),a.drawRect(5,85+105*b,100,100),a.endFill(),b+=1;else return null},Du,function(a){for(var b=S(a),c=A.h(b,Il),d=A.h(b,So),e=A.h(b,vt),f=A.h(b,Jm),g=A.h(b,fx),h=F(PH),k=null,m=0,p=0;;)if(p<m){var r=k.P(null,p);q(function(){var Ha=Rt.g(r);return q(Ha)?pb(bg(xi([Zw.g(r)]),d)):Ha}())&&dd(PH,r);p+=1}else if(h=F(h)){k=h;if(Le(k))h=fd(k),p=gd(k),k=h,m=I(h),h=p;else{var v=G(k);q(function(){var Ha=Rt.g(v);return q(Ha)?
pb(bg(xi([Zw.g(v)]),d)):Ha}())&&dd(PH,v);h=H(k);k=null;m=0}p=0}else break;h=F(ng.j(jh,d,Ii(0,Number.MAX_VALUE)));k=null;for(p=m=0;;)if(p<m){var x=k.P(null,p),z=N(x,0,null),C=N(x,1,null),D=A.h(e,z),J=S(D),K=J,R=A.h(J,nn),W=R,Z=S(W),ia=A.h(Z,Am),sa=A.h(Z,Et),va=ia<sa?sa:ia,ea=70/va;if(q(bg(xi([K]),PH)))q(Gv.g(K))||(z=K,(null!=z?z:{}).x=15,z=K,(null!=z?z:{}).y=95+105*(8-C-1),C=K,(null!=C?C:{}).alpha=1,C=K,(null!=C?C:{}).zIndex=0);else{Gf.h(PH,K);var U=K;(null!=U?U:{}).x=15;U=K;(null!=U?U:{}).y=95+105*
(8-C-1);U=K;(null!=U?U:{}).alpha=1;U=K;var ca=null!=U?U:{};(function(){var Ha=ca.scale;if(null!=Ha)return Ha;Ha={};return ca.scale=Ha})().x=ea;U=K;var aa=null!=U?U:{};(function(){var Ha=aa.scale;if(null!=Ha)return Ha;Ha={};return aa.scale=Ha})().y=ea;U=K;(null!=U?U:{}).interactive=!0;U=K;(null!=U?U:{}).buttonMode=!0;U=K;(null!=U?U:{}).zIndex=0;rE(K,new V(null,2,5,Y,[bq,zw],null),function(Ha,Ma,Va,Cb,Hb,Ja,ha){return function(Na){Na=null!=Na&&"data"in Na?Na.data:void 0;(null!=ha?ha:{}).data=Na;(null!=
ha?ha:{}).alpha=.5;(null!=ha?ha:{}).dragging=!0;Na=null!=ha?ha:{};Na.zIndex=1;return Na}}(h,k,m,p,D,J,K,R,W,Z,ia,sa,va,ea,x,z,C,a,b,b,c,d,e,f,g));rE(K,new V(null,2,5,Y,[Vm,Ko],null),function(Ha,Ma,Va,Cb,Hb,Ja,ha){return function(){var Na=null!=ha&&"dragging"in ha?ha.dragging:void 0;if(q(Na)){Na=null!=ha?ha:{};var vb=null!=ha&&"data"in ha?ha.data:void 0;var Ib=Un.g(ha);vb=vb.getLocalPosition(Ib);Na.position=vb;return Na}return null}}(h,k,m,p,D,J,K,R,W,Z,ia,sa,va,ea,x,z,C,a,b,b,c,d,e,f,g));rE(K,new V(null,
4,5,Y,[Gq,Pn,rq,Lr],null),function(Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc,Sg,Pc,Jb){return function(){if(q(nk.g(ha))){(null!=ha?ha:{}).dragging=!1;(null!=ha?ha:{}).data=null;(null!=ha?ha:{}).alpha=1;var bb=bg(function(Oa,Rb,sc,Dc,Gb,Ee,Pg){return function(Fe){var Jc=Rt.g(Fe);q(Jc)||(Jc=Xo.g(Fe),Jc=q(Jc)?Jc:E.h(Jm,Zw.g(Fe)));Jc=q(Jc)?Uf(Pg,Fe)&&yE(Pg,Fe):Jc;return q(Jc)?Fe:null}}(Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc,Sg,Pc,Jb),Ff.o(NH,PH,M([new V(null,
1,5,Y,[Pc],null)])));if(q(bb))return Hz(ka,gp,new n(null,2,[bp,new n(null,2,[ho,Zw.g(ha),Nk,Zw.g(bb)],null),bk,446],null)),q($J.j?$J.j(ha,bb,gc):$J.call(null,ha,bb,gc))?null:aK.h?aK.h(ha,bb):aK.call(null,ha,bb)}return null}}(h,k,m,p,D,J,K,R,W,Z,ia,sa,va,ea,x,z,C,a,b,b,c,d,e,f,g))}p+=1}else if(D=F(h)){K=D;if(Le(K))h=fd(K),p=gd(K),k=h,m=I(h),h=p;else{J=G(K);z=N(J,0,null);C=N(J,1,null);R=A.h(e,z);x=W=S(R);ia=Z=A.h(W,nn);sa=S(ia);va=A.h(sa,Am);ea=A.h(sa,Et);U=va<ea?ea:va;var X=70/U;if(q(bg(xi([x]),PH)))q(Gv.g(x))||
(h=x,(null!=h?h:{}).x=15,h=x,(null!=h?h:{}).y=95+105*(8-C-1),h=x,(null!=h?h:{}).alpha=1,h=x,(null!=h?h:{}).zIndex=0);else{Gf.h(PH,x);var oa=x;(null!=oa?oa:{}).x=15;oa=x;(null!=oa?oa:{}).y=95+105*(8-C-1);oa=x;(null!=oa?oa:{}).alpha=1;oa=x;var P=null!=oa?oa:{};(function(){var Ha=P.scale;if(null!=Ha)return Ha;Ha={};return P.scale=Ha})().x=X;oa=x;var Ub=null!=oa?oa:{};(function(){var Ha=Ub.scale;if(null!=Ha)return Ha;Ha={};return Ub.scale=Ha})().y=X;oa=x;(null!=oa?oa:{}).interactive=!0;oa=x;(null!=oa?
oa:{}).buttonMode=!0;oa=x;(null!=oa?oa:{}).zIndex=0;rE(x,new V(null,2,5,Y,[bq,zw],null),function(Ha,Ma,Va,Cb,Hb,Ja,ha){return function(Na){Na=null!=Na&&"data"in Na?Na.data:void 0;(null!=ha?ha:{}).data=Na;(null!=ha?ha:{}).alpha=.5;(null!=ha?ha:{}).dragging=!0;Na=null!=ha?ha:{};Na.zIndex=1;return Na}}(h,k,m,p,R,W,x,Z,ia,sa,va,ea,U,X,J,z,C,K,D,a,b,b,c,d,e,f,g));rE(x,new V(null,2,5,Y,[Vm,Ko],null),function(Ha,Ma,Va,Cb,Hb,Ja,ha){return function(){var Na=null!=ha&&"dragging"in ha?ha.dragging:void 0;if(q(Na)){Na=
null!=ha?ha:{};var vb=null!=ha&&"data"in ha?ha.data:void 0;var Ib=Un.g(ha);vb=vb.getLocalPosition(Ib);Na.position=vb;return Na}return null}}(h,k,m,p,R,W,x,Z,ia,sa,va,ea,U,X,J,z,C,K,D,a,b,b,c,d,e,f,g));rE(x,new V(null,4,5,Y,[Gq,Pn,rq,Lr],null),function(Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc,Sg,Pc,Jb,bb,Oa){return function(){if(q(nk.g(ha))){(null!=ha?ha:{}).dragging=!1;(null!=ha?ha:{}).data=null;(null!=ha?ha:{}).alpha=1;var Rb=bg(function(sc,Dc,Gb,Ee,Pg,Fe,Jc){return function(Id){var od=
Rt.g(Id);q(od)||(od=Xo.g(Id),od=q(od)?od:E.h(Jm,Zw.g(Id)));od=q(od)?Uf(Jc,Id)&&yE(Jc,Id):od;return q(od)?Id:null}}(Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc,Cc,gc,qc,rc,Sg,Pc,Jb,bb,Oa),Ff.o(NH,PH,M([new V(null,1,5,Y,[bb],null)])));if(q(Rb))return Hz(ka,gp,new n(null,2,[bp,new n(null,2,[ho,Zw.g(ha),Nk,Zw.g(Rb)],null),bk,446],null)),q($J.j?$J.j(ha,Rb,rc):$J.call(null,ha,Rb,rc))?null:aK.h?aK.h(ha,Rb):aK.call(null,ha,Rb)}return null}}(h,k,m,p,R,W,x,Z,ia,sa,va,ea,U,X,J,z,C,K,D,a,b,b,c,d,e,
f,g))}h=H(K);k=null;m=0}p=0}else return null}],null),cK=new V(null,10,5,Y,[LJ,ZJ,new n(null,1,[Uq,function(a){var b=S(a),c=A.h(b,Sv),d=A.h(b,Jm);b=A.h(b,vt);a=BJ(a);a=S(a);a=A.h(a,rn);q(a)||Hz(ka,hm,new n(null,2,[qr,["Geen player-size gedefinieerd voor kamer ",t.g(c)].join(""),bk,339],null));c=a/Et.g(nn.g($n.g(b)));var e=null!=d?d:{};(function(){var g=e.scale;if(null!=g)return g;g={};return e.scale=g})().x=c;var f=null!=d?d:{};(function(){var g=f.scale;if(null!=g)return g;g={};return f.scale=g})().y=
c;return f}],null),NJ,new n(null,1,[Du,function(a){var b=S(a),c=A.h(b,Jm),d=A.h(b,an);A.h(b,Po);A.h(b,kp);A.h(b,fx);b=BJ(a);var e=S(b);b=A.h(e,zr);e=A.h(e,Rj);ct.g(c);c=Mi(OI(b,e));return q(c)?(c=N(c,0,null),d=pb(d)?null!=c&&"action"in c?c.action:void 0:!1,q(d)&&(vI(O,M([an,!0])),d=null!=c&&"pre-check"in c?c["pre-check"]:void 0,d=pb(d),d||(d=null!=c&&"pre-check"in c?c["pre-check"]:void 0,d=QJ.h(d,a)),q(d))?(RJ(),d=null!=c&&"action"in c?c.action:void 0,TJ.h(d,a)):null):q(d)?vI(O,M([an,!1])):null}],
null),YJ,VJ,XJ,bK,OJ],null),dK=new V(null,7,5,Y,[LJ,ZJ,YJ,new n(null,1,[Uq,function(a){a=S(a);var b=A.h(a,Wq);A.h(a,Es);a=VF(zE(nn.g(A.h(b,ws))));b=VF(zE(nn.g(A.h(b,ws))));var c=BJ(sI());c=S(c);var d=A.h(c,Wm);c=TF(new n(null,3,[Cq,a,Wm,d,gu,8],null));d=TF(new n(null,3,[Cq,b,Wm,d,gu,8],null));(null!=a?a:{}).id=Gp;var e=null!=a?a:{};(function(){var v=e.anchor;if(null!=v)return v;v={};return e.anchor=v})().x=.5;var f=null!=a?a:{};(function(){var v=f.anchor;if(null!=v)return v;v={};return f.anchor=v})().y=
1;var g=null!=a?a:{};(function(){var v=g.scale;if(null!=v)return v;v={};return g.scale=v})().x=-.3;var h=null!=a?a:{};(function(){var v=h.scale;if(null!=v)return v;v={};return h.scale=v})().y=.3;(null!=a?a:{})["npc?"]=!0;(null!=a?a:{})["path-handler"]=c;(null!=b?b:{}).id=Ep;var k=null!=b?b:{};(function(){var v=k.anchor;if(null!=v)return v;v={};return k.anchor=v})().x=.5;var m=null!=b?b:{};(function(){var v=m.anchor;if(null!=v)return v;v={};return m.anchor=v})().y=1;var p=null!=b?b:{};(function(){var v=
p.scale;if(null!=v)return v;v={};return p.scale=v})().x=.3;var r=null!=b?b:{};(function(){var v=r.scale;if(null!=v)return v;v={};return r.scale=v})().y=.3;(null!=b?b:{})["npc?"]=!0;(null!=b?b:{})["path-handler"]=d;c.Ac(null,500,900);d.Ac(null,1200,850);Gf.o(NH,a,M([b]));return EJ("intro")}],null),VJ,XJ,bK],null);function vJ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=2<b.length?new Fd(b.slice(2),0,null):null;return eK(arguments[0],arguments[1],b)}
function eK(a,b,c){var d=S(b);d=A.h(d,Oj);return yb(function(e,f){return Pf(f,b,c)},null,ig(a,d))}
function fK(a,b){var c=new FE;Gf.h(c,a);return yb(function(d,e){e=S(e);var f=A.h(e,pu),g=A.h(e,$r),h=A.h(e,lv),k=A.h(e,rp);return Gf.h(d,function(){var m=q(f)?KE(f):q(g)?function(){var p=Of(af,ng.h(ct,g)),r=Of(af,ng.h($s,g));return LE(p,r,function(){var v=ng.h(function(x){return Gg.F(Gg.F(x,ct,Ze,p),$s,Ze,r)},g);return pb(OE(g))?lf(v):v}())}():null;(function(){var p=null!=m?m:{};p.action=h;return p})()["pre-check"]=k;return m}())},c,b)}
function gK(a,b){return yb(function(c,d){Gf.h(c,KF(ng.h(Li(ct,$s),d)));return c},vF.buildRectangle(a,1E3),b)}var hK=function hK(a,b){if(b instanceof module$node_modules$pixi_DOT_js$lib$pixi.Rectangle){var d=ct.g(b)*a;var e=$s.g(b)*a,f=Am.g(b)*a;a*=Et.g(b);d=new module$node_modules$pixi_DOT_js$lib$pixi.Rectangle(d,e,f,a)}else d=b instanceof module$node_modules$pixi_DOT_js$lib$pixi.Point?xE(ct.g(b)*a,$s.g(b)*a):He(b)?ng.h(fg(hK,a),b):null;return d};
function KJ(a){var b=ax.g(BJ(sI()));var c=null!=a&&"rect"in a?a.rect:void 0;b=hK(b,c);c=null!=a&&"texture"in a?a.texture:void 0;c=Et.g(b)/Et.g(c);(null!=a?a:{}).x=ct.g(b);(null!=a?a:{}).y=$s.g(b);var d=null!=a?a:{};(function(){var f=d.scale;if(null!=f)return f;f={};return d.scale=f})().x=c;var e=null!=a?a:{};(function(){var f=e.scale;if(null!=f)return f;f={};return e.scale=f})().y=c;return e}
function iK(a,b){var c=wg(eg.h(new vi(null,new n(null,1,[Sv,null],null),null),Nm),Hh(a));return Mi(function(){return function f(e){return new sf(null,function(){for(;;){var g=F(e);if(g){var h=g;if(Le(h)){var k=fd(h),m=I(k),p=xf(m);return function(){for(var D=0;;)if(D<m){var J=Pb(k,D),K=S(J),R=A.h(K,Zw),W=A.h(K,pu),Z=A.h(K,vu);Af(p,function(){var ia=1E3/Et.g(W),sa=Am.g(W)*ia,va=ng.h(function(P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb){return function(Qb){return q(bn.g(Qb))?Gg.j(Qb,bn,function(dc,$b){return function(Nb){return hK($b,
Nb)}}(P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb)):Qb}}(D,ia,sa,J,K,R,W,Z,k,m,p,h,g,c),wg(eg.h(xi([R]),vu),Hh(a))),ea=hK(ia,ng.h($r,wg(eg.h(new vi(null,new n(null,1,[iq,null],null),null),Nm),va))),U=ng.h(function(P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc){return function($b){return Gg.j($b,pu,function(Nb,ec){return function(fc){return hK(ec,fc)}}(P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc))}}(D,ia,sa,va,ea,J,K,R,W,Z,k,m,p,h,g,c),wg(eg.h(new vi(null,new n(null,1,[fq,null],null),null),Nm),va)),
ca=ng.h(function(P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b){return function(Nb){var ec=q($r.g(Nb))?Gg.j(Nb,$r,function(fc,Cc,gc){return function(qc){return hK(gc,qc)}}(P,Nb,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b)):Nb;return q(pu.g(Nb))?Gg.j(ec,pu,function(fc,Cc,gc,qc){return function(rc){return hK(qc,rc)}}(P,Nb,ec,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b)):ec}}(D,ia,sa,va,ea,U,J,K,R,W,Z,k,m,p,h,g,c),wg(eg.h(new vi(null,new n(null,1,[Vt,null],null),null),Nm),va)),aa=bg(function(){return function(P){return E.h(rn,
Nm.g(P))?pu.g(P):null}}(D,ia,sa,va,ea,U,ca,J,K,R,W,Z,k,m,p,h,g,c),va),X=new GE(0,0,20),oa=ng.h(function(P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc){return function(Cc){return Gg.j(Cc,pu,function(gc,qc){return function(rc){return hK(qc,rc)}}(P,Ub,Ha,Ma,Va,Cb,Hb,Ja,ha,Na,vb,Ib,Yb,Zb,Qb,dc,$b,Nb,ec,fc))}}(D,ia,sa,va,ea,U,ca,aa,X,J,K,R,W,Z,k,m,p,h,g,c),wg(eg.h(new vi(null,new n(null,1,[wm,null],null),null),Nm),va));return oi([qu,Rj,zr,Lu,Am,rn,kp,ho,Wm,ax,Zw,kr],[ea,fK(X,ca),X,U,sa,q(aa)?
Et.g(aa)*ia:null,Ag.j(T,ng.g(Li(Zw,We)),va),A.h(b,R),gK(sa,ea),ia,R,oa])}());D+=1}else return!0}()?zf(Bf(p),f(gd(h))):zf(Bf(p),null)}var r=G(h),v=S(r),x=A.h(v,Zw),z=A.h(v,pu),C=A.h(v,vu);return je(function(){var D=1E3/Et.g(z),J=Am.g(z)*D,K=ng.h(function(ea){return function(U){return q(bn.g(U))?Gg.j(U,bn,function(ca){return hK(ea,ca)}):U}}(D,J,r,v,x,z,C,h,g,c),wg(eg.h(xi([x]),vu),Hh(a))),R=hK(D,ng.h($r,wg(eg.h(new vi(null,new n(null,1,[iq,null],null),null),Nm),K))),W=ng.h(function(ea){return function(U){return Gg.j(U,
pu,function(ca){return hK(ea,ca)})}}(D,J,K,R,r,v,x,z,C,h,g,c),wg(eg.h(new vi(null,new n(null,1,[fq,null],null),null),Nm),K)),Z=ng.h(function(ea){return function(U){var ca=q($r.g(U))?Gg.j(U,$r,function(aa){return hK(ea,aa)}):U;return q(pu.g(U))?Gg.j(ca,pu,function(aa){return hK(ea,aa)}):ca}}(D,J,K,R,W,r,v,x,z,C,h,g,c),wg(eg.h(new vi(null,new n(null,1,[Vt,null],null),null),Nm),K)),ia=bg(function(){return function(ea){return E.h(rn,Nm.g(ea))?pu.g(ea):null}}(D,J,K,R,W,Z,r,v,x,z,C,h,g,c),K),sa=new GE(0,
0,20),va=ng.h(function(ea){return function(U){return Gg.j(U,pu,function(ca){return hK(ea,ca)})}}(D,J,K,R,W,Z,ia,sa,r,v,x,z,C,h,g,c),wg(eg.h(new vi(null,new n(null,1,[wm,null],null),null),Nm),K));return oi([qu,Rj,zr,Lu,Am,rn,kp,ho,Wm,ax,Zw,kr],[R,fK(sa,Z),sa,W,J,q(ia)?Et.g(ia)*D:null,Ag.j(T,ng.g(Li(Zw,We)),K),A.h(b,x),gK(J,R),D,x,va])}(),f(Hd(h)))}return null}},null,null)}(c)}())}
UH.O(null,Ip,function(a){return Ay(Ey(wH("images/invasie_van_de_robots.svg"),function(b){return Ay(Ey(GH(b),function(c){return Ay(Ey(wE(HH,$I),function(d){var e=Dk.g(c),f=Ag.h(T,ng.h(function(z){z=S(z);var C=A.h(z,Zw),D=A.h(z,nn),J=A.h(z,pu),K=Y;D=zE(D);D=null!=D?D:{};D.id=C;D.rect=J;D.element=z;return new V(null,2,5,K,[C,D],null)},wg(nn,Hh(c)))),g=qf.g(function(){var z=PI().get("room");return q(z)?z:rf(vu.g(e))}()),h=Ag.j(T,ng.g(Li(Zw,We)),iK(c,f)),k=function(){var z=new module$node_modules$pixi_DOT_js$lib$pixi.AnimatedSprite(xb(ng.h(eg.h(nn,
d),new V(null,4,5,Y,[Fo,Eo,Co,Bo],null)))),C=null!=z?z:{};(function(){var J=C.anchor;if(null!=J)return J;J={};return C.anchor=J})().x=.5;var D=null!=z?z:{};(function(){var J=D.anchor;if(null!=J)return J;J={};return D.anchor=J})().y=1;(null!=z?z:{}).animationSpeed=.2;(null!=z?z:{}).visible=!1;return z}(),m=function(){var z=zE(Dg(d,new V(null,2,5,Y,[$o,nn],null))),C=null!=z?z:{};(function(){var J=C.anchor;if(null!=J)return J;J={};return C.anchor=J})().x=.5;var D=null!=z?z:{};(function(){var J=D.anchor;
if(null!=J)return J;J={};return D.anchor=J})().y=1;(null!=z?z:{}).visible=!0;return z}(),p=function(){var z=VF(BE(T,M([k,m])));(null!=z?z:{}).id=Jm;(null!=z?z:{})["player?"]=!0;var C=bn.g(e),D=Dg(h,new V(null,2,5,Y,[g,ax],null));C=C.clone();NE(C,D);(null!=z?z:{}).position=C;return z}(),r=new module$node_modules$pixi_DOT_js$lib$pixi.Graphics,v=TF(new n(null,4,[Cq,p,Wm,Dg(h,new V(null,2,5,Y,[g,Wm],null)),Ys,JF(new UF(r,null,null,null)),gu,22],null)),x=new module$node_modules$pixi_DOT_js$lib$pixi.Graphics;
f=O.o(a,Jm,p,M([Sv,g,Po,h,vt,O.o(f,ru,m,M([$n,k])),kp,c,fx,v,pv,r,Il,x,fm,120,So,qe,Wq,d,Bv,!1,Es,XI,Oj,YI?dK:cK]));vJ(Io,f);return f}))}))}))});function aK(a,b){Hz(ka,sv,new n(null,2,[un,new n(null,2,[Sl,Zw.g(a),xn,Zw.g(b)],null),bk,681],null));return EJ("combinatie_ken_ik_niet")}var $J=function(){var a=kg(T),b=kg(T),c=kg(T),d=kg(T),e=A.j(T,Qs,vj.v?vj.v():vj.call(null));return new Hj(Bd.h(ka,"combine-items"),function(f){return Zw.g(f)},e,a,b,c,d)}();$J.O(null,Ij,function(){return!1});
function WJ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new Fd(b.slice(0),0,null):null;return jK(b)}function jK(a){vI(Gg,M([So,function(b){return Ai(Pf(pe,fh(b),a))}]));return!0}function kK(a){vI(Gg,M([So,function(b){return fh(xg(zi(a),b))}]));vI(Gg,M([ar,Ag,a]))}
$J.O(null,Aq,function(a,b){a=Zw.g(b);switch(a instanceof B?a.ma:null){case "postnl":return kK(M([yt])),jK(M([el]));case "robot-hoofd-karton":return kK(M([hn])),jK(M([xs]));case "robot-lichaam-karton":return kK(M([Uu])),jK(M([Vj]));default:return!1}});$J.O(null,vv,function(a,b){a=Zw.g(b);switch(a instanceof B?a.ma:null){case "postnl":return kK(M([yt,vv])),jK(M([hn,Uu]));case "postnl-zilver":return kK(M([el,vv])),jK(M([xs,Vj]));case "player":return zJ("Auwwwww"),!0;default:return!1}});
$J.O(null,hn,function(a,b,c){a=S(c);A.h(a,Jm);A.h(a,vt);b=Zw.g(b);switch(b instanceof B?b.ma:null){case "player":return wJ("Als ik het nu nog een metaalkleur kan geven, dan ziet het er echt uit als een robot!");default:return!1}});$J.O(null,Uu,function(a,b,c){a=S(c);A.h(a,Jm);A.h(a,vt);b=Zw.g(b);switch(b instanceof B?b.ma:null){case "player":return wJ("Als ik het nu nog een metaalkleur kan geven, dan ziet het er echt uit als een robot!");default:return!1}});
$J.O(null,xs,function(a,b,c){var d=S(c);c=A.h(d,Jm);d=A.h(d,vt);b=Zw.g(b);switch(b instanceof B?b.ma:null){case "player":kK(M([xs]));(null!=a?a:{}).x=-100;(null!=a?a:{}).y=-1110;var e=null!=a?a:{};(function(){var k=e.anchor;if(null!=k)return k;k={};return e.anchor=k})().x=.5;var f=null!=a?a:{};(function(){var k=f.anchor;if(null!=k)return k;k={};return f.anchor=k})().y=.5;var g=null!=a?a:{};(function(){var k=g.scale;if(null!=k)return k;k={};return g.scale=k})().x=-5.5;var h=null!=a?a:{};(function(){var k=
h.scale;if(null!=k)return k;k={};return h.scale=k})().y=5.5;(null!=a?a:{}).interactive=!1;Gf.h(c,a);q(bg(xi([Vj.g(d)]),c))&&vI(O,M([Nw,!0]));return!0;default:return!1}});
$J.O(null,Vj,function(a,b,c){var d=S(c);c=A.h(d,Jm);d=A.h(d,vt);b=Zw.g(b);switch(b instanceof B?b.ma:null){case "player":kK(M([Vj]));(null!=a?a:{}).x=-100;(null!=a?a:{}).y=-500;var e=null!=a?a:{};(function(){var k=e.anchor;if(null!=k)return k;k={};return e.anchor=k})().x=.5;var f=null!=a?a:{};(function(){var k=f.anchor;if(null!=k)return k;k={};return f.anchor=k})().y=.5;var g=null!=a?a:{};(function(){var k=g.scale;if(null!=k)return k;k={};return g.scale=k})().x=-4.5;var h=null!=a?a:{};(function(){var k=
h.scale;if(null!=k)return k;k={};return h.scale=k})().y=4.5;(null!=a?a:{}).interactive=!1;Gf.h(c,a);q(bg(xi([xs.g(d)]),c))&&vI(O,M([Nw,!0]));return!0;default:return!1}});
$J.O(null,Kk,function(a,b,c){var d=S(c);c=A.h(d,Jm);A.h(d,rn);d=A.h(d,So);Hz(ka,gp,new n(null,2,[Bm,new n(null,2,[Sl,Zw.g(a),xn,Zw.g(b)],null),bk,779],null));if(E.h(Jm,Zw.g(b)))return zJ("Hihihi dat kittelt");if(q(bg(xi([Zw.g(b)]),d)))return null;a=BJ(sI());a=S(a);a=A.h(a,rn);var e=S(b);d=A.h(e,ct);var f=A.h(e,$s),g=A.h(e,Am);e=A.h(e,Et);d=new n(null,2,[ct,d+g/2,$s,f+e/2],null);a=new n(null,2,[ct,ct.g(c),$s,$s.g(c)-a],null);c=ct.g(d)-ct.g(a);a=$s.g(d)-$s.g(a);return 350<Math.sqrt(c*c+a*a)?EJ("item_is_te_ver"):
vI(Gg,M([So,pe,Zw.g(b)]))});$J.O(null,Jt,function(a,b,c){S(c);return E.h(Hm,Zw.g(b))?(kK(M([Jt])),EJ("robot_krijgt_katteneten")):!1});$H.O(null,Ip,function(a){a=S(a);A.h(a,Jm);A.h(a,pv);var b=A.h(a,Il);Gf.h(PH,b);var c=PH;(null!=c?c:{}).sortableChildren=!0;(null!=b?b:{}).zIndex=-100;return vJ(Uq,a)});fI.O(null,Ip,function(a){a=S(a);var b=A.h(a,$k);return eK(Du,a,M([b]))});rI.O(null,Ip,function(a,b){a=S(a);A.h(a,Jm);A.h(a,fx);A.h(a,Po);A.h(a,Sv);N(b,0,null);N(b,1,null);return null});
var DJ,lK=kg(T),mK=kg(T),tK=kg(T),uK=kg(T),vK=A.j(T,Qs,vj.v?vj.v():vj.call(null));DJ=new Hj(Bd.h(ka,"on-cue"),We,vK,lK,mK,tK,uK);DJ.O(null,Ij,function(a){return zJ(a)});
DJ.O(null,"robots verlaten kamer",function(){var a=BJ(sI());a=S(a);A.h(a,Wm);a=A.h(a,ax);var b=sI();b=S(b);b=A.h(b,kp);a=hK(a,Dg(b,new V(null,2,5,Y,[Ok,pu],null)));a=S(a);var c=A.h(a,ct),d=A.h(a,$s);a=wg(eg.h(new vi(null,new n(null,1,[Gp,null],null),null),function(h){if(null!=h&&"id"in h)return h.id}),NH);var e=N(a,0,null);a=wg(eg.h(new vi(null,new n(null,1,[Ep,null],null),null),function(h){if(null!=h&&"id"in h)return h.id}),NH);var f=N(a,0,null),g=null!=f?f:{};(function(){var h=g.scale;if(null!=
h)return h;h={};return g.scale=h})().x=-function(){var h=null!=f&&"scale"in f?f.scale:void 0;if(null!=h&&"x"in h)return h.x}();return setTimeout(function(){var h=null!=e&&"path-handler"in e?e["path-handler"]:void 0;MF(h,c,d);h=null!=f&&"path-handler"in f?f["path-handler"]:void 0;MF(h,c,d);(null!=e?e:{})["on-arrival"]=function(k){dd(NH,k);return setTimeout(CJ,2E3)};h=null!=f?f:{};h["on-arrival"]=function(k){return dd(NH,k)};return h},1E3)});
function wK(){var a=sI();a=Ck.g(vt.g(a));vI(Eg,M([new V(null,4,5,Y,[Po,Fw,bo,qo],null),a]))}DJ.O(null,"krijg katteneten",function(){return jK(M([Jt]))});DJ.O(null,"riool gaat open",function(){var a=sI();a=Ol.g(vt.g(a));vI(Eg,M([new V(null,4,5,Y,[Po,Mv,bo,us],null),a]));return vI(O,M([hw,!0]))});DJ.O(null,"kast gaat open",function(){wK();return setTimeout(function(){uI(function(a){return O.j(a,Oj,cK)});vJ(Uq,sI());return setTimeout(CJ,500)},500)});
DJ.O(null,"baas valt om",function(){var a=cp.g(vt.g(sI())),b=null!=a?a:{};(function(){var f=b.anchor;if(null!=f)return f;f={};return b.anchor=f})().x=.5;a=cp.g(vt.g(sI()));var c=null!=a?a:{};(function(){var f=c.anchor;if(null!=f)return f;f={};return c.anchor=f})().y=1;a=cp.g(vt.g(sI()));(null!=a?a:{}).rotation=Math.PI/2;a=cp.g(vt.g(sI()));var d=null!=a?a:{};(function(){var f=d.position;if(null!=f)return f;f={};return d.position=f})().x=922.0621102362204;a=cp.g(vt.g(sI()));var e=null!=a?a:{};(function(){var f=
e.position;if(null!=f)return f;f={};return e.position=f})().y=860.3961364829396;return wJ("BOENK")});UH.O(null,op,function(a){try{return Ay(Ey(wE(HH,new n(null,2,[Ek,"images/stars.jpg",Bp,"images/minispel/minispel.json"],null)),function(b){b=S(b);var c=A.h(b,Bp);b=A.h(b,Ek);return Ey(EI(Ek,b),function(){return Ey(function(){for(var d=F(new V(null,7,5,Y,[am,ns,pq,Qq,ip,Ll,qv],null)),e=null,f=0,g=0;;)if(g<f){var h=e.P(null,g),k=EI(h,function(){var z=hl.g(c),C=[rf(h),".png"].join("");if(null!=z&&C in z)return z[C]}()),m=k,p=null!=m?m:{};(function(){var z=p.anchor;if(null!=z)return z;z={};return p.anchor=
z})().x=.5;var r=null!=k?k:{};(function(){var z=r.anchor;if(null!=z)return z;z={};return r.anchor=z})().y=.5;g+=1}else if(d=F(d)){if(Le(d))f=fd(d),d=gd(d),e=f,f=I(f);else{h=G(d);f=e=EI(h,function(){var z=hl.g(c),C=[rf(h),".png"].join("");if(null!=z&&C in z)return z[C]}());var v=null!=f?f:{};(function(){var z=v.anchor;if(null!=z)return z;z={};return v.anchor=z})().x=.5;var x=null!=e?e:{};(function(){var z=x.anchor;if(null!=z)return z;z={};return x.anchor=z})().y=.5;d=H(d);e=null;f=0}g=0}else return null}(),
function(){return Ey(function(){var d=FI(am),e=null!=d?d:{};(function(){var g=e.scale;if(null!=g)return g;g={};return e.scale=g})().x=.5;d=FI(am);var f=null!=d?d:{};(function(){var g=f.scale;if(null!=g)return g;g={};return f.scale=g})().y=.5;return f}(),function(){return Ey(function(){for(var d=F(Ii(0,8)),e=null,f=0,g=0;;)if(g<f){for(var h=e.P(null,g),k=F(Ii(0,3)),m=null,p=0,r=0;;)if(r<p){var v=m.P(null,r),x=EI(new V(null,3,5,Y,[Do,h,v],null),function(){var P=hl.g(c);if(null!=P&&"virus.png"in P)return P["virus.png"]}());
v=.7+.2*Math.random();var z=x,C=null!=z?z:{};(function(){var P=C.anchor;if(null!=P)return P;P={};return C.anchor=P})().x=.5;z=x;var D=null!=z?z:{};(function(){var P=D.anchor;if(null!=P)return P;P={};return D.anchor=P})().y=.5;z=x;var J=null!=z?z:{};(function(){var P=J.scale;if(null!=P)return P;P={};return J.scale=P})().x=v;var K=null!=x?x:{};(function(){var P=K.scale;if(null!=P)return P;P={};return K.scale=P})().y=v;r+=1}else if(k=F(k)){if(Le(k))p=fd(k),k=gd(k),m=p,p=I(p);else{m=G(k);p=EI(new V(null,
3,5,Y,[Do,h,m],null),function(){var P=hl.g(c);if(null!=P&&"virus.png"in P)return P["virus.png"]}());m=.7+.2*Math.random();r=p;var R=null!=r?r:{};(function(){var P=R.anchor;if(null!=P)return P;P={};return R.anchor=P})().x=.5;r=p;var W=null!=r?r:{};(function(){var P=W.anchor;if(null!=P)return P;P={};return W.anchor=P})().y=.5;r=p;var Z=null!=r?r:{};(function(){var P=Z.scale;if(null!=P)return P;P={};return Z.scale=P})().x=m;var ia=null!=p?p:{};(function(){var P=ia.scale;if(null!=P)return P;P={};return ia.scale=
P})().y=m;k=H(k);m=null;p=0}r=0}else break;g+=1}else if(h=F(d)){d=h;if(Le(d))e=fd(d),d=gd(d),h=e,f=I(e),e=h;else{h=G(d);e=F(Ii(0,3));f=null;for(k=g=0;;)if(k<g){m=f.P(null,k);p=EI(new V(null,3,5,Y,[Do,h,m],null),function(){var P=hl.g(c);if(null!=P&&"virus.png"in P)return P["virus.png"]}());m=.7+.2*Math.random();r=p;var sa=null!=r?r:{};(function(){var P=sa.anchor;if(null!=P)return P;P={};return sa.anchor=P})().x=.5;r=p;var va=null!=r?r:{};(function(){var P=va.anchor;if(null!=P)return P;P={};return va.anchor=
P})().y=.5;r=p;var ea=null!=r?r:{};(function(){var P=ea.scale;if(null!=P)return P;P={};return ea.scale=P})().x=m;var U=null!=p?p:{};(function(){var P=U.scale;if(null!=P)return P;P={};return U.scale=P})().y=m;k+=1}else if(e=F(e)){if(Le(e))g=fd(e),e=gd(e),f=g,g=I(g);else{f=G(e);g=EI(new V(null,3,5,Y,[Do,h,f],null),function(){var P=hl.g(c);if(null!=P&&"virus.png"in P)return P["virus.png"]}());f=.7+.2*Math.random();k=g;var ca=null!=k?k:{};(function(){var P=ca.anchor;if(null!=P)return P;P={};return ca.anchor=
P})().x=.5;k=g;var aa=null!=k?k:{};(function(){var P=aa.anchor;if(null!=P)return P;P={};return aa.anchor=P})().y=.5;k=g;var X=null!=k?k:{};(function(){var P=X.scale;if(null!=P)return P;P={};return X.scale=P})().x=f;var oa=null!=g?g:{};(function(){var P=oa.scale;if(null!=P)return P;P={};return oa.scale=P})().y=f;e=H(e);f=null;g=0}k=0}else break;d=H(d);e=null;f=0}g=0}else return null}(),function(){return O.j(a,wt,1)})})})})}))}catch(b){return Dy(b)}});
function xK(){var a=FI(am),b=FI(Qq);return!Re(NH,b)||0>=$s.g(b)?((null!=b?b:{}).x=ct.g(a),(null!=b?b:{}).y=$s.g(a)-110,(null!=b?b:{}).vy=-10,(null!=b?b:{}).visible=!0,Gf.h(NH,b)):null}
$H.O(null,op,function(){function a(){var Z=null!=c?c:{};Z.vx=10;return Z}function b(){var Z=null!=c?c:{};Z.vx=-10;return Z}var c=FI(am),d=FI(ip),e=FI(Ll),f=FI(qv),g=FI(Qq),h=AE(T),k=FI(Ek),m=null!=k?k:{};(function(){var Z=m.anchor;if(null!=Z)return Z;Z={};return m.anchor=Z})().x=.5;k=FI(Ek);var p=null!=k?k:{};(function(){var Z=p.anchor;if(null!=Z)return Z;Z={};return p.anchor=Z})().y=0;II(FI(Ek));k=F(new V(null,3,5,Y,[d,e,f],null));for(var r=null,v=0,x=0;;)if(x<v){var z=r.P(null,x),C=z;(null!=C?C:
{}).interactive=!0;JI(z);x+=1}else if(k=F(k))Le(k)?(v=fd(k),k=gd(k),r=v,v=I(v)):(v=r=G(k),(null!=v?v:{}).interactive=!0,JI(r),k=H(k),r=null,v=0),x=0;else break;k=F(new V(null,2,5,Y,[zw,bq],null));r=null;for(x=v=0;;)if(x<v)z=r.P(null,x),rE(d,z,b),rE(e,z,a),rE(f,z,xK),x+=1;else if(k=F(k))r=k,Le(r)?(k=fd(r),x=gd(r),r=k,v=I(k),k=x):(k=G(r),rE(d,k,b),rE(e,k,a),rE(f,k,xK),k=H(r),r=null,v=0),x=0;else break;rE(window,Yq,function(Z){return vI(Gg,M([cn,gg(),KI(Z)]))});rE(window,Ov,function(Z){return vI(Gg,
M([cn,Ae,qf.g(KI(Z))]))});rE(window,Ik,function(){return vI(Gg,M([cn,se]))});k=F(new V(null,2,5,Y,[rq,Gq],null));r=null;for(x=v=0;;)if(x<v)z=r.P(null,x),rE(d,z,function(Z,ia,sa,va,ea,U){return function(){var ca=null!=U?U:{};ca.vx=0;return ca}}(k,r,v,x,z,c,d,e,f,g,h,b,a)),rE(e,z,function(Z,ia,sa,va,ea,U){return function(){var ca=null!=U?U:{};ca.vx=0;return ca}}(k,r,v,x,z,c,d,e,f,g,h,b,a)),x+=1;else if(C=F(k)){z=C;if(Le(z))k=fd(z),x=gd(z),r=k,v=I(k),k=x;else{var D=G(z);rE(d,D,function(Z,ia,sa,va,ea,
U,ca,aa){return function(){var X=null!=aa?aa:{};X.vx=0;return X}}(k,r,v,x,D,z,C,c,d,e,f,g,h,b,a));rE(e,D,function(Z,ia,sa,va,ea,U,ca,aa){return function(){var X=null!=aa?aa:{};X.vx=0;return X}}(k,r,v,x,D,z,C,c,d,e,f,g,h,b,a));k=H(z);r=null;v=0}x=0}else break;(null!=h?h:{}).x=0;(null!=h?h:{}).vx=2;vI(O,M([Js,h]));g=F(Ii(1,8));k=null;for(v=r=0;;)if(v<r){x=k.P(null,v);z=F(Ii(1,3));C=null;for(var J=D=0;;)if(J<D){var K=C.P(null,J),R=FI(new V(null,3,5,Y,[Do,x,K],null)),W=R;(null!=W?W:{}).x=-400+100*x;W=
R;(null!=W?W:{}).y=100+100*K;Gf.h(h,R);J+=1}else if(z=F(z))Le(z)?(D=fd(z),z=gd(z),C=D,D=I(D)):(C=G(z),J=D=FI(new V(null,3,5,Y,[Do,x,C],null)),(null!=J?J:{}).x=-400+100*x,J=D,(null!=J?J:{}).y=100+100*C,Gf.h(h,D),z=H(z),C=null,D=0),J=0;else break;v+=1}else if(g=F(g)){if(Le(g))r=fd(g),g=gd(g),k=r,r=I(r);else{k=G(g);r=F(Ii(1,3));v=null;for(z=x=0;;)if(z<x)C=v.P(null,z),J=D=FI(new V(null,3,5,Y,[Do,k,C],null)),(null!=J?J:{}).x=-400+100*k,J=D,(null!=J?J:{}).y=100+100*C,Gf.h(h,D),z+=1;else if(r=F(r))Le(r)?
(x=fd(r),r=gd(r),v=x,x=I(x)):(v=G(r),z=x=FI(new V(null,3,5,Y,[Do,k,v],null)),(null!=z?z:{}).x=-400+100*k,z=x,(null!=z?z:{}).y=100+100*v,Gf.h(h,x),r=H(r),v=null,x=0),z=0;else break;g=H(g);k=null;r=0}v=0}else break;Gf.o(NH,h,M([c,d,e,f]));(null!=c?c:{}).x=0;(null!=c?c:{}).y=850;(null!=d?d:{}).x=-650;(null!=d?d:{}).y=930;(null!=d?d:{}).interactive=!0;(null!=e?e:{}).x=-500;(null!=e?e:{}).y=930;(null!=e?e:{}).interactive=!0;(null!=f?f:{}).x=550;(null!=f?f:{}).y=900;(null!=f?f:{}).interactive=!0;return null});
fI.O(null,op,function(a){var b=S(a),c=A.h(b,$k);a=A.h(b,Js);b=A.h(b,cn);DI(-(CI()/2));LI(a,c);if(q(Ww.g(b))){var d=FI(am);d=null!=d?d:{};d.x-=10}q(Zv.g(b))&&(d=FI(am),d=null!=d?d:{},d.x+=10);q(vw.g(b))&&xK();if(-400>ct.g(a)||400<ct.g(a))b=null!=a?a:{},b.vx*=-1,b=null!=a?a:{},b.x=MI(-399,b.x,399),b=null!=a?a:{},b.y+=20;b=F(new V(null,2,5,Y,[am,Qq],null));d=null;for(var e=0,f=0;;)if(f<e){var g=d.P(null,f);LI(FI(g),c);f+=1}else if(b=F(b))d=b,Le(d)?(b=fd(d),f=gd(d),d=b,e=I(b),b=f):(b=G(d),LI(FI(b),c),
b=H(d),d=null,e=0),f=0;else break;var h=FI(Qq);b=F(Ii(0,8));d=null;for(f=e=0;;)if(f<e){c=d.P(null,f);g=F(Ii(0,3));for(var k=null,m=0,p=0;;)if(p<m){var r=k.P(null,p),v=FI(new V(null,3,5,Y,[Do,c,r],null));q(function(){var D=gs.g(h);return q(D)?yE(h,v):D}())&&(r=h,(null!=r?r:{}).visible=!1,dd(NH,h),dd(a,v));Be(a)&&(yI(Ip),PJ(sI(),Ks,Iw));p+=1}else if(g=F(g)){if(Le(g))m=fd(g),g=gd(g),k=m,m=I(m);else{k=G(g);var x=FI(new V(null,3,5,Y,[Do,c,k],null));q(function(){var D=gs.g(h);return q(D)?yE(h,x):D}())&&
(k=h,(null!=k?k:{}).visible=!1,dd(NH,h),dd(a,x));Be(a)&&(yI(Ip),PJ(sI(),Ks,Iw));g=H(g);k=null;m=0}p=0}else break;f+=1}else if(c=F(b)){b=c;if(Le(b))d=fd(b),b=gd(b),c=d,e=I(d),d=c;else{c=G(b);d=F(Ii(0,3));e=null;for(g=f=0;;)if(g<f){k=e.P(null,g);var z=FI(new V(null,3,5,Y,[Do,c,k],null));q(function(){var D=gs.g(h);return q(D)?yE(h,z):D}())&&(k=h,(null!=k?k:{}).visible=!1,dd(NH,h),dd(a,z));Be(a)&&(yI(Ip),PJ(sI(),Ks,Iw));g+=1}else if(d=F(d)){if(Le(d))f=fd(d),d=gd(d),e=f,f=I(f);else{e=G(d);var C=FI(new V(null,
3,5,Y,[Do,c,e],null));q(function(){var D=gs.g(h);return q(D)?yE(h,C):D}())&&(e=h,(null!=e?e:{}).visible=!1,dd(NH,h),dd(a,C));Be(a)&&(yI(Ip),PJ(sI(),Ks,Iw));d=H(d);e=null;f=0}g=0}else break;b=H(b);d=null;e=0}f=0}else return null});q(null)&&null.setCapturing(!1);
var yK=q("undefined"!==typeof devtools&&"undefined"!==typeof devtools.core&&"undefined"!==typeof devtools.core.installed_QMARK_?devtools.core.installed_QMARK_():!1)?VD:"undefined"===typeof window||"undefined"!==typeof window&&"undefined"!==typeof window&&"undefined"!==typeof window.navigator&&"undefined"!==typeof window&&"undefined"!==typeof window.navigator&&"undefined"!==typeof window.navigator.userAgent&&(-1<window.navigator.userAgent.indexOf("MSIE")||-1<window.navigator.userAgent.indexOf("Trident"))?XD:
WD;Pz?Pz(yK):Oz.call(null,yK);Jz(new n(null,2,[Pj,Wn,Hp,Qu],null));var zK=JH;(null!=zK?zK:{}).filters=[];var AK=qf.g,BK=PI().get("scene");(function(a){try{return Ay(Ey(GI(),function(){return Ey(UH.g(a),function(){return Ey(yI(a),function(){return Ey(document.body.appendChild(Ys.g(HH)),function(){return HI()})})})}))}catch(b){return Dy(b)}})(AK.call(qf,q(BK)?BK:"main-menu"));
}).call(this);